!function(){var t,e,n;(function(){t=this}).call(this),function(){e=__meteor_runtime_config__.meteorEnv,n={isProduction:"production"===e.NODE_ENV,isDevelopment:"production"!==e.NODE_ENV,isClient:!0,isServer:!1,isCordova:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(n.settings={public:__meteor_runtime_config__.PUBLIC_SETTINGS})}.call(this),function(){function t(t){if(t)return n._debug("Exception in callback of async function",t.stack?t.stack:t)}if(n.isServer)var e=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(n.release=__meteor_runtime_config__.meteorRelease),n._get=function(t){for(var e=1;e<arguments.length;e++){if(!(arguments[e]in t))return;t=t[arguments[e]]}return t},n._ensure=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];n in t||(t[n]={}),t=t[n]}return t},n._delete=function(t){for(var e=[t],n=!0,r=1;r<arguments.length-1;r++){if(!((o=arguments[r])in t)){n=!1;break}if("object"!=typeof(t=t[o]))break;e.push(t)}for(var r=e.length-1;r>=0;r--){var o=arguments[r+1];if(n)n=!1;else for(var i in e[r][o])return;delete e[r][o]}},n.wrapAsync=function(r,o){return function(){for(var i=o||this,a=Array.prototype.slice.call(arguments),s,u=a.length-1;u>=0;--u){var c=a[u],l=typeof c;if("undefined"!==l){"function"===l&&(s=c);break}}if(!s){if(n.isClient)s=t;else{var f=new e;s=f.resolver()}++u}a[u]=n.bindEnvironment(s);var p=r.apply(i,a);return f?f.wait():p}};var r=Object.prototype.hasOwnProperty;n._inherits=function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);var o=function(){this.constructor=t};return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};var o=!1;n._wrapAsync=function(t,e){return o||(n._debug("Meteor._wrapAsync has been renamed to Meteor.wrapAsync"),o=!0),n.wrapAsync.apply(n,arguments)}}.call(this),function(){"use strict";function t(){if(o.setImmediate){var t=function(t){o.setImmediate(t)};return t.implementation="setImmediate",t}return null}function e(){function t(t,e){return"string"==typeof t&&t.substring(0,e.length)===e}function e(e){if(e.source===o&&t(e.data,s)){var n=e.data.substring(s.length);try{a[n]&&a[n]()}finally{delete a[n]}}}if(!o.postMessage||o.importScripts)return null;var n=!0,r=o.onmessage;if(o.onmessage=function(){n=!1},o.postMessage("","*"),o.onmessage=r,!n)return null;var i=0,a={},s="Meteor._setImmediate."+Math.random()+".";o.addEventListener?o.addEventListener("message",e,!1):o.attachEvent("onmessage",e);var u=function(t){a[++i]=t,o.postMessage(s+i,"*")};return u.implementation="postMessage",u}function r(){var t=function(t){o.setTimeout(t,0)};return t.implementation="setTimeout",t}var o=this;n._setImmediate=t()||e()||r()}.call(this),function(){function t(t){if(Package.ddp){var e=Package.ddp.DDP,n=e._CurrentMethodInvocation||e._CurrentInvocation,r=n.get();if(r&&r.isSimulation)throw new Error("Can't set timers inside simulations");return function(){n.withValue(null,t)}}return t}function e(e,r){return n.bindEnvironment(t(r),e)}n.setTimeout=function(t,n){return setTimeout(e("setTimeout callback",t),n)},n.setInterval=function(t,n){return setInterval(e("setInterval callback",t),n)},n.clearInterval=function(t){return clearInterval(t)},n.clearTimeout=function(t){return clearTimeout(t)},n.defer=function(t){n._setImmediate(e("defer callback",t))}}.call(this),function(){n.makeErrorType=function(t,e){var r=function(){Error.captureStackTrace?Error.captureStackTrace(this,r):this.stack=(new Error).stack,e.apply(this,arguments),this.errorType=t};return n._inherits(r,Error),r},n.Error=n.makeErrorType("Meteor.Error",function(t,e,n){var r=this;r.isClientSafe=!0,r.error=t,r.reason=e,r.details=n,r.reason?r.message=r.reason+" ["+r.error+"]":r.message="["+r.error+"]"}),n.Error.prototype.clone=function(){var t=this;return new n.Error(t.error,t.reason,t.details)}}.call(this),function(){n._noYieldsAllowed=function(t){return t()},n._SynchronousQueue=function(){var t=this;t._tasks=[],t._running=!1,t._runTimeout=null};var t=n._SynchronousQueue.prototype;t.runTask=function(t){var e=this;if(!e.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");e._tasks.push(t);var r=e._tasks;e._tasks=[],e._running=!0,e._runTimeout&&(clearTimeout(e._runTimeout),e._runTimeout=null);try{for(;r.length>0;){var o=r.shift();try{o()}catch(t){if(0===r.length)throw t;n._debug("Exception in queued task: "+(t.stack||t))}}}finally{e._running=!1}},t.queueTask=function(t){var e=this;e._tasks.push(t),e._runTimeout||(e._runTimeout=setTimeout(function(){return e.flush.apply(e,arguments)},0))},t.flush=function(){this.runTask(function(){})},t.drain=function(){var t=this;if(t.safeToRunTask())for(;t._tasks.length>0;)t.flush()},t.safeToRunTask=function(){return!this._running}}.call(this),function(){var t=[],e=!1,r=!1,o=0,i=function(){o++},a=function(){o--,s()},s=function(){if(!(r||!e||o>0)){for(r=!0;t.length;)t.shift()();n.isCordova&&WebAppLocalServer.startupDidComplete()}},u=function(){e||(e=!0,s())};n.isCordova&&(i(),document.addEventListener("deviceready",a,!1)),"complete"===document.readyState||"loaded"===document.readyState?window.setTimeout(u):document.addEventListener?(document.addEventListener("DOMContentLoaded",u,!1),window.addEventListener("load",u,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&u()}),window.attachEvent("load",u)),n.startup=function(e){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(t){return void setTimeout(function(){n.startup(e)},50)}e()}else r?e():t.push(e)}}.call(this),function(){var t=0;n._debug=function(){if(t)t--;else if("undefined"!=typeof console&&void 0!==console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else"function"==typeof Function.prototype.bind?Function.prototype.bind.call(console.log,console).apply(console,arguments):Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},n._suppress_log=function(e){t+=e},n._suppressed_log_expected=function(){return 0!==t}}.call(this),function(){n._escapeRegExp=function(t){return String(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}.call(this),function(){var t;t=n.isClient?e.TEST_METADATA:process.env.TEST_METADATA;var r=JSON.parse(t||"{}"),o=r.driverPackage;n.isTest=!!r.isTest,n.isAppTest=!!r.isAppTest,n.isPackageTest=!!o&&!n.isTest&&!n.isAppTest,"string"==typeof o&&n.startup(function(){var t=Package[o];if(!t)throw new Error("Can't find test driver package: "+o);if(n.isClient){if("function"!=typeof t.runTests)throw new Error("Test driver package "+o+" missing `runTests` export");t.runTests()}else"function"==typeof t.start&&t.start()})}.call(this),function(){var t=0,e=[];n.EnvironmentVariable=function(){this.slot=t++};var r=n.EnvironmentVariable.prototype;r.get=function(){return e[this.slot]},r.getOrNullIfOutsideFiber=function(){return this.get()},r.withValue=function(t,n){var r=e[this.slot];try{e[this.slot]=t;var o=n()}finally{e[this.slot]=r}return o},n.bindEnvironment=function(t,r,o){var i=e.slice();if(!r||"string"==typeof r){var a=r||"callback of async function";r=function(t){n._debug("Exception in "+a+":",t&&t.stack||t)}}return function(){var n=e;try{e=i;var a=t.apply(o,arguments)}catch(t){r(t)}finally{e=n}return a}},n._nodeCodeMustBeInFiber=function(){}}.call(this),function(){n.absoluteUrl=function(t,e){e||"object"!=typeof t||(e=t,t=void 0);var r=(e=Object.assign({},n.absoluteUrl.defaultOptions,e||{})).rootUrl;if(!r)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(r)||(r="http://"+r),/\/$/.test(r)||(r+="/"),t&&(r+=t),e.secure&&/^http:/.test(r)&&!/http:\/\/localhost[:\/]/.test(r)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(r)&&(r=r.replace(/^http:/,"https:")),e.replaceLocalhost&&(r=r.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),r},n.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(n.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),n._relativeToSiteRootUrl=function(t){return"object"==typeof __meteor_runtime_config__&&"/"===t.substr(0,1)&&(t=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+t),t}}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Package.meteor={},{Meteor:n,global:t,meteorEnv:e})}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,t,o,i;t=function(n){"use strict";function e(n,e){return o(n)&&(p(A,n,e),i(k)&&k(B)),B}function r(n){this.id=n,this.children=[],this.childrenById={}}function t(n,e){return O.call(n,e)&&n[e]}function o(n){return"object"==typeof n&&null!==n}function i(n){return"function"==typeof n}function u(n){return"string"==typeof n}function c(n){return new Error("Cannot find module '"+n+"'")}function s(n){function e(e){var r=w(n,e);if(r)return l(r,n.module);var t=c(e);if(i(E))return E(e,n.module.id,t);throw t}return i(x)&&(e=x(e,n.module)),e.extensions=h(n).slice(0),e.resolve=function(e){var r=w(n,e);if(r)return r.module.id;var t=c(e);if(E&&i(E.resolve))return E.resolve(e,n.module.id,t);throw t},e}function f(n,e){var t=this;t.parent=e=e||null,t.module=new r(n),q[n]=t,t.contents=null,t.deps={}}function l(n,e){var r=n.module;if(!O.call(r,"exports")){var t=n.contents;if(!t){if(n.stub)return n.stub;throw c(r.id)}if(e){r.parent=e;var o=e.children;Array.isArray(o)&&o.push(r)}i(r.useNode)&&r.useNode()||t(r.require=r.require||s(n),r.exports=n.stub||{},r,n.module.id,n.parent.module.id),r.loaded=!0}var u=r.runSetters||r.runModuleSetters;return i(u)&&u.call(r),r.exports}function a(n){return n&&o(n.contents)}function d(n){return n&&null===n.contents}function p(n,e,r){Array.isArray(e)?(e.forEach(function(r){u(r)?n.deps[r]=n.module.id:i(r)?e=r:o(r)&&(n.stub=n.stub||{},v(r,function(e,r){n.stub[r]=e}))}),i(e)||(e=null)):i(e)||u(e)||o(e)||(e=null),e&&(n.contents=n.contents||(o(e)?{}:e),o(e)&&a(n)&&v(e,function(e,o){if(".."===o)i=n.parent;else{var i=t(n.contents,o);i||((i=n.contents[o]=new f(n.module.id.replace(/\/*$/,"/")+o,n)).options=r)}p(i,e,r)}))}function v(n,e,r){Object.keys(n).forEach(function(r){e.call(this,n[r],r)},r)}function h(n){return n.options&&n.options.extensions||P}function m(n,e,r){for(;n&&!a(n);)n=n.parent;if(!n||!e||"."===e)return n;if(".."===e)return n.parent;var o=t(n.contents,e);if(r&&(!o||a(o)))for(var i=0;i<r.length;++i){var u=t(n.contents,e+r[i]);if(u&&!a(u))return u}return o}function y(n,e,r){var t=e.split("/");return t.every(function(e,o){return n=o<t.length-1?m(n,e):m(n,e,r)}),n}function b(n,e){var r=e&&e.module;n&&r&&(n.childrenById[r.id]=r)}function w(n,e,r,t){var r=r||n.module,o=h(n);for(n="/"===e.charAt(0)?y(A,e,o):"."===e.charAt(0)?y(n,e,o):g(n,e,o);a(n);){if((t=t||[]).indexOf(n)<0){t.push(n);var i=m(n,"package.json"),c,s=i&&l(i,r);if(s&&I.some(function(n){return u(c=s[n])})&&(b(r,i),n=y(n,c,o)||w(n,c,r,t)))continue}n=m(n,"index.js")}return n&&u(n.contents)&&(n=w(n,n.contents,r,t)),b(r,n),n}function g(n,e,r){if(i(j)&&(e=j(e,n.module.id)),u(e)){for(var t;n&&!t;n=n.parent)t=a(n)&&y(n,"node_modules/"+e,r);return t}}var P=(n=n||{}).extensions||[".js",".json"],k=n.onInstall,x=n.wrapRequire,j=n.override,E=n.fallback,I=n.mainFields||(n.browser?["browser","main"]:["main"]),O={}.hasOwnProperty,q={},A=new f("/",new f("/..")),B=s(A);e.fetch=function(n){throw new Error("fetch not implemented")},r.prototype.resolve=function(n){return this.require.resolve(n)};var M,R;return r.prototype.prefetch=function(n){function r(n){var e=t(q,n.id);d(e)&&!e.pending&&(e.pending=!0,(u=u||{})[n.id]={module:e.module,deps:Object.keys(e.deps),options:e.options,stub:e.stub},v(e.deps,function(n,r){w(e,r)}),v(n.childrenById,r))}var o=this,i=t(q,o.id),u;M=M||Promise.resolve();var c=R=R||M;return R=M.then(function(){var t=o.resolve(n);return v(o.childrenById,r),Promise.resolve(u&&e.fetch(u)).then(function(n){function r(){return n&&e(n),t}return c.then(r,r)})})},e.Module=r,e},"object"==typeof exports&&(exports.makeInstaller=t),function(){o={},"function"==typeof Profile&&process.env.METEOR_PROFILE&&(o.wrapRequire=function(n){return Profile(function(n){return"require("+JSON.stringify(n)+")"},n)})}.call(this),function(){o.browser=!0,i=t(o)}.call(this),"undefined"==typeof Package&&(Package={}),function(n,e){for(var r in e)r in n||(n[r]=e[r])}(Package["modules-runtime"]={},{meteorInstall:i})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package["modules-runtime"].meteorInstall,n,i=o({node_modules:{meteor:{modules:{"client.js":["./install-packages.js","./stubs.js","./process.js","./reify.js","./css",function(t,e){t("./install-packages.js"),t("./stubs.js"),t("./process.js"),t("./reify.js"),e.addStyles=t("./css").addStyles}],"css.js":function(t,e){var r=document,o=r.getElementsByTagName("head").item(0);e.addStyles=function(t){var e=r.createElement("style");e.setAttribute("type","text/css");var n=e.sheet||e.styleSheet;return n?n.cssText=t:e.appendChild(r.createTextNode(t)),o.appendChild(e)}},"install-packages.js":function(t,e,r){function n(t,e){var r={};r[t+".js"]="string"==typeof e?e:function(e,r,o){o.exports=Package[t]},o({node_modules:{meteor:r}})}n("meteor"),n("modules-runtime"),n("modules","meteor/modules/client.js"),n("jquery","meteor/jquery/main.js"),n("json"),n("underscore"),n("backbone"),n("standard-app-packages"),n("less"),n("showdown"),n("stylus"),n("email"),n("url"),n("babel-compiler"),n("ecmascript"),n("ecmascript-runtime"),n("promise","meteor/promise/client.js"),n("babel-runtime","meteor/babel-runtime/babel-runtime.js"),n("ecmascript-runtime-client","meteor/ecmascript-runtime-client/runtime.js"),n("http"),n("arunoda:npm"),n("tracker"),n("deps"),n("base64"),n("ejson"),n("check","meteor/check/match.js"),n("id-map"),n("random"),n("mongo-id"),n("diff-sequence"),n("observe-sequence"),n("reactive-var"),n("htmljs"),n("blaze"),n("ui"),n("spacebars"),n("templating-compiler"),n("templating-runtime"),n("templating"),n("iron:core"),n("iron:dynamic-template"),n("iron:layout"),n("iron:url"),n("iron:middleware-stack"),n("iron:location"),n("ordered-dict"),n("geojson-utils","meteor/geojson-utils/main.js"),n("minimongo"),n("retry"),n("ddp-common"),n("reload"),n("ddp-client"),n("ddp"),n("ddp-server"),n("allow-deny"),n("mongo"),n("reactive-dict"),n("iron:controller"),n("iron:router"),n("mquandalle:jade"),n("sergeyt:d3"),n("phuocd:slickgrid"),n("meteorhacks:npm"),n("ddp-rate-limiter"),n("localstorage"),n("callback-hook"),n("accounts-base","meteor/accounts-base/client_main.js"),n("service-configuration"),n("session"),n("oauth"),n("accounts-oauth"),n("sha"),n("srp"),n("accounts-password"),n("accounts-ui-unstyled"),n("accounts-ui"),n("mrgalaxy:stripe"),n("oauth2"),n("github"),n("accounts-github"),n("bozhao:link-accounts"),n("bruz:github-api"),n("phuocd:ace"),n("natestrauser:font-awesome"),n("force-ssl"),n("google"),n("accounts-google"),n("enteye:crossfilter"),n("sangd:meteor-smartsheet"),n("sangd:meteor-accounts-smartsheet"),n("npm-container"),n("standard-minifier-css"),n("standard-minifier-js"),n("shell-server"),n("autoupdate"),n("meteor-platform"),n("markdown"),n("meteorhacks:async"),n("webapp"),n("logging"),n("livedata"),n("launch-screen")},"process.js":["process",function(i,s,c){try{n=e.process||i("process")}catch(t){n={}}t.isServer?o({node_modules:{"process.js":function(t,e,r){r.exports=n}}}):(n.platform="browser",n.nextTick=n.nextTick||t._setImmediate),"object"!=typeof n.env&&(n.env={});var a=Object.prototype.hasOwnProperty;for(var u in r)a.call(r,u)&&(n.env[u]=r[u])}],"reify.js":["reify/lib/runtime",function(t,e,r){var o=r.constructor.prototype;t("reify/lib/runtime").enable(o),o.importSync=o.importSync||o.import,o.import=o.import||o.importSync}],"stubs.js":["meteor-node-stubs",function(t){var e=!1;try{t.resolve("meteor-node-stubs"),e=!0}catch(t){}e&&t("meteor-node-stubs")}],node_modules:{reify:{lib:{runtime:{"index.js":["./utils.js","./entry.js",function(t,e,r){"use strict";function o(t,e,r){u.setESModule(this.exports),f.getOrCreate(this.exports,this),u.isObject(e)&&f.getOrCreate(t).addSetters(this,e,r)}function n(t,e,r){return this.watch(this.require(t),e,r)}function i(t,e){u.setESModule(this.exports);var r=f.getOrCreate(this.exports,this);r.addGetters(t,e),this.loaded&&r.runSetters()}function s(t){return this.export({default:function(){return t}},!0)}function c(t){var e=f.get(this.exports);return null!==e&&e.runSetters(),this.loaded&&f.getOrCreate(this.exports,this),t}function a(){var t=this;return function(e){u.assign(t.exports,e)}}var u=t("./utils.js"),f=t("./entry.js");e.enable=function(t){return("function"!=typeof t.export||"function"!=typeof t.importSync)&&(t.export=i,t.exportDefault=s,t.runSetters=c,t.watch=o,t.makeNsSetter=a,t.runModuleSetters=c,t.importSync=n,!0)}}],"utils.js":function(t,e,r){"use strict";function o(t,e,r){if(h){var o=Object.getOwnPropertyDescriptor(r,t);o.configurable=!0,Object.defineProperty(e,t,o)}else e[t]=r[t]}function n(t){if(c(t)){if(_&&b.call(t,p))return!!t[p];if(b.call(t,l))return!!t[l]}return!1}function i(t){c(t)&&(_?t[p]=!0:t[l]||Object.defineProperty(t,l,{configurable:!0,enumerable:!1,value:!0,writable:!1}))}function s(t){return"object"==typeof t&&null!==t}function c(t){var e=typeof t;return"function"===e||"object"===e&&null!==t}function a(){var t=Object.create(null);return d&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module",configurable:!1,enumerable:!1,writable:!1}),i(t),t}function u(t,e){return f?Object.setPrototypeOf(t,e):t.__proto__=e,t}var f="function"==typeof Object.setPrototypeOf,_="function"==typeof Symbol,l="__esModule",p=_?Symbol.for(l):null,d=_&&"symbol"==typeof Symbol.toStringTag,h="function"==typeof Object.getOwnPropertyDescriptor,b=Object.prototype.hasOwnProperty;e.assign=function(t){for(var e=arguments.length,r=Object.create(null),n=0;n<e;++n){var i=arguments[n];c(i)&&Object.keys(i).forEach(function(t){r[t]=i})}return Object.keys(r).forEach(function(e){o(e,t,r[e])}),t},e.copyKey=o,e.valueOrGetter=function(t,e){if(h&&b.call(t,e)){var r=Object.getOwnPropertyDescriptor(t,e);if("function"==typeof r.get)return r.get}return t[e]},e.getESModule=n,e.setESModule=i,e.isObject=s,e.isObjectLike=c,e.createNamespace=a,e.setPrototypeOf=u},"entry.js":["./utils.js",function(t,e,r){"use strict";function o(t){this.exports=t,this.getters=Object.create(null),this.setters=Object.create(null),this.namespace=l.createNamespace(),this.ownerModules=Object.create(null),this._loaded=!1}function n(t){if(!l.isObjectLike(t))return new o(t);if(void 0!==(e=y.get(t)))return e;var e=new o(t);return y.set(t,e),e}function i(t){var e=Object.keys(t),r=e.indexOf("__esModule");return r>=0&&e.splice(r,1),e}function s(t,e){var r=!1;l.getESModule(t.exports)||(t.namespace.default=t.exports,r=!0),l.isObjectLike(t.exports)&&((void 0===e||e.indexOf("*")>=0)&&(e=Object.keys(t.exports)),e.forEach(function(e){b.call(t.getters,e)||r&&"default"===e||!b.call(t.exports,e)||l.copyKey(e,t.namespace,t.exports)}))}function c(t,e,r,o){function n(e,r){var o=r;return o!==o?o=d:void 0===o&&(o=h),t.last[e]!==o&&(t.last[e]=o,!0)}if("__esModule"!==e){var s=!1;if(void 0===t.last&&(t.last=Object.create(null),s=!0),"*"===e)for(var c=i(r),a=c.length,u=0;u<a;++u){var f=c[u];n(f,l.valueOrGetter(r,f))&&(s=!0)}else n(e,r)&&(s=!0);return s?o(t,e,r):void 0}}function a(t,e,r){var o=!0;void 0===e&&(e=Object.keys(t.setters),o=!1);for(var n=e.length,i=0;i<n;++i){var s=e[i];if(!o||b.call(t.setters,s))for(var a=t.setters[s],f=Object.keys(a),_=f.length,l=0;l<_;++l){var p=f[l],d=u(t,s);c(a[p],s,d,r);var h=t.getters[s];"function"==typeof h&&h.runCount>0&&h.constant&&delete a[p]}}}function u(t,e){if("*"===e)return t.namespace;if(b.call(t.namespace,e))return t.namespace[e];var r=t.exports;if("default"===e&&!(l.getESModule(r)&&"default"in r))return r;if(null!=r)return r[e]}function f(){return Math.random().toString(36).replace("0.",++j+"$")}function _(t,e){var r=t.getters[e];try{var o=r();return++r.runCount,o}catch(t){}return p}var l=t("./utils.js"),p={},d={},h={},b=Object.prototype.hasOwnProperty,j=0,g=l.setPrototypeOf(o.prototype,null),y="function"==typeof WeakMap?new WeakMap:new function t(){var e=[],r=[];this.get=function(t){var o=e.indexOf(t);if(o>=0)return r[o]},this.set=function(t,o){var n=e.indexOf(t);n>=0?r[n]=o:(e.push(t),r.push(o))}};o.get=function(t){if(l.isObjectLike(t)){var e=y.get(t);if(void 0!==e)return e}return null},o.getOrCreate=function(t,e){var r=n(t);return l.isObject(e)&&(r.ownerModules[e.id]=e),r},g.addGetters=function(t,e){var r=i(t),o=r.length;e=!!e;for(var n=0;n<o;++n){var s=r[n],c=t[s];"function"!=typeof c||s in this.getters||(this.getters[s]=c,c.constant=e,c.runCount=0)}},g.addSetters=function(t,e,r){var o=i(e),n=o.length;if(n){r=void 0===r?f():t.id+":"+r;for(var s=0;s<n;++s){var c=o[s],a=e[c];"function"==typeof a&&(a.parent=t,c in this.setters||(this.setters[c]=Object.create(null)),this.setters[c][r]=a)}this.runSetters(o)}},g.runGetters=function(t){s(this,t),(void 0===t||t.indexOf("*")>=0)&&(t=Object.keys(this.getters));for(var e=t.length,r=0;r<e;++r){var o=t[r],n=_(this,o);n!==p&&(this.namespace[o]=n,this.exports[o]=n)}},g.hasLoaded=function(){if(this._loaded)return!0;for(var t=Object.keys(this.ownerModules),e=t.length,r=0;r<e;++r){var o=this.ownerModules[t[r]];if(!o.loaded&&o.exports===this.exports)return!1}return this._loaded=!0},g.runSetters=function(t){this.runGetters(t);var e;if(a(this,t,function(t,r,o){void 0===e&&(e=Object.create(null)),e[t.parent.id]=t.parent,t(o,r)}),e)for(var r=Object.keys(e),n=r.length,i=0;i<n;++i){var s=e[r[i]],c=o.get(s.exports);c&&c.runSetters()}},r.exports=o}]}}}}}},"babel-runtime":{regenerator:{"index.js":["regenerator-runtime",function(t,e,r){r.exports=t("regenerator-runtime")}]},helpers:{"typeof.js":["../core-js/symbol/iterator","../core-js/symbol",function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(t("../core-js/symbol/iterator")),n=r(t("../core-js/symbol")),i="function"==typeof n.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":typeof t};e.default="function"==typeof n.default&&"symbol"===i(o.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":void 0===t?"undefined":i(t)}}],"classCallCheck.js":function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},"possibleConstructorReturn.js":["../helpers/typeof",function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(t("../helpers/typeof"));e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}}],"inherits.js":["../core-js/object/set-prototype-of","../core-js/object/create","../helpers/typeof",function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=r(t("../core-js/object/set-prototype-of")),n=r(t("../core-js/object/create")),i=r(t("../helpers/typeof"));e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,i.default)(e)));t.prototype=(0,n.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}}]},"core-js":{symbol:{"iterator.js":["core-js/library/fn/symbol/iterator",function(t,e,r){r.exports={default:t("core-js/library/fn/symbol/iterator"),__esModule:!0}}]},"symbol.js":["core-js/library/fn/symbol",function(t,e,r){r.exports={default:t("core-js/library/fn/symbol"),__esModule:!0}}],object:{"set-prototype-of.js":["core-js/library/fn/object/set-prototype-of",function(t,e,r){r.exports={default:t("core-js/library/fn/object/set-prototype-of"),__esModule:!0}}],"create.js":["core-js/library/fn/object/create",function(t,e,r){r.exports={default:t("core-js/library/fn/object/create"),__esModule:!0}}]}}},"regenerator-runtime":{"package.json":function(t,e,r){e.name="regenerator-runtime",e.version="0.10.1",e.main="runtime-module.js"},"runtime-module.js":["./runtime",function(t,r,o){var n="object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this,i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,s=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,o.exports=t("./runtime"),i)n.regeneratorRuntime=s;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}}],"runtime.js":function(t,r,o){!function(t){"use strict";function e(t,e,r,o){var n=e&&e.prototype instanceof i?e:i,s=Object.create(n.prototype),c=new p(o||[]);return s._invoke=f(t,r,c),s}function r(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function i(){}function s(){}function c(){}function a(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function e(o,n,i,s){var c=r(t[o],t,n);if("throw"!==c.type){var a=c.arg,u=a.value;return u&&"object"==typeof u&&j.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,i,s)},function(t){e("throw",t,i,s)}):Promise.resolve(u).then(function(t){a.value=t,i(a)},s)}s(c.arg)}function o(t,r){function o(){return new Promise(function(o,n){e(t,r,o,n)})}return i=i?i.then(o,o):o()}"object"==typeof n&&n.domain&&(e=n.domain.bind(e));var i;this._invoke=o}function f(t,e,o){var n=k;return function i(s,c){if(n===O)throw new Error("Generator is already running");if(n===E){if("throw"===s)throw c;return h()}for(;;){var a=o.delegate;if(a){if("return"===s||"throw"===s&&a.iterator[s]===g){o.delegate=null;var u=a.iterator.return;if(u&&"throw"===(f=r(u,a.iterator,c)).type){s="throw",c=f.arg;continue}if("return"===s)continue}if("throw"===(f=r(a.iterator[s],a.iterator,c)).type){o.delegate=null,s="throw",c=f.arg;continue}if(s="next",c=g,!(_=f.arg).done)return n=S,_;o[a.resultName]=_.value,o.next=a.nextLoc,o.delegate=null}if("next"===s)o.sent=o._sent=c;else if("throw"===s){if(n===k)throw n=E,c;o.dispatchException(c)&&(s="next",c=g)}else"return"===s&&o.abrupt("return",c);n=O;var f=r(t,e,o);if("normal"===f.type){n=o.done?E:S;var _={value:f.arg,done:o.done};if(f.arg!==P)return _;o.delegate&&"next"===s&&(c=g)}else"throw"===f.type&&(n=E,s="throw",c=f.arg)}}}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function l(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function d(t){if(t){var e=t[m];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(j.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=g,e.done=!0,e};return o.next=o}}return{next:h}}function h(){return{value:g,done:!0}}var b=Object.prototype,j=b.hasOwnProperty,g,y="function"==typeof Symbol?Symbol:{},m=y.iterator||"@@iterator",v=y.toStringTag||"@@toStringTag",x="object"==typeof o,w=t.regeneratorRuntime;if(w)x&&(o.exports=w);else{(w=t.regeneratorRuntime=x?o.exports:{}).wrap=e;var k="suspendedStart",S="suspendedYield",O="executing",E="completed",P={},M={};M[m]=function(){return this};var F=Object.getPrototypeOf,A=F&&F(F(d([])));A&&A!==b&&j.call(A,m)&&(M=A);var N=c.prototype=i.prototype=Object.create(M);s.prototype=N.constructor=c,c.constructor=s,c[v]=s.displayName="GeneratorFunction",w.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===s||"GeneratorFunction"===(e.displayName||e.name))},w.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,v in t||(t[v]="GeneratorFunction")),t.prototype=Object.create(N),t},w.awrap=function(t){return{__await:t}},a(u.prototype),w.AsyncIterator=u,w.async=function(t,r,o,n){var i=new u(e(t,r,o,n));return w.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},a(N),N[v]="Generator",N.toString=function(){return"[object Generator]"},w.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var o=e.pop();if(o in t)return r.value=o,r.done=!1,r}return r.done=!0,r}},w.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.tryEntries.forEach(l),!t)for(var e in this)"t"===e.charAt(0)&&j.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,o){return i.type="throw",i.arg=t,r.next=e,!!o}if(this.done)throw t;for(var r=this,o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],i=n.completion;if("root"===n.tryLoc)return e("end");if(n.tryLoc<=this.prev){var s=j.call(n,"catchLoc"),c=j.call(n,"finallyLoc");if(s&&c){if(this.prev<n.catchLoc)return e(n.catchLoc,!0);if(this.prev<n.finallyLoc)return e(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return e(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return e(n.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&j.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var i=n?n.completion:{};return i.type=t,i.arg=e,n?this.next=n.finallyLoc:this.complete(i),P},complete:function(t,e){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e)},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),l(r),P}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var n=o.arg;l(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:d(t),resultName:e,nextLoc:r},P}}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}},"core-js":{modules:{"es6.symbol.js":["./_global","./_has","./_descriptors","./_export","./_redefine","./_meta","./_fails","./_shared","./_set-to-string-tag","./_uid","./_wks","./_wks-ext","./_wks-define","./_keyof","./_enum-keys","./_is-array","./_an-object","./_to-iobject","./_to-primitive","./_property-desc","./_object-create","./_object-gopn-ext","./_object-gopd","./_object-dp","./_object-keys","./_object-gopn","./_object-pie","./_object-gops","./_library","./_hide",function(t){"use strict";var e=t("./_global"),r=t("./_has"),o=t("./_descriptors"),n=t("./_export"),i=t("./_redefine"),s=t("./_meta").KEY,c=t("./_fails"),a=t("./_shared"),u=t("./_set-to-string-tag"),f=t("./_uid"),_=t("./_wks"),l=t("./_wks-ext"),p=t("./_wks-define"),d=t("./_keyof"),h=t("./_enum-keys"),b=t("./_is-array"),j=t("./_an-object"),g=t("./_to-iobject"),y=t("./_to-primitive"),m=t("./_property-desc"),v=t("./_object-create"),x=t("./_object-gopn-ext"),w=t("./_object-gopd"),k=t("./_object-dp"),S=t("./_object-keys"),O=w.f,E=k.f,P=x.f,M=e.Symbol,F=e.JSON,A=F&&F.stringify,N="prototype",I=_("_hidden"),L=_("toPrimitive"),T={}.propertyIsEnumerable,R=a("symbol-registry"),C=a("symbols"),W=a("op-symbols"),z=Object[N],G="function"==typeof M,D=e.QObject,U=!D||!D[N]||!D[N].findChild,B=o&&c(function(){return 7!=v(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,r){var o=O(z,e);o&&delete z[e],E(t,e,r),o&&t!==z&&E(z,e,o)}:E,q=function(t){var e=C[t]=v(M[N]);return e._k=t,e},K=G&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},Y=function t(e,o,n){return e===z&&Y(W,o,n),j(e),o=y(o,!0),j(n),r(C,o)?(n.enumerable?(r(e,I)&&e[I][o]&&(e[I][o]=!1),n=v(n,{enumerable:m(0,!1)})):(r(e,I)||E(e,I,m(1,{})),e[I][o]=!0),B(e,o,n)):E(e,o,n)},V=function t(e,r){j(e);for(var o=h(r=g(r)),n=0,i=o.length,s;i>n;)Y(e,s=o[n++],r[s]);return e},J=function t(e,r){return void 0===r?v(e):V(v(e),r)},X=function t(e){var o=T.call(this,e=y(e,!0));return!(this===z&&r(C,e)&&!r(W,e))&&(!(o||!r(this,e)||!r(C,e)||r(this,I)&&this[I][e])||o)},$=function t(e,o){if(e=g(e),o=y(o,!0),e!==z||!r(C,o)||r(W,o)){var n=O(e,o);return!n||!r(C,o)||r(e,I)&&e[I][o]||(n.enumerable=!0),n}},Q=function t(e){for(var o=P(g(e)),n=[],i=0,c;o.length>i;)r(C,c=o[i++])||c==I||c==s||n.push(c);return n},H=function t(e){for(var o=e===z,n=P(o?W:g(e)),i=[],s=0,c;n.length>s;)!r(C,c=n[s++])||o&&!r(z,c)||i.push(C[c]);return i};G||(i((M=function t(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),n=function(t){this===z&&n.call(W,t),r(this,I)&&r(this[I],e)&&(this[I][e]=!1),B(this,e,m(1,t))};return o&&U&&B(z,e,{configurable:!0,set:n}),q(e)})[N],"toString",function t(){return this._k}),w.f=$,k.f=Y,t("./_object-gopn").f=x.f=Q,t("./_object-pie").f=X,t("./_object-gops").f=H,o&&!t("./_library")&&i(z,"propertyIsEnumerable",X,!0),l.f=function(t){return q(_(t))}),n(n.G+n.W+n.F*!G,{Symbol:M});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)_(Z[tt++]);for(var Z=S(_.store),tt=0;Z.length>tt;)p(Z[tt++]);n(n.S+n.F*!G,"Symbol",{for:function(t){return r(R,t+="")?R[t]:R[t]=M(t)},keyFor:function t(e){if(K(e))return d(R,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){U=!0},useSimple:function(){U=!1}}),n(n.S+n.F*!G,"Object",{create:J,defineProperty:Y,defineProperties:V,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:H}),F&&n(n.S+n.F*(!G||c(function(){var t=M();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))})),"JSON",{stringify:function t(e){if(void 0!==e&&!K(e)){for(var r=[e],o=1,n,i;arguments.length>o;)r.push(arguments[o++]);return"function"==typeof(n=r[1])&&(i=n),!i&&b(n)||(n=function(t,e){if(i&&(e=i.call(this,t,e)),!K(e))return e}),r[1]=n,A.apply(F,r)}}}),M[N][L]||t("./_hide")(M[N],L,M[N].valueOf),u(M,"Symbol"),u(Math,"Math",!0),u(e.JSON,"JSON",!0)}],"_global.js":function(t,e,r){var o=r.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=o)},"_has.js":function(t,e,r){var o={}.hasOwnProperty;r.exports=function(t,e){return o.call(t,e)}},"_descriptors.js":["./_fails",function(t,e,r){r.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})}],"_fails.js":function(t,e,r){r.exports=function(t){try{return!!t()}catch(t){return!0}}},"_export.js":["./_global","./_core","./_hide","./_redefine","./_ctx",function(t,e,r){var o=t("./_global"),n=t("./_core"),i=t("./_hide"),s=t("./_redefine"),c=t("./_ctx"),a="prototype",u=function(t,e,r){var f=t&u.F,_=t&u.G,l=t&u.S,p=t&u.P,d=t&u.B,h=_?o:l?o[e]||(o[e]={}):(o[e]||{})[a],b=_?n:n[e]||(n[e]={}),j=b[a]||(b[a]={}),g,y,m,v;_&&(r=e);for(g in r)m=((y=!f&&h&&void 0!==h[g])?h:r)[g],v=d&&y?c(m,o):p&&"function"==typeof m?c(Function.call,m):m,h&&s(h,g,m,t&u.U),b[g]!=m&&i(b,g,v),p&&j[g]!=m&&(j[g]=m)};o.core=n,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,r.exports=u}],"_core.js":function(t,e,r){var o=r.exports={version:"2.4.0"};"number"==typeof __e&&(__e=o)},"_hide.js":["./_object-dp","./_property-desc","./_descriptors",function(t,e,r){var o=t("./_object-dp"),n=t("./_property-desc");r.exports=t("./_descriptors")?function(t,e,r){return o.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}}],"_object-dp.js":["./_an-object","./_ie8-dom-define","./_to-primitive","./_descriptors",function(t,e){var r=t("./_an-object"),o=t("./_ie8-dom-define"),n=t("./_to-primitive"),i=Object.defineProperty;e.f=t("./_descriptors")?Object.defineProperty:function t(e,s,c){if(r(e),s=n(s,!0),r(c),o)try{return i(e,s,c)}catch(t){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(e[s]=c.value),e}}],"_an-object.js":["./_is-object",function(t,e,r){var o=t("./_is-object");r.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}}],"_is-object.js":function(t,e,r){r.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"_ie8-dom-define.js":["./_descriptors","./_fails","./_dom-create",function(t,e,r){r.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})}],"_dom-create.js":["./_is-object","./_global",function(t,e,r){var o=t("./_is-object"),n=t("./_global").document,i=o(n)&&o(n.createElement);r.exports=function(t){return i?n.createElement(t):{}}}],"_to-primitive.js":["./_is-object",function(t,e,r){var o=t("./_is-object");r.exports=function(t,e){if(!o(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!o(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}}],"_property-desc.js":function(t,e,r){r.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"_redefine.js":["./_global","./_hide","./_has","./_uid","./_core",function(t,e,r){var o=t("./_global"),n=t("./_hide"),i=t("./_has"),s=t("./_uid")("src"),c="toString",a=Function[c],u=(""+a).split(c);t("./_core").inspectSource=function(t){return a.call(t)},(r.exports=function(t,e,r,c){var a="function"==typeof r;a&&(i(r,"name")||n(r,"name",e)),t[e]!==r&&(a&&(i(r,s)||n(r,s,t[e]?""+t[e]:u.join(String(e)))),t===o?t[e]=r:c?t[e]?t[e]=r:n(t,e,r):(delete t[e],n(t,e,r)))})(Function.prototype,c,function t(){return"function"==typeof this&&this[s]||a.call(this)})}],"_uid.js":function(t,e,r){var o=0,n=Math.random();r.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++o+n).toString(36))}},"_ctx.js":["./_a-function",function(t,e,r){var o=t("./_a-function");r.exports=function(t,e,r){if(o(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,o){return t.call(e,r,o)};case 3:return function(r,o,n){return t.call(e,r,o,n)}}return function(){return t.apply(e,arguments)}}}],"_a-function.js":function(t,e,r){r.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"_meta.js":["./_uid","./_is-object","./_has","./_object-dp","./_fails",function(t,e,r){var o=t("./_uid")("meta"),n=t("./_is-object"),i=t("./_has"),s=t("./_object-dp").f,c=0,a=Object.isExtensible||function(){return!0},u=!t("./_fails")(function(){return a(Object.preventExtensions({}))}),f=function(t){s(t,o,{value:{i:"O"+ ++c,w:{}}})},_=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,o)){if(!a(t))return"F";if(!e)return"E";f(t)}return t[o].i},l=function(t,e){if(!i(t,o)){if(!a(t))return!0;if(!e)return!1;f(t)}return t[o].w},p=function(t){return u&&d.NEED&&a(t)&&!i(t,o)&&f(t),t},d=r.exports={KEY:o,NEED:!1,fastKey:_,getWeak:l,onFreeze:p}}],"_shared.js":["./_global",function(t,e,r){var o=t("./_global"),n="__core-js_shared__",i=o[n]||(o[n]={});r.exports=function(t){return i[t]||(i[t]={})}}],"_set-to-string-tag.js":["./_object-dp","./_has","./_wks",function(t,e,r){var o=t("./_object-dp").f,n=t("./_has"),i=t("./_wks")("toStringTag");r.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,i)&&o(t,i,{configurable:!0,value:e})}}],"_wks.js":["./_shared","./_uid","./_global",function(t,e,r){var o=t("./_shared")("wks"),n=t("./_uid"),i=t("./_global").Symbol,s="function"==typeof i;(r.exports=function(t){return o[t]||(o[t]=s&&i[t]||(s?i:n)("Symbol."+t))}).store=o}],"_wks-ext.js":["./_wks",function(t,e){e.f=t("./_wks")}],"_wks-define.js":["./_global","./_core","./_library","./_wks-ext","./_object-dp",function(t,e,r){var o=t("./_global"),n=t("./_core"),i=t("./_library"),s=t("./_wks-ext"),c=t("./_object-dp").f;r.exports=function(t){var e=n.Symbol||(n.Symbol=i?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||c(e,t,{value:s.f(t)})}}],"_library.js":function(t,e,r){r.exports=!1},"_keyof.js":["./_object-keys","./_to-iobject",function(t,e,r){var o=t("./_object-keys"),n=t("./_to-iobject");r.exports=function(t,e){for(var r=n(t),i=o(r),s=i.length,c=0,a;s>c;)if(r[a=i[c++]]===e)return a}}],"_object-keys.js":["./_object-keys-internal","./_enum-bug-keys",function(t,e,r){var o=t("./_object-keys-internal"),n=t("./_enum-bug-keys");r.exports=Object.keys||function t(e){return o(e,n)}}],"_object-keys-internal.js":["./_has","./_to-iobject","./_array-includes","./_shared-key",function(t,e,r){var o=t("./_has"),n=t("./_to-iobject"),i=t("./_array-includes")(!1),s=t("./_shared-key")("IE_PROTO");r.exports=function(t,e){var r=n(t),c=0,a=[],u;for(u in r)u!=s&&o(r,u)&&a.push(u);for(;e.length>c;)o(r,u=e[c++])&&(~i(a,u)||a.push(u));return a}}],"_to-iobject.js":["./_iobject","./_defined",function(t,e,r){var o=t("./_iobject"),n=t("./_defined");r.exports=function(t){return o(n(t))}}],"_iobject.js":["./_cof",function(t,e,r){var o=t("./_cof");r.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}}],"_cof.js":function(t,e,r){var o={}.toString;r.exports=function(t){return o.call(t).slice(8,-1)}},"_defined.js":function(t,e,r){r.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"_array-includes.js":["./_to-iobject","./_to-length","./_to-index",function(t,e,r){var o=t("./_to-iobject"),n=t("./_to-length"),i=t("./_to-index");r.exports=function(t){return function(e,r,s){var c=o(e),a=n(c.length),u=i(s,a),f;if(t&&r!=r){for(;a>u;)if((f=c[u++])!=f)return!0}else for(;a>u;u++)if((t||u in c)&&c[u]===r)return t||u||0;return!t&&-1}}}],"_to-length.js":["./_to-integer",function(t,e,r){var o=t("./_to-integer"),n=Math.min;r.exports=function(t){return t>0?n(o(t),9007199254740991):0}}],"_to-integer.js":function(t,e,r){var o=Math.ceil,n=Math.floor;r.exports=function(t){return isNaN(t=+t)?0:(t>0?n:o)(t)}},"_to-index.js":["./_to-integer",function(t,e,r){var o=t("./_to-integer"),n=Math.max,i=Math.min;r.exports=function(t,e){return(t=o(t))<0?n(t+e,0):i(t,e)}}],"_shared-key.js":["./_shared","./_uid",function(t,e,r){var o=t("./_shared")("keys"),n=t("./_uid");r.exports=function(t){return o[t]||(o[t]=n(t))}}],"_enum-bug-keys.js":function(t,e,r){r.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"_enum-keys.js":["./_object-keys","./_object-gops","./_object-pie",function(t,e,r){var o=t("./_object-keys"),n=t("./_object-gops"),i=t("./_object-pie");r.exports=function(t){var e=o(t),r=n.f;if(r)for(var s=r(t),c=i.f,a=0,u;s.length>a;)c.call(t,u=s[a++])&&e.push(u);return e}}],"_object-gops.js":function(t,e){e.f=Object.getOwnPropertySymbols},"_object-pie.js":function(t,e){e.f={}.propertyIsEnumerable},"_is-array.js":["./_cof",function(t,e,r){var o=t("./_cof");r.exports=Array.isArray||function t(e){return"Array"==o(e)}}],"_object-create.js":["./_an-object","./_object-dps","./_enum-bug-keys","./_shared-key","./_dom-create","./_html",function(t,e,r){var o=t("./_an-object"),n=t("./_object-dps"),i=t("./_enum-bug-keys"),s=t("./_shared-key")("IE_PROTO"),c=function(){},a="prototype",u=function(){var e=t("./_dom-create")("iframe"),r=i.length,o="<",n=">",s;for(e.style.display="none",t("./_html").appendChild(e),e.src="javascript:",(s=e.contentWindow.document).open(),s.write("<script>document.F=Object<\/script>"),s.close(),u=s.F;r--;)delete u[a][i[r]];return u()};r.exports=Object.create||function t(e,r){var i;return null!==e?(c[a]=o(e),i=new c,c[a]=null,i[s]=e):i=u(),void 0===r?i:n(i,r)}}],"_object-dps.js":["./_object-dp","./_an-object","./_object-keys","./_descriptors",function(t,e,r){var o=t("./_object-dp"),n=t("./_an-object"),i=t("./_object-keys");r.exports=t("./_descriptors")?Object.defineProperties:function t(e,r){n(e);for(var s=i(r),c=s.length,a=0,u;c>a;)o.f(e,u=s[a++],r[u]);return e}}],"_html.js":["./_global",function(t,e,r){r.exports=t("./_global").document&&document.documentElement}],"_object-gopn-ext.js":["./_to-iobject","./_object-gopn",function(t,e,r){var o=t("./_to-iobject"),n=t("./_object-gopn").f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return n(t)}catch(t){return s.slice()}};r.exports.f=function t(e){return s&&"[object Window]"==i.call(e)?c(e):n(o(e))}}],"_object-gopn.js":["./_object-keys-internal","./_enum-bug-keys",function(t,e){var r=t("./_object-keys-internal"),o=t("./_enum-bug-keys").concat("length","prototype");e.f=Object.getOwnPropertyNames||function t(e){return r(e,o)}}],"_object-gopd.js":["./_object-pie","./_property-desc","./_to-iobject","./_to-primitive","./_has","./_ie8-dom-define","./_descriptors",function(t,e){var r=t("./_object-pie"),o=t("./_property-desc"),n=t("./_to-iobject"),i=t("./_to-primitive"),s=t("./_has"),c=t("./_ie8-dom-define"),a=Object.getOwnPropertyDescriptor;e.f=t("./_descriptors")?a:function t(e,u){if(e=n(e),u=i(u,!0),c)try{return a(e,u)}catch(t){}if(s(e,u))return o(!r.f.call(e,u),e[u])}}],"es6.map.js":["./_collection-strong","./_collection",function(t,e,r){"use strict";var o=t("./_collection-strong");r.exports=t("./_collection")("Map",function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function t(e){var r=o.getEntry(this,e);return r&&r.v},set:function t(e,r){return o.def(this,0===e?0:e,r)}},o,!0)}],"_collection-strong.js":["./_object-dp","./_object-create","./_redefine-all","./_ctx","./_an-instance","./_defined","./_for-of","./_iter-define","./_iter-step","./_set-species","./_descriptors","./_meta",function(t,e,r){"use strict";var o=t("./_object-dp").f,n=t("./_object-create"),i=t("./_redefine-all"),s=t("./_ctx"),c=t("./_an-instance"),a=t("./_defined"),u=t("./_for-of"),f=t("./_iter-define"),_=t("./_iter-step"),l=t("./_set-species"),p=t("./_descriptors"),d=t("./_meta").fastKey,h=p?"_s":"size",b=function(t,e){var r=d(e),o;if("F"!==r)return t._i[r];for(o=t._f;o;o=o.n)if(o.k==e)return o};r.exports={getConstructor:function(t,e,r,f){var _=t(function(t,o){c(t,_,e,"_i"),t._i=n(null),t._f=void 0,t._l=void 0,t[h]=0,void 0!=o&&u(o,r,t[f],t)});return i(_.prototype,{clear:function t(){for(var e=this,r=e._i,o=e._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete r[o.i];e._f=e._l=void 0,e[h]=0},delete:function(t){var e=this,r=b(e,t);if(r){var o=r.n,n=r.p;delete e._i[r.i],r.r=!0,n&&(n.n=o),o&&(o.p=n),e._f==r&&(e._f=o),e._l==r&&(e._l=n),e[h]--}return!!r},forEach:function t(e){c(this,_,"forEach");for(var r=s(e,arguments.length>1?arguments[1]:void 0,3),o;o=o?o.n:this._f;)for(r(o.v,o.k,this);o&&o.r;)o=o.p},has:function t(e){return!!b(this,e)}}),p&&o(_.prototype,"size",{get:function(){return a(this[h])}}),_},def:function(t,e,r){var o=b(t,e),n,i;return o?o.v=r:(t._l=o={i:i=d(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[h]++,"F"!==i&&(t._i[i]=o)),t},getEntry:b,setStrong:function(t,e,r){f(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==e?_(0,r.k):"values"==e?_(0,r.v):_(0,[r.k,r.v]):(t._t=void 0,_(1))},r?"entries":"values",!r,!0),l(e)}}}],"_redefine-all.js":["./_redefine",function(t,e,r){var o=t("./_redefine");r.exports=function(t,e,r){for(var n in e)o(t,n,e[n],r);return t}}],"_an-instance.js":function(t,e,r){r.exports=function(t,e,r,o){if(!(t instanceof e)||void 0!==o&&o in t)throw TypeError(r+": incorrect invocation!");return t}},"_for-of.js":["./_ctx","./_iter-call","./_is-array-iter","./_an-object","./_to-length","./core.get-iterator-method",function(t,e,r){var o=t("./_ctx"),n=t("./_iter-call"),i=t("./_is-array-iter"),s=t("./_an-object"),c=t("./_to-length"),a=t("./core.get-iterator-method"),u={},f={};(e=r.exports=function(t,e,r,_,l){var p=l?function(){return t}:a(t),d=o(r,_,e?2:1),h=0,b,j,g,y;if("function"!=typeof p)throw TypeError(t+" is not iterable!");if(i(p)){for(b=c(t.length);b>h;h++)if((y=e?d(s(j=t[h])[0],j[1]):d(t[h]))===u||y===f)return y}else for(g=p.call(t);!(j=g.next()).done;)if((y=n(g,d,j.value,e))===u||y===f)return y}).BREAK=u,e.RETURN=f}],"_iter-call.js":["./_an-object",function(t,e,r){var o=t("./_an-object");r.exports=function(t,e,r,n){try{return n?e(o(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}}],"_is-array-iter.js":["./_iterators","./_wks",function(t,e,r){var o=t("./_iterators"),n=t("./_wks")("iterator"),i=Array.prototype;r.exports=function(t){return void 0!==t&&(o.Array===t||i[n]===t)}}],"_iterators.js":function(t,e,r){r.exports={}},"core.get-iterator-method.js":["./_classof","./_wks","./_iterators","./_core",function(t,e,r){var o=t("./_classof"),n=t("./_wks")("iterator"),i=t("./_iterators");r.exports=t("./_core").getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||i[o(t)]}}],"_classof.js":["./_cof","./_wks",function(t,e,r){var o=t("./_cof"),n=t("./_wks")("toStringTag"),i="Arguments"==o(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};r.exports=function(t){var e,r,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=s(e=Object(t),n))?r:i?o(e):"Object"==(c=o(e))&&"function"==typeof e.callee?"Arguments":c}}],"_iter-define.js":["./_library","./_export","./_redefine","./_hide","./_has","./_iterators","./_iter-create","./_set-to-string-tag","./_object-gpo","./_wks",function(t,e,r){"use strict";var o=t("./_library"),n=t("./_export"),i=t("./_redefine"),s=t("./_hide"),c=t("./_has"),a=t("./_iterators"),u=t("./_iter-create"),f=t("./_set-to-string-tag"),_=t("./_object-gpo"),l=t("./_wks")("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",h="keys",b="values",j=function(){return this};r.exports=function(t,e,r,g,y,m,v){u(r,e,g);var x=function(t){if(!p&&t in O)return O[t];switch(t){case h:return function e(){return new r(this,t)};case b:return function e(){return new r(this,t)}}return function e(){return new r(this,t)}},w=e+" Iterator",k=y==b,S=!1,O=t.prototype,E=O[l]||O[d]||y&&O[y],P=E||x(y),M=y?k?x("entries"):P:void 0,F="Array"==e?O.entries||E:E,A,N,I;if(F&&(I=_(F.call(new t)))!==Object.prototype&&(f(I,w,!0),o||c(I,l)||s(I,l,j)),k&&E&&E.name!==b&&(S=!0,P=function t(){return E.call(this)}),o&&!v||!p&&!S&&O[l]||s(O,l,P),a[e]=P,a[w]=j,y)if(A={values:k?P:x(b),keys:m?P:x(h),entries:M},v)for(N in A)N in O||i(O,N,A[N]);else n(n.P+n.F*(p||S),e,A);return A}}],"_iter-create.js":["./_object-create","./_property-desc","./_set-to-string-tag","./_hide","./_wks",function(t,e,r){"use strict";var o=t("./_object-create"),n=t("./_property-desc"),i=t("./_set-to-string-tag"),s={};t("./_hide")(s,t("./_wks")("iterator"),function(){return this}),r.exports=function(t,e,r){t.prototype=o(s,{next:n(1,r)}),i(t,e+" Iterator")}}],"_object-gpo.js":["./_has","./_to-object","./_shared-key",function(t,e,r){var o=t("./_has"),n=t("./_to-object"),i=t("./_shared-key")("IE_PROTO"),s=Object.prototype;r.exports=Object.getPrototypeOf||function(t){return t=n(t),o(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}}],"_to-object.js":["./_defined",function(t,e,r){var o=t("./_defined");r.exports=function(t){return Object(o(t))}}],"_iter-step.js":function(t,e,r){r.exports=function(t,e){return{value:e,done:!!t}}},"_set-species.js":["./_global","./_object-dp","./_descriptors","./_wks",function(t,e,r){"use strict";var o=t("./_global"),n=t("./_object-dp"),i=t("./_descriptors"),s=t("./_wks")("species");r.exports=function(t){var e=o[t];i&&e&&!e[s]&&n.f(e,s,{configurable:!0,get:function(){return this}})}}],"_collection.js":["./_global","./_export","./_redefine","./_redefine-all","./_meta","./_for-of","./_an-instance","./_is-object","./_fails","./_iter-detect","./_set-to-string-tag","./_inherit-if-required",function(t,e,r){"use strict";var o=t("./_global"),n=t("./_export"),i=t("./_redefine"),s=t("./_redefine-all"),c=t("./_meta"),a=t("./_for-of"),u=t("./_an-instance"),f=t("./_is-object"),_=t("./_fails"),l=t("./_iter-detect"),p=t("./_set-to-string-tag"),d=t("./_inherit-if-required");r.exports=function(t,e,r,h,b,j){var g=o[t],y=g,m=b?"set":"add",v=y&&y.prototype,x={},w=function(t){var e=v[t];i(v,t,"delete"==t?function(t){return!(j&&!f(t))&&e.call(this,0===t?0:t)}:"has"==t?function t(r){return!(j&&!f(r))&&e.call(this,0===r?0:r)}:"get"==t?function t(r){return j&&!f(r)?void 0:e.call(this,0===r?0:r)}:"add"==t?function t(r){return e.call(this,0===r?0:r),this}:function t(r,o){return e.call(this,0===r?0:r,o),this})};if("function"==typeof y&&(j||v.forEach&&!_(function(){(new y).entries().next()}))){var k=new y,S=k[m](j?{}:-0,1)!=k,O=_(function(){k.has(1)}),E=l(function(t){new y(t)}),P=!j&&_(function(){for(var t=new y,e=5;e--;)t[m](e,e);return!t.has(-0)});E||((y=e(function(e,r){u(e,y,t);var o=d(new g,e,y);return void 0!=r&&a(r,b,o[m],o),o})).prototype=v,v.constructor=y),(O||P)&&(w("delete"),w("has"),b&&w("get")),(P||S)&&w(m),j&&v.clear&&delete v.clear}else y=h.getConstructor(e,t,b,m),s(y.prototype,r),c.NEED=!0;return p(y,t),x[t]=y,n(n.G+n.W+n.F*(y!=g),x),j||h.setStrong(y,t,b),y}}],"_iter-detect.js":["./_wks",function(t,e,r){var o=t("./_wks")("iterator"),n=!1;try{var i=[7][o]();i.return=function(){n=!0},Array.from(i,function(){throw 2})}catch(t){}r.exports=function(t,e){if(!e&&!n)return!1;var r=!1;try{var i=[7],s=i[o]();s.next=function(){return{done:r=!0}},i[o]=function(){return s},t(i)}catch(t){}return r}}],"_inherit-if-required.js":["./_is-object","./_set-proto",function(t,e,r){var o=t("./_is-object"),n=t("./_set-proto").set;r.exports=function(t,e,r){var i,s=e.constructor;return s!==r&&"function"==typeof s&&(i=s.prototype)!==r.prototype&&o(i)&&n&&n(t,i),t}}],"_set-proto.js":["./_is-object","./_an-object","./_ctx","./_object-gopd",function(t,e,r){var o=t("./_is-object"),n=t("./_an-object"),i=function(t,e){if(n(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};r.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,o){try{(o=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2))(e,[]),r=!(e instanceof Array)}catch(t){r=!0}return function t(e,n){return i(e,n),r?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:i}}],"es6.set.js":["./_collection-strong","./_collection",function(t,e,r){"use strict";var o=t("./_collection-strong");r.exports=t("./_collection")("Set",function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function t(e){return o.def(this,e=0===e?0:e,e)}},o)}],"es6.string.iterator.js":["./_string-at","./_iter-define",function(t){"use strict";var e=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,r=this._i,o;return r>=t.length?{value:void 0,done:!0}:(o=e(t,r),this._i+=o.length,{value:o,done:!1})})}],"_string-at.js":["./_to-integer","./_defined",function(t,e,r){var o=t("./_to-integer"),n=t("./_defined");r.exports=function(t){return function(e,r){var i=String(n(e)),s=o(r),c=i.length,a,u;return s<0||s>=c?t?"":void 0:(a=i.charCodeAt(s))<55296||a>56319||s+1===c||(u=i.charCodeAt(s+1))<56320||u>57343?t?i.charAt(s):a:t?i.slice(s,s+2):u-56320+(a-55296<<10)+65536}}}],"es6.array.is-array.js":["./_export","./_is-array",function(t){var e=t("./_export");e(e.S,"Array",{isArray:t("./_is-array")})}],"es6.array.from.js":["./_ctx","./_export","./_to-object","./_iter-call","./_is-array-iter","./_to-length","./_create-property","./core.get-iterator-method","./_iter-detect",function(t){"use strict";var e=t("./_ctx"),r=t("./_export"),o=t("./_to-object"),n=t("./_iter-call"),i=t("./_is-array-iter"),s=t("./_to-length"),c=t("./_create-property"),a=t("./core.get-iterator-method");r(r.S+r.F*!t("./_iter-detect")(function(t){Array.from(t)}),"Array",{from:function t(r){var u=o(r),f="function"==typeof this?this:Array,_=arguments.length,l=_>1?arguments[1]:void 0,p=void 0!==l,d=0,h=a(u),b,j,g,y;if(p&&(l=e(l,_>2?arguments[2]:void 0,2)),void 0==h||f==Array&&i(h))for(j=new f(b=s(u.length));b>d;d++)c(j,d,p?l(u[d],d):u[d]);else for(y=h.call(u),j=new f;!(g=y.next()).done;d++)c(j,d,p?n(y,l,[g.value,d],!0):g.value);return j.length=d,j}})}],"_create-property.js":["./_object-dp","./_property-desc",function(t,e,r){"use strict";var o=t("./_object-dp"),n=t("./_property-desc");r.exports=function(t,e,r){e in t?o.f(t,e,n(0,r)):t[e]=r}}],"es6.array.of.js":["./_export","./_create-property","./_fails",function(t){"use strict";var e=t("./_export"),r=t("./_create-property");e(e.S+e.F*t("./_fails")(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function t(){for(var e=0,o=arguments.length,n=new("function"==typeof this?this:Array)(o);o>e;)r(n,e,arguments[e++]);return n.length=o,n}})}],"es6.array.join.js":["./_export","./_to-iobject","./_iobject","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_to-iobject"),o=[].join;e(e.P+e.F*(t("./_iobject")!=Object||!t("./_strict-method")(o)),"Array",{join:function t(e){return o.call(r(this),void 0===e?",":e)}})}],"_strict-method.js":["./_fails",function(t,e,r){var o=t("./_fails");r.exports=function(t,e){return!!t&&o(function(){e?t.call(null,function(){},1):t.call(null)})}}],"es6.array.slice.js":["./_export","./_html","./_cof","./_to-index","./_to-length","./_fails",function(t){"use strict";var e=t("./_export"),r=t("./_html"),o=t("./_cof"),n=t("./_to-index"),i=t("./_to-length"),s=[].slice;e(e.P+e.F*t("./_fails")(function(){r&&s.call(r)}),"Array",{slice:function t(e,r){var c=i(this.length),a=o(this);if(r=void 0===r?c:r,"Array"==a)return s.call(this,e,r);for(var u=n(e,c),f=n(r,c),_=i(f-u),l=Array(_),p=0;p<_;p++)l[p]="String"==a?this.charAt(u+p):this[u+p];return l}})}],"es6.array.sort.js":["./_export","./_a-function","./_to-object","./_fails","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_a-function"),o=t("./_to-object"),n=t("./_fails"),i=[].sort,s=[1,2,3];e(e.P+e.F*(n(function(){s.sort(void 0)})||!n(function(){s.sort(null)})||!t("./_strict-method")(i)),"Array",{sort:function t(e){return void 0===e?i.call(o(this)):i.call(o(this),r(e))}})}],"es6.array.for-each.js":["./_export","./_array-methods","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(0),o=t("./_strict-method")([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function t(e){return r(this,e,arguments[1])}})}],"_array-methods.js":["./_ctx","./_iobject","./_to-object","./_to-length","./_array-species-create",function(t,e,r){var o=t("./_ctx"),n=t("./_iobject"),i=t("./_to-object"),s=t("./_to-length"),c=t("./_array-species-create");r.exports=function(t,e){var r=1==t,a=2==t,u=3==t,f=4==t,_=6==t,l=5==t||_,p=e||c;return function(e,c,d){for(var h=i(e),b=n(h),j=o(c,d,3),g=s(b.length),y=0,m=r?p(e,g):a?p(e,0):void 0,v,x;g>y;y++)if((l||y in b)&&(v=b[y],x=j(v,y,h),t))if(r)m[y]=x;else if(x)switch(t){case 3:return!0;case 5:return v;case 6:return y;case 2:m.push(v)}else if(f)return!1;return _?-1:u||f?f:m}}}],"_array-species-create.js":["./_array-species-constructor",function(t,e,r){var o=t("./_array-species-constructor");r.exports=function(t,e){return new(o(t))(e)}}],"_array-species-constructor.js":["./_is-object","./_is-array","./_wks",function(t,e,r){var o=t("./_is-object"),n=t("./_is-array"),i=t("./_wks")("species");r.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),o(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}}],"es6.array.map.js":["./_export","./_array-methods","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(1);e(e.P+e.F*!t("./_strict-method")([].map,!0),"Array",{map:function t(e){return r(this,e,arguments[1])}})}],"es6.array.filter.js":["./_export","./_array-methods","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(2);e(e.P+e.F*!t("./_strict-method")([].filter,!0),"Array",{filter:function t(e){return r(this,e,arguments[1])}})}],"es6.array.some.js":["./_export","./_array-methods","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(3);e(e.P+e.F*!t("./_strict-method")([].some,!0),"Array",{some:function t(e){return r(this,e,arguments[1])}})}],"es6.array.every.js":["./_export","./_array-methods","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(4);e(e.P+e.F*!t("./_strict-method")([].every,!0),"Array",{every:function t(e){return r(this,e,arguments[1])}})}],"es6.array.reduce.js":["./_export","./_array-reduce","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-reduce");e(e.P+e.F*!t("./_strict-method")([].reduce,!0),"Array",{reduce:function t(e){return r(this,e,arguments.length,arguments[1],!1)}})}],"_array-reduce.js":["./_a-function","./_to-object","./_iobject","./_to-length",function(t,e,r){var o=t("./_a-function"),n=t("./_to-object"),i=t("./_iobject"),s=t("./_to-length");r.exports=function(t,e,r,c,a){o(e);var u=n(t),f=i(u),_=s(u.length),l=a?_-1:0,p=a?-1:1;if(r<2)for(;;){if(l in f){c=f[l],l+=p;break}if(l+=p,a?l<0:_<=l)throw TypeError("Reduce of empty array with no initial value")}for(;a?l>=0:_>l;l+=p)l in f&&(c=e(c,f[l],l,u));return c}}],"es6.array.reduce-right.js":["./_export","./_array-reduce","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-reduce");e(e.P+e.F*!t("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function t(e){return r(this,e,arguments.length,arguments[1],!0)}})}],"es6.array.index-of.js":["./_export","./_array-includes","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-includes")(!1),o=[].indexOf,n=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(n||!t("./_strict-method")(o)),"Array",{indexOf:function t(e){return n?o.apply(this,arguments)||0:r(this,e,arguments[1])}})}],"es6.array.last-index-of.js":["./_export","./_to-iobject","./_to-integer","./_to-length","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_to-iobject"),o=t("./_to-integer"),n=t("./_to-length"),i=[].lastIndexOf,s=!!i&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(s||!t("./_strict-method")(i)),"Array",{lastIndexOf:function t(e){if(s)return i.apply(this,arguments)||0;var c=r(this),a=n(c.length),u=a-1;for(arguments.length>1&&(u=Math.min(u,o(arguments[1]))),u<0&&(u=a+u);u>=0;u--)if(u in c&&c[u]===e)return u||0;return-1}})}],"es6.array.copy-within.js":["./_export","./_array-copy-within","./_add-to-unscopables",function(t){var e=t("./_export");e(e.P,"Array",{copyWithin:t("./_array-copy-within")}),t("./_add-to-unscopables")("copyWithin")}],"_array-copy-within.js":["./_to-object","./_to-index","./_to-length",function(t,e,r){"use strict";var o=t("./_to-object"),n=t("./_to-index"),i=t("./_to-length");r.exports=[].copyWithin||function t(e,r){var s=o(this),c=i(s.length),a=n(e,c),u=n(r,c),f=arguments.length>2?arguments[2]:void 0,_=Math.min((void 0===f?c:n(f,c))-u,c-a),l=1;for(u<a&&a<u+_&&(l=-1,u+=_-1,a+=_-1);_-- >0;)u in s?s[a]=s[u]:delete s[a],a+=l,u+=l;return s}}],"_add-to-unscopables.js":["./_wks","./_hide",function(t,e,r){var o=t("./_wks")("unscopables"),n=Array.prototype;void 0==n[o]&&t("./_hide")(n,o,{}),r.exports=function(t){n[o][t]=!0}}],"es6.array.fill.js":["./_export","./_array-fill","./_add-to-unscopables",function(t){var e=t("./_export");e(e.P,"Array",{fill:t("./_array-fill")}),t("./_add-to-unscopables")("fill")}],"_array-fill.js":["./_to-object","./_to-index","./_to-length",function(t,e,r){"use strict";var o=t("./_to-object"),n=t("./_to-index"),i=t("./_to-length");r.exports=function t(e){for(var r=o(this),s=i(r.length),c=arguments.length,a=n(c>1?arguments[1]:void 0,s),u=c>2?arguments[2]:void 0,f=void 0===u?s:n(u,s);f>a;)r[a++]=e;return r}}],"es6.array.find.js":["./_export","./_array-methods","./_add-to-unscopables",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(5),o="find",n=!0;o in[]&&Array(1)[o](function(){n=!1}),e(e.P+e.F*n,"Array",{find:function t(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")(o)}],"es6.array.find-index.js":["./_export","./_array-methods","./_add-to-unscopables",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(6),o="findIndex",n=!0;o in[]&&Array(1)[o](function(){n=!1}),e(e.P+e.F*n,"Array",{findIndex:function t(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")(o)}],"es6.array.species.js":["./_set-species",function(t){t("./_set-species")("Array")}],"es6.array.iterator.js":["./_add-to-unscopables","./_iter-step","./_iterators","./_to-iobject","./_iter-define",function(t,e,r){"use strict";var o=t("./_add-to-unscopables"),n=t("./_iter-step"),i=t("./_iterators"),s=t("./_to-iobject");r.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,n(1)):"keys"==e?n(0,r):"values"==e?n(0,t[r]):n(0,[r,t[r]])},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")}],"es6.function.bind.js":["./_export","./_bind",function(t){var e=t("./_export");e(e.P,"Function",{bind:t("./_bind")})}],"_bind.js":["./_a-function","./_is-object","./_invoke",function(t,e,r){"use strict";var o=t("./_a-function"),n=t("./_is-object"),i=t("./_invoke"),s=[].slice,c={},a=function(t,e,r){if(!(e in c)){for(var o=[],n=0;n<e;n++)o[n]="a["+n+"]";c[e]=Function("F,a","return new F("+o.join(",")+")")}return c[e](t,r)};r.exports=Function.bind||function t(e){var r=o(this),c=s.call(arguments,1),u=function(){var t=c.concat(s.call(arguments));return this instanceof u?a(r,t.length,t):i(r,t,e)};return n(r.prototype)&&(u.prototype=r.prototype),u}}],"_invoke.js":function(t,e,r){r.exports=function(t,e,r){var o=void 0===r;switch(e.length){case 0:return o?t():t.call(r);case 1:return o?t(e[0]):t.call(r,e[0]);case 2:return o?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return o?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return o?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},"es6.function.name.js":["./_object-dp","./_property-desc","./_has","./_descriptors",function(t){var e=t("./_object-dp").f,r=t("./_property-desc"),o=t("./_has"),n=Function.prototype,i=/^\s*function ([^ (]*)/,s="name",c=Object.isExtensible||function(){return!0};s in n||t("./_descriptors")&&e(n,s,{configurable:!0,get:function(){try{var t=this,n=(""+t).match(i)[1];return o(t,s)||!c(t)||e(t,s,r(5,n)),n}catch(t){return""}}})}],"es6.function.has-instance.js":["./_is-object","./_object-gpo","./_wks","./_object-dp",function(t){"use strict";var e=t("./_is-object"),r=t("./_object-gpo"),o=t("./_wks")("hasInstance"),n=Function.prototype;o in n||t("./_object-dp").f(n,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})}],"es6.math.acosh.js":["./_export","./_math-log1p",function(t){var e=t("./_export"),r=t("./_math-log1p"),o=Math.sqrt,n=Math.acosh;e(e.S+e.F*!(n&&710==Math.floor(n(Number.MAX_VALUE))&&n(1/0)==1/0),"Math",{acosh:function t(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:r(e-1+o(e-1)*o(e+1))}})}],"_math-log1p.js":function(t,e,r){r.exports=Math.log1p||function t(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},"es6.math.asinh.js":["./_export",function(t){function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}var r=t("./_export"),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:e})}],"es6.math.atanh.js":["./_export",function(t){var e=t("./_export"),r=Math.atanh;e(e.S+e.F*!(r&&1/r(-0)<0),"Math",{atanh:function t(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})}],"es6.math.cbrt.js":["./_export","./_math-sign",function(t){var e=t("./_export"),r=t("./_math-sign");e(e.S,"Math",{cbrt:function t(e){return r(e=+e)*Math.pow(Math.abs(e),1/3)}})}],"_math-sign.js":function(t,e,r){r.exports=Math.sign||function t(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},"es6.math.clz32.js":["./_export",function(t){var e=t("./_export");e(e.S,"Math",{clz32:function t(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})}],"es6.math.cosh.js":["./_export",function(t){var e=t("./_export"),r=Math.exp;e(e.S,"Math",{cosh:function t(e){return(r(e=+e)+r(-e))/2}})}],"es6.math.expm1.js":["./_export","./_math-expm1",function(t){var e=t("./_export"),r=t("./_math-expm1");e(e.S+e.F*(r!=Math.expm1),"Math",{expm1:r})}],"_math-expm1.js":function(t,e,r){var o=Math.expm1;r.exports=!o||o(10)>22025.465794806718||o(10)<22025.465794806718||-2e-17!=o(-2e-17)?function t(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:o},"es6.math.fround.js":["./_export","./_math-sign",function(t){var e=t("./_export"),r=t("./_math-sign"),o=Math.pow,n=o(2,-52),i=o(2,-23),s=o(2,127)*(2-i),c=o(2,-126),a=function(t){return t+1/n-1/n};e(e.S,"Math",{fround:function t(e){var o=Math.abs(e),u=r(e),f,_;return o<c?u*a(o/c/i)*c*i:(f=(1+i/n)*o,(_=f-(f-o))>s||_!=_?u*(1/0):u*_)}})}],"es6.math.hypot.js":["./_export",function(t){var e=t("./_export"),r=Math.abs;e(e.S,"Math",{hypot:function t(e,o){for(var n=0,i=0,s=arguments.length,c=0,a,u;i<s;)c<(a=r(arguments[i++]))?(n=n*(u=c/a)*u+1,c=a):n+=a>0?(u=a/c)*u:a;return c===1/0?1/0:c*Math.sqrt(n)}})}],"es6.math.imul.js":["./_export","./_fails",function(t){var e=t("./_export"),r=Math.imul;e(e.S+e.F*t("./_fails")(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function t(e,r){var o=65535,n=+e,i=+r,s=65535&n,c=65535&i;return 0|s*c+((65535&n>>>16)*c+s*(65535&i>>>16)<<16>>>0)}})}],"es6.math.log10.js":["./_export",function(t){var e=t("./_export");e(e.S,"Math",{log10:function t(e){return Math.log(e)/Math.LN10}})}],"es6.math.log1p.js":["./_export","./_math-log1p",function(t){var e=t("./_export");e(e.S,"Math",{log1p:t("./_math-log1p")})}],"es6.math.log2.js":["./_export",function(t){var e=t("./_export");e(e.S,"Math",{log2:function t(e){return Math.log(e)/Math.LN2}})}],"es6.math.sign.js":["./_export","./_math-sign",function(t){var e=t("./_export");e(e.S,"Math",{sign:t("./_math-sign")})}],"es6.math.sinh.js":["./_export","./_math-expm1","./_fails",function(t){var e=t("./_export"),r=t("./_math-expm1"),o=Math.exp;e(e.S+e.F*t("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function t(e){return Math.abs(e=+e)<1?(r(e)-r(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})}],"es6.math.tanh.js":["./_export","./_math-expm1",function(t){var e=t("./_export"),r=t("./_math-expm1"),o=Math.exp;e(e.S,"Math",{tanh:function t(e){var n=r(e=+e),i=r(-e);return n==1/0?1:i==1/0?-1:(n-i)/(o(e)+o(-e))}})}],"es6.math.trunc.js":["./_export",function(t){var e=t("./_export");e(e.S,"Math",{trunc:function t(e){return(e>0?Math.floor:Math.ceil)(e)}})}],"es6.object.create.js":["./_export","./_object-create",function(t){var e=t("./_export");e(e.S,"Object",{create:t("./_object-create")})}],"es6.object.define-property.js":["./_export","./_descriptors","./_object-dp",function(t){var e=t("./_export");e(e.S+e.F*!t("./_descriptors"),"Object",{defineProperty:t("./_object-dp").f})}],"es6.object.define-properties.js":["./_export","./_descriptors","./_object-dps",function(t){var e=t("./_export");e(e.S+e.F*!t("./_descriptors"),"Object",{defineProperties:t("./_object-dps")})}],"es6.object.get-own-property-descriptor.js":["./_to-iobject","./_object-gopd","./_object-sap",function(t){var e=t("./_to-iobject"),r=t("./_object-gopd").f;t("./_object-sap")("getOwnPropertyDescriptor",function(){return function t(o,n){return r(e(o),n)}})}],"_object-sap.js":["./_export","./_core","./_fails",function(t,e,r){var o=t("./_export"),n=t("./_core"),i=t("./_fails");r.exports=function(t,e){var r=(n.Object||{})[t]||Object[t],s={};s[t]=e(r),o(o.S+o.F*i(function(){r(1)}),"Object",s)}}],"es6.object.get-prototype-of.js":["./_to-object","./_object-gpo","./_object-sap",function(t){var e=t("./_to-object"),r=t("./_object-gpo");t("./_object-sap")("getPrototypeOf",function(){return function t(o){return r(e(o))}})}],"es6.object.keys.js":["./_to-object","./_object-keys","./_object-sap",function(t){var e=t("./_to-object"),r=t("./_object-keys");t("./_object-sap")("keys",function(){return function t(o){return r(e(o))}})}],"es6.object.get-own-property-names.js":["./_object-sap","./_object-gopn-ext",function(t){t("./_object-sap")("getOwnPropertyNames",function(){return t("./_object-gopn-ext").f})}],"es6.object.freeze.js":["./_is-object","./_meta","./_object-sap",function(t){var e=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("freeze",function(t){return function o(n){return t&&e(n)?t(r(n)):n}})}],"es6.object.seal.js":["./_is-object","./_meta","./_object-sap",function(t){var e=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("seal",function(t){return function o(n){return t&&e(n)?t(r(n)):n}})}],"es6.object.prevent-extensions.js":["./_is-object","./_meta","./_object-sap",function(t){var e=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("preventExtensions",function(t){return function o(n){return t&&e(n)?t(r(n)):n}})}],"es6.object.is-frozen.js":["./_is-object","./_object-sap",function(t){var e=t("./_is-object");t("./_object-sap")("isFrozen",function(t){return function r(o){return!e(o)||!!t&&t(o)}})}],"es6.object.is-sealed.js":["./_is-object","./_object-sap",function(t){var e=t("./_is-object");t("./_object-sap")("isSealed",function(t){return function r(o){return!e(o)||!!t&&t(o)}})}],"es6.object.is-extensible.js":["./_is-object","./_object-sap",function(t){var e=t("./_is-object");t("./_object-sap")("isExtensible",function(t){return function r(o){return!!e(o)&&(!t||t(o))}})}],"es6.object.assign.js":["./_export","./_object-assign",function(t){var e=t("./_export");e(e.S+e.F,"Object",{assign:t("./_object-assign")})}],"_object-assign.js":["./_object-keys","./_object-gops","./_object-pie","./_to-object","./_iobject","./_fails",function(t,e,r){"use strict";var o=t("./_object-keys"),n=t("./_object-gops"),i=t("./_object-pie"),s=t("./_to-object"),c=t("./_iobject"),a=Object.assign;r.exports=!a||t("./_fails")(function(){var t={},e={},r=Symbol(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(t){e[t]=t}),7!=a({},t)[r]||Object.keys(a({},e)).join("")!=o})?function t(e,r){for(var a=s(e),u=arguments.length,f=1,_=n.f,l=i.f;u>f;)for(var p=c(arguments[f++]),d=_?o(p).concat(_(p)):o(p),h=d.length,b=0,j;h>b;)l.call(p,j=d[b++])&&(a[j]=p[j]);return a}:a}],"es6.object.is.js":["./_export","./_same-value",function(t){var e=t("./_export");e(e.S,"Object",{is:t("./_same-value")})}],"_same-value.js":function(t,e,r){r.exports=Object.is||function t(e,r){return e===r?0!==e||1/e==1/r:e!=e&&r!=r}},"es6.object.set-prototype-of.js":["./_export","./_set-proto",function(t){var e=t("./_export");e(e.S,"Object",{setPrototypeOf:t("./_set-proto").set})}],"es6.object.to-string.js":["./_classof","./_wks","./_redefine",function(t){"use strict";var e=t("./_classof"),r={};r[t("./_wks")("toStringTag")]="z",r+""!="[object z]"&&t("./_redefine")(Object.prototype,"toString",function t(){return"[object "+e(this)+"]"},!0)}],"es6.regexp.constructor.js":["./_global","./_inherit-if-required","./_object-dp","./_object-gopn","./_is-regexp","./_flags","./_descriptors","./_fails","./_wks","./_redefine","./_set-species",function(t){var e=t("./_global"),r=t("./_inherit-if-required"),o=t("./_object-dp").f,n=t("./_object-gopn").f,i=t("./_is-regexp"),s=t("./_flags"),c=e.RegExp,a=c,u=c.prototype,f=/a/g,_=/a/g,l=new c(f)!==f;if(t("./_descriptors")&&(!l||t("./_fails")(function(){return _[t("./_wks")("match")]=!1,c(f)!=f||c(_)==_||"/a/i"!=c(f,"i")}))){c=function t(e,o){var n=this instanceof c,f=i(e),_=void 0===o;return!n&&f&&e.constructor===c&&_?e:r(l?new a(f&&!_?e.source:e,o):a((f=e instanceof c)?e.source:e,f&&_?s.call(e):o),n?this:u,c)};for(var p=function(t){t in c||o(c,t,{configurable:!0,get:function(){return a[t]},set:function(e){a[t]=e}})},d=n(a),h=0;d.length>h;)p(d[h++]);u.constructor=c,c.prototype=u,t("./_redefine")(e,"RegExp",c)}t("./_set-species")("RegExp")}],"_is-regexp.js":["./_is-object","./_cof","./_wks",function(t,e,r){var o=t("./_is-object"),n=t("./_cof"),i=t("./_wks")("match");r.exports=function(t){var e;return o(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==n(t))}}],"_flags.js":["./_an-object",function(t,e,r){"use strict";var o=t("./_an-object");r.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}}],"es6.regexp.to-string.js":["./es6.regexp.flags","./_an-object","./_flags","./_descriptors","./_redefine","./_fails",function(t){"use strict";t("./es6.regexp.flags");var e=t("./_an-object"),r=t("./_flags"),o=t("./_descriptors"),n="toString",i=/./[n],s=function(e){t("./_redefine")(RegExp.prototype,n,e,!0)};t("./_fails")(function(){return"/a/b"!=i.call({source:"a",flags:"b"})})?s(function t(){var n=e(this);return"/".concat(n.source,"/","flags"in n?n.flags:!o&&n instanceof RegExp?r.call(n):void 0)}):i.name!=n&&s(function t(){return i.call(this)})}],"es6.regexp.flags.js":["./_descriptors","./_object-dp","./_flags",function(t){t("./_descriptors")&&"g"!=/./g.flags&&t("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:t("./_flags")})}],"es6.regexp.match.js":["./_fix-re-wks",function(t){t("./_fix-re-wks")("match",1,function(t,e,r){return[function r(o){"use strict";var n=t(this),i=void 0==o?void 0:o[e];return void 0!==i?i.call(o,n):new RegExp(o)[e](String(n))},r]})}],"_fix-re-wks.js":["./_hide","./_redefine","./_fails","./_defined","./_wks",function(t,e,r){"use strict";var o=t("./_hide"),n=t("./_redefine"),i=t("./_fails"),s=t("./_defined"),c=t("./_wks");r.exports=function(t,e,r){var a=c(t),u=r(s,a,""[t]),f=u[0],_=u[1];i(function(){var e={};return e[a]=function(){return 7},7!=""[t](e)})&&(n(String.prototype,t,f),o(RegExp.prototype,a,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)}))}}],"es6.regexp.replace.js":["./_fix-re-wks",function(t){t("./_fix-re-wks")("replace",2,function(t,e,r){return[function o(n,i){"use strict";var s=t(this),c=void 0==n?void 0:n[e];return void 0!==c?c.call(n,s,i):r.call(String(s),n,i)},r]})}],"es6.regexp.search.js":["./_fix-re-wks",function(t){t("./_fix-re-wks")("search",1,function(t,e,r){return[function r(o){"use strict";var n=t(this),i=void 0==o?void 0:o[e];return void 0!==i?i.call(o,n):new RegExp(o)[e](String(n))},r]})}],"es6.regexp.split.js":["./_fix-re-wks","./_is-regexp",function(t){t("./_fix-re-wks")("split",2,function(e,r,o){"use strict";var n=t("./_is-regexp"),i=o,s=[].push,c="split",a="length",u="lastIndex";if("c"=="abbc"[c](/(b)*/)[1]||4!="test"[c](/(?:)/,-1)[a]||2!="ab"[c](/(?:ab)*/)[a]||4!="."[c](/(.?)(.?)/)[a]||"."[c](/()()/)[a]>1||""[c](/.?/)[a]){var f=void 0===/()??/.exec("")[1];o=function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!n(t))return i.call(r,t,e);var o=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),_=0,l=void 0===e?4294967295:e>>>0,p=new RegExp(t.source,c+"g"),d,h,b,j,g;for(f||(d=new RegExp("^"+p.source+"$(?!\\s)",c));(h=p.exec(r))&&!((b=h.index+h[0][a])>_&&(o.push(r.slice(_,h.index)),!f&&h[a]>1&&h[0].replace(d,function(){for(g=1;g<arguments[a]-2;g++)void 0===arguments[g]&&(h[g]=void 0)}),h[a]>1&&h.index<r[a]&&s.apply(o,h.slice(1)),j=h[0][a],_=b,o[a]>=l));)p[u]===h.index&&p[u]++;return _===r[a]?!j&&p.test("")||o.push(""):o.push(r.slice(_)),o[a]>l?o.slice(0,l):o}}else"0"[c](void 0,0)[a]&&(o=function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)});return[function t(n,i){var s=e(this),c=void 0==n?void 0:n[r];return void 0!==c?c.call(n,s,i):o.call(String(s),n,i)},o]})}],"es6.string.from-code-point.js":["./_export","./_to-index",function(t){var e=t("./_export"),r=t("./_to-index"),o=String.fromCharCode,n=String.fromCodePoint;e(e.S+e.F*(!!n&&1!=n.length),"String",{fromCodePoint:function t(e){for(var n=[],i=arguments.length,s=0,c;i>s;){if(c=+arguments[s++],r(c,1114111)!==c)throw RangeError(c+" is not a valid code point");n.push(c<65536?o(c):o(55296+((c-=65536)>>10),c%1024+56320))}return n.join("")}})}],"es6.string.raw.js":["./_export","./_to-iobject","./_to-length",function(t){var e=t("./_export"),r=t("./_to-iobject"),o=t("./_to-length");e(e.S,"String",{raw:function t(e){for(var n=r(e.raw),i=o(n.length),s=arguments.length,c=[],a=0;i>a;)c.push(String(n[a++])),a<s&&c.push(String(arguments[a]));return c.join("")}})}],"es6.string.trim.js":["./_string-trim",function(t){"use strict";t("./_string-trim")("trim",function(t){return function e(){return t(this,3)}})}],"_string-trim.js":["./_export","./_defined","./_fails","./_string-ws",function(t,e,r){var o=t("./_export"),n=t("./_defined"),i=t("./_fails"),s=t("./_string-ws"),c="["+s+"]",a="",u=RegExp("^"+c+c+"*"),f=RegExp(c+c+"*$"),_=function(t,e,r){var n={},c=i(function(){return!!s[t]()||a[t]()!=a}),u=n[t]=c?e(l):s[t];r&&(n[r]=u),o(o.P+o.F*c,"String",n)},l=_.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(f,"")),t};r.exports=_}],"_string-ws.js":function(t,e,r){r.exports="\t\n\v\f\r \u2028\u2029\ufeff"},"es6.string.code-point-at.js":["./_export","./_string-at",function(t){"use strict";var e=t("./_export"),r=t("./_string-at")(!1);e(e.P,"String",{codePointAt:function t(e){return r(this,e)}})}],"es6.string.ends-with.js":["./_export","./_to-length","./_string-context","./_fails-is-regexp",function(t){"use strict";var e=t("./_export"),r=t("./_to-length"),o=t("./_string-context"),n="endsWith",i=""[n];e(e.P+e.F*t("./_fails-is-regexp")(n),"String",{endsWith:function t(e){var s=o(this,e,n),c=arguments.length>1?arguments[1]:void 0,a=r(s.length),u=void 0===c?a:Math.min(r(c),a),f=String(e);return i?i.call(s,f,u):s.slice(u-f.length,u)===f}})}],"_string-context.js":["./_is-regexp","./_defined",function(t,e,r){var o=t("./_is-regexp"),n=t("./_defined");r.exports=function(t,e,r){if(o(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(n(t))}}],"_fails-is-regexp.js":["./_wks",function(t,e,r){var o=t("./_wks")("match");r.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[o]=!1,!"/./"[t](e)}catch(t){}}return!0}}],"es6.string.includes.js":["./_export","./_string-context","./_fails-is-regexp",function(t){"use strict";var e=t("./_export"),r=t("./_string-context"),o="includes";e(e.P+e.F*t("./_fails-is-regexp")(o),"String",{includes:function t(e){return!!~r(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})}],"es6.string.repeat.js":["./_export","./_string-repeat",function(t){var e=t("./_export");e(e.P,"String",{repeat:t("./_string-repeat")})}],"_string-repeat.js":["./_to-integer","./_defined",function(t,e,r){"use strict";var o=t("./_to-integer"),n=t("./_defined");r.exports=function t(e){var r=String(n(this)),i="",s=o(e);if(s<0||s==1/0)throw RangeError("Count can't be negative");for(;s>0;(s>>>=1)&&(r+=r))1&s&&(i+=r);return i}}],"es6.string.starts-with.js":["./_export","./_to-length","./_string-context","./_fails-is-regexp",function(t){"use strict";var e=t("./_export"),r=t("./_to-length"),o=t("./_string-context"),n="startsWith",i=""[n];e(e.P+e.F*t("./_fails-is-regexp")(n),"String",{startsWith:function t(e){var s=o(this,e,n),c=r(Math.min(arguments.length>1?arguments[1]:void 0,s.length)),a=String(e);return i?i.call(s,a,c):s.slice(c,c+a.length)===a}})}],"es6.string.anchor.js":["./_string-html",function(t){"use strict";t("./_string-html")("anchor",function(t){return function e(r){return t(this,"a","name",r)}})}],"_string-html.js":["./_export","./_fails","./_defined",function(t,e,r){var o=t("./_export"),n=t("./_fails"),i=t("./_defined"),s=/"/g,c=function(t,e,r,o){var n=String(i(t)),c="<"+e;return""!==r&&(c+=" "+r+'="'+String(o).replace(s,"&quot;")+'"'),c+">"+n+"</"+e+">"};r.exports=function(t,e){var r={};r[t]=e(c),o(o.P+o.F*n(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",r)}}],"es6.string.big.js":["./_string-html",function(t){"use strict";t("./_string-html")("big",function(t){return function e(){return t(this,"big","","")}})}],"es6.string.blink.js":["./_string-html",function(t){"use strict";t("./_string-html")("blink",function(t){return function e(){return t(this,"blink","","")}})}],"es6.string.bold.js":["./_string-html",function(t){"use strict";t("./_string-html")("bold",function(t){return function e(){return t(this,"b","","")}})}],"es6.string.fixed.js":["./_string-html",function(t){"use strict";t("./_string-html")("fixed",function(t){return function e(){return t(this,"tt","","")}})}],"es6.string.fontcolor.js":["./_string-html",function(t){"use strict";t("./_string-html")("fontcolor",function(t){return function e(r){return t(this,"font","color",r)}})}],"es6.string.fontsize.js":["./_string-html",function(t){"use strict";t("./_string-html")("fontsize",function(t){return function e(r){return t(this,"font","size",r)}})}],"es6.string.italics.js":["./_string-html",function(t){"use strict";t("./_string-html")("italics",function(t){return function e(){return t(this,"i","","")}})}],"es6.string.link.js":["./_string-html",function(t){"use strict";t("./_string-html")("link",function(t){return function e(r){return t(this,"a","href",r)}})}],"es6.string.small.js":["./_string-html",function(t){"use strict";t("./_string-html")("small",function(t){return function e(){return t(this,"small","","")}})}],"es6.string.strike.js":["./_string-html",function(t){"use strict";t("./_string-html")("strike",function(t){return function e(){return t(this,"strike","","")}})}],"es6.string.sub.js":["./_string-html",function(t){"use strict";t("./_string-html")("sub",function(t){return function e(){return t(this,"sub","","")}})}],"es6.string.sup.js":["./_string-html",function(t){"use strict";t("./_string-html")("sup",function(t){return function e(){return t(this,"sup","","")}})}],"es6.weak-map.js":["./_array-methods","./_redefine","./_meta","./_object-assign","./_collection-weak","./_is-object","./_collection",function(t,e,r){"use strict";var o=t("./_array-methods")(0),n=t("./_redefine"),i=t("./_meta"),s=t("./_object-assign"),c=t("./_collection-weak"),a=t("./_is-object"),u=i.getWeak,f=Object.isExtensible,_=c.ufstore,l={},p,d=function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},h={get:function t(e){if(a(e)){var r=u(e);return!0===r?_(this).get(e):r?r[this._i]:void 0}},set:function t(e,r){return c.def(this,e,r)}},b=r.exports=t("./_collection")("WeakMap",d,h,c,!0,!0);7!=(new b).set((Object.freeze||Object)(l),7).get(l)&&(s((p=c.getConstructor(d)).prototype,h),i.NEED=!0,o(["delete","has","get","set"],function(t){var e=b.prototype,r=e[t];n(e,t,function(e,o){if(a(e)&&!f(e)){this._f||(this._f=new p);var n=this._f[t](e,o);return"set"==t?this:n}return r.call(this,e,o)})}))}],"_collection-weak.js":["./_redefine-all","./_meta","./_an-object","./_is-object","./_an-instance","./_for-of","./_array-methods","./_has",function(t,e,r){"use strict";var o=t("./_redefine-all"),n=t("./_meta").getWeak,i=t("./_an-object"),s=t("./_is-object"),c=t("./_an-instance"),a=t("./_for-of"),u=t("./_array-methods"),f=t("./_has"),_=u(5),l=u(6),p=0,d=function(t){return t._l||(t._l=new h)},h=function(){this.a=[]},b=function(t,e){return _(t.a,function(t){return t[0]===e})};h.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var r=b(this,t);r?r[1]=e:this.a.push([t,e])},delete:function(t){var e=l(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},r.exports={getConstructor:function(t,e,r,i){var u=t(function(t,o){c(t,u,e,"_i"),t._i=p++,t._l=void 0,void 0!=o&&a(o,r,t[i],t)});return o(u.prototype,{delete:function(t){if(!s(t))return!1;var e=n(t);return!0===e?d(this).delete(t):e&&f(e,this._i)&&delete e[this._i]},has:function t(e){if(!s(e))return!1;var r=n(e);return!0===r?d(this).has(e):r&&f(r,this._i)}}),u},def:function(t,e,r){var o=n(i(e),!0);return!0===o?d(t).set(e,r):o[t._i]=r,t},ufstore:d}}],"web.dom.iterable.js":["./es6.array.iterator","./_redefine","./_global","./_hide","./_iterators","./_wks",function(t){for(var e=t("./es6.array.iterator"),r=t("./_redefine"),o=t("./_global"),n=t("./_hide"),i=t("./_iterators"),s=t("./_wks"),c=s("iterator"),a=s("toStringTag"),u=i.Array,f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],_=0;_<5;_++){var l=f[_],p=o[l],d=p&&p.prototype,h;if(d){d[c]||n(d,c,u),d[a]||n(d,a,l),i[l]=u;for(h in e)d[h]||r(d,h,e[h],!0)}}}],"es6.weak-set.js":["./_collection-weak","./_collection",function(t){"use strict";var e=t("./_collection-weak");t("./_collection")("WeakSet",function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function t(r){return e.def(this,r,!0)}},e,!1,!0)}],"es7.array.includes.js":["./_export","./_array-includes","./_add-to-unscopables",function(t){"use strict";var e=t("./_export"),r=t("./_array-includes")(!0);e(e.P,"Array",{includes:function t(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")("includes")}],"es7.object.get-own-property-descriptors.js":["./_export","./_own-keys","./_to-iobject","./_object-gopd","./_create-property",function(t){var e=t("./_export"),r=t("./_own-keys"),o=t("./_to-iobject"),n=t("./_object-gopd"),i=t("./_create-property");e(e.S,"Object",{getOwnPropertyDescriptors:function t(e){for(var s=o(e),c=n.f,a=r(s),u={},f=0,_;a.length>f;)i(u,_=a[f++],c(s,_));return u}})}],"_own-keys.js":["./_object-gopn","./_object-gops","./_an-object","./_global",function(t,e,r){var o=t("./_object-gopn"),n=t("./_object-gops"),i=t("./_an-object"),s=t("./_global").Reflect;r.exports=s&&s.ownKeys||function t(e){var r=o.f(i(e)),s=n.f;return s?r.concat(s(e)):r}}],"es7.object.values.js":["./_export","./_object-to-array",function(t){var e=t("./_export"),r=t("./_object-to-array")(!1);e(e.S,"Object",{values:function t(e){return r(e)}})}],"_object-to-array.js":["./_object-keys","./_to-iobject","./_object-pie",function(t,e,r){var o=t("./_object-keys"),n=t("./_to-iobject"),i=t("./_object-pie").f;r.exports=function(t){return function(e){for(var r=n(e),s=o(r),c=s.length,a=0,u=[],f;c>a;)i.call(r,f=s[a++])&&u.push(t?[f,r[f]]:r[f]);return u}}}],"es7.object.entries.js":["./_export","./_object-to-array",function(t){var e=t("./_export"),r=t("./_object-to-array")(!0);e(e.S,"Object",{entries:function t(e){return r(e)}})}],"es7.object.define-getter.js":["./_export","./_to-object","./_a-function","./_object-dp","./_descriptors","./_object-forced-pam",function(t){"use strict";var e=t("./_export"),r=t("./_to-object"),o=t("./_a-function"),n=t("./_object-dp");t("./_descriptors")&&e(e.P+t("./_object-forced-pam"),"Object",{__defineGetter__:function t(e,i){n.f(r(this),e,{get:o(i),enumerable:!0,configurable:!0})}})}],"_object-forced-pam.js":["./_library","./_fails","./_global",function(t,e,r){r.exports=t("./_library")||!t("./_fails")(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete t("./_global")[e]})}],"es7.object.define-setter.js":["./_export","./_to-object","./_a-function","./_object-dp","./_descriptors","./_object-forced-pam",function(t){"use strict";var e=t("./_export"),r=t("./_to-object"),o=t("./_a-function"),n=t("./_object-dp");t("./_descriptors")&&e(e.P+t("./_object-forced-pam"),"Object",{__defineSetter__:function t(e,i){n.f(r(this),e,{set:o(i),enumerable:!0,configurable:!0})}})}],"es7.object.lookup-getter.js":["./_export","./_to-object","./_to-primitive","./_object-gpo","./_object-gopd","./_descriptors","./_object-forced-pam",function(t){"use strict";var e=t("./_export"),r=t("./_to-object"),o=t("./_to-primitive"),n=t("./_object-gpo"),i=t("./_object-gopd").f;t("./_descriptors")&&e(e.P+t("./_object-forced-pam"),"Object",{__lookupGetter__:function t(e){var s=r(this),c=o(e,!0),a;do{if(a=i(s,c))return a.get}while(s=n(s))}})}],"es7.object.lookup-setter.js":["./_export","./_to-object","./_to-primitive","./_object-gpo","./_object-gopd","./_descriptors","./_object-forced-pam",function(t){"use strict";var e=t("./_export"),r=t("./_to-object"),o=t("./_to-primitive"),n=t("./_object-gpo"),i=t("./_object-gopd").f;t("./_descriptors")&&e(e.P+t("./_object-forced-pam"),"Object",{__lookupSetter__:function t(e){var s=r(this),c=o(e,!0),a;do{if(a=i(s,c))return a.set}while(s=n(s))}})}],"es6.number.epsilon.js":["./_export",function(t){var e=t("./_export");e(e.S,"Number",{EPSILON:Math.pow(2,-52)})}],"es6.number.is-finite.js":["./_export","./_global",function(t){var e=t("./_export"),r=t("./_global").isFinite;e(e.S,"Number",{isFinite:function t(e){return"number"==typeof e&&r(e)}})}],"es6.number.is-integer.js":["./_export","./_is-integer",function(t){var e=t("./_export");e(e.S,"Number",{isInteger:t("./_is-integer")})}],"_is-integer.js":["./_is-object",function(t,e,r){var o=t("./_is-object"),n=Math.floor;r.exports=function t(e){return!o(e)&&isFinite(e)&&n(e)===e}}],"es6.number.is-nan.js":["./_export",function(t){var e=t("./_export");e(e.S,"Number",{isNaN:function t(e){return e!=e}})}],"es6.number.is-safe-integer.js":["./_export","./_is-integer",function(t){var e=t("./_export"),r=t("./_is-integer"),o=Math.abs;e(e.S,"Number",{isSafeInteger:function t(e){return r(e)&&o(e)<=9007199254740991}})}],"es6.number.max-safe-integer.js":["./_export",function(t){var e=t("./_export");e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})}],"es6.number.min-safe-integer.js":["./_export",function(t){var e=t("./_export");e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})}],"es6.number.parse-float.js":["./_export","./_parse-float",function(t){var e=t("./_export"),r=t("./_parse-float");e(e.S+e.F*(Number.parseFloat!=r),"Number",{parseFloat:r})}],"_parse-float.js":["./_global","./_string-trim","./_string-ws",function(t,e,r){var o=t("./_global").parseFloat,n=t("./_string-trim").trim;r.exports=1/o(t("./_string-ws")+"-0")!=-1/0?function t(e){var r=n(String(e),3),i=o(r);return 0===i&&"-"==r.charAt(0)?-0:i}:o}],"es6.number.parse-int.js":["./_export","./_parse-int",function(t){var e=t("./_export"),r=t("./_parse-int");e(e.S+e.F*(Number.parseInt!=r),"Number",{parseInt:r})}],"_parse-int.js":["./_global","./_string-trim","./_string-ws",function(t,e,r){var o=t("./_global").parseInt,n=t("./_string-trim").trim,i=t("./_string-ws"),s=/^[\-+]?0[xX]/;r.exports=8!==o(i+"08")||22!==o(i+"0x16")?function t(e,r){var i=n(String(e),3);return o(i,r>>>0||(s.test(i)?16:10))}:o}],"es6.typed.uint8-array.js":["./_typed-array",function(t){t("./_typed-array")("Uint8",1,function(t){return function e(r,o,n){return t(this,r,o,n)}})}],"_typed-array.js":["./_descriptors","./_library","./_global","./_fails","./_export","./_typed","./_typed-buffer","./_ctx","./_an-instance","./_property-desc","./_hide","./_redefine-all","./_to-integer","./_to-length","./_to-index","./_to-primitive","./_has","./_same-value","./_classof","./_is-object","./_to-object","./_is-array-iter","./_object-create","./_object-gpo","./_object-gopn","./core.get-iterator-method","./_uid","./_wks","./_array-methods","./_array-includes","./_species-constructor","./es6.array.iterator","./_iterators","./_iter-detect","./_set-species","./_array-fill","./_array-copy-within","./_object-dp","./_object-gopd",function(t,e,r){"use strict";if(t("./_descriptors")){var o=t("./_library"),n=t("./_global"),i=t("./_fails"),s=t("./_export"),c=t("./_typed"),a=t("./_typed-buffer"),u=t("./_ctx"),f=t("./_an-instance"),_=t("./_property-desc"),l=t("./_hide"),p=t("./_redefine-all"),d=t("./_to-integer"),h=t("./_to-length"),b=t("./_to-index"),j=t("./_to-primitive"),g=t("./_has"),y=t("./_same-value"),m=t("./_classof"),v=t("./_is-object"),x=t("./_to-object"),w=t("./_is-array-iter"),k=t("./_object-create"),S=t("./_object-gpo"),O=t("./_object-gopn").f,E=t("./core.get-iterator-method"),P=t("./_uid"),M=t("./_wks"),F=t("./_array-methods"),A=t("./_array-includes"),N=t("./_species-constructor"),I=t("./es6.array.iterator"),L=t("./_iterators"),T=t("./_iter-detect"),R=t("./_set-species"),C=t("./_array-fill"),W=t("./_array-copy-within"),z=t("./_object-dp"),G=t("./_object-gopd"),D=z.f,U=G.f,B=n.RangeError,q=n.TypeError,K=n.Uint8Array,Y="ArrayBuffer",V="SharedArrayBuffer",J="BYTES_PER_ELEMENT",X="prototype",$=Array[X],Q=a.ArrayBuffer,H=a.DataView,Z=F(0),tt=F(2),et=F(3),rt=F(4),ot=F(5),nt=F(6),it=A(!0),st=A(!1),ct=I.values,at=I.keys,ut=I.entries,ft=$.lastIndexOf,_t=$.reduce,lt=$.reduceRight,pt=$.join,dt=$.sort,ht=$.slice,bt=$.toString,jt=$.toLocaleString,gt=M("iterator"),yt=M("toStringTag"),mt=P("typed_constructor"),vt=P("def_constructor"),xt=c.CONSTR,wt=c.TYPED,kt=c.VIEW,St="Wrong length!",Ot=F(1,function(t,e){return Nt(N(t,t[vt]),e)}),Et=i(function(){return 1===new K(new Uint16Array([1]).buffer)[0]}),Pt=!!K&&!!K[X].set&&i(function(){new K(1).set({})}),Mt=function(t,e){if(void 0===t)throw q(St);var r=+t,o=h(t);if(e&&!y(r,o))throw B(St);return o},Ft=function(t,e){var r=d(t);if(r<0||r%e)throw B("Wrong offset!");return r},At=function(t){if(v(t)&&wt in t)return t;throw q(t+" is not a typed array!")},Nt=function(t,e){if(!(v(t)&&mt in t))throw q("It is not a typed array constructor!");return new t(e)},It=function(t,e){return Lt(N(t,t[vt]),e)},Lt=function(t,e){for(var r=0,o=e.length,n=Nt(t,o);o>r;)n[r]=e[r++];return n},Tt=function(t,e,r){D(t,e,{get:function(){return this._d[r]}})},Rt=function t(e){var r=x(e),o=arguments.length,n=o>1?arguments[1]:void 0,i=void 0!==n,s=E(r),c,a,f,_,l,p;if(void 0!=s&&!w(s)){for(p=s.call(r),f=[],c=0;!(l=p.next()).done;c++)f.push(l.value);r=f}for(i&&o>2&&(n=u(n,arguments[2],2)),c=0,a=h(r.length),_=Nt(this,a);a>c;c++)_[c]=i?n(r[c],c):r[c];return _},Ct=function t(){for(var e=0,r=arguments.length,o=Nt(this,r);r>e;)o[e]=arguments[e++];return o},Wt=!!K&&i(function(){jt.call(new K(1))}),zt=function t(){return jt.apply(Wt?ht.call(At(this)):At(this),arguments)},Gt={copyWithin:function t(e,r){return W.call(At(this),e,r,arguments.length>2?arguments[2]:void 0)},every:function t(e){return rt(At(this),e,arguments.length>1?arguments[1]:void 0)},fill:function t(e){return C.apply(At(this),arguments)},filter:function t(e){return It(this,tt(At(this),e,arguments.length>1?arguments[1]:void 0))},find:function t(e){return ot(At(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function t(e){return nt(At(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function t(e){Z(At(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function t(e){return st(At(this),e,arguments.length>1?arguments[1]:void 0)},includes:function t(e){return it(At(this),e,arguments.length>1?arguments[1]:void 0)},join:function t(e){return pt.apply(At(this),arguments)},lastIndexOf:function t(e){return ft.apply(At(this),arguments)},map:function t(e){return Ot(At(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function t(e){return _t.apply(At(this),arguments)},reduceRight:function t(e){return lt.apply(At(this),arguments)},reverse:function t(){for(var e=this,r=At(e).length,o=Math.floor(r/2),n=0,i;n<o;)i=e[n],e[n++]=e[--r],e[r]=i;return e},some:function t(e){return et(At(this),e,arguments.length>1?arguments[1]:void 0)},sort:function t(e){return dt.call(At(this),e)},subarray:function t(e,r){var o=At(this),n=o.length,i=b(e,n);return new(N(o,o[vt]))(o.buffer,o.byteOffset+i*o.BYTES_PER_ELEMENT,h((void 0===r?n:b(r,n))-i))}},Dt=function t(e,r){return It(this,ht.call(At(this),e,r))},Ut=function t(e){At(this);var r=Ft(arguments[1],1),o=this.length,n=x(e),i=h(n.length),s=0;if(i+r>o)throw B(St);for(;s<i;)this[r+s]=n[s++]},Bt={entries:function t(){return ut.call(At(this))},keys:function t(){return at.call(At(this))},values:function t(){return ct.call(At(this))}},qt=function(t,e){return v(t)&&t[wt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Kt=function t(e,r){return qt(e,r=j(r,!0))?_(2,e[r]):U(e,r)},Yt=function t(e,r,o){return!(qt(e,r=j(r,!0))&&v(o)&&g(o,"value"))||g(o,"get")||g(o,"set")||o.configurable||g(o,"writable")&&!o.writable||g(o,"enumerable")&&!o.enumerable?D(e,r,o):(e[r]=o.value,e)};xt||(G.f=Kt,z.f=Yt),s(s.S+s.F*!xt,"Object",{getOwnPropertyDescriptor:Kt,defineProperty:Yt}),i(function(){bt.call({})})&&(bt=jt=function t(){return pt.call(this)});var Vt=p({},Gt);p(Vt,Bt),l(Vt,gt,Bt.values),p(Vt,{slice:Dt,set:Ut,constructor:function(){},toString:bt,toLocaleString:zt}),Tt(Vt,"buffer","b"),Tt(Vt,"byteOffset","o"),Tt(Vt,"byteLength","l"),Tt(Vt,"length","e"),D(Vt,yt,{get:function(){return this[wt]}}),r.exports=function(t,e,r,a){var u=t+((a=!!a)?"Clamped":"")+"Array",_="Uint8Array"!=u,p="get"+t,d="set"+t,b=n[u],j=b||{},g=b&&S(b),y=!b||!c.ABV,x={},w=b&&b[X],E=function(t,r){var o=t._d;return o.v[p](r*e+o.o,Et)},P=function(t,r,o){var n=t._d;a&&(o=(o=Math.round(o))<0?0:o>255?255:255&o),n.v[d](r*e+n.o,o,Et)},M=function(t,e){D(t,e,{get:function(){return E(this,e)},set:function(t){return P(this,e,t)},enumerable:!0})};y?(b=r(function(t,r,o,n){f(t,b,u,"_d");var i=0,s=0,c,a,_,p;if(v(r)){if(!(r instanceof Q||(p=m(r))==Y||p==V))return wt in r?Lt(b,r):Rt.call(b,r);c=r,s=Ft(o,e);var d=r.byteLength;if(void 0===n){if(d%e)throw B(St);if((a=d-s)<0)throw B(St)}else if((a=h(n)*e)+s>d)throw B(St);_=a/e}else _=Mt(r,!0),c=new Q(a=_*e);for(l(t,"_d",{b:c,o:s,l:a,e:_,v:new H(c)});i<_;)M(t,i++)}),w=b[X]=k(Vt),l(w,"constructor",b)):T(function(t){new b(null),new b(t)},!0)||(b=r(function(t,r,o,n){f(t,b,u);var i;return v(r)?r instanceof Q||(i=m(r))==Y||i==V?void 0!==n?new j(r,Ft(o,e),n):void 0!==o?new j(r,Ft(o,e)):new j(r):wt in r?Lt(b,r):Rt.call(b,r):new j(Mt(r,_))}),Z(g!==Function.prototype?O(j).concat(O(g)):O(j),function(t){t in b||l(b,t,j[t])}),b[X]=w,o||(w.constructor=b));var F=w[gt],A=!!F&&("values"==F.name||void 0==F.name),N=Bt.values;l(b,mt,!0),l(w,wt,u),l(w,kt,!0),l(w,vt,b),(a?new b(1)[yt]==u:yt in w)||D(w,yt,{get:function(){return u}}),x[u]=b,s(s.G+s.W+s.F*(b!=j),x),s(s.S,u,{BYTES_PER_ELEMENT:e,from:Rt,of:Ct}),J in w||l(w,J,e),s(s.P,u,Gt),R(u),s(s.P+s.F*Pt,u,{set:Ut}),s(s.P+s.F*!A,u,Bt),s(s.P+s.F*(w.toString!=bt),u,{toString:bt}),s(s.P+s.F*i(function(){new b(1).slice()}),u,{slice:Dt}),s(s.P+s.F*(i(function(){return[1,2].toLocaleString()!=new b([1,2]).toLocaleString()})||!i(function(){w.toLocaleString.call([1,2])})),u,{toLocaleString:zt}),L[u]=A?F:N,o||A||l(w,gt,N)}}else r.exports=function(){}}],"_typed.js":["./_global","./_hide","./_uid",function(t,e,r){for(var o=t("./_global"),n=t("./_hide"),i=t("./_uid"),s=i("typed_array"),c=i("view"),a=!(!o.ArrayBuffer||!o.DataView),u=a,f=0,_=9,l,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(l=o[p[f++]])?(n(l.prototype,s,!0),n(l.prototype,c,!0)):u=!1;r.exports={ABV:a,CONSTR:u,TYPED:s,VIEW:c}}],"_typed-buffer.js":["./_global","./_descriptors","./_library","./_typed","./_hide","./_redefine-all","./_fails","./_an-instance","./_to-integer","./_to-length","./_object-gopn","./_object-dp","./_array-fill","./_set-to-string-tag",function(t,e){"use strict";var r=t("./_global"),o=t("./_descriptors"),n=t("./_library"),i=t("./_typed"),s=t("./_hide"),c=t("./_redefine-all"),a=t("./_fails"),u=t("./_an-instance"),f=t("./_to-integer"),_=t("./_to-length"),l=t("./_object-gopn").f,p=t("./_object-dp").f,d=t("./_array-fill"),h=t("./_set-to-string-tag"),b="ArrayBuffer",j="DataView",g="prototype",y="Wrong length!",m="Wrong index!",v=r[b],x=r[j],w=r.Math,k=r.RangeError,S=r.Infinity,O=v,E=w.abs,P=w.pow,M=w.floor,F=w.log,A=w.LN2,N="buffer",I="byteLength",L="byteOffset",T=o?"_b":N,R=o?"_l":I,C=o?"_o":L,W=function(t,e,r){var o=Array(r),n=8*r-e-1,i=(1<<n)-1,s=i>>1,c=23===e?P(2,-24)-P(2,-77):0,a=0,u=t<0||0===t&&1/t<0?1:0,f,_,l;for((t=E(t))!=t||t===S?(_=t!=t?1:0,f=i):(f=M(F(t)/A),t*(l=P(2,-f))<1&&(f--,l*=2),(t+=f+s>=1?c/l:c*P(2,1-s))*l>=2&&(f++,l/=2),f+s>=i?(_=0,f=i):f+s>=1?(_=(t*l-1)*P(2,e),f+=s):(_=t*P(2,s-1)*P(2,e),f=0));e>=8;o[a++]=255&_,_/=256,e-=8);for(f=f<<e|_,n+=e;n>0;o[a++]=255&f,f/=256,n-=8);return o[--a]|=128*u,o},z=function(t,e,r){var o=8*r-e-1,n=(1<<o)-1,i=n>>1,s=o-7,c=r-1,a=t[c--],u=127&a,f;for(a>>=7;s>0;u=256*u+t[c],c--,s-=8);for(f=u&(1<<-s)-1,u>>=-s,s+=e;s>0;f=256*f+t[c],c--,s-=8);if(0===u)u=1-i;else{if(u===n)return f?NaN:a?-S:S;f+=P(2,e),u-=i}return(a?-1:1)*f*P(2,u-e)},G=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},D=function(t){return[255&t]},U=function(t){return[255&t,t>>8&255]},B=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},q=function(t){return W(t,52,8)},K=function(t){return W(t,23,4)},Y=function(t,e,r){p(t[g],e,{get:function(){return this[r]}})},V=function(t,e,r,o){var n=+r,i=f(n);if(n!=i||i<0||i+e>t[R])throw k(m);var s=t[T]._b,c=i+t[C],a=s.slice(c,c+e);return o?a:a.reverse()},J=function(t,e,r,o,n,i){var s=+r,c=f(s);if(s!=c||c<0||c+e>t[R])throw k(m);for(var a=t[T]._b,u=c+t[C],_=o(+n),l=0;l<e;l++)a[u+l]=_[i?l:e-l-1]},X=function(t,e){u(t,v,b);var r=+e,o=_(r);if(r!=o)throw k(y);return o};if(i.ABV){if(!a(function(){new v})||!a(function(){new v(.5)})){for(var $=(v=function t(e){return new O(X(this,e))})[g]=O[g],Q=l(O),H=0,Z;Q.length>H;)(Z=Q[H++])in v||s(v,Z,O[Z]);n||($.constructor=v)}var tt=new x(new v(2)),et=x[g].setInt8;tt.setInt8(0,2147483648),tt.setInt8(1,2147483649),!tt.getInt8(0)&&tt.getInt8(1)||c(x[g],{setInt8:function t(e,r){et.call(this,e,r<<24>>24)},setUint8:function t(e,r){et.call(this,e,r<<24>>24)}},!0)}else v=function t(e){var r=X(this,e);this._b=d.call(Array(r),0),this[R]=r},x=function t(e,r,o){u(this,x,j),u(e,v,j);var n=e[R],i=f(r);if(i<0||i>n)throw k("Wrong offset!");if(o=void 0===o?n-i:_(o),i+o>n)throw k(y);this[T]=e,this[C]=i,this[R]=o},o&&(Y(v,I,"_l"),Y(x,N,"_b"),Y(x,I,"_l"),Y(x,L,"_o")),c(x[g],{getInt8:function t(e){return V(this,1,e)[0]<<24>>24},getUint8:function t(e){return V(this,1,e)[0]},getInt16:function t(e){var r=V(this,2,e,arguments[1]);return(r[1]<<8|r[0])<<16>>16},getUint16:function t(e){var r=V(this,2,e,arguments[1]);return r[1]<<8|r[0]},getInt32:function t(e){return G(V(this,4,e,arguments[1]))},getUint32:function t(e){return G(V(this,4,e,arguments[1]))>>>0},getFloat32:function t(e){return z(V(this,4,e,arguments[1]),23,4)},getFloat64:function t(e){return z(V(this,8,e,arguments[1]),52,8)},setInt8:function t(e,r){J(this,1,e,D,r)},setUint8:function t(e,r){J(this,1,e,D,r)},setInt16:function t(e,r){J(this,2,e,U,r,arguments[2])},setUint16:function t(e,r){J(this,2,e,U,r,arguments[2])},setInt32:function t(e,r){J(this,4,e,B,r,arguments[2])},setUint32:function t(e,r){J(this,4,e,B,r,arguments[2])},setFloat32:function t(e,r){J(this,4,e,K,r,arguments[2])},setFloat64:function t(e,r){J(this,8,e,q,r,arguments[2])}});h(v,b),h(x,j),s(x[g],i.VIEW,!0),e[b]=v,e[j]=x}],"_species-constructor.js":["./_an-object","./_a-function","./_wks",function(t,e,r){var o=t("./_an-object"),n=t("./_a-function"),i=t("./_wks")("species");r.exports=function(t,e){var r=o(t).constructor,s;return void 0===r||void 0==(s=o(r)[i])?e:n(s)}}],"es6.typed.uint32-array.js":["./_typed-array",function(t){t("./_typed-array")("Uint32",4,function(t){return function e(r,o,n){return t(this,r,o,n)}})}]},es6:{"array.js":["../modules/es6.string.iterator","../modules/es6.array.is-array","../modules/es6.array.from","../modules/es6.array.of","../modules/es6.array.join","../modules/es6.array.slice","../modules/es6.array.sort","../modules/es6.array.for-each","../modules/es6.array.map","../modules/es6.array.filter","../modules/es6.array.some","../modules/es6.array.every","../modules/es6.array.reduce","../modules/es6.array.reduce-right","../modules/es6.array.index-of","../modules/es6.array.last-index-of","../modules/es6.array.copy-within","../modules/es6.array.fill","../modules/es6.array.find","../modules/es6.array.find-index","../modules/es6.array.species","../modules/es6.array.iterator","../modules/_core",function(t,e,r){t("../modules/es6.string.iterator"),t("../modules/es6.array.is-array"),t("../modules/es6.array.from"),t("../modules/es6.array.of"),t("../modules/es6.array.join"),t("../modules/es6.array.slice"),t("../modules/es6.array.sort"),t("../modules/es6.array.for-each"),t("../modules/es6.array.map"),t("../modules/es6.array.filter"),t("../modules/es6.array.some"),t("../modules/es6.array.every"),t("../modules/es6.array.reduce"),t("../modules/es6.array.reduce-right"),t("../modules/es6.array.index-of"),t("../modules/es6.array.last-index-of"),t("../modules/es6.array.copy-within"),t("../modules/es6.array.fill"),t("../modules/es6.array.find"),t("../modules/es6.array.find-index"),t("../modules/es6.array.species"),t("../modules/es6.array.iterator"),r.exports=t("../modules/_core").Array}],"function.js":["../modules/es6.function.bind","../modules/es6.function.name","../modules/es6.function.has-instance","../modules/_core",function(t,e,r){t("../modules/es6.function.bind"),t("../modules/es6.function.name"),t("../modules/es6.function.has-instance"),r.exports=t("../modules/_core").Function}],"math.js":["../modules/es6.math.acosh","../modules/es6.math.asinh","../modules/es6.math.atanh","../modules/es6.math.cbrt","../modules/es6.math.clz32","../modules/es6.math.cosh","../modules/es6.math.expm1","../modules/es6.math.fround","../modules/es6.math.hypot","../modules/es6.math.imul","../modules/es6.math.log10","../modules/es6.math.log1p","../modules/es6.math.log2","../modules/es6.math.sign","../modules/es6.math.sinh","../modules/es6.math.tanh","../modules/es6.math.trunc","../modules/_core",function(t,e,r){t("../modules/es6.math.acosh"),t("../modules/es6.math.asinh"),t("../modules/es6.math.atanh"),t("../modules/es6.math.cbrt"),t("../modules/es6.math.clz32"),t("../modules/es6.math.cosh"),t("../modules/es6.math.expm1"),t("../modules/es6.math.fround"),t("../modules/es6.math.hypot"),t("../modules/es6.math.imul"),t("../modules/es6.math.log10"),t("../modules/es6.math.log1p"),t("../modules/es6.math.log2"),t("../modules/es6.math.sign"),t("../modules/es6.math.sinh"),t("../modules/es6.math.tanh"),t("../modules/es6.math.trunc"),r.exports=t("../modules/_core").Math}],"object.js":["../modules/es6.symbol","../modules/es6.object.create","../modules/es6.object.define-property","../modules/es6.object.define-properties","../modules/es6.object.get-own-property-descriptor","../modules/es6.object.get-prototype-of","../modules/es6.object.keys","../modules/es6.object.get-own-property-names","../modules/es6.object.freeze","../modules/es6.object.seal","../modules/es6.object.prevent-extensions","../modules/es6.object.is-frozen","../modules/es6.object.is-sealed","../modules/es6.object.is-extensible","../modules/es6.object.assign","../modules/es6.object.is","../modules/es6.object.set-prototype-of","../modules/es6.object.to-string","../modules/_core",function(t,e,r){t("../modules/es6.symbol"),t("../modules/es6.object.create"),t("../modules/es6.object.define-property"),t("../modules/es6.object.define-properties"),t("../modules/es6.object.get-own-property-descriptor"),t("../modules/es6.object.get-prototype-of"),t("../modules/es6.object.keys"),t("../modules/es6.object.get-own-property-names"),t("../modules/es6.object.freeze"),t("../modules/es6.object.seal"),t("../modules/es6.object.prevent-extensions"),t("../modules/es6.object.is-frozen"),t("../modules/es6.object.is-sealed"),t("../modules/es6.object.is-extensible"),t("../modules/es6.object.assign"),t("../modules/es6.object.is"),t("../modules/es6.object.set-prototype-of"),t("../modules/es6.object.to-string"),r.exports=t("../modules/_core").Object}],"regexp.js":["../modules/es6.regexp.constructor","../modules/es6.regexp.to-string","../modules/es6.regexp.flags","../modules/es6.regexp.match","../modules/es6.regexp.replace","../modules/es6.regexp.search","../modules/es6.regexp.split","../modules/_core",function(t,e,r){t("../modules/es6.regexp.constructor"),t("../modules/es6.regexp.to-string"),t("../modules/es6.regexp.flags"),t("../modules/es6.regexp.match"),t("../modules/es6.regexp.replace"),t("../modules/es6.regexp.search"),t("../modules/es6.regexp.split"),r.exports=t("../modules/_core").RegExp}],"string.js":["../modules/es6.string.from-code-point","../modules/es6.string.raw","../modules/es6.string.trim","../modules/es6.string.iterator","../modules/es6.string.code-point-at","../modules/es6.string.ends-with","../modules/es6.string.includes","../modules/es6.string.repeat","../modules/es6.string.starts-with","../modules/es6.string.anchor","../modules/es6.string.big","../modules/es6.string.blink","../modules/es6.string.bold","../modules/es6.string.fixed","../modules/es6.string.fontcolor","../modules/es6.string.fontsize","../modules/es6.string.italics","../modules/es6.string.link","../modules/es6.string.small","../modules/es6.string.strike","../modules/es6.string.sub","../modules/es6.string.sup","../modules/es6.regexp.match","../modules/es6.regexp.replace","../modules/es6.regexp.search","../modules/es6.regexp.split","../modules/_core",function(t,e,r){t("../modules/es6.string.from-code-point"),t("../modules/es6.string.raw"),t("../modules/es6.string.trim"),t("../modules/es6.string.iterator"),t("../modules/es6.string.code-point-at"),t("../modules/es6.string.ends-with"),t("../modules/es6.string.includes"),t("../modules/es6.string.repeat"),t("../modules/es6.string.starts-with"),t("../modules/es6.string.anchor"),t("../modules/es6.string.big"),t("../modules/es6.string.blink"),t("../modules/es6.string.bold"),t("../modules/es6.string.fixed"),t("../modules/es6.string.fontcolor"),t("../modules/es6.string.fontsize"),t("../modules/es6.string.italics"),t("../modules/es6.string.link"),t("../modules/es6.string.small"),t("../modules/es6.string.strike"),t("../modules/es6.string.sub"),t("../modules/es6.string.sup"),t("../modules/es6.regexp.match"),t("../modules/es6.regexp.replace"),t("../modules/es6.regexp.search"),t("../modules/es6.regexp.split"),r.exports=t("../modules/_core").String}],"weak-map.js":["../modules/es6.object.to-string","../modules/es6.array.iterator","../modules/es6.weak-map","../modules/_core",function(t,e,r){t("../modules/es6.object.to-string"),t("../modules/es6.array.iterator"),t("../modules/es6.weak-map"),r.exports=t("../modules/_core").WeakMap}],"weak-set.js":["../modules/es6.object.to-string","../modules/web.dom.iterable","../modules/es6.weak-set","../modules/_core",function(t,e,r){t("../modules/es6.object.to-string"),t("../modules/web.dom.iterable"),t("../modules/es6.weak-set"),r.exports=t("../modules/_core").WeakSet}]},es7:{"array.js":["../modules/es7.array.includes","../modules/_core",function(t,e,r){t("../modules/es7.array.includes"),r.exports=t("../modules/_core").Array}],"object.js":["../modules/es7.object.get-own-property-descriptors","../modules/es7.object.values","../modules/es7.object.entries","../modules/es7.object.define-getter","../modules/es7.object.define-setter","../modules/es7.object.lookup-getter","../modules/es7.object.lookup-setter","../modules/_core",function(t,e,r){t("../modules/es7.object.get-own-property-descriptors"),t("../modules/es7.object.values"),t("../modules/es7.object.entries"),t("../modules/es7.object.define-getter"),t("../modules/es7.object.define-setter"),t("../modules/es7.object.lookup-getter"),t("../modules/es7.object.lookup-setter"),r.exports=t("../modules/_core").Object}]},library:{fn:{symbol:{"iterator.js":["../../modules/es6.string.iterator","../../modules/web.dom.iterable","../../modules/_wks-ext",function(t,e,r){t("../../modules/es6.string.iterator"),t("../../modules/web.dom.iterable"),r.exports=t("../../modules/_wks-ext").f("iterator")}],"index.js":["../../modules/es6.symbol","../../modules/es6.object.to-string","../../modules/es7.symbol.async-iterator","../../modules/es7.symbol.observable","../../modules/_core",function(t,e,r){t("../../modules/es6.symbol"),t("../../modules/es6.object.to-string"),t("../../modules/es7.symbol.async-iterator"),t("../../modules/es7.symbol.observable"),r.exports=t("../../modules/_core").Symbol}]},object:{"set-prototype-of.js":["../../modules/es6.object.set-prototype-of","../../modules/_core",function(t,e,r){t("../../modules/es6.object.set-prototype-of"),r.exports=t("../../modules/_core").Object.setPrototypeOf}],"create.js":["../../modules/es6.object.create","../../modules/_core",function(t,e,r){t("../../modules/es6.object.create");var o=t("../../modules/_core").Object;r.exports=function t(e,r){return o.create(e,r)}}]}},modules:{"es6.string.iterator.js":["./_string-at","./_iter-define",function(t){"use strict";var e=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,r=this._i,o;return r>=t.length?{value:void 0,done:!0}:(o=e(t,r),this._i+=o.length,{value:o,done:!1})})}],"_string-at.js":["./_to-integer","./_defined",function(t,e,r){var o=t("./_to-integer"),n=t("./_defined");r.exports=function(t){return function(e,r){var i=String(n(e)),s=o(r),c=i.length,a,u;return s<0||s>=c?t?"":void 0:(a=i.charCodeAt(s))<55296||a>56319||s+1===c||(u=i.charCodeAt(s+1))<56320||u>57343?t?i.charAt(s):a:t?i.slice(s,s+2):u-56320+(a-55296<<10)+65536}}}],"_to-integer.js":function(t,e,r){var o=Math.ceil,n=Math.floor;r.exports=function(t){return isNaN(t=+t)?0:(t>0?n:o)(t)}},"_defined.js":function(t,e,r){r.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"_iter-define.js":["./_library","./_export","./_redefine","./_hide","./_has","./_iterators","./_iter-create","./_set-to-string-tag","./_object-gpo","./_wks",function(t,e,r){"use strict";var o=t("./_library"),n=t("./_export"),i=t("./_redefine"),s=t("./_hide"),c=t("./_has"),a=t("./_iterators"),u=t("./_iter-create"),f=t("./_set-to-string-tag"),_=t("./_object-gpo"),l=t("./_wks")("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",h="keys",b="values",j=function(){return this};r.exports=function(t,e,r,g,y,m,v){u(r,e,g);var x=function(t){if(!p&&t in O)return O[t];switch(t){case h:return function e(){return new r(this,t)};case b:return function e(){return new r(this,t)}}return function e(){return new r(this,t)}},w=e+" Iterator",k=y==b,S=!1,O=t.prototype,E=O[l]||O[d]||y&&O[y],P=E||x(y),M=y?k?x("entries"):P:void 0,F="Array"==e?O.entries||E:E,A,N,I;if(F&&(I=_(F.call(new t)))!==Object.prototype&&(f(I,w,!0),o||c(I,l)||s(I,l,j)),k&&E&&E.name!==b&&(S=!0,P=function t(){return E.call(this)}),o&&!v||!p&&!S&&O[l]||s(O,l,P),a[e]=P,a[w]=j,y)if(A={values:k?P:x(b),keys:m?P:x(h),entries:M},v)for(N in A)N in O||i(O,N,A[N]);else n(n.P+n.F*(p||S),e,A);return A}}],"_library.js":function(t,e,r){r.exports=!0},"_export.js":["./_global","./_core","./_ctx","./_hide",function(t,e,r){var o=t("./_global"),n=t("./_core"),i=t("./_ctx"),s=t("./_hide"),c="prototype",a=function(t,e,r){var u=t&a.F,f=t&a.G,_=t&a.S,l=t&a.P,p=t&a.B,d=t&a.W,h=f?n:n[e]||(n[e]={}),b=h[c],j=f?o:_?o[e]:(o[e]||{})[c],g,y,m;f&&(r=e);for(g in r)(y=!u&&j&&void 0!==j[g])&&g in h||(m=y?j[g]:r[g],h[g]=f&&"function"!=typeof j[g]?r[g]:p&&y?i(m,o):d&&j[g]==m?function(t){var e=function(e,r,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,o)}return t.apply(this,arguments)};return e[c]=t[c],e}(m):l&&"function"==typeof m?i(Function.call,m):m,l&&((h.virtual||(h.virtual={}))[g]=m,t&a.R&&b&&!b[g]&&s(b,g,m)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,r.exports=a}],"_global.js":function(t,e,r){var o=r.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=o)},"_core.js":function(t,e,r){var o=r.exports={version:"2.4.0"};"number"==typeof __e&&(__e=o)},"_ctx.js":["./_a-function",function(t,e,r){var o=t("./_a-function");r.exports=function(t,e,r){if(o(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,o){return t.call(e,r,o)};case 3:return function(r,o,n){return t.call(e,r,o,n)}}return function(){return t.apply(e,arguments)}}}],"_a-function.js":function(t,e,r){r.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"_hide.js":["./_object-dp","./_property-desc","./_descriptors",function(t,e,r){var o=t("./_object-dp"),n=t("./_property-desc");r.exports=t("./_descriptors")?function(t,e,r){return o.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}}],"_object-dp.js":["./_an-object","./_ie8-dom-define","./_to-primitive","./_descriptors",function(t,e){var r=t("./_an-object"),o=t("./_ie8-dom-define"),n=t("./_to-primitive"),i=Object.defineProperty;e.f=t("./_descriptors")?Object.defineProperty:function t(e,s,c){if(r(e),s=n(s,!0),r(c),o)try{return i(e,s,c)}catch(t){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(e[s]=c.value),e}}],"_an-object.js":["./_is-object",function(t,e,r){var o=t("./_is-object");r.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}}],"_is-object.js":function(t,e,r){r.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"_ie8-dom-define.js":["./_descriptors","./_fails","./_dom-create",function(t,e,r){r.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})}],"_descriptors.js":["./_fails",function(t,e,r){r.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})}],"_fails.js":function(t,e,r){r.exports=function(t){try{return!!t()}catch(t){return!0}}},"_dom-create.js":["./_is-object","./_global",function(t,e,r){var o=t("./_is-object"),n=t("./_global").document,i=o(n)&&o(n.createElement);r.exports=function(t){return i?n.createElement(t):{}}}],"_to-primitive.js":["./_is-object",function(t,e,r){var o=t("./_is-object");r.exports=function(t,e){if(!o(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!o(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}}],"_property-desc.js":function(t,e,r){r.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"_redefine.js":["./_hide",function(t,e,r){r.exports=t("./_hide")}],"_has.js":function(t,e,r){var o={}.hasOwnProperty;r.exports=function(t,e){return o.call(t,e)}},"_iterators.js":function(t,e,r){r.exports={}},"_iter-create.js":["./_object-create","./_property-desc","./_set-to-string-tag","./_hide","./_wks",function(t,e,r){"use strict";var o=t("./_object-create"),n=t("./_property-desc"),i=t("./_set-to-string-tag"),s={};t("./_hide")(s,t("./_wks")("iterator"),function(){return this}),r.exports=function(t,e,r){t.prototype=o(s,{next:n(1,r)}),i(t,e+" Iterator")}}],"_object-create.js":["./_an-object","./_object-dps","./_enum-bug-keys","./_shared-key","./_dom-create","./_html",function(t,e,r){var o=t("./_an-object"),n=t("./_object-dps"),i=t("./_enum-bug-keys"),s=t("./_shared-key")("IE_PROTO"),c=function(){},a="prototype",u=function(){var e=t("./_dom-create")("iframe"),r=i.length,o="<",n=">",s;for(e.style.display="none",t("./_html").appendChild(e),e.src="javascript:",(s=e.contentWindow.document).open(),s.write("<script>document.F=Object<\/script>"),s.close(),u=s.F;r--;)delete u[a][i[r]];return u()};r.exports=Object.create||function t(e,r){var i;return null!==e?(c[a]=o(e),i=new c,c[a]=null,i[s]=e):i=u(),void 0===r?i:n(i,r)}}],"_object-dps.js":["./_object-dp","./_an-object","./_object-keys","./_descriptors",function(t,e,r){var o=t("./_object-dp"),n=t("./_an-object"),i=t("./_object-keys");r.exports=t("./_descriptors")?Object.defineProperties:function t(e,r){n(e);for(var s=i(r),c=s.length,a=0,u;c>a;)o.f(e,u=s[a++],r[u]);return e}}],"_object-keys.js":["./_object-keys-internal","./_enum-bug-keys",function(t,e,r){var o=t("./_object-keys-internal"),n=t("./_enum-bug-keys");r.exports=Object.keys||function t(e){return o(e,n)}}],"_object-keys-internal.js":["./_has","./_to-iobject","./_array-includes","./_shared-key",function(t,e,r){var o=t("./_has"),n=t("./_to-iobject"),i=t("./_array-includes")(!1),s=t("./_shared-key")("IE_PROTO");r.exports=function(t,e){var r=n(t),c=0,a=[],u;for(u in r)u!=s&&o(r,u)&&a.push(u);for(;e.length>c;)o(r,u=e[c++])&&(~i(a,u)||a.push(u));return a}}],"_to-iobject.js":["./_iobject","./_defined",function(t,e,r){var o=t("./_iobject"),n=t("./_defined");r.exports=function(t){return o(n(t))}}],"_iobject.js":["./_cof",function(t,e,r){var o=t("./_cof");r.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}}],"_cof.js":function(t,e,r){var o={}.toString;r.exports=function(t){return o.call(t).slice(8,-1)}},"_array-includes.js":["./_to-iobject","./_to-length","./_to-index",function(t,e,r){var o=t("./_to-iobject"),n=t("./_to-length"),i=t("./_to-index");r.exports=function(t){return function(e,r,s){var c=o(e),a=n(c.length),u=i(s,a),f;if(t&&r!=r){for(;a>u;)if((f=c[u++])!=f)return!0}else for(;a>u;u++)if((t||u in c)&&c[u]===r)return t||u||0;return!t&&-1}}}],"_to-length.js":["./_to-integer",function(t,e,r){var o=t("./_to-integer"),n=Math.min;r.exports=function(t){return t>0?n(o(t),9007199254740991):0}}],"_to-index.js":["./_to-integer",function(t,e,r){var o=t("./_to-integer"),n=Math.max,i=Math.min;r.exports=function(t,e){return(t=o(t))<0?n(t+e,0):i(t,e)}}],"_shared-key.js":["./_shared","./_uid",function(t,e,r){var o=t("./_shared")("keys"),n=t("./_uid");r.exports=function(t){return o[t]||(o[t]=n(t))}}],"_shared.js":["./_global",function(t,e,r){var o=t("./_global"),n="__core-js_shared__",i=o[n]||(o[n]={});r.exports=function(t){return i[t]||(i[t]={})}}],"_uid.js":function(t,e,r){var o=0,n=Math.random();r.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++o+n).toString(36))}},"_enum-bug-keys.js":function(t,e,r){r.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"_html.js":["./_global",function(t,e,r){r.exports=t("./_global").document&&document.documentElement}],"_set-to-string-tag.js":["./_object-dp","./_has","./_wks",function(t,e,r){var o=t("./_object-dp").f,n=t("./_has"),i=t("./_wks")("toStringTag");r.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,i)&&o(t,i,{configurable:!0,value:e})}}],"_wks.js":["./_shared","./_uid","./_global",function(t,e,r){var o=t("./_shared")("wks"),n=t("./_uid"),i=t("./_global").Symbol,s="function"==typeof i;(r.exports=function(t){return o[t]||(o[t]=s&&i[t]||(s?i:n)("Symbol."+t))}).store=o}],"_object-gpo.js":["./_has","./_to-object","./_shared-key",function(t,e,r){var o=t("./_has"),n=t("./_to-object"),i=t("./_shared-key")("IE_PROTO"),s=Object.prototype;r.exports=Object.getPrototypeOf||function(t){return t=n(t),o(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}}],"_to-object.js":["./_defined",function(t,e,r){var o=t("./_defined");r.exports=function(t){return Object(o(t))}}],"web.dom.iterable.js":["./es6.array.iterator","./_global","./_hide","./_iterators","./_wks",function(t){t("./es6.array.iterator");for(var e=t("./_global"),r=t("./_hide"),o=t("./_iterators"),n=t("./_wks")("toStringTag"),i=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],s=0;s<5;s++){var c=i[s],a=e[c],u=a&&a.prototype;u&&!u[n]&&r(u,n,c),o[c]=o.Array}}],"es6.array.iterator.js":["./_add-to-unscopables","./_iter-step","./_iterators","./_to-iobject","./_iter-define",function(t,e,r){"use strict";var o=t("./_add-to-unscopables"),n=t("./_iter-step"),i=t("./_iterators"),s=t("./_to-iobject");r.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,n(1)):"keys"==e?n(0,r):"values"==e?n(0,t[r]):n(0,[r,t[r]])},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")}],"_add-to-unscopables.js":function(t,e,r){r.exports=function(){}},"_iter-step.js":function(t,e,r){r.exports=function(t,e){return{value:e,done:!!t}}},"_wks-ext.js":["./_wks",function(t,e){e.f=t("./_wks")}],"es6.symbol.js":["./_global","./_has","./_descriptors","./_export","./_redefine","./_meta","./_fails","./_shared","./_set-to-string-tag","./_uid","./_wks","./_wks-ext","./_wks-define","./_keyof","./_enum-keys","./_is-array","./_an-object","./_to-iobject","./_to-primitive","./_property-desc","./_object-create","./_object-gopn-ext","./_object-gopd","./_object-dp","./_object-keys","./_object-gopn","./_object-pie","./_object-gops","./_library","./_hide",function(t){"use strict";var e=t("./_global"),r=t("./_has"),o=t("./_descriptors"),n=t("./_export"),i=t("./_redefine"),s=t("./_meta").KEY,c=t("./_fails"),a=t("./_shared"),u=t("./_set-to-string-tag"),f=t("./_uid"),_=t("./_wks"),l=t("./_wks-ext"),p=t("./_wks-define"),d=t("./_keyof"),h=t("./_enum-keys"),b=t("./_is-array"),j=t("./_an-object"),g=t("./_to-iobject"),y=t("./_to-primitive"),m=t("./_property-desc"),v=t("./_object-create"),x=t("./_object-gopn-ext"),w=t("./_object-gopd"),k=t("./_object-dp"),S=t("./_object-keys"),O=w.f,E=k.f,P=x.f,M=e.Symbol,F=e.JSON,A=F&&F.stringify,N="prototype",I=_("_hidden"),L=_("toPrimitive"),T={}.propertyIsEnumerable,R=a("symbol-registry"),C=a("symbols"),W=a("op-symbols"),z=Object[N],G="function"==typeof M,D=e.QObject,U=!D||!D[N]||!D[N].findChild,B=o&&c(function(){return 7!=v(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,r){var o=O(z,e);o&&delete z[e],E(t,e,r),o&&t!==z&&E(z,e,o)}:E,q=function(t){var e=C[t]=v(M[N]);return e._k=t,e},K=G&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},Y=function t(e,o,n){return e===z&&Y(W,o,n),j(e),o=y(o,!0),j(n),r(C,o)?(n.enumerable?(r(e,I)&&e[I][o]&&(e[I][o]=!1),n=v(n,{enumerable:m(0,!1)})):(r(e,I)||E(e,I,m(1,{})),e[I][o]=!0),B(e,o,n)):E(e,o,n)},V=function t(e,r){j(e);for(var o=h(r=g(r)),n=0,i=o.length,s;i>n;)Y(e,s=o[n++],r[s]);return e},J=function t(e,r){return void 0===r?v(e):V(v(e),r)},X=function t(e){var o=T.call(this,e=y(e,!0));return!(this===z&&r(C,e)&&!r(W,e))&&(!(o||!r(this,e)||!r(C,e)||r(this,I)&&this[I][e])||o)},$=function t(e,o){if(e=g(e),o=y(o,!0),e!==z||!r(C,o)||r(W,o)){var n=O(e,o);return!n||!r(C,o)||r(e,I)&&e[I][o]||(n.enumerable=!0),n}},Q=function t(e){for(var o=P(g(e)),n=[],i=0,c;o.length>i;)r(C,c=o[i++])||c==I||c==s||n.push(c);return n},H=function t(e){for(var o=e===z,n=P(o?W:g(e)),i=[],s=0,c;n.length>s;)!r(C,c=n[s++])||o&&!r(z,c)||i.push(C[c]);return i};G||(i((M=function t(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),n=function(t){this===z&&n.call(W,t),r(this,I)&&r(this[I],e)&&(this[I][e]=!1),B(this,e,m(1,t))};return o&&U&&B(z,e,{configurable:!0,set:n}),q(e)})[N],"toString",function t(){return this._k}),w.f=$,k.f=Y,t("./_object-gopn").f=x.f=Q,t("./_object-pie").f=X,t("./_object-gops").f=H,o&&!t("./_library")&&i(z,"propertyIsEnumerable",X,!0),l.f=function(t){return q(_(t))}),n(n.G+n.W+n.F*!G,{Symbol:M});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)_(Z[tt++]);for(var Z=S(_.store),tt=0;Z.length>tt;)p(Z[tt++]);n(n.S+n.F*!G,"Symbol",{for:function(t){return r(R,t+="")?R[t]:R[t]=M(t)},keyFor:function t(e){if(K(e))return d(R,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){U=!0},useSimple:function(){U=!1}}),n(n.S+n.F*!G,"Object",{create:J,defineProperty:Y,defineProperties:V,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:H}),F&&n(n.S+n.F*(!G||c(function(){var t=M();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))})),"JSON",{stringify:function t(e){if(void 0!==e&&!K(e)){for(var r=[e],o=1,n,i;arguments.length>o;)r.push(arguments[o++]);return"function"==typeof(n=r[1])&&(i=n),!i&&b(n)||(n=function(t,e){if(i&&(e=i.call(this,t,e)),!K(e))return e}),r[1]=n,A.apply(F,r)}}}),M[N][L]||t("./_hide")(M[N],L,M[N].valueOf),u(M,"Symbol"),u(Math,"Math",!0),u(e.JSON,"JSON",!0)}],"_meta.js":["./_uid","./_is-object","./_has","./_object-dp","./_fails",function(t,e,r){var o=t("./_uid")("meta"),n=t("./_is-object"),i=t("./_has"),s=t("./_object-dp").f,c=0,a=Object.isExtensible||function(){return!0},u=!t("./_fails")(function(){return a(Object.preventExtensions({}))}),f=function(t){s(t,o,{value:{i:"O"+ ++c,w:{}}})},_=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,o)){if(!a(t))return"F";if(!e)return"E";f(t)}return t[o].i},l=function(t,e){if(!i(t,o)){if(!a(t))return!0;if(!e)return!1;f(t)}return t[o].w},p=function(t){return u&&d.NEED&&a(t)&&!i(t,o)&&f(t),t},d=r.exports={KEY:o,NEED:!1,fastKey:_,getWeak:l,onFreeze:p}}],"_wks-define.js":["./_global","./_core","./_library","./_wks-ext","./_object-dp",function(t,e,r){var o=t("./_global"),n=t("./_core"),i=t("./_library"),s=t("./_wks-ext"),c=t("./_object-dp").f;r.exports=function(t){var e=n.Symbol||(n.Symbol=i?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||c(e,t,{value:s.f(t)})}}],"_keyof.js":["./_object-keys","./_to-iobject",function(t,e,r){var o=t("./_object-keys"),n=t("./_to-iobject");r.exports=function(t,e){for(var r=n(t),i=o(r),s=i.length,c=0,a;s>c;)if(r[a=i[c++]]===e)return a}}],"_enum-keys.js":["./_object-keys","./_object-gops","./_object-pie",function(t,e,r){var o=t("./_object-keys"),n=t("./_object-gops"),i=t("./_object-pie");r.exports=function(t){var e=o(t),r=n.f;if(r)for(var s=r(t),c=i.f,a=0,u;s.length>a;)c.call(t,u=s[a++])&&e.push(u);return e}}],"_object-gops.js":function(t,e){e.f=Object.getOwnPropertySymbols},"_object-pie.js":function(t,e){e.f={}.propertyIsEnumerable},"_is-array.js":["./_cof",function(t,e,r){var o=t("./_cof");r.exports=Array.isArray||function t(e){return"Array"==o(e)}}],"_object-gopn-ext.js":["./_to-iobject","./_object-gopn",function(t,e,r){var o=t("./_to-iobject"),n=t("./_object-gopn").f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return n(t)}catch(t){return s.slice()}};r.exports.f=function t(e){return s&&"[object Window]"==i.call(e)?c(e):n(o(e))}}],"_object-gopn.js":["./_object-keys-internal","./_enum-bug-keys",function(t,e){var r=t("./_object-keys-internal"),o=t("./_enum-bug-keys").concat("length","prototype");e.f=Object.getOwnPropertyNames||function t(e){return r(e,o)}}],"_object-gopd.js":["./_object-pie","./_property-desc","./_to-iobject","./_to-primitive","./_has","./_ie8-dom-define","./_descriptors",function(t,e){var r=t("./_object-pie"),o=t("./_property-desc"),n=t("./_to-iobject"),i=t("./_to-primitive"),s=t("./_has"),c=t("./_ie8-dom-define"),a=Object.getOwnPropertyDescriptor;e.f=t("./_descriptors")?a:function t(e,u){if(e=n(e),u=i(u,!0),c)try{return a(e,u)}catch(t){}if(s(e,u))return o(!r.f.call(e,u),e[u])}}],"es6.object.to-string.js":function(){},"es7.symbol.async-iterator.js":["./_wks-define",function(t){t("./_wks-define")("asyncIterator")}],"es7.symbol.observable.js":["./_wks-define",function(t){t("./_wks-define")("observable")}],"es6.object.set-prototype-of.js":["./_export","./_set-proto",function(t){var e=t("./_export");e(e.S,"Object",{setPrototypeOf:t("./_set-proto").set})}],"_set-proto.js":["./_is-object","./_an-object","./_ctx","./_object-gopd",function(t,e,r){var o=t("./_is-object"),n=t("./_an-object"),i=function(t,e){if(n(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};r.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,o){try{(o=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2))(e,[]),r=!(e instanceof Array)}catch(t){r=!0}return function t(e,n){return i(e,n),r?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:i}}],"es6.object.create.js":["./_export","./_object-create",function(t){var e=t("./_export");e(e.S,"Object",{create:t("./_object-create")})}]}}}}},{extensions:[".js",".json"]})("./node_modules/meteor/modules/client.js");"undefined"==typeof Package&&(Package={}),function(t,e){for(var r in e)r in t||(t[r]=e[r])}(Package.modules=i,{meteorInstall:o,process:n})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,i=Package.modules.process,o,a,s=r({node_modules:{meteor:{jquery:{"main.js":["jquery","./jquery.js",function(e,t){var n=this;try{var r=e("jquery")}catch(t){r=e("./jquery.js")}t.$=t.jQuery=r,n.$=n.$||r,n.jQuery=n.jQuery||r}],"jquery.js":function(e,t,n){!function(e,t){"object"==typeof n&&"object"==typeof n.exports?n.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ie.type(e);return"function"!==n&&!ie.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(de.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function i(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){var t=be[e]={};return ie.each(e.match(ve)||[],function(e,n){t[n]=!0}),t}function a(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(a(),ie.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Ne,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ce.test(n)?ie.parseJSON(n):n)}catch(e){}ie.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(ie.acceptData(e)){var i,o,a=ie.expando,s=e.nodeType,l=s?ie.cache:e,u=s?e[a]:e[a]&&a;if(u&&l[u]&&(r||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[a]=Q.pop()||ie.guid++:a),l[u]||(l[u]=s?{}:{toJSON:ie.noop}),"object"!=typeof t&&"function"!=typeof t||(r?l[u]=ie.extend(l[u],t):l[u].data=ie.extend(l[u].data,t)),o=l[u],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ie.camelCase(t)]=n),"string"==typeof t?null==(i=o[t])&&(i=o[ie.camelCase(t)]):i=o,i}}function f(e,t,n){if(ie.acceptData(e)){var r,i,o=e.nodeType,a=o?ie.cache:e,s=o?e[ie.expando]:ie.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){i=(t=ie.isArray(t)?t.concat(ie.map(t,ie.camelCase)):t in r?[t]:(t=ie.camelCase(t))in r?[t]:t.split(" ")).length;for(;i--;)delete r[t[i]];if(n?!u(r):!ie.isEmptyObject(r))return}(n||(delete a[s].data,u(a[s])))&&(o?ie.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function d(){return!0}function p(){return!1}function h(){try{return he.activeElement}catch(e){}}function m(e){var t=Me.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==we?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==we?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ie.nodeName(r,t)?o.push(r):ie.merge(o,g(r,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],o):o}function y(e){Ae.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Ue.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)ie._data(n,"globalEval",!t||ie._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,r,i,o=ie._data(e),a=ie._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;r<i;r++)ie.event.add(t,n,s[n][r])}a.data&&(a.data=ie.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){i=ie._data(t);for(r in i.events)ie.removeEvent(t,r,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ae.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function N(t,n){var r,i=ie(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function E(e){var t=he,n=Ge[e];return n||("none"!==(n=N(e,t))&&n||((t=((Ye=(Ye||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Ye[0].contentDocument).document).write(),t.close(),n=N(e,t),Ye.detach()),Ge[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n){if(!n)return(this.get=t).apply(this,arguments);delete this.get}}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ct.length;i--;)if((t=ct[i]+n)in e)return t;return r}function j(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=ie._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Se(r)&&(o[a]=ie._data(r,"olddisplay",E(r.nodeName)))):(i=Se(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function A(e,t,n){var r=at.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function D(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=ie.css(e,n+ke[o],!0,i)),r?("content"===n&&(a-=ie.css(e,"padding"+ke[o],!0,i)),"margin"!==n&&(a-=ie.css(e,"border"+ke[o]+"Width",!0,i))):(a+=ie.css(e,"padding"+ke[o],!0,i),"padding"!==n&&(a+=ie.css(e,"border"+ke[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=et(e),a=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=tt(e,t,o))<0||null==i)&&(i=e.style[t]),Ze.test(i))return i;r=a&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+D(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){ft=void 0}),ft=ie.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=ke[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(yt[t]||[]).concat(yt["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,l,u,c,f=this,d={},p=e.style,h=e.nodeType&&Se(e),m=ie._data(e,"fxshow");n.queue||(null==(s=ie._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===(c="none"===(u=ie.css(e,"display"))?ie._data(e,"olddisplay")||E(e.nodeName):u)&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],pt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}d[r]=m&&m[r]||ie.style(e,r)}else u=void 0;if(ie.isEmptyObject(d))"inline"===("none"===u?E(e.nodeName):u)&&(p.display=u);else{m?"hidden"in m&&(h=m.hidden):m=ie._data(e,"fxshow",{}),o&&(m.hidden=!h),h?ie(e).show():f.done(function(){ie(e).hide()}),f.done(function(){var t;ie._removeData(e,"fxshow");for(t in d)ie.style(e,t,d[t])});for(r in d)a=M(h?m[r]:0,r,f),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=ie.camelCase(n),i=t[r],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ie.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function P(e,t,n){var r,i,o=0,a=gt.length,s=ie.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=ft||q(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(r);return s.notifyWith(e,[u,r,n]),r<1&&a?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:ft||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);o<a;o++)if(r=gt[o].call(u,e,c,u.opts))return r;return ie.map(c,M,u),ie.isFunction(u.opts.start)&&u.opts.start.call(e,u),ie.fx.timer(ie.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function B(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(ve)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var l;return o[s]=!0,ie.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===Wt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==l[0]&&l.unshift(o),n[o]}function z(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if((s=i.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||It.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(e){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function V(e){return ie.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var Q=[],J=Q.slice,Y=Q.concat,G=Q.push,K=Q.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},re="1.11.2",ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return J.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:J.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:Q.sort,splice:Q.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],a!==(n=i[r])&&(u&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,o=e&&ie.isArray(e)?e:[]):o=e&&ie.isPlainObject(e)?e:{},a[r]=ie.extend(u,o,n)):void 0!==n&&(a[r]=n));return a},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;o<a&&!1!==(i=t.apply(e[o],r));o++);else for(o in e)if(!1===(i=t.apply(e[o],r)))break}else if(s)for(;o<a&&!1!==(i=t.call(e[o],o,e[o]));o++);else for(o in e)if(!1===(i=t.call(e[o],o,e[o])))break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):G.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=[];if(n(e))for(;o<a;o++)null!=(i=t(e[o],o,r))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&s.push(i);return Y.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e))return n=J.call(arguments,2),r=function(){return e.apply(t||this,n.concat(J.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,n,r){var i,o,a,s,l,u,f,p,h,m;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&_){if(11!==s&&(i=ve.exec(e)))if(a=i[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&P(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!M||!M.test(e))){if(p=f=B,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=E(e),(f=t.getAttribute("id"))?p=f.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+d(u[l]);h=be.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return K.apply(n,h.querySelectorAll(m)),n}catch(e){}finally{f||t.removeAttribute("id")}}}return S(e.replace(le,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&void 0!==e.getElementsByTagName&&e}function f(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[B]||(t[B]={}),(s=l[r])&&s[0]===W&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function y(e,t,n,i,o,a){return i&&!i[B]&&(i=y(i)),o&&!o[B]&&(o=y(o,a)),r(function(r,a,s,l){var u,c,f,d=[],p=[],h=a.length,y=r||m(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?y:g(y,d,e,s,l),b=n?o||(r?e:h||i)?[]:a:v;if(n&&n(v,b,s,l),i)for(u=g(b,p),i(u,[],s,l),c=u.length;c--;)(f=u[c])&&(b[p[c]]=!(v[p[c]]=f));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(f=b[c])&&u.push(v[c]=f);o(null,b=[],u,l)}for(c=b.length;c--;)(f=b[c])&&(u=o?ee(r,f):d[c])>-1&&(r[u]=!(a[u]=f))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,l):K.apply(a,b)})}function v(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==j)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];s<i;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if((n=T.filter[e[s].type].apply(null,e[s].matches))[B]){for(r=++s;r<i&&!T.relative[e[r].type];r++);return y(s>1&&h(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,s<r&&v(e.slice(s,r)),r<i&&v(e=e.slice(r)),r<i&&d(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,f,d,p=0,h="0",m=r&&[],y=[],v=j,b=r||o&&T.find.TAG("*",u),x=W+=null==v?1:Math.random()||.1,w=b.length;for(u&&(j=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(f=0;d=e[f++];)if(d(c,a,s)){l.push(c);break}u&&(W=x)}i&&((c=!d&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(f=0;d=n[f++];)d(m,y,a,s);if(r){if(p>0)for(;h--;)m[h]||y[h]||(y[h]=Y.call(l));y=g(y)}K.apply(l,y),u&&!r&&y.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(W=x,j=v),m};return i?r(a):a}var x,w,T,C,N,E,k,S,j,A,D,L,H,q,_,M,F,O,P,B="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(D=!0),0},V=1<<31,Q={}.hasOwnProperty,J=[],Y=J.pop,G=J.push,K=J.push,Z=J.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),fe=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(ae),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(J=Z.call(R.childNodes),R.childNodes),J[R.childNodes.length].nodeType}catch(e){K={apply:J.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=r.documentElement,(n=r.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),_=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ye.test(r.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=B,!r.getElementsByName||!r.getElementsByName(B).length}),w.getById?(T.find.ID=function(e,t){if(void 0!==t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){if(_)return t.getElementsByClassName(e)},F=[],M=[],(w.qsa=ye.test(r.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ye.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=ye.test(q.compareDocumentPosition),P=t||ye.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&P(R,e)?-1:t===r||t.ownerDocument===R&&P(R,t)?1:A?ee(A,e)-ee(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:A?ee(A,e)-ee(A,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===R?-1:u[i]===R?1:0},r):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(fe,"='$1']"),w.matchesSelector&&_&&(!F||!F.test(n))&&(!M||!M.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&Q.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(D=!w.detectDuplicates,A=!w.sortStable&&e.slice(0),e.sort(U),D){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return A=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},(T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,d,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&v){for(p=(u=(c=g[B]||(g[B]={}))[e]||[])[0]===W&&u[1],d=u[0]===W&&u[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(d=p=0)||h.pop();)if(1===f.nodeType&&++d&&f===t){c[e]=[W,p,d];break}}else if(v&&(u=(t[B]||(t[B]={}))[e])&&u[0]===W)d=u[1];else for(;(f=++p&&f&&f[m]||(d=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++d||(v&&((f[B]||(f[B]={}))[e]=[W,d]),f!==t)););return(d-=i)===r||d%r==0&&d/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)e[r=ee(e,i[a])]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(le,"$1"));return i[B]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do{if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=l(x);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,E=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=T.preFilter;s;){r&&!(i=ue.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(le," ")}),s=s.slice(r.length));for(a in T.filter)!(i=he[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,l).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)(o=v(t[n]))[B]?r.push(o):i.push(o);(o=X(e,b(i,r))).selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,f=!r&&E(e=u.selector||e);if(n=n||[],1===f.length){if((o=f[0]=f[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(!(t=(T.find.ID(a.matches[0].replace(we,Te),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((l=T.find[s])&&(r=l(a.matches[0].replace(we,Te),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&d(o)))return K.apply(n,r),n;break}}return(u||k(e,f))(r,t,!_,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=B.split("").sort(U).join("")===B,w.detectDuplicates=!!D,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=ue,ie.expr=ue.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=ue.uniqueSort,ie.text=ue.getText,ie.isXMLDoc=ue.isXML,ie.contains=ue.contains;var ce=ie.expr.match.needsContext,fe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,de=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;t<i;t++)if(ie.contains(r[t],this))return!0}));for(t=0;t<i;t++)ie.find(e,r[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ce.test(e)?ie(e):e||[],!1).length}});var pe,he=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ie.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e))||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),fe.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((r=he.getElementById(n[2]))&&r.parentNode){if(r.id!==n[2])return pe.find(e);this.length=1,this[0]=r}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?void 0!==pe.ready?pe.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))}).prototype=ie.fn,pe=ie(he);var ge=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ce.test(e)||"string"!=typeof e?ie(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ye[e]||(i=ie.unique(i)),ge.test(e)&&(i=i.reverse())),this.pushStack(i)}});var ve=/\S+/g,be={};ie.Callbacks=function(e){var t,n,r,i,a,s,l=[],u=!(e="string"==typeof e?be[e]||o(e):ie.extend({},e)).once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=l.length,t=!0;l&&a<i;a++)if(!1===l[a].apply(o[0],o[1])&&e.stopOnFalse){n=!1;break}t=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:f.disable())},f={add:function(){if(l){var r=l.length;!function t(n){ie.each(n,function(n,r){var i=ie.type(r);"function"===i?e.unique&&f.has(r)||l.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),t?i=l.length:n&&(s=r,c(n))}return this},remove:function(){return l&&ie.each(arguments,function(e,n){for(var r;(r=ie.inArray(n,l,r))>-1;)l.splice(r,1),t&&(r<=i&&i--,r<=a&&a--)}),this},has:function(e){return e?ie.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],i=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||f.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!l||r&&!u||(n=[e,(n=n||[]).slice?n.slice():n],t?u.push(n):c(n)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,o){var a=ie.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=J.call(arguments),r=n.length,i=1!==r||e&&ie.isFunction(e.promise)?r:0,o=1===i?e:ie.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?J.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1)for(s=new Array(r),l=new Array(r),u=new Array(r);t<r;t++)n[t]&&ie.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}});var xe;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(!0===e?!--ie.readyWait:!ie.isReady){if(!he.body)return setTimeout(ie.ready);ie.isReady=!0,!0!==e&&--ie.readyWait>0||(xe.resolveWith(he,[ie]),ie.fn.triggerHandler&&(ie(he).triggerHandler("ready"),ie(he).off("ready")))}}}),ie.ready.promise=function(t){if(!xe)if(xe=ie.Deferred(),"complete"===he.readyState)setTimeout(ie.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&he.documentElement}catch(e){}n&&n.doScroll&&function e(){if(!ie.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}a(),ie.ready()}}()}return xe.promise(t)};var we="undefined",Te;for(Te in ie(ne))break;ne.ownLast="0"!==Te,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,r;(n=he.getElementsByTagName("body")[0])&&n.style&&(t=he.createElement("div"),(r=he.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==we&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=he.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(e){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var Ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ne=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando])&&!u(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return f(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return f(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&l(o,r=ie.camelCase(r.slice(5)),i[r]);ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):o?l(o,e,ie.data(o,e)):void 0},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ie._data(e,t),n&&(!r||ie.isArray(n)?r=ie._data(e,t,ie.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=ie._data(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=["Top","Right","Bottom","Left"],Se=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},je=ie.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(ie(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o},Ae=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),n=he.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(e){ne.deleteExpando=!1}}}(),function(){var t,n,r=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=!1===r.attributes[n].expando);r=null}();var De=/^(?:input|select|textarea)$/i,Le=/^key/,He=/^(?:mouse|pointer|contextmenu)|click/,qe=/^(?:focusinfocus|focusoutblur)$/,_e=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,m,g=ie._data(e);if(g){for(n.handler&&(n=(l=n).handler,i=l.selector),n.guid||(n.guid=ie.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||((c=g.handle=function(e){return typeof ie===we||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(c.elem,arguments)}).elem=e),s=(t=(t||"").match(ve)||[""]).length;s--;)p=m=(o=_e.exec(t[s])||[])[1],h=(o[2]||"").split(".").sort(),p&&(u=ie.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,u=ie.event.special[p]||{},f=ie.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},l),(d=a[p])||((d=a[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,r,h,c)||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),u.add&&(u.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,f):d.push(f),ie.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,m,g=ie.hasData(e)&&ie._data(e);if(g&&(c=g.events)){for(u=(t=(t||"").match(ve)||[""]).length;u--;)if(s=_e.exec(t[u])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(f=ie.event.special[p]||{},d=c[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)a=d[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,f.remove&&f.remove.call(e,a));l&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,g.handle)||ie.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)ie.event.remove(e,p+t[u],n,r,!0);ie.isEmptyObject(c)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,l,u,c,f,d=[r||he],p=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||he,3!==r.nodeType&&8!==r.nodeType&&!qe.test(p+ie.event.triggered)&&(p.indexOf(".")>=0&&(p=(h=p.split(".")).shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[ie.expando]?t:new ie.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),u=ie.event.special[p]||{},i||!u.trigger||!1!==u.trigger.apply(r,n))){if(!i&&!u.noBubble&&!ie.isWindow(r)){for(l=u.delegateType||p,qe.test(l+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),c=s;c===(r.ownerDocument||he)&&d.push(c.defaultView||c.parentWindow||e)}for(f=0;(s=d[f++])&&!t.isPropagationStopped();)t.type=f>1?l:u.bindType||p,(o=(ie._data(s,"events")||{})[t.type]&&ie._data(s,"handle"))&&o.apply(s,n),(o=a&&s[a])&&o.apply&&ie.acceptData(s)&&(t.result=o.apply(s,n),!1===t.result&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!u._default||!1===u._default.apply(d.pop(),n))&&ie.acceptData(r)&&a&&r[p]&&!ie.isWindow(r)){(c=r[a])&&(r[a]=null),ie.event.triggered=p;try{r[p]()}catch(e){}ie.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,i,o,a=[],s=J.call(arguments),l=(ie._data(this,"events")||{})[e.type]||[],u=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=ie.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,void 0!==(n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],o=0;o<s;o++)void 0===i[n=(r=t[o]).selector+" "]&&(i[n]=r.needsContext?ie(n,this).index(l)>=0:ie.find(n,this,null,[l]).length),i[n]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=He.test(i)?this.mouseHooks:Le.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ie.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(r=e.target.ownerDocument||he).documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===h()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=he.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===we&&(e[r]=null),e.detachEvent(r,n))},ie.Event=function(e,t){if(!(this instanceof ie.Event))return new ie.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?d:p):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),this[ie.expando]=!0},ie.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||ie.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){if(ie.nodeName(this,"form"))return!1;ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(ie.nodeName(this,"form"))return!1;ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){if(De.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1;ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;De.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return ie.event.remove(this,"._change"),!De.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,t);i||r.addEventListener(e,n,!0),ie._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,t)-1;i?ie._data(r,t,i):(r.removeEventListener(e,n,!0),ie._removeData(r,t))}}}),ie.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=p;else if(!r)return this;return 1===i&&(a=r,(r=function(e){return ie().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=p),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ie.event.trigger(e,t,n,!0)}});var Me="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Fe=/ jQuery\d+="(?:null|\d+)"/g,Oe=new RegExp("<(?:"+Me+")[\\s/>]","i"),Pe=/^\s+/,Be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Re=/<([\w:]+)/,We=/<tbody/i,$e=/<|&#?\w+;/,ze=/<(?:script|style|link)/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Xe=/^$|\/(?:java|ecma)script/i,Ue=/^true\/(.*)/,Ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Qe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Je=m(he).appendChild(he.createElement("div"));Qe.optgroup=Qe.option,Qe.tbody=Qe.tfoot=Qe.colgroup=Qe.caption=Qe.thead,Qe.th=Qe.td,ie.extend({clone:function(e,t,n){var r,i,o,a,s,l=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Oe.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Je.innerHTML=e.outerHTML,Je.removeChild(o=Je.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return(r=g(o,"script")).length>0&&w(r,!l&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c,f=e.length,d=m(t),p=[],h=0;h<f;h++)if((o=e[h])||0===o)if("object"===ie.type(o))ie.merge(p,o.nodeType?[o]:o);else if($e.test(o)){for(s=s||d.appendChild(t.createElement("div")),l=(Re.exec(o)||["",""])[1].toLowerCase(),c=Qe[l]||Qe._default,s.innerHTML=c[1]+o.replace(Be,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&Pe.test(o)&&p.push(t.createTextNode(Pe.exec(o)[0])),!ne.tbody)for(i=(o="table"!==l||We.test(o)?"<table>"!==c[1]||We.test(o)?0:s:s.firstChild)&&o.childNodes.length;i--;)ie.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(ie.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else p.push(t.createTextNode(o));for(s&&d.removeChild(s),ne.appendChecked||ie.grep(g(p,"input"),y),h=0;o=p[h++];)if((!r||-1===ie.inArray(o,r))&&(a=ie.contains(o.ownerDocument,o),s=g(d.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Xe.test(o.type||"")&&n.push(o);return s=null,d},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ie.expando,l=ie.cache,u=ne.deleteExpando,c=ie.event.special;null!=(n=e[a]);a++)if((t||ie.acceptData(n))&&(i=n[s],o=i&&l[i])){if(o.events)for(r in o.events)c[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);l[i]&&(delete l[i],u?delete n[s]:typeof n.removeAttribute!==we?n.removeAttribute(s):n[s]=null,Q.push(i))}}}),ie.fn.extend({text:function(e){return je(this,function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||v(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return je(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Fe,""):void 0;if("string"==typeof e&&!ze.test(e)&&(ne.htmlSerialize||!Oe.test(e))&&(ne.leadingWhitespace||!Pe.test(e))&&!Qe[(Re.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Be,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Y.apply([],e);var n,r,i,o,a,s,l=0,u=this.length,c=this,f=u-1,d=e[0],p=ie.isFunction(d);if(p||u>1&&"string"==typeof d&&!ne.checkClone&&Ie.test(d))return this.each(function(n){var r=c.eq(n);p&&(e[0]=d.call(this,n,r.html())),r.domManip(e,t)});if(u&&(s=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(i=(o=ie.map(g(s,"script"),b)).length;l<u;l++)r=s,l!==f&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),t.call(this[l],r,l);if(i)for(a=o[o.length-1].ownerDocument,ie.map(o,x),l=0;l<i;l++)r=o[l],Xe.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(a,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Ve,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=0,i=[],o=ie(e),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),ie(o[r])[t](n),G.apply(i,n.get());return this.pushStack(i)}});var Ye,Ge={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return(n=he.getElementsByTagName("body")[0])&&n.style?(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==we&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var Ke=/^margin/,Ze=new RegExp("^("+Ee+")(?!px)[a-z%]+$","i"),et,tt,nt=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||et(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),Ze.test(a)&&Ke.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):he.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||et(e),null==(a=n?n[t]:void 0)&&s&&s[t]&&(a=s[t]),Ze.test(a)&&!nt.test(t)&&(r=s.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r,i;(n=he.getElementsByTagName("body")[0])&&n.style&&(t=he.createElement("div"),(r=he.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,l=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,(i=t.appendChild(he.createElement("div"))).style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(i=t.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(s=0===i[0].offsetHeight)&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,l;(n=he.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(r=(i=n.getElementsByTagName("a")[0])&&i.style)&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==l&&t(),l}}))}(),ie.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var rt=/alpha\([^)]*\)/i,it=/opacity\s*=\s*([^)]*)/,ot=/^(none|table(?!-c[ea]).+)/,at=new RegExp("^("+Ee+")(.*)$","i"),st=new RegExp("^([+-])=("+Ee+")","i"),lt={position:"absolute",visibility:"hidden",display:"block"},ut={letterSpacing:"0",fontWeight:"400"},ct=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie.camelCase(t),l=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=S(l,s)),a=ie.cssHooks[t]||ie.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];if("string"==(o=typeof n)&&(i=st.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{l[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=S(e.style,s)),(a=ie.cssHooks[t]||ie.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=tt(e,t,r)),"normal"===o&&t in ut&&(o=ut[t]),""===n||n?(i=parseFloat(o),!0===n||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){if(n)return ot.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,lt,function(){return L(e,t,r)}):L(e,t,r)},set:function(e,n,r){var i=r&&et(e);return A(e,n,r?D(e,t,r,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return it.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(o.replace(rt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=rt.test(o)?o.replace(rt,i):o+" "+i)}}),ie.cssHooks.marginRight=k(ne.reliableMarginRight,function(e,t){if(t)return ie.swap(e,{display:"inline-block"},tt,[e,"marginRight"])}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+ke[r]+t]=o[r]||o[r-2]||o[0];return i}},Ke.test(e)||(ie.cssHooks[e+t].set=A)}),ie.fn.extend({css:function(e,t){return je(this,function(e,t,n){var r,i,o={},a=0;if(ie.isArray(t)){for(r=et(e),i=t.length;a<i;a++)o[t[a]]=ie.css(e,t[a],!1,r);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return j(this,!0)},hide:function(){return j(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Se(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.options.duration?this.pos=t=ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=H.prototype.init,ie.fx.step={};var ft,dt,pt=/^(?:toggle|show|hide)$/,ht=new RegExp("^(?:([+-])=|)("+Ee+")([a-z%]*)$","i"),mt=/queueHooks$/,gt=[F],yt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=ht.exec(t),o=i&&i[3]||(ie.cssNumber[e]?"":"px"),a=(ie.cssNumber[e]||"px"!==o&&+r)&&ht.exec(ie.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{a/=s=s||".5",ie.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(P,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],yt[n]=yt[n]||[],yt[n].unshift(t)},prefilter:function(e,t){t?gt.unshift(e):gt.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),a=function(){var t=P(this,ie.extend({},e),o);(i||ie._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ie.timers,a=ie._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&mt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||ie.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,a=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),ie.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(ft=ie.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),ft=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){dt||(dt=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(dt),dt=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;(t=he.createElement("div")).setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],i=(n=he.createElement("select")).appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!he.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,(e=he.createElement("input")).setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var vt=/\r/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,ie(this).val()):e)?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),(t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(vt,""):null==n?"":n}}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,l=i<0?s:o?i:0;l<s;l++)if(((n=r[l]).selected||l===i)&&(ne.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),a=i.length;a--;)if(r=i[a],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){if(ie.isArray(t))return e.checked=ie.inArray(ie(e).val(),t)>=0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bt,xt,wt=ie.expr.attrHandle,Tt=/^(?:checked|selected)$/i,Ct=ne.getSetAttribute,Nt=ne.input;ie.fn.extend({attr:function(e,t){return je(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===we?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?xt:bt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=ie.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(ve);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?Nt&&Ct||!Tt.test(n)?e[r]=!1:e[ie.camelCase("default-"+n)]=e[r]=!1:ie.attr(e,n,""),e.removeAttribute(Ct?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),xt={set:function(e,t,n){return!1===t?ie.removeAttr(e,n):Nt&&Ct||!Tt.test(n)?e.setAttribute(!Ct&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=wt[t]||ie.find.attr;wt[t]=Nt&&Ct||!Tt.test(t)?function(e,t,r){var i,o;return r||(o=wt[t],wt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,wt[t]=o),i}:function(e,t,n){if(!n)return e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),Nt&&Ct||(ie.attrHooks.value={set:function(e,t,n){if(!ie.nodeName(e,"input"))return bt&&bt.set(e,t,n);e.defaultValue=t}}),Ct||(bt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},wt.id=wt.name=wt.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:bt.set},ie.attrHooks.contenteditable={set:function(e,t,n){bt.set(e,""!==t&&t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Et=/^(?:input|select|textarea|button|object)$/i,kt=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return je(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),ie.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return(o=1!==a||!ie.isXMLDoc(e))&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var St=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,l=this.length,u="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ve)||[];s<l;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(St," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=ie.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,l=this.length,u=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ve)||[];s<l;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(St," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?ie.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ie.isFunction(e)?this.each(function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=ie(this),o=e.match(ve)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else n!==we&&"boolean"!==n||(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||!1===e?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(St," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var jt=ie.now(),At=/\?/,Dt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(Dt,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):((n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var Lt,Ht,qt=/#.*$/,_t=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ot=/^(?:GET|HEAD)$/,Pt=/^\/\//,Bt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Rt={},Wt={},$t="*/".concat("*");try{Ht=location.href}catch(e){(Ht=he.createElement("a")).href="",Ht=Ht.href}Lt=Bt.exec(Ht.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ht,type:"GET",isLocal:Ft.test(Lt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ie.ajaxSettings),t):W(ie.ajaxSettings,e)},ajaxPrefilter:B(Rt),ajaxTransport:B(Wt),ajax:function(e,t){function n(e,t,n,r){var i,c,y,v,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),u=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&e<300||304===e,n&&(v=$(f,w,n)),v=z(f,v,w,i),i?(f.ifModified&&((x=w.getResponseHeader("Last-Modified"))&&(ie.lastModified[o]=x),(x=w.getResponseHeader("etag"))&&(ie.etag[o]=x)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=v.state,c=v.data,i=!(y=v.error))):(y=T,!e&&T||(T="error",e<0&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(d,[c,T,w]):h.rejectWith(d,[w,T,y]),w.statusCode(g),g=void 0,l&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,f,i?c:y]),m.fireWith(d,[w,T]),l&&(p.trigger("ajaxComplete",[w,f]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,l,u,c,f=ie.ajaxSetup({},t),d=f.context||f,p=f.context&&(d.nodeType||d.jquery)?ie(d):ie.event,h=ie.Deferred(),m=ie.Callbacks("once memory"),g=f.statusCode||{},y={},v={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Mt.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||Ht)+"").replace(qt,"").replace(Pt,Lt[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=ie.trim(f.dataType||"*").toLowerCase().match(ve)||[""],null==f.crossDomain&&(r=Bt.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===Lt[1]&&r[2]===Lt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Lt[3]||("http:"===Lt[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ie.param(f.data,f.traditional)),R(Rt,f,t,w),2===b)return w;(l=ie.event&&f.global)&&0==ie.active++&&ie.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ot.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(At.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=_t.test(o)?o.replace(_t,"$1_="+jt++):o+(At.test(o)?"&":"?")+"_="+jt++)),f.ifModified&&(ie.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&w.setRequestHeader("If-None-Match",ie.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+$t+"; q=0.01":""):f.accepts["*"]);for(i in f.headers)w.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(!1===f.beforeSend.call(d,w,f)||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](f[i]);if(u=R(Wt,f,t,w)){w.readyState=1,l&&p.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},f.timeout));try{b=1,u.send(y,n)}catch(e){if(!(b<2))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ie.isFunction(e)?this.each(function(t){ie(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var zt=/%20/g,It=/\[\]$/,Xt=/\r?\n/g,Ut=/^(?:submit|button|image|reset|file)$/i,Vt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(zt,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Vt.test(this.nodeName)&&!Ut.test(e)&&(this.checked||!Ae.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Xt,"\r\n")}}):{name:t.name,value:n.replace(Xt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Qt=0,Jt={},Yt=ie.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Jt)Jt[e](void 0,!0)}),ne.cors=!!Yt&&"withCredentials"in Yt,(Yt=ne.ajax=!!Yt)&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Qt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,l,u;if(t&&(i||4===o.readyState))if(delete Jt[a],t=void 0,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{u={},s=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(e){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&r(s,l,u,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Jt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=he.head||ie("head")[0]||he.documentElement;return{send:function(r,i){(t=he.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Gt=[],Kt=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||ie.expando+"_"+jt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Kt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Kt,"$1"+i):!1!==t.jsonp&&(t.url+=(At.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ie.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Gt.push(i)),a&&ie.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||he;var r=fe.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var Zt=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&Zt)return Zt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=ie.trim(e.slice(s,e.length)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ie.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var en=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=ie.css(e,"position"),f=ie(e),d={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=ie.css(e,"top"),l=ie.css(e,"left"),(u=("absolute"===c||"fixed"===c)&&ie.inArray("auto",[o,l])>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),ie.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):f.css(d)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==we&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(r,"marginTop",!0),left:t.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||en;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||en})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(r){return je(this,function(e,r,i){var o=V(e);if(void 0===i)return o?t in o?o[t]:o.document.documentElement[r]:e[r];o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):e[r]=i},e,r,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=k(ne.pixelPosition,function(e,n){if(n)return n=tt(e,t),Ze.test(n)?ie(e).position()[t]+"px":n})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return je(this,function(t,n,r){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ie.css(t,n,a):ie.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var tn=e.jQuery,nn=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=nn),t&&e.jQuery===ie&&(e.jQuery=tn),ie},typeof t===we&&(e.jQuery=e.$=ie),ie})}}}}},{extensions:[".js",".json"]})("./node_modules/meteor/jquery/main.js");"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.jquery=s,{$:o,jQuery:void 0})}();

!function(){var Meteor=Package.meteor.Meteor,global=Package.meteor.global,meteorEnv=Package.meteor.meteorEnv,JSON;(function(){(function(){window.JSON&&(JSON=window.JSON)}).call(this),function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,o,f,u=gap,a,i=e[t];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(t)),"function"==typeof rep&&(i=rep.call(e,t,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,n=0;n<f;n+=1)a[n]=str(n,i)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+u+"]":"["+a.join(",")+"]",gap=u,o}if(rep&&"object"==typeof rep)for(f=rep.length,n=0;n<f;n+=1)"string"==typeof rep[n]&&(o=str(r=rep[n],i))&&a.push(quote(r)+(gap?": ":":")+o);else for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(o=str(r,i))&&a.push(quote(r)+(gap?": ":":")+o);return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+u+"}":"{"+a.join(",")+"}",gap=u,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(r=walk(o,n))?o[n]=r:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Package.json={},{JSON:JSON})}();

!function(){var n,t;(function(){n={}}).call(this),function(){(function(){var t=this,r=t._,e={},i=Array.prototype,u=Object.prototype,a=Function.prototype,c=i.push,o=i.slice,l=i.concat,f=u.toString,s=u.hasOwnProperty,p=i.forEach,h=i.map,v=i.reduce,y=i.reduceRight,d=i.filter,g=i.every,m=i.some,b=i.indexOf,_=i.lastIndexOf,w=Array.isArray,x=Object.keys,j=a.bind,A=function(n){return n instanceof A?n:this instanceof A?void(this._wrapped=n):new A(n)};void 0!==n?("undefined"!=typeof module&&module.exports&&(n=module.exports=A),n._=A):t._=A,A.VERSION="1.5.2";var k=function(n){return"[object Arguments]"===f.call(n)};k(arguments)||(k=function(n){return!(!n||!s.call(n,"callee")||"function"!=typeof n.callee)});var O=function(n){return n.length===+n.length&&(k(n)||n.constructor!==Object)},E=A.each=A.forEach=function(n,t,r){if(null!=n)if(p&&n.forEach===p)n.forEach(t,r);else if(O(n)){for(var i=0,u=n.length;i<u;i++)if(t.call(r,n[i],i,n)===e)return}else for(var a=A.keys(n),i=0,u=a.length;i<u;i++)if(t.call(r,n[a[i]],a[i],n)===e)return};A.map=A.collect=function(n,t,r){var e=[];return null==n?e:h&&n.map===h?n.map(t,r):(E(n,function(n,i,u){e.push(t.call(r,n,i,u))}),e)};var F="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),v&&n.reduce===v)return e&&(t=A.bind(t,e)),i?n.reduce(t,r):n.reduce(t);if(E(n,function(n,u,a){i?r=t.call(e,r,n,u,a):(r=n,i=!0)}),!i)throw new TypeError(F);return r},A.reduceRight=A.foldr=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),y&&n.reduceRight===y)return e&&(t=A.bind(t,e)),i?n.reduceRight(t,r):n.reduceRight(t);var u=n.length;if(!O(n)){var a=A.keys(n);u=a.length}if(E(n,function(c,o,l){o=a?a[--u]:--u,i?r=t.call(e,r,n[o],o,l):(r=n[o],i=!0)}),!i)throw new TypeError(F);return r},A.find=A.detect=function(n,t,r){var e;return M(n,function(n,i,u){if(t.call(r,n,i,u))return e=n,!0}),e},A.filter=A.select=function(n,t,r){var e=[];return null==n?e:d&&n.filter===d?n.filter(t,r):(E(n,function(n,i,u){t.call(r,n,i,u)&&e.push(n)}),e)},A.reject=function(n,t,r){return A.filter(n,function(n,e,i){return!t.call(r,n,e,i)},r)},A.every=A.all=function(n,t,r){t||(t=A.identity);var i=!0;return null==n?i:g&&n.every===g?n.every(t,r):(E(n,function(n,u,a){if(!(i=i&&t.call(r,n,u,a)))return e}),!!i)};var M=A.some=A.any=function(n,t,r){t||(t=A.identity);var i=!1;return null==n?i:m&&n.some===m?n.some(t,r):(E(n,function(n,u,a){if(i||(i=t.call(r,n,u,a)))return e}),!!i)};A.contains=A.include=function(n,t){return null!=n&&(b&&n.indexOf===b?-1!=n.indexOf(t):M(n,function(n){return n===t}))},A.invoke=function(n,t){var r=o.call(arguments,2),e=A.isFunction(t);return A.map(n,function(n){return(e?t:n[t]).apply(n,r)})},A.pluck=function(n,t){return A.map(n,function(n){return n[t]})},A.where=function(n,t,r){return A.isEmpty(t)?r?void 0:[]:A[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},A.findWhere=function(n,t){return A.where(n,t,!0)},A.max=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&A.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return E(n,function(n,i,u){var a=t?t.call(r,n,i,u):n;a>e.computed&&(e={value:n,computed:a})}),e.value},A.min=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&A.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return E(n,function(n,i,u){var a=t?t.call(r,n,i,u):n;a<e.computed&&(e={value:n,computed:a})}),e.value},A.shuffle=function(n){var t,r=0,e=[];return E(n,function(n){t=A.random(r++),e[r-1]=e[t],e[t]=n}),e},A.sample=function(n,t,r){return arguments.length<2||r?n[A.random(n.length-1)]:A.shuffle(n).slice(0,Math.max(0,t))};var R=function(n){return A.isFunction(n)?n:function(t){return t[n]}};A.sortBy=function(n,t,r){var e=R(t);return A.pluck(A.map(n,function(n,t,i){return{value:n,index:t,criteria:e.call(r,n,t,i)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var S=function(n){return function(t,r,e){var i={},u=null==r?A.identity:R(r);return E(t,function(r,a){var c=u.call(e,r,a,t);n(i,c,r)}),i}};A.groupBy=S(function(n,t,r){(A.has(n,t)?n[t]:n[t]=[]).push(r)}),A.indexBy=S(function(n,t,r){n[t]=r}),A.countBy=S(function(n,t){A.has(n,t)?n[t]++:n[t]=1}),A.sortedIndex=function(n,t,r,e){for(var i=(r=null==r?A.identity:R(r)).call(e,t),u=0,a=n.length;u<a;){var c=u+a>>>1;r.call(e,n[c])<i?u=c+1:a=c}return u},A.toArray=function(n){return n?A.isArray(n)?o.call(n):O(n)?A.map(n,A.identity):A.values(n):[]},A.size=function(n){return null==n?0:O(n)?n.length:A.keys(n).length},A.first=A.head=A.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:o.call(n,0,t)},A.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},A.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},A.rest=A.tail=A.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},A.compact=function(n){return A.filter(n,A.identity)};var I=function(n,t,r){return t&&A.every(n,A.isArray)?l.apply(r,n):(E(n,function(n){A.isArray(n)||A.isArguments(n)?t?c.apply(r,n):I(n,t,r):r.push(n)}),r)};A.flatten=function(n,t){return I(n,t,[])},A.without=function(n){return A.difference(n,o.call(arguments,1))},A.uniq=A.unique=function(n,t,r,e){A.isFunction(t)&&(e=r,r=t,t=!1);var i=r?A.map(n,r,e):n,u=[],a=[];return E(i,function(r,e){(t?e&&a[a.length-1]===r:A.contains(a,r))||(a.push(r),u.push(n[e]))}),u},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(n){var t=o.call(arguments,1);return A.filter(A.uniq(n),function(n){return A.every(t,function(t){return A.indexOf(t,n)>=0})})},A.difference=function(n){var t=l.apply(i,o.call(arguments,1));return A.filter(n,function(n){return!A.contains(t,n)})},A.zip=function(){for(var n=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;r<n;r++)t[r]=A.pluck(arguments,""+r);return t},A.object=function(n,t){if(null==n)return{};for(var r={},e=0,i=n.length;e<i;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},A.indexOf=function(n,t,r){if(null==n)return-1;var e=0,i=n.length;if(r){if("number"!=typeof r)return e=A.sortedIndex(n,t),n[e]===t?e:-1;e=r<0?Math.max(0,i+r):r}if(b&&n.indexOf===b)return n.indexOf(t,r);for(;e<i;e++)if(n[e]===t)return e;return-1},A.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(_&&n.lastIndexOf===_)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var i=e?r:n.length;i--;)if(n[i]===t)return i;return-1},A.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),i=0,u=new Array(e);i<e;)u[i++]=n,n+=r;return u};var T=function(){};A.bind=function(n,t){var r,e;if(j&&n.bind===j)return j.apply(n,o.call(arguments,1));if(!A.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));T.prototype=n.prototype;var i=new T;T.prototype=null;var u=n.apply(i,r.concat(o.call(arguments)));return Object(u)===u?u:i}},A.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},A.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){n[t]=A.bind(n[t],n)}),n},A.memoize=function(n,t){var r={};return t||(t=A.identity),function(){var e=t.apply(this,arguments);return A.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},A.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},A.defer=function(n){return A.delay.apply(A,[n,1].concat(o.call(arguments,1)))},A.throttle=function(n,t,r){var e,i,u,a=null,c=0;r||(r={});var o=function(){c=!1===r.leading?0:new Date,a=null,u=n.apply(e,i)};return function(){var l=new Date;c||!1!==r.leading||(c=l);var f=t-(l-c);return e=this,i=arguments,f<=0?(clearTimeout(a),a=null,c=l,u=n.apply(e,i)):a||!1===r.trailing||(a=setTimeout(o,f)),u}},A.debounce=function(n,t,r){var e,i,u,a,c;return function(){u=this,i=arguments,a=new Date;var o=function(){var l=new Date-a;l<t?e=setTimeout(o,t-l):(e=null,r||(c=n.apply(u,i)))},l=r&&!e;return e||(e=setTimeout(o,t)),l&&(c=n.apply(u,i)),c}},A.once=function(n){var t=!1,r;return function(){return t?r:(t=!0,r=n.apply(this,arguments),n=null,r)}},A.wrap=function(n,t){return function(){var r=[n];return c.apply(r,arguments),t.apply(this,r)}},A.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},A.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},A.keys=x||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)A.has(n,r)&&t.push(r);return t},A.values=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),i=0;i<r;i++)e[i]=n[t[i]];return e},A.pairs=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),i=0;i<r;i++)e[i]=[t[i],n[t[i]]];return e},A.invert=function(n){for(var t={},r=A.keys(n),e=0,i=r.length;e<i;e++)t[n[r[e]]]=r[e];return t},A.functions=A.methods=function(n){var t=[];for(var r in n)A.isFunction(n[r])&&t.push(r);return t.sort()},A.extend=function(n){return E(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},A.pick=function(n){var t={},r=l.apply(i,o.call(arguments,1));return E(r,function(r){r in n&&(t[r]=n[r])}),t},A.omit=function(n){var t={},r=l.apply(i,o.call(arguments,1));for(var e in n)A.contains(r,e)||(t[e]=n[e]);return t},A.defaults=function(n){return E(o.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},A.clone=function(n){return A.isObject(n)?A.isArray(n)?n.slice():A.extend({},n):n},A.tap=function(n,t){return t(n),n};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof A&&(n=n._wrapped),t instanceof A&&(t=t._wrapped);var i=f.call(n);if(i!=f.call(t))return!1;switch(i){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var u=r.length;u--;)if(r[u]==n)return e[u]==t;var a=n.constructor,c=t.constructor;if(a!==c&&!(A.isFunction(a)&&a instanceof a&&A.isFunction(c)&&c instanceof c))return!1;r.push(n),e.push(t);var o=0,l=!0;if("[object Array]"==i){if(o=n.length,l=o==t.length)for(;o--&&(l=N(n[o],t[o],r,e)););}else{for(var s in n)if(A.has(n,s)&&(o++,!(l=A.has(t,s)&&N(n[s],t[s],r,e))))break;if(l){for(s in t)if(A.has(t,s)&&!o--)break;l=!o}}return r.pop(),e.pop(),l};A.isEqual=function(n,t){return N(n,t,[],[])},A.isEmpty=function(n){if(null==n)return!0;if(A.isArray(n)||A.isString(n))return 0===n.length;for(var t in n)if(A.has(n,t))return!1;return!0},A.isElement=function(n){return!(!n||1!==n.nodeType)},A.isArray=w||function(n){return"[object Array]"==f.call(n)},A.isObject=function(n){return n===Object(n)},E(["Arguments","Function","String","Number","Date","RegExp"],function(n){A["is"+n]=function(t){return f.call(t)=="[object "+n+"]"}}),A.isArguments(arguments)||(A.isArguments=function(n){return!(!n||!A.has(n,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(n){return"function"==typeof n}),A.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},A.isNaN=function(n){return A.isNumber(n)&&n!=+n},A.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"==f.call(n)},A.isNull=function(n){return null===n},A.isUndefined=function(n){return void 0===n},A.has=function(n,t){return s.call(n,t)},A.noConflict=function(){return t._=r,this},A.identity=function(n){return n},A.times=function(n,t,r){for(var e=Array(Math.max(0,n)),i=0;i<n;i++)e[i]=t.call(r,i);return e},A.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=A.invert(q.escape);var B={escape:new RegExp("["+A.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(q.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(n){A[n]=function(t){return null==t?"":(""+t).replace(B[n],function(t){return q[n][t]})}}),A.result=function(n,t){if(null!=n){var r=n[t];return A.isFunction(r)?r.call(n):r}},A.mixin=function(n){E(A.functions(n),function(t){var r=A[t]=n[t];A.prototype[t]=function(){var n=[this._wrapped];return c.apply(n,arguments),U.call(this,r.apply(A,n))}})};var D=0;A.uniqueId=function(n){var t=++D+"";return n?n+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(n,t,r){var e;r=A.defaults({},r,A.templateSettings);var i=new RegExp([(r.escape||P).source,(r.interpolate||P).source,(r.evaluate||P).source].join("|")+"|$","g"),u=0,a="__p+='";n.replace(i,function(t,r,e,i,c){return a+=n.slice(u,c).replace(C,function(n){return"\\"+z[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),u=c+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(n){throw n.source=a,n}if(t)return e(t,A);var c=function(n){return e.call(this,n,A)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},A.chain=function(n){return A(n).chain()};var U=function(n){return this._chain?A(n).chain():n};A.mixin(A),E(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=i[n];A.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],U.call(this,r)}}),E(["concat","join","slice"],function(n){var t=i[n];A.prototype[n]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){t=n._}.call(this),"undefined"==typeof Package&&(Package={}),function(n,t){for(var r in t)r in n||(n[r]=t[r])}(Package.underscore={},{_:t})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,i=Package.meteor.meteorEnv,n=Package.jquery.$,s=Package.jquery.jQuery,r=Package.json.JSON,a=Package.underscore._;(function(){(function(){(function(){var t=this,e=t.Backbone,i=Array.prototype.slice,n=Array.prototype.splice,s;(s="undefined"!=typeof exports?exports:t.Backbone={}).VERSION="0.9.2";var o=t.jQuery||t.Zepto||t.ender;s.setDomLibrary=function(t){o=t},s.noConflict=function(){return t.Backbone=e,this},s.emulateHTTP=!1,s.emulateJSON=!1;var h=/\s+/,c=s.Events={on:function(t,e,i){var n,s,r,a,o;if(!e)return this;for(t=t.split(h),n=this._callbacks||(this._callbacks={});s=t.shift();)(r=(o=n[s])?o.tail:{}).next=a={},r.context=i,r.callback=e,n[s]={tail:a,next:o?o.next:r};return this},off:function(t,e,i){var n,s,r,o,c,l;if(s=this._callbacks){if(!(t||e||i))return delete this._callbacks,this;for(t=t?t.split(h):a.keys(s);n=t.shift();)if(r=s[n],delete s[n],r&&(e||i))for(o=r.tail;(r=r.next)!==o;)c=r.callback,l=r.context,(e&&c!==e||i&&l!==i)&&this.on(n,c,l);return this}},trigger:function(t){var e,n,s,r,a,o,c;if(!(s=this._callbacks))return this;for(o=s.all,t=t.split(h),c=i.call(arguments,1);e=t.shift();){if(n=s[e])for(r=n.tail;(n=n.next)!==r;)n.callback.apply(n.context||this,c);if(n=o)for(r=n.tail,a=[e].concat(c);(n=n.next)!==r;)n.callback.apply(n.context||this,a)}return this}};c.bind=c.on,c.unbind=c.off;var l=s.Model=function(t,e){var i;t||(t={}),e&&e.parse&&(t=this.parse(t)),(i=A(this,"defaults"))&&(t=a.extend({},i,t)),e&&e.collection&&(this.collection=e.collection),this.attributes={},this._escapedAttributes={},this.cid=a.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(t,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=a.clone(this.attributes),this.initialize.apply(this,arguments)};a.extend(l.prototype,c,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return a.clone(this.attributes)},get:function(t){return this.attributes[t]},escape:function(t){var e;if(e=this._escapedAttributes[t])return e;var i=this.get(t);return this._escapedAttributes[t]=a.escape(null==i?"":""+i)},has:function(t){return null!=this.get(t)},set:function(t,e,i){var n,s,r;if(a.isObject(t)||null==t?(n=t,i=e):(n={})[t]=e,i||(i={}),!n)return this;if(n instanceof l&&(n=n.attributes),i.unset)for(s in n)n[s]=void 0;if(!this._validate(n,i))return!1;this.idAttribute in n&&(this.id=n[this.idAttribute]);var o=i.changes={},h=this.attributes,c=this._escapedAttributes,u=this._previousAttributes||{};for(s in n)r=n[s],(!a.isEqual(h[s],r)||i.unset&&a.has(h,s))&&(delete c[s],(i.silent?this._silent:o)[s]=!0),i.unset?delete h[s]:h[s]=r,a.isEqual(u[s],r)&&a.has(h,s)==a.has(u,s)?(delete this.changed[s],delete this._pending[s]):(this.changed[s]=r,i.silent||(this._pending[s]=!0));return i.silent||this.change(i),this},unset:function(t,e){return(e||(e={})).unset=!0,this.set(t,null,e)},clear:function(t){return(t||(t={})).unset=!0,this.set(a.clone(this.attributes),t)},fetch:function(t){var e=this,i=(t=t?a.clone(t):{}).success;return t.success=function(n,s,r){if(!e.set(e.parse(n,r),t))return!1;i&&i(e,n)},t.error=s.wrapError(t.error,e,t),(this.sync||s.sync).call(this,"read",this,t)},save:function(t,e,i){var n,r;if(a.isObject(t)||null==t?(n=t,i=e):(n={})[t]=e,(i=i?a.clone(i):{}).wait){if(!this._validate(n,i))return!1;r=a.clone(this.attributes)}var o=a.extend({},i,{silent:!0});if(n&&!this.set(n,i.wait?o:i))return!1;var h=this,c=i.success;i.success=function(t,e,s){var r=h.parse(t,s);if(i.wait&&(delete i.wait,r=a.extend(n||{},r)),!h.set(r,i))return!1;c?c(h,t):h.trigger("sync",h,t,i)},i.error=s.wrapError(i.error,h,i);var l=this.isNew()?"create":"update",u=(this.sync||s.sync).call(this,l,this,i);return i.wait&&this.set(r,o),u},destroy:function(t){var e=this,i=(t=t?a.clone(t):{}).success,n=function(){e.trigger("destroy",e,e.collection,t)};if(this.isNew())return n(),!1;t.success=function(s){t.wait&&n(),i?i(e,s):e.trigger("sync",e,s,t)},t.error=s.wrapError(t.error,e,t);var r=(this.sync||s.sync).call(this,"delete",this,t);return t.wait||n(),r},url:function(){var t=A(this,"urlRoot")||A(this.collection,"url")||C();return this.isNew()?t:t+("/"==t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(t){t||(t={});var e=this._changing;this._changing=!0;for(var i in this._silent)this._pending[i]=!0;var n=a.extend({},t.changes,this._silent);this._silent={};for(var i in n)this.trigger("change:"+i,this,this.get(i),t);if(e)return this;for(;!a.isEmpty(this._pending);){this._pending={},this.trigger("change",this,t);for(var i in this.changed)this._pending[i]||this._silent[i]||delete this.changed[i];this._previousAttributes=a.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(t){return arguments.length?a.has(this.changed,t):!a.isEmpty(this.changed)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&a.clone(this.changed);var e,i=!1,n=this._previousAttributes;for(var s in t)a.isEqual(n[s],e=t[s])||((i||(i={}))[s]=e);return i},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(t,e){if(e.silent||!this.validate)return!0;t=a.extend({},this.attributes,t);var i=this.validate(t,e);return!i||(e&&e.error?e.error(this,i,e):this.trigger("error",this,i,e),!1)}});var u=s.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,{silent:!0,parse:e.parse})};a.extend(u.prototype,c,{model:l,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},add:function(t,e){var i,s,r,o,h,c,l={},u={},d=[];for(e||(e={}),i=0,r=(t=a.isArray(t)?t.slice():[t]).length;i<r;i++){if(!(o=t[i]=this._prepareModel(t[i],e)))throw new Error("Can't add an invalid model to a collection");h=o.cid,c=o.id,l[h]||this._byCid[h]||null!=c&&(u[c]||this._byId[c])?d.push(i):l[h]=u[c]=o}for(i=d.length;i--;)t.splice(d[i],1);for(i=0,r=t.length;i<r;i++)(o=t[i]).on("all",this._onModelEvent,this),this._byCid[o.cid]=o,null!=o.id&&(this._byId[o.id]=o);if(this.length+=r,s=null!=e.at?e.at:this.models.length,n.apply(this.models,[s,0].concat(t)),this.comparator&&this.sort({silent:!0}),e.silent)return this;for(i=0,r=this.models.length;i<r;i++)l[(o=this.models[i]).cid]&&(e.index=i,o.trigger("add",o,this,e));return this},remove:function(t,e){var i,n,s,r;for(e||(e={}),i=0,n=(t=a.isArray(t)?t.slice():[t]).length;i<n;i++)(r=this.getByCid(t[i])||this.get(t[i]))&&(delete this._byId[r.id],delete this._byCid[r.cid],s=this.indexOf(r),this.models.splice(s,1),this.length--,e.silent||(e.index=s,r.trigger("remove",r,this,e)),this._removeReference(r));return this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,e),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},get:function(t){if(null!=t)return this._byId[null!=t.id?t.id:t]},getByCid:function(t){return t&&this._byCid[t.cid||t]},at:function(t){return this.models[t]},where:function(t){return a.isEmpty(t)?[]:this.filter(function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},sort:function(t){if(t||(t={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");var e=a.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("reset",this,t),this},pluck:function(t){return a.map(this.models,function(e){return e.get(t)})},reset:function(t,e){t||(t=[]),e||(e={});for(var i=0,n=this.models.length;i<n;i++)this._removeReference(this.models[i]);return this._reset(),this.add(t,a.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},fetch:function(t){void 0===(t=t?a.clone(t):{}).parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(n,s,r){e[t.add?"add":"reset"](e.parse(n,r),t),i&&i(e,n)},t.error=s.wrapError(t.error,e,t),(this.sync||s.sync).call(this,"read",this,t)},create:function(t,e){var i=this;if(e=e?a.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||i.add(t,e);var n=e.success;return e.success=function(s,r,a){e.wait&&i.add(s,e),n?n(s,r):s.trigger("sync",t,r,e)},t.save(null,e),t},parse:function(t,e){return t},chain:function(){return a(this.models).chain()},_reset:function(t){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(t,e){if(e||(e={}),t instanceof l)t.collection||(t.collection=this);else{var i=t;e.collection=this,(t=new this.model(i,e))._validate(t.attributes,e)||(t=!1)}return t},_removeReference:function(t){this==t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){("add"!=t&&"remove"!=t||i==this)&&("destroy"==t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}});var d=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];a.each(d,function(t){u.prototype[t]=function(){return a[t].apply(a,[this.models].concat(a.toArray(arguments)))}});var f=s.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},p=/:\w+/g,g=/\*\w+/g,v=/[-[\]{}()+?.,\\^$|#\s]/g;a.extend(f.prototype,c,{initialize:function(){},route:function(t,e,i){return s.history||(s.history=new m),a.isRegExp(t)||(t=this._routeToRegExp(t)),i||(i=this[e]),s.history.route(t,a.bind(function(n){var r=this._extractParameters(t,n);i&&i.apply(this,r),this.trigger.apply(this,["route:"+e].concat(r)),s.history.trigger("route",this,e,r)},this)),this},navigate:function(t,e){s.history.navigate(t,e)},_bindRoutes:function(){if(this.routes){var t=[];for(var e in this.routes)t.unshift([e,this.routes[e]]);for(var i=0,n=t.length;i<n;i++)this.route(t[i][0],t[i][1],this[t[i][1]])}},_routeToRegExp:function(t){return t=t.replace(v,"\\$&").replace(p,"([^/]+)").replace(g,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}});var m=s.History=function(){this.handlers=[],a.bindAll(this,"checkUrl")},y=/^[#\/]/,_=/msie [\w.]+/;m.started=!1,a.extend(m.prototype,c,{interval:50,getHash:function(t){var e=(t?t.location:window.location).href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||e){t=window.location.pathname;var i=window.location.search;i&&(t+=i)}else t=this.getHash();return t.indexOf(this.options.root)||(t=t.substr(this.options.root.length)),t.replace(y,"")},start:function(t){if(m.started)throw new Error("Backbone.history has already been started");if("undefined"==typeof window)throw new Error("Backbone.History is client-only, can't start on the server");m.started=!0,this.options=a.extend({},{root:"/"},this.options,t),this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var e=this.getFragment(),i=document.documentMode,n=_.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);n&&(this.iframe=o('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?o(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!n?o(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e;var s=window.location,r=s.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!r?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&r&&s.hash&&(this.fragment=this.getHash().replace(y,""),window.history.replaceState({},document.title,s.protocol+"//"+s.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){o(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),m.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e==this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e==this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(t){var e=this.fragment=this.getFragment(t);return a.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(t,e){if(!m.started)return!1;e&&!0!==e||(e={trigger:e});var i=(t||"").replace(y,"");this.fragment!=i&&(this._hasPushState?(0!=i.indexOf(this.options.root)&&(i=this.options.root+i),this.fragment=i,window.history[e.replace?"replaceState":"pushState"]({},document.title,i)):this._wantsHashChange?(this.fragment=i,this._updateHash(window.location,i,e.replace),this.iframe&&i!=this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,i,e.replace))):window.location.assign(this.options.root+t),e.trigger&&this.loadUrl(t))},_updateHash:function(t,e,i){i?t.replace(t.toString().replace(/(javascript:|#).*$/,"")+"#"+e):t.hash=e}});var w=s.View=function(t){this.cid=a.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName"];a.extend(w.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(t,e,i){var n=document.createElement(t);return e&&o(n).attr(e),i&&o(n).html(i),n},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof o?t:o(t),this.el=this.$el[0],!1!==e&&this.delegateEvents(),this},delegateEvents:function(t){if(t||(t=A(this,"events"))){this.undelegateEvents();for(var e in t){var i=t[e];if(a.isFunction(i)||(i=this[t[e]]),!i)throw new Error('Method "'+t[e]+'" does not exist');var n=e.match(b),s=n[1],r=n[2];i=a.bind(i,this),s+=".delegateEvents"+this.cid,""===r?this.$el.bind(s,i):this.$el.delegate(r,s,i)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(t){this.options&&(t=a.extend({},this.options,t));for(var e=0,i=x.length;e<i;e++){var n=x[e];t[n]&&(this[n]=t[n])}this.options=t},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var t=A(this,"attributes")||{};this.id&&(t.id=this.id),this.className&&(t.class=this.className),this.setElement(this.make(this.tagName,t),!1)}}});var E=function(t,e){var i=P(this,t,e);return i.extend=this.extend,i};l.extend=u.extend=f.extend=w.extend=E;var k={create:"POST",update:"PUT",delete:"DELETE",read:"GET"};s.sync=function(t,e,i){var n=k[t];i||(i={});var h={type:n,dataType:"json"};return i.url||(h.url=A(e,"url")||C()),i.data||!e||"create"!=t&&"update"!=t||(h.contentType="application/json",h.data=r.stringify(e.toJSON())),s.emulateJSON&&(h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{}),s.emulateHTTP&&("PUT"!==n&&"DELETE"!==n||(s.emulateJSON&&(h.data._method=n),h.type="POST",h.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",n)})),"GET"===h.type||s.emulateJSON||(h.processData=!1),o.ajax(a.extend(h,i))},s.wrapError=function(t,e,i){return function(n,s){s=n===e?s:n,t?t(e,s,i):e.trigger("error",e,s,i)}};var S=function(){},P=function(t,e,i){var n;return n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},a.extend(n,t),S.prototype=t.prototype,n.prototype=new S,e&&a.extend(n.prototype,e),i&&a.extend(n,i),n.prototype.constructor=n,n.__super__=t.prototype,n},A=function(t,e){return t&&t[e]?a.isFunction(t[e])?t[e]():t[e]:null},C=function(){throw new Error('A "url" property or function must be specified')}}).call(this)}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package.backbone={}}();

"undefined"==typeof Package&&(Package={}),Package["standard-app-packages"]={};

"undefined"==typeof Package&&(Package={}),Package.less={};

"undefined"==typeof Package&&(Package={}),Package.showdown={};

"undefined"==typeof Package&&(Package={}),Package.stylus={};

"undefined"==typeof Package&&(Package={}),Package.email={};

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,a=Package.meteor.meteorEnv,r=Package.underscore._,c,t;(function(){var e=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")};(c={})._encodeParams=function(n){var a=[];return r.each(n,function(n,r){a.length&&a.push("&"),a.push(e(r),"=",e(n))}),a.join("").replace(/%20/g,"+")},t=function(e,n,a,r){var t=e,o=n?n.slice(1):null;if("string"==typeof a&&(o=String(a)),r){o=o||"";var u=c._encodeParams(r);o&&u&&(o+="&"),o+=u}var i=t;return null!==o&&(i+="?"+o),i}}).call(this),function(){c._constructUrl=function(e,n,a){var r=/^(.*?)(\?.*)?$/.exec(e);return t(r[1],r[2],n,a)}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var a in n)a in e||(e[a]=n[a])}(Package.url={},{URL:c})}();

"undefined"==typeof Package&&(Package={}),Package["babel-compiler"]={};

"undefined"==typeof Package&&(Package={}),Package.ecmascript={};

"undefined"==typeof Package&&(Package={}),Package["ecmascript-runtime"]={};

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package.modules.meteorInstall,i=Package.modules.process,r,u=o({node_modules:{meteor:{promise:{"client.js":["meteor-promise","./common.js",function(n,e){n("meteor-promise").makeCompatible(e.Promise=n("./common.js").Promise)}],"common.js":["promise/lib/es6-extensions",function(e,t){var o=this;"function"==typeof o.Promise?t.Promise=o.Promise:t.Promise=e("promise/lib/es6-extensions"),t.Promise.prototype.done=function(e,t){var o=this;arguments.length>0&&(o=this.then.apply(this,arguments)),o.then(null,function(e){n._setImmediate(function(){throw e})})}}],node_modules:{"meteor-promise":{"package.json":function(n,e){e.name="meteor-promise",e.version="0.8.4",e.main="promise_client.js"},"promise_client.js":function(e,t){function o(n){throw n}t.makeCompatible=function(e){var t=e.prototype.then;e.prototype.then=function(e,i){return"object"==typeof n&&"function"==typeof n.bindEnvironment?t.call(this,e&&n.bindEnvironment(e,o),i&&n.bindEnvironment(i,o)):t.call(this,e,i)}}}},promise:{lib:{"es6-extensions.js":["./core.js",function(n,e,t){"use strict";function o(n){var e=new i(i._61);return e._81=1,e._65=n,e}var i=n("./core.js");t.exports=i;var r=o(!0),u=o(!1),c=o(null),f=o(void 0),s=o(0),a=o("");i.resolve=function(n){if(n instanceof i)return n;if(null===n)return c;if(void 0===n)return f;if(!0===n)return r;if(!1===n)return u;if(0===n)return s;if(""===n)return a;if("object"==typeof n||"function"==typeof n)try{var e=n.then;if("function"==typeof e)return new i(e.bind(n))}catch(n){return new i(function(e,t){t(n)})}return o(n)},i.all=function(n){var e=Array.prototype.slice.call(n);return new i(function(n,t){function o(u,c){if(c&&("object"==typeof c||"function"==typeof c)){if(c instanceof i&&c.then===i.prototype.then){for(;3===c._81;)c=c._65;return 1===c._81?o(u,c._65):(2===c._81&&t(c._65),void c.then(function(n){o(u,n)},t))}var f=c.then;if("function"==typeof f)return void new i(f.bind(c)).then(function(n){o(u,n)},t)}e[u]=c,0==--r&&n(e)}if(0===e.length)return n([]);for(var r=e.length,u=0;u<e.length;u++)o(u,e[u])})},i.reject=function(n){return new i(function(e,t){t(n)})},i.race=function(n){return new i(function(e,t){n.forEach(function(n){i.resolve(n).then(e,t)})})},i.prototype.catch=function(n){return this.then(null,n)}}],"core.js":["asap/raw",function(n,e,t){"use strict";function o(){}function i(n){try{return n.then}catch(n){return d=n,y}}function r(n,e){try{return n(e)}catch(n){return d=n,y}}function u(n,e,t){try{n(e,t)}catch(n){return d=n,y}}function c(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,n!==o&&_(n,this)}function f(n,e,t){return new n.constructor(function(i,r){var u=new c(o);u.then(i,r),s(n,new h(e,t,u))})}function s(n,e){for(;3===n._81;)n=n._65;if(c._10&&c._10(n),0===n._81)return 0===n._45?(n._45=1,void(n._54=e)):1===n._45?(n._45=2,void(n._54=[n._54,e])):void n._54.push(e);a(n,e)}function a(n,e){v(function(){var t=1===n._81?e.onFulfilled:e.onRejected;if(null!==t){var o=r(t,n._65);o===y?m(e.promise,d):l(e.promise,o)}else 1===n._81?l(e.promise,n._65):m(e.promise,n._65)})}function l(n,e){if(e===n)return m(n,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var t=i(e);if(t===y)return m(n,d);if(t===n.then&&e instanceof c)return n._81=3,n._65=e,void p(n);if("function"==typeof t)return void _(t.bind(e),n)}n._81=1,n._65=e,p(n)}function m(n,e){n._81=2,n._65=e,c._97&&c._97(n,e),p(n)}function p(n){if(1===n._45&&(s(n,n._54),n._54=null),2===n._45){for(var e=0;e<n._54.length;e++)s(n,n._54[e]);n._54=null}}function h(n,e,t){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof e?e:null,this.promise=t}function _(n,e){var t=!1,o=u(n,function(n){t||(t=!0,l(e,n))},function(n){t||(t=!0,m(e,n))});t||o!==y||(t=!0,m(e,d))}var v=n("asap/raw"),d=null,y={};t.exports=c,c._10=null,c._97=null,c._61=o,c.prototype.then=function(n,e){if(this.constructor!==c)return f(this,n,e);var t=new c(o);return s(this,new h(n,e,t)),t}}]}},asap:{"raw.js":["domain",function(n,e,t){"use strict";function o(n){s.length||(u(),a=!0),s[s.length]=n}function r(){for(;l<s.length;){var n=l;if(l+=1,s[n].call(),l>m){for(var e=0,t=s.length-l;e<t;e++)s[e]=s[e+l];s.length-=l,l=0}}s.length=0,l=0,a=!1}function u(){var e=i.domain;e&&(c||(c=n("domain")),c.active=i.domain=null),a&&f?setImmediate(r):i.nextTick(r),e&&(c.active=i.domain=e)}var c,f="function"==typeof setImmediate;t.exports=o;var s=[],a=!1,l=0,m=1024;o.requestFlush=u}]}}}}}},{extensions:[".js",".json"]})("./node_modules/meteor/promise/client.js");"undefined"==typeof Package&&(Package={}),function(n,e){for(var t in e)t in n||(n[t]=e[t])}(Package.promise=u,{Promise:void 0})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,n=Package.meteor.meteorEnv,t=Package.modules.meteorInstall,a=Package.modules.process,o=Package.promise.Promise,i,l=t({node_modules:{meteor:{"babel-runtime":{"babel-runtime.js":["meteor-babel-helpers","babel-runtime/regenerator",function(e,r){r.meteorBabelHelpers=e("meteor-babel-helpers"),r.checkHelper=function e(r){return!1};try{var n=e("babel-runtime/regenerator")}catch(e){throw new Error(["The babel-runtime npm package could not be found in your node_modules ","directory. Please run the following command to install it:","","  meteor npm install --save babel-runtime",""].join("\n"))}if(n&&"function"==typeof o&&"function"==typeof o.asyncApply){var t=n.async;n.async=function(){return o.asyncApply(t,n,arguments)}}}],node_modules:{"meteor-babel-helpers":{"package.json":function(e,r){r.name="meteor-babel-helpers",r.version="0.0.3",r.main="index.js"},"index.js":function(e,r,n){function t(){var e={},r="t";try{Object.defineProperty(e,"t",{enumerable:!1,value:e});for(var n in e)if("t"===n)return!1}catch(e){return!1}return e.t===e}function a(e){return e}function o(e){if(Array.isArray(e)){for(var r={},n=Object.keys(e),t=n.length,a=0;a<t;++a){var o=n[a];r[o]=e[o]}return r}return e}i=n.exports={sanitizeForInObject:t()?a:o,_sanitizeForInObjectHard:o}}}}}}}},{extensions:[".js",".json"]})("./node_modules/meteor/babel-runtime/babel-runtime.js");"undefined"==typeof Package&&(Package={}),function(e,r){for(var n in r)n in e||(e[n]=r[n])}(Package["babel-runtime"]=l,{meteorBabelHelpers:i})}();

!function(){var e=Package.meteor.Meteor,s=Package.meteor.global,o=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,c=Package.modules.process,m=Package.promise.Promise,n,a,t,u=r({node_modules:{meteor:{"ecmascript-runtime-client":{"runtime.js":["core-js/modules/es6.symbol","core-js/modules/es6.map","core-js/modules/es6.set","core-js/modules/_core","core-js/modules/$.core","core-js/es6/array","core-js/es6/function","core-js/es6/math","core-js/es6/object","core-js/es6/regexp","core-js/es6/string","core-js/es6/weak-map","core-js/es6/weak-set","core-js/es7/array","core-js/es7/object","core-js/modules/es6.number.epsilon","core-js/modules/es6.number.is-finite","core-js/modules/es6.number.is-integer","core-js/modules/es6.number.is-nan","core-js/modules/es6.number.is-safe-integer","core-js/modules/es6.number.max-safe-integer","core-js/modules/es6.number.min-safe-integer","core-js/modules/es6.number.parse-float","core-js/modules/es6.number.parse-int","core-js/modules/es6.typed.uint8-array","core-js/modules/es6.typed.uint32-array",function(e,s,o){try{e("core-js/modules/es6.symbol"),e("core-js/modules/es6.map"),e("core-js/modules/es6.set");var r=function(){try{return e("core-js/modules/_core")}catch(s){return e("core-js/modules/$.core")}}()}catch(e){throw new Error(["The core-js npm package could not be found in your node_modules ","directory. Please run the following command to install it:","","  meteor npm install --save core-js",""].join("\n"))}n=s.Symbol=r.Symbol,a=s.Map=r.Map,t=s.Set=r.Set,e("core-js/es6/array"),e("core-js/es6/function"),e("core-js/es6/math"),e("core-js/es6/object"),e("core-js/es6/regexp"),e("core-js/es6/string"),e("core-js/es6/weak-map"),e("core-js/es6/weak-set"),e("core-js/es7/array"),e("core-js/es7/object"),e("core-js/modules/es6.number.epsilon"),e("core-js/modules/es6.number.is-finite"),e("core-js/modules/es6.number.is-integer"),e("core-js/modules/es6.number.is-nan"),e("core-js/modules/es6.number.is-safe-integer"),e("core-js/modules/es6.number.max-safe-integer"),e("core-js/modules/es6.number.min-safe-integer"),e("core-js/modules/es6.number.parse-float"),e("core-js/modules/es6.number.parse-int"),e("core-js/modules/es6.typed.uint8-array"),e("core-js/modules/es6.typed.uint32-array")}]}}}},{extensions:[".js",".json"]})("./node_modules/meteor/ecmascript-runtime-client/runtime.js");"undefined"==typeof Package&&(Package={}),function(e,s){for(var o in s)o in e||(e[o]=s[o])}(Package["ecmascript-runtime-client"]=u,{Symbol:n,Map:a,Set:t})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,r=Package.url.URL,o=Package.modules.meteorInstall,c=Package.modules.process,s=Package["babel-runtime"].meteorBabelHelpers,i=Package.promise.Promise,l=Package["ecmascript-runtime-client"].Symbol,p=Package["ecmascript-runtime-client"].Map,u=Package["ecmascript-runtime-client"].Set,f,d,m,h=o({node_modules:{meteor:{http:{"httpcall_common.js":function(){function e(e,t){return e.length>t?e.slice(0,t)+"...":e}var t=500;f=function(t,n){var a="failed ["+t+"]";return n&&(a+=" "+e(("string"==typeof n?n:n.toString()).replace(/\n/g," "),500)),new Error(a)},d=function(e){var t=(e.headers["content-type"]||";").split(";")[0];if(a.include(["application/json","text/javascript","application/javascript","application/x-javascript"],t))try{e.data=JSON.parse(e.content)}catch(t){e.data=null}else e.data=null},(m={}).get=function(){return m.call.apply(this,["GET"].concat(a.toArray(arguments)))},m.post=function(){return m.call.apply(this,["POST"].concat(a.toArray(arguments)))},m.put=function(){return m.call.apply(this,["PUT"].concat(a.toArray(arguments)))},m.del=function(){return m.call.apply(this,["DELETE"].concat(a.toArray(arguments)))},m.patch=function(){return m.call.apply(this,["PATCH"].concat(a.toArray(arguments)))}},"httpcall_client.js":function(t,n,o){m.call=function(t,n,o,c){if(c||"function"!=typeof o||(c=o,o=null),o=o||{},"function"!=typeof c)throw new Error("Can't make a blocking HTTP call from the client; callback required.");t=(t||"").toUpperCase();var i={},l=o.content;o.data&&(l=JSON.stringify(o.data),i["Content-Type"]="application/json");var p,u;if(l||"GET"===t||"HEAD"===t?p=o.params:u=o.params,n=r._constructUrl(n,o.query,p),!1===o.followRedirects)throw new Error("Option followRedirects:false not supported on client.");if(a.has(o,"npmRequestOptions"))throw new Error("Option npmRequestOptions not supported on client.");var m,h;if(o.auth){var g=o.auth.indexOf(":");if(g<0)throw new Error('auth option should be of the form "username:password"');m=o.auth.substring(0,g),h=o.auth.substring(g+1)}u&&(l=r._encodeParams(u)),a.extend(i,o.headers||{}),c=function(e){return function(t,n){t&&n&&(t.response=n),e(t,n)}}(c),c=a.once(c);try{var y;if("undefined"!=typeof XMLHttpRequest)y=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");y=new ActiveXObject("Microsoft.XMLHttp")}y.open(t,n,!0,m,h);for(var v in s.sanitizeForInObject(i))y.setRequestHeader(v,i[v]);var P=!1,w;if(o.timeout&&(w=e.setTimeout(function(){P=!0,y.abort()},o.timeout)),y.onreadystatechange=function(t){if(4===y.readyState)if(w&&e.clearTimeout(w),P)c(new Error("timeout"));else if(y.status){var n={};n.statusCode=y.status,n.content=y.responseText,n.headers={};var r=y.getAllResponseHeaders();""===r&&y.getResponseHeader("content-type")&&(r="content-type: "+y.getResponseHeader("content-type"));var o=r.split(/\r?\n/);a.each(o,function(e){var t=/^(.*?):(?:\s+)(.*)$/.exec(e);t&&3===t.length&&(n.headers[t[1].toLowerCase()]=t[2])}),d(n);var s=null;n.statusCode>=400&&(s=f(n.statusCode,n.content)),c(s,n)}else c(new Error("network"))},o.beforeSend&&!1===a.once(o.beforeSend).call(null,y,o))return y.abort();y.send(l)}catch(e){c(e)}}},"deprecated.js":function(){e.http=m}}}}},{extensions:[".js",".json"]});h("./node_modules/meteor/http/httpcall_common.js"),h("./node_modules/meteor/http/httpcall_client.js"),h("./node_modules/meteor/http/deprecated.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.http={},{HTTP:m})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,n=Package.meteor.meteorEnv,o;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),function(e,a){for(var n in a)n in e||(e[n]=a[n])}(Package["arunoda:npm"]={},{Async:o})}();

!function(){var n=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,e,r;(function(){(e={}).active=!1,e.currentComputation=null;var t=function(n){e.currentComputation=n,e.active=!!n},o=function(){return void 0!==n?n._debug:"undefined"!=typeof console&&console.error?function(){console.error.apply(console,arguments)}:function(){}},r=function(t){void 0!==n&&n._suppressed_log_expected()&&n._suppress_log(t-1)},i=function(n,t){if(l)throw t;var e=["Exception from Tracker "+n+" function:"];if(t.stack&&t.message&&t.name){var i=t.stack.indexOf(t.message);if(i<0||i>t.name.length+2){var a=t.name+": "+t.message;e.push(a)}}e.push(t.stack),r(e.length);for(var u=0;u<e.length;u++)o()(e[u])},a=function(t){return void 0===n||n.isClient?t:function(){var o=arguments;n._noYieldsAllowed(function(){t.apply(null,o)})}},u=1,c=[],s=!1,p=!1,f=!1,l=!1,d=[],h=function(){s||(void 0!==n?n._setImmediate(e._runFlush):setTimeout(e._runFlush,0),s=!0)},v=!1;e.Computation=function(n,t,o){if(!v)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");v=!1;var e=this;e.stopped=!1,e.invalidated=!1,e.firstRun=!0,e._id=u++,e._onInvalidateCallbacks=[],e._onStopCallbacks=[],e._parent=t,e._func=n,e._onError=o,e._recomputing=!1;var r=!0;try{e._compute(),r=!1}finally{e.firstRun=!1,r&&e.stop()}},e.Computation.prototype.onInvalidate=function(n){var t=this;if("function"!=typeof n)throw new Error("onInvalidate requires a function");t.invalidated?e.nonreactive(function(){a(n)(t)}):t._onInvalidateCallbacks.push(n)},e.Computation.prototype.onStop=function(n){var t=this;if("function"!=typeof n)throw new Error("onStop requires a function");t.stopped?e.nonreactive(function(){a(n)(t)}):t._onStopCallbacks.push(n)},e.Computation.prototype.invalidate=function(){var n=this;if(!n.invalidated){n._recomputing||n.stopped||(h(),c.push(this)),n.invalidated=!0;for(var t=0,o;o=n._onInvalidateCallbacks[t];t++)e.nonreactive(function(){a(o)(n)});n._onInvalidateCallbacks=[]}},e.Computation.prototype.stop=function(){var n=this;if(!n.stopped){n.stopped=!0,n.invalidate();for(var t=0,o;o=n._onStopCallbacks[t];t++)e.nonreactive(function(){a(o)(n)});n._onStopCallbacks=[]}},e.Computation.prototype._compute=function(){var n=this;n.invalidated=!1;var o=e.currentComputation;t(n);var r=f;f=!0;try{a(n._func)(n)}finally{t(o),f=r}},e.Computation.prototype._needsRecompute=function(){var n=this;return n.invalidated&&!n.stopped},e.Computation.prototype._recompute=function(){var n=this;n._recomputing=!0;try{if(n._needsRecompute())try{n._compute()}catch(t){n._onError?n._onError(t):i("recompute",t)}}finally{n._recomputing=!1}},e.Computation.prototype.flush=function(){var n=this;n._recomputing||n._recompute()},e.Computation.prototype.run=function(){var n=this;n.invalidate(),n.flush()},e.Dependency=function(){this._dependentsById={}},e.Dependency.prototype.depend=function(n){if(!n){if(!e.active)return!1;n=e.currentComputation}var t=this,o=n._id;return!(o in t._dependentsById)&&(t._dependentsById[o]=n,n.onInvalidate(function(){delete t._dependentsById[o]}),!0)},e.Dependency.prototype.changed=function(){var n=this;for(var t in n._dependentsById)n._dependentsById[t].invalidate()},e.Dependency.prototype.hasDependents=function(){var n=this;for(var t in n._dependentsById)return!0;return!1},e.flush=function(n){e._runFlush({finishSynchronously:!0,throwFirstError:n&&n._throwFirstError})},e._runFlush=function(n){if(p)throw new Error("Can't call Tracker.flush while flushing");if(f)throw new Error("Can't flush inside Tracker.autorun");p=!0,s=!0,l=!!(n=n||{}).throwFirstError;var t=0,o=!1;try{for(;c.length||d.length;){for(;c.length;){var r=c.shift();if(r._recompute(),r._needsRecompute()&&c.unshift(r),!n.finishSynchronously&&++t>1e3)return void(o=!0)}if(d.length){var a=d.shift();try{a()}catch(n){i("afterFlush",n)}}}o=!0}finally{if(o||(p=!1,e._runFlush({finishSynchronously:n.finishSynchronously,throwFirstError:!1})),s=!1,p=!1,c.length||d.length){if(n.finishSynchronously)throw new Error("still have more to do?");setTimeout(h,10)}}},e.autorun=function(n,t){if("function"!=typeof n)throw new Error("Tracker.autorun requires a function argument");t=t||{},v=!0;var o=new e.Computation(n,e.currentComputation,t.onError);return e.active&&e.onInvalidate(function(){o.stop()}),o},e.nonreactive=function(n){var o=e.currentComputation;t(null);try{return n()}finally{t(o)}},e.onInvalidate=function(n){if(!e.active)throw new Error("Tracker.onInvalidate requires a currentComputation");e.currentComputation.onInvalidate(n)},e.afterFlush=function(n){d.push(n),h()}}).call(this),function(){n.flush=e.flush,n.autorun=e.autorun,n.autosubscribe=e.autorun,e.depend=function(n){return n.depend()},r=e}.call(this),"undefined"==typeof Package&&(Package={}),function(n,t){for(var o in t)o in n||(n[o]=t[o])}(Package.tracker={},{Tracker:e,Deps:r})}();

!function(){var a=Package.tracker.Tracker,e=Package.tracker.Deps;"undefined"==typeof Package&&(Package={}),function(a,e){for(var c in e)c in a||(a[c]=e[c])}(Package.deps={},{Tracker:a,Deps:e})}();

!function(){var r=Package.meteor.Meteor,n=Package.meteor.global,e=Package.meteor.meteorEnv,a;(function(){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={},e=0;e<r.length;e++)n[r.charAt(e)]=e;(a={}).encode=function(r){if("string"==typeof r){var n=r;r=a.newBinary(n.length);for(var e=0;e<n.length;e++){var l=n.charCodeAt(e);if(l>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");r[e]=l}}for(var u=[],i=null,o=null,c=null,f=null,e=0;e<r.length;e++)switch(e%3){case 0:i=r[e]>>2&63,o=(3&r[e])<<4;break;case 1:o|=r[e]>>4&15,c=(15&r[e])<<2;break;case 2:c|=r[e]>>6&3,f=63&r[e],u.push(t(i)),u.push(t(o)),u.push(t(c)),u.push(t(f)),i=null,o=null,c=null,f=null;break}return null!=i&&(u.push(t(i)),u.push(t(o)),null==c?u.push("="):u.push(t(c)),null==f&&u.push("=")),u.join("")};var t=function(n){return r.charAt(n)},l=function(r){return"="===r?-1:n[r]};a.newBinary=function(r){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var n=[],e=0;e<r;e++)n.push(0);return n.$Uint8ArrayPolyfill=!0,n}return new Uint8Array(new ArrayBuffer(r))},a.decode=function(r){var n=Math.floor(3*r.length/4);"="==r.charAt(r.length-1)&&(n--,"="==r.charAt(r.length-2)&&n--);for(var e=a.newBinary(n),t=null,u=null,i=null,o=0,c=0;c<r.length;c++){var f=r.charAt(c),s=l(f);switch(c%4){case 0:if(s<0)throw new Error("invalid base64 string");t=s<<2;break;case 1:if(s<0)throw new Error("invalid base64 string");t|=s>>4,e[o++]=t,u=(15&s)<<4;break;case 2:s>=0&&(u|=s>>2,e[o++]=u,i=(3&s)<<6);break;case 3:s>=0&&(e[o++]=i|s);break}}return e}}).call(this),"undefined"==typeof Package&&(Package={}),function(r,n){for(var e in n)e in r||(r[e]=n[e])}(Package.base64={},{Base64:a})}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package.underscore._,a=Package.base64.Base64,u,i;(function(){i={};var e={};(u={}).addType=function(n,t){if(r.has(e,n))throw new Error("Type "+n+" already present");e[n]=t};var t=function(n){return r.isNaN(n)||n===1/0||n===-1/0},o=[{matchJSONValue:function(n){return r.has(n,"$date")&&1===r.size(n)},matchObject:function(n){return n instanceof Date},toJSONValue:function(n){return{$date:n.getTime()}},fromJSONValue:function(n){return new Date(n.$date)}},{matchJSONValue:function(n){return r.has(n,"$InfNaN")&&1===r.size(n)},matchObject:t,toJSONValue:function(n){var e;return e=r.isNaN(n)?0:n===1/0?1:-1,{$InfNaN:e}},fromJSONValue:function(n){return n.$InfNaN/0}},{matchJSONValue:function(n){return r.has(n,"$binary")&&1===r.size(n)},matchObject:function(n){return"undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&r.has(n,"$Uint8ArrayPolyfill")},toJSONValue:function(n){return{$binary:a.encode(n)}},fromJSONValue:function(n){return a.decode(n.$binary)}},{matchJSONValue:function(n){return r.has(n,"$escape")&&1===r.size(n)},matchObject:function(n){return!(r.isEmpty(n)||r.size(n)>2)&&r.any(o,function(e){return e.matchJSONValue(n)})},toJSONValue:function(n){var e={};return r.each(n,function(n,t){e[t]=u.toJSONValue(n)}),{$escape:e}},fromJSONValue:function(n){var e={};return r.each(n.$escape,function(n,t){e[t]=u.fromJSONValue(n)}),e}},{matchJSONValue:function(n){return r.has(n,"$type")&&r.has(n,"$value")&&2===r.size(n)},matchObject:function(n){return u._isCustomType(n)},toJSONValue:function(e){var t=n._noYieldsAllowed(function(){return e.toJSONValue()});return{$type:e.typeName(),$value:t}},fromJSONValue:function(t){var a=t.$type;if(!r.has(e,a))throw new Error("Custom EJSON type "+a+" is not defined");var u=e[a];return n._noYieldsAllowed(function(){return u(t.$value)})}}];u._isCustomType=function(n){return n&&"function"==typeof n.toJSONValue&&"function"==typeof n.typeName&&r.has(e,n.typeName())},u._getTypes=function(){return e},u._getConverters=function(){return o};var f=u._adjustTypesToJSONValue=function(n){if(null===n)return null;var e=c(n);return void 0!==e?e:"object"!=typeof n?n:(r.each(n,function(e,r){if("object"==typeof e||void 0===e||t(e)){var a=c(e);a?n[r]=a:f(e)}}),n)},c=function(n){for(var e=0;e<o.length;e++){var t=o[e];if(t.matchObject(n))return t.toJSONValue(n)}};u.toJSONValue=function(n){var e=c(n);return void 0!==e?e:("object"==typeof n&&(n=u.clone(n),f(n)),n)};var l=u._adjustTypesFromJSONValue=function(n){if(null===n)return null;var e=s(n);return e!==n?e:"object"!=typeof n?n:(r.each(n,function(e,t){if("object"==typeof e){var r=s(e);if(e!==r)return void(n[t]=r);l(e)}}),n)},s=function(n){if("object"==typeof n&&null!==n&&r.size(n)<=2&&r.all(n,function(n,e){return"string"==typeof e&&"$"===e.substr(0,1)}))for(var e=0;e<o.length;e++){var t=o[e];if(t.matchJSONValue(n))return t.fromJSONValue(n)}return n};u.fromJSONValue=function(n){var e=s(n);return e===n&&"object"==typeof n?(n=u.clone(n),l(n),n):e},u.stringify=function(n,e){var t=u.toJSONValue(n);return e&&(e.canonical||e.indent)?u._canonicalStringify(t,e):JSON.stringify(t)},u.parse=function(n){if("string"!=typeof n)throw new Error("EJSON.parse argument should be a string");return u.fromJSONValue(JSON.parse(n))},u.isBinary=function(n){return!!("undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&n.$Uint8ArrayPolyfill)},u.equals=function(n,e,t){var a,i=!(!t||!t.keyOrderSensitive);if(n===e)return!0;if(r.isNaN(n)&&r.isNaN(e))return!0;if(!n||!e)return!1;if("object"!=typeof n||"object"!=typeof e)return!1;if(n instanceof Date&&e instanceof Date)return n.valueOf()===e.valueOf();if(u.isBinary(n)&&u.isBinary(e)){if(n.length!==e.length)return!1;for(a=0;a<n.length;a++)if(n[a]!==e[a])return!1;return!0}if("function"==typeof n.equals)return n.equals(e,t);if("function"==typeof e.equals)return e.equals(n,t);if(n instanceof Array){if(!(e instanceof Array))return!1;if(n.length!==e.length)return!1;for(a=0;a<n.length;a++)if(!u.equals(n[a],e[a],t))return!1;return!0}switch(u._isCustomType(n)+u._isCustomType(e)){case 1:return!1;case 2:return u.equals(u.toJSONValue(n),u.toJSONValue(e))}var o;if(i){var f=[];return r.each(e,function(n,e){f.push(e)}),a=0,(o=r.all(n,function(n,r){return!(a>=f.length)&&(r===f[a]&&(!!u.equals(n,e[f[a]],t)&&(a++,!0)))}))&&a===f.length}return a=0,(o=r.all(n,function(n,i){return!!r.has(e,i)&&(!!u.equals(n,e[i],t)&&(a++,!0))}))&&r.size(e)===a},u.clone=function(n){var e;if("object"!=typeof n)return n;if(null===n)return null;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return n;if(u.isBinary(n)){e=u.newBinary(n.length);for(var t=0;t<n.length;t++)e[t]=n[t];return e}if(r.isArray(n)||r.isArguments(n)){for(e=[],t=0;t<n.length;t++)e[t]=u.clone(n[t]);return e}return"function"==typeof n.clone?n.clone():u._isCustomType(n)?u.fromJSONValue(u.clone(u.toJSONValue(n)),!0):(e={},r.each(n,function(n,t){e[t]=u.clone(n)}),e)},u.newBinary=a.newBinary}).call(this),function(){function n(n){return JSON.stringify(n)}var e=function(t,a,u,i,o){var f,c,l,s,y=i,h,N=a[t];switch(typeof N){case"string":return n(N);case"number":return isFinite(N)?String(N):"null";case"boolean":return String(N);case"object":if(!N)return"null";if(y=i+u,h=[],r.isArray(N)||r.isArguments(N)){for(s=N.length,f=0;f<s;f+=1)h[f]=e(f,N,u,y,o)||"null";return l=0===h.length?"[]":y?"[\n"+y+h.join(",\n"+y)+"\n"+i+"]":"["+h.join(",")+"]"}var p=r.keys(N);return o&&(p=p.sort()),r.each(p,function(t){(l=e(t,N,u,y,o))&&h.push(n(t)+(y?": ":":")+l)}),l=0===h.length?"{}":y?"{\n"+y+h.join(",\n"+y)+"\n"+i+"}":"{"+h.join(",")+"}"}};u._canonicalStringify=function(n,t){if(!0===(t=r.extend({indent:"",canonical:!1},t)).indent)t.indent="  ";else if("number"==typeof t.indent){for(var a="",u=0;u<t.indent;u++)a+=" ";t.indent=a}return e("",{"":n},t.indent,"",t.canonical)}}.call(this),"undefined"==typeof Package&&(Package={}),function(n,e){for(var t in e)t in n||(n[t]=e[t])}(Package.ejson={},{EJSON:u,EJSONTest:i})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,a=Package.modules.process,i=Package.underscore._,o=Package.ejson.EJSON,c,s,u=r({node_modules:{meteor:{check:{"match.js":["./isPlainObject.js",function(t,n){var r=new e.EnvironmentVariable,a=t("./isPlainObject.js").isPlainObject,c=n.check=function(e,t){var n=r.getOrNullIfOutsideFiber();n&&n.checking(e);var a=y(e,t);if(a){var i=new s.Error(a.message);throw a.path&&(i.message+=" in field "+a.path,i.path=a.path),i}},s=n.Match={Optional:function(e){return new u(e)},Maybe:function(e){return new f(e)},OneOf:function(){return new h(i.toArray(arguments))},Any:["__any__"],Where:function(e){return new l(e)},ObjectIncluding:function(e){return new p(e)},ObjectWithValues:function(e){return new g(e)},Integer:["__integer__"],Error:e.makeErrorType("Match.Error",function(t){this.message="Match error: "+t,this.path="",this.sanitizedError=new e.Error(400,"Match failed")}),test:function(e,t){return!y(e,t)},_failIfArgumentsAreNotAllChecked:function(e,t,n,a){var i=new v(n,a),o=r.withValue(i,function(){return e.apply(t,n)});return i.throwUnlessAllArgumentsHaveBeenChecked(),o}},u=function(e){this.pattern=e},f=function(e){this.pattern=e},h=function(e){if(i.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},l=function(e){this.condition=e},p=function(e){this.pattern=e},g=function(e){this.pattern=e},d=function(e,t){if(t=t||{},null===e)return"null";if(t.onlyShowType)return typeof e;if("object"!=typeof e)return o.stringify(e);try{JSON.stringify(e)}catch(t){if("TypeError"===t.name)return typeof e}return o.stringify(e)},m=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[Function,"function"],[void 0,"undefined"]],y=function(e,t){if(t===s.Any)return!1;for(var n=0;n<m.length;++n)if(t===m[n][0])return typeof e!==m[n][1]&&{message:"Expected "+m[n][1]+", got "+d(e,{onlyShowType:!0}),path:""};if(null===t)return null!==e&&{message:"Expected null, got "+d(e),path:""};if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return e!==t&&{message:"Expected "+t+", got "+d(e),path:""};if(t===s.Integer)return("number"!=typeof e||(0|e)!==e)&&{message:"Expected Integer, got "+d(e),path:""};if(t===Object&&(t=s.ObjectIncluding({})),t instanceof Array){if(1!==t.length)return{message:"Bad pattern: arrays must have one type element"+d(t),path:""};if(!i.isArray(e)&&!i.isArguments(e))return{message:"Expected array, got "+d(e),path:""};for(var n=0,r=e.length;n<r;n++)if(o=y(e[n],t[0]))return o.path=w(n,o.path),o;return!1}if(t instanceof l){var o;try{o=t.condition(e)}catch(e){if(!(e instanceof s.Error))throw e;return{message:e.message,path:e.path}}return!o&&{message:"Failed Match.Where validation",path:""}}if(t instanceof f?t=s.OneOf(void 0,null,t.pattern):t instanceof u&&(t=s.OneOf(void 0,t.pattern)),t instanceof h){for(var n=0;n<t.choices.length;++n)if(!(o=y(e,t.choices[n])))return!1;return{message:"Failed Match.OneOf, Match.Maybe or Match.Optional validation",path:""}}if(t instanceof Function)return!(e instanceof t)&&{message:"Expected "+(t.name||"particular constructor"),path:""};var c=!1,v;if(t instanceof p&&(c=!0,t=t.pattern),t instanceof g&&(c=!0,v=[t.pattern],t={}),"object"!=typeof t)return{message:"Bad pattern: unknown pattern type",path:""};if("object"!=typeof e)return{message:"Expected object, got "+typeof e,path:""};if(null===e)return{message:"Expected object, got null",path:""};if(!a(e))return{message:"Expected plain object",path:""};var b={},O={};i.each(t,function(e,t){e instanceof u||e instanceof f?O[t]=e.pattern:b[t]=e});for(var k=function(e){var t=[];if(i.isObject(e))for(var n in e)t.push(n);return t}(e),n=0,r=k.length;n<r;n++){var j=k[n],E=e[j];if(i.has(b,j)){if(o=y(E,b[j]))return o.path=w(j,o.path),o;delete b[j]}else if(i.has(O,j)){if(o=y(E,O[j]))return o.path=w(j,o.path),o}else{if(!c)return{message:"Unknown key",path:j};if(v&&(o=y(E,v[0])))return o.path=w(j,o.path),o}}return(k=i.keys(b)).length?{message:"Missing key '"+k[0]+"'",path:""}:void 0},v=function(e,t){var n=this;n.args=i.clone(e),n.args.reverse(),n.description=t};i.extend(v.prototype,{checking:function(e){var t=this;t._checkingOneValue(e)||(i.isArray(e)||i.isArguments(e))&&i.each(e,i.bind(t._checkingOneValue,t))},_checkingOneValue:function(e){for(var t=this,n=0;n<t.args.length;++n)if(e===t.args[n]||i.isNaN(e)&&i.isNaN(t.args[n]))return t.args.splice(n,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!i.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var b=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],w=function(e,t){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":e.match(/^[a-z_$][0-9a-z_$]*$/i)&&!i.contains(b,e)||(e=JSON.stringify([e])),t&&"["!==t[0]?e+"."+t:e+t}}],"isPlainObject.js":function(e,t){function n(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?a[o.call(e)]||"object":typeof e}function r(e){return null!=e&&e==e.window}var a={},o=a.toString,c=a.hasOwnProperty,s={};i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){a["[object "+e+"]"]=e.toLowerCase()}),t.isPlainObject=function(e){var t;if(!e||"object"!==n(e)||e.nodeType||r(e))return!1;try{if(e.constructor&&!c.call(e,"constructor")&&!c.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(s.ownLast)for(t in e)return c.call(e,t);for(t in e);return void 0===t||c.call(e,t)}}}}}},{extensions:[".js",".json"]})("./node_modules/meteor/check/match.js");"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.check=u,{check:c,Match:s})}();

!function(){var i=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,e=Package.ejson.EJSON,r;(function(){r=function(i,t){var n=this;n._map={},n._idStringify=i||JSON.stringify,n._idParse=t||JSON.parse},a.extend(r.prototype,{get:function(i){var t=this,n=t._idStringify(i);return t._map[n]},set:function(i,t){var n=this,a=n._idStringify(i);n._map[a]=t},remove:function(i){var t=this,n=t._idStringify(i);delete t._map[n]},has:function(i){var t=this,n=t._idStringify(i);return a.has(t._map,n)},empty:function(){var i=this;return a.isEmpty(i._map)},clear:function(){this._map={}},forEach:function(i){for(var t=this,n=a.keys(t._map),e=0;e<n.length;e++)if(!1===i.call(null,t._map[n[e]],t._idParse(n[e])))return},size:function(){var i=this;return a.size(i._map)},setDefault:function(i,t){var n=this,e=n._idStringify(i);return a.has(n._map,e)?n._map[e]:(n._map[e]=t,t)},clone:function(){var i=this,t=new r(i._idStringify,i._idParse);return i.forEach(function(i,n){t.set(n,e.clone(i))}),t}})}).call(this),"undefined"==typeof Package&&(Package={}),function(i,t){for(var n in t)n in i||(i[n]=t[n])}(Package["id-map"]={},{IdMap:r})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package.underscore._,o=Package.modules.meteorInstall,i=Package.modules.process,a=Package["babel-runtime"].meteorBabelHelpers,d=Package.promise.Promise,c=Package["ecmascript-runtime-client"].Symbol,u=Package["ecmascript-runtime-client"].Map,s=Package["ecmascript-runtime-client"].Set,p,m=o({node_modules:{meteor:{random:{"random.js":function(n){function t(){return new d(d.Type.ALEA,{seeds:[new Date,c,u,s,Math.random()]})}if(e.isServer)var r=Npm.require("crypto");var o=function(){function e(){var e=4022871197,n=function(n){n=n.toString();for(var t=0;t<n.length;t++){var r=.02519603282416938*(e+=n.charCodeAt(t));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return n.version="Mash 0.9",n}return function(n){var t=0,r=0,o=0,i=1;0==n.length&&(n=[+new Date]);var a=e();t=a(" "),r=a(" "),o=a(" ");for(var d=0;d<n.length;d++)(t-=a(n[d]))<0&&(t+=1),(r-=a(n[d]))<0&&(r+=1),(o-=a(n[d]))<0&&(o+=1);a=null;var c=function(){var e=2091639*t+2.3283064365386963e-10*i;return t=r,r=o,o=e-(i=0|e)};return c.uint32=function(){return 4294967296*c()},c.fract53=function(){return c()+1.1102230246251565e-16*(2097152*c()|0)},c.version="Alea 0.9",c.args=n,c}(Array.prototype.slice.call(arguments))},i="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",d=function(e,n){var t=this;if(t.type=e,!d.Type[e])throw new Error("Unknown random generator type: "+e);if(e===d.Type.ALEA){if(!n.seeds)throw new Error("No seeds were provided for Alea PRNG");t.alea=o.apply(null,n.seeds)}};d.Type={NODE_CRYPTO:"NODE_CRYPTO",BROWSER_CRYPTO:"BROWSER_CRYPTO",ALEA:"ALEA"},d.prototype.fraction=function(){var e=this;if(e.type===d.Type.ALEA)return e.alea();if(e.type===d.Type.NODE_CRYPTO)return 2.3283064365386963e-10*parseInt(e.hexString(8),16);if(e.type===d.Type.BROWSER_CRYPTO){var n=new Uint32Array(1);return window.crypto.getRandomValues(n),2.3283064365386963e-10*n[0]}throw new Error("Unknown random generator type: "+e.type)},d.prototype.hexString=function(e){if(this.type===d.Type.NODE_CRYPTO){var n=Math.ceil(e/2),t;try{t=r.randomBytes(n)}catch(e){t=r.pseudoRandomBytes(n)}return t.toString("hex").substring(0,e)}return this._randomString(e,"0123456789abcdef")},d.prototype._randomString=function(e,n){for(var t=this,r=[],o=0;o<e;o++)r[o]=t.choice(n);return r.join("")},d.prototype.id=function(e){var n=this;return void 0===e&&(e=17),n._randomString(e,i)},d.prototype.secret=function(e){var n=this;return void 0===e&&(e=43),n._randomString(e,a)},d.prototype.choice=function(e){var n=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(n,1):e[n]};var c="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,u="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,s="undefined"!=typeof navigator&&navigator.userAgent||"";(p=e.isServer?new d(d.Type.NODE_CRYPTO):"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new d(d.Type.BROWSER_CRYPTO):t()).createWithSeeds=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];if(0===n.length)throw new Error("No seeds were provided");return new d(d.Type.ALEA,{seeds:n})},p.insecure=t()},"deprecated.js":function(){e.uuid=function(){for(var e="0123456789abcdef",n=[],t=0;t<36;t++)n[t]=p.choice(e);return n[14]="4",n[19]=e.substr(3&parseInt(n[19],16)|8,1),n[8]=n[13]=n[18]=n[23]="-",n.join("")}}}}}},{extensions:[".js",".json"]});m("./node_modules/meteor/random/random.js"),m("./node_modules/meteor/random/deprecated.js"),"undefined"==typeof Package&&(Package={}),function(e,n){for(var t in n)t in e||(e[t]=n[t])}(Package.random={},{Random:p})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package.ejson.EJSON,n=Package["id-map"].IdMap,i=Package.random.Random,a;(function(){(a={})._looksLikeObjectID=function(t){return 24===t.length&&t.match(/^[0-9a-f]*$/)},a.ObjectID=function(t){var e=this;if(t){if(t=t.toLowerCase(),!a._looksLikeObjectID(t))throw new Error("Invalid hexadecimal string for creating an ObjectID");e._str=t}else e._str=i.hexString(24)},a.ObjectID.prototype.toString=function(){return'ObjectID("'+this._str+'")'},a.ObjectID.prototype.equals=function(t){var e=this;return t instanceof a.ObjectID&&e.valueOf()===t.valueOf()},a.ObjectID.prototype.clone=function(){var t=this;return new a.ObjectID(t._str)},a.ObjectID.prototype.typeName=function(){return"oid"},a.ObjectID.prototype.getTimestamp=function(){var t=this;return parseInt(t._str.substr(0,8),16)},a.ObjectID.prototype.valueOf=a.ObjectID.prototype.toJSONValue=a.ObjectID.prototype.toHexString=function(){return this._str},o.addType("oid",function(t){return new a.ObjectID(t)}),a.idStringify=function(t){if(t instanceof a.ObjectID)return t.valueOf();if("string"==typeof t)return""===t?t:"-"===t.substr(0,1)||"~"===t.substr(0,1)||a._looksLikeObjectID(t)||"{"===t.substr(0,1)?"-"+t:t;if(void 0===t)return"-";if("object"==typeof t&&null!==t)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+JSON.stringify(t)},a.idParse=function(t){return""===t?t:"-"===t?void 0:"-"===t.substr(0,1)?t.substr(1):"~"===t.substr(0,1)?JSON.parse(t.substr(1)):a._looksLikeObjectID(t)?new a.ObjectID(t):t}}).call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var r in e)r in t||(t[r]=e[r])}(Package["mongo-id"]={},{MongoID:a})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,d=Package.meteor.meteorEnv,i=Package.underscore._,a=Package.ejson.EJSON,r;(function(){(r={}).diffQueryChanges=function(e,n,d,i,a){e?r.diffQueryOrderedChanges(n,d,i,a):r.diffQueryUnorderedChanges(n,d,i,a)},r.diffQueryUnorderedChanges=function(e,n,d,o){var f=(o=o||{}).projectionFn||a.clone;if(d.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");n.forEach(function(n,o){var t=e.get(o);if(t){if(d.changed&&!a.equals(t,n)){var c=f(n),u=f(t),h=r.makeChangedFields(c,u);i.isEmpty(h)||d.changed(o,h)}}else if(d.added){var l=f(n);delete l._id,d.added(n._id,l)}}),d.removed&&e.forEach(function(e,i){n.has(i)||d.removed(i)})},r.diffQueryOrderedChanges=function(n,d,o,f){var t=(f=f||{}).projectionFn||a.clone,c={};i.each(d,function(n){c[n._id]&&e._debug("Duplicate _id in new_results"),c[n._id]=!0});var u={};i.each(n,function(n,d){n._id in u&&e._debug("Duplicate _id in old_results"),u[n._id]=d});for(var h=[],l=0,s=d.length,g=new Array(s),v=new Array(s),_=function(e){return u[d[e]._id]},m=0;m<s;m++)if(void 0!==u[d[m]._id]){for(var y=l;y>0&&!(_(g[y-1])<_(m));)y--;v[m]=0===y?-1:g[y-1],g[y]=m,y+1>l&&(l=y+1)}for(var k=0===l?-1:g[l-1];k>=0;)h.push(k),k=v[k];h.reverse(),h.push(d.length),i.each(n,function(e){c[e._id]||o.removed&&o.removed(e._id)});var p=0;i.each(h,function(e){for(var a=d[e]?d[e]._id:null,f,c,h,l,s,g=p;g<e;g++)c=d[g],i.has(u,c._id)?(f=n[u[c._id]],l=t(c),s=t(f),h=r.makeChangedFields(l,s),i.isEmpty(h)||o.changed&&o.changed(c._id,h),o.movedBefore&&o.movedBefore(c._id,a)):(delete(h=t(c))._id,o.addedBefore&&o.addedBefore(c._id,h,a),o.added&&o.added(c._id,h));a&&(c=d[e],f=n[u[c._id]],l=t(c),s=t(f),h=r.makeChangedFields(l,s),i.isEmpty(h)||o.changed&&o.changed(c._id,h)),p=e+1})},r.diffObjects=function(e,n,d){i.each(e,function(e,a){i.has(n,a)?d.both&&d.both(a,e,n[a]):d.leftOnly&&d.leftOnly(a,e)}),d.rightOnly&&i.each(n,function(n,a){i.has(e,a)||d.rightOnly(a,n)})},r.makeChangedFields=function(e,n){var d={};return r.diffObjects(n,e,{leftOnly:function(e,n){d[e]=void 0},rightOnly:function(e,n){d[e]=n},both:function(e,n,i){a.equals(n,i)||(d[e]=i)}}),d},r.applyChanges=function(e,n){i.each(n,function(n,d){void 0===n?delete e[d]:e[d]=n})}}).call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var d in n)d in e||(e[d]=n[d])}(Package["diff-sequence"]={},{DiffSequence:r})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package.tracker.Tracker,t=Package.tracker.Deps,i=Package["mongo-id"].MongoID,a=Package["diff-sequence"].DiffSequence,c=Package.underscore._,f=Package.random.Random,u,d,s,l;(function(){var e=function(){u._suppressWarnings?u._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),u._loggedWarnings++)},n=i.idStringify,r=i.idParse;u={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,n){var r=null,i=null,f=[],u=o.autorun(function(){var u=e();o.nonreactive(function(){var e;if(i&&(f=c.map(r.fetch(),function(e){return{_id:e._id,item:e}}),i.stop(),i=null),u)if(u instanceof Array)e=s(f,u,n);else{if(!a(u))throw t();var o=l(f,u,n);e=o[0],i=o[1]}else e=d(f,n);v(f,e,n),r=u,f=e})});return{stop:function(){u.stop(),i&&i.stop()}}},fetch:function(e){if(e){if(e instanceof Array)return e;if(a(e))return e.fetch();throw t()}return[]}};var t=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},a=function(e){return e&&c.isObject(e)&&c.isFunction(e.observe)&&c.isFunction(e.fetch)},v=function(e,o,t){var i=Package["diff-sequence"].DiffSequence.diffQueryOrderedChanges,a=[],f=[],u={},d={},s={},l=e.length;c.each(o,function(e,r){f.push({_id:e._id}),d[n(e._id)]=r}),c.each(e,function(e,r){a.push({_id:e._id}),u[n(e._id)]=r,s[n(e._id)]=r}),i(a,f,{addedBefore:function(e,r,i){var a=i?s[n(i)]:l;i&&c.each(s,function(e,n){e>=a&&s[n]++}),l++,s[n(e)]=a,t.addedAt(e,o[d[n(e)]].item,a,i)},movedBefore:function(e,r){if(e!==r){var i=s[n(e)],a=r?s[n(r)]:l;a>i&&a--,c.each(s,function(e,n){i<e&&e<a?s[n]--:a<=e&&e<i&&s[n]++}),s[n(e)]=a,t.movedTo(e,o[d[n(e)]].item,i,a,r)}},removed:function(r){var o=s[n(r)];c.each(s,function(e,n){e>=o&&s[n]--}),delete s[n(r)],l--,t.removedAt(r,e[u[n(r)]].item,o)}}),c.each(d,function(n,i){var a=r(i);if(c.has(u,i)){var f=o[n].item,d=e[u[i]].item;"object"!=typeof f&&f===d||t.changedAt(a,f,d,n)}})};d=function(e,n){return[]},s=function(r,o,t){var i={};return c.map(o,function(r,t){var a;if("string"==typeof r)a="-"+r;else if("number"==typeof r||"boolean"==typeof r||void 0===r||null===r)a=r;else{if("object"!=typeof r)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof r);a=r&&"_id"in r?r._id:t}var c=n(a);return i[c]?(r&&"object"==typeof r&&"_id"in r&&e("duplicate id "+a+" in",o),a=f.id()):i[c]=!0,{_id:a,item:r}})},l=function(e,n,r){var o=!0,t=[],i=n.observe({addedAt:function(e,n,i){if(o){if(null!==i)throw new Error("Expected initial data from observe in order");t.push({_id:e._id,item:e})}else r.addedAt(e._id,e,n,i)},changedAt:function(e,n,o){r.changedAt(e._id,e,n,o)},removedAt:function(e,n){r.removedAt(e._id,e,n)},movedTo:function(e,n,o,t){r.movedTo(e._id,e,n,o,t)}});return o=!1,[t,i]}}).call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var r in n)r in e||(e[r]=n[r])}(Package["observe-sequence"]={},{ObserveSequence:u})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.tracker.Tracker,r=Package.tracker.Deps,i;(function(){(i=function(e,t){if(!(this instanceof i))return new i(e,t);this.curValue=e,this.equalsFunc=t,this.dep=new a.Dependency})._isEqual=function(e,t){var n=e;return n===t&&(!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n)},i.prototype.get=function(){return a.active&&this.dep.depend(),this.curValue},i.prototype.set=function(e){var t=this.curValue;(this.equalsFunc||i._isEqual)(t,e)||(this.curValue=e,this.dep.changed())},i.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},i.prototype._numListeners=function(){var e=0;for(var t in this.dep._dependentsById)e++;return e}}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["reactive-var"]={},{ReactiveVar:i})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,i=Package.meteor.meteorEnv,r=Package.tracker.Tracker,n=Package.tracker.Deps,o,a,s;(function(){o={},a=function(t){return t},s=Array.prototype.slice}).call(this),function(){var t=Object.prototype.hasOwnProperty,e=function(e,i){for(var r in i)t.call(i,r)&&(e[r]=i[r]);return e};o.Visitor=function(t){e(this,t)},o.Visitor.def=function(t){e(this.prototype,t)},o.Visitor.extend=function(t){var i=this,r=function t(){o.Visitor.apply(this,arguments)};return r.prototype=new i,r.extend=i.extend,r.def=i.def,t&&e(r.prototype,t),r},o.Visitor.def({visit:function(t){if(null==t)return this.visitNull.apply(this,arguments);if("object"==typeof t){if(t.htmljsType)switch(t.htmljsType){case o.Tag.htmljsType:return this.visitTag.apply(this,arguments);case o.CharRef.htmljsType:return this.visitCharRef.apply(this,arguments);case o.Comment.htmljsType:return this.visitComment.apply(this,arguments);case o.Raw.htmljsType:return this.visitRaw.apply(this,arguments);default:throw new Error("Unknown htmljs type: "+t.htmljsType)}return o.isArray(t)?this.visitArray.apply(this,arguments):this.visitObject.apply(this,arguments)}if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return this.visitPrimitive.apply(this,arguments);if("function"==typeof t)return this.visitFunction.apply(this,arguments);throw new Error("Unexpected object in htmljs: "+t)},visitNull:function(t){},visitPrimitive:function(t){},visitArray:function(t){},visitComment:function(t){},visitCharRef:function(t){},visitRaw:function(t){},visitTag:function(t){},visitObject:function(t){throw new Error("Unexpected object in htmljs: "+t)},visitFunction:function(t){throw new Error("Unexpected function in htmljs: "+t)}}),o.TransformingVisitor=o.Visitor.extend(),o.TransformingVisitor.def({visitNull:a,visitPrimitive:a,visitArray:function(t){for(var e=s.call(arguments),i=t,r=0;r<t.length;r++){var n=t[r];e[0]=n;var o=this.visit.apply(this,e);o!==n&&(i===t&&(i=t.slice()),i[r]=o)}return i},visitComment:a,visitCharRef:a,visitRaw:a,visitObject:a,visitFunction:a,visitTag:function(t){var e=t.children,i=s.call(arguments);i[0]=e;var r=this.visitChildren.apply(this,i),n=t.attrs;i[0]=n;var a=this.visitAttributes.apply(this,i);if(a===n&&r===e)return t;var l=o.getTag(t.tagName).apply(null,r);return l.attrs=a,l},visitChildren:function(t){return this.visitArray.apply(this,arguments)},visitAttributes:function(t){if(o.isArray(t)){for(var i=s.call(arguments),r=t,n=0;n<t.length;n++){var a=t[n];i[0]=a;var l=this.visitAttributes.apply(this,i);l!==a&&(r===t&&(r=t.slice()),r[n]=l)}return r}if(t&&o.isConstructedObject(t))throw new Error("The basic HTML.TransformingVisitor does not support foreign objects in attributes.  Define a custom visitAttributes for this case.");var u=t,f=u;if(u){var c=[null,null];c.push.apply(c,arguments);for(var h in u){var p=u[h];c[0]=h,c[1]=p;var m=this.visitAttribute.apply(this,c);m!==p&&(f===u&&(f=e({},u)),f[h]=m)}}return f},visitAttribute:function(t,e,i){var r=s.call(arguments,2);return r[0]=e,this.visit.apply(this,r)}}),o.ToTextVisitor=o.Visitor.extend(),o.ToTextVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return this.textMode===o.TEXTMODE.RCDATA?e.replace(/&/g,"&amp;").replace(/</g,"&lt;"):this.textMode===o.TEXTMODE.ATTRIBUTE?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):e},visitArray:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.visit(t[i]));return e.join("")},visitComment:function(t){throw new Error("Can't have a comment here")},visitCharRef:function(t){return this.textMode===o.TEXTMODE.RCDATA||this.textMode===o.TEXTMODE.ATTRIBUTE?t.html:t.str},visitRaw:function(t){return t.value},visitTag:function(t){return this.visit(this.toHTML(t))},visitObject:function(t){throw new Error("Unexpected object in htmljs in toText: "+t)},toHTML:function(t){return o.toHTML(t)}}),o.ToHTMLVisitor=o.Visitor.extend(),o.ToHTMLVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;")},visitArray:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.visit(t[i]));return e.join("")},visitComment:function(t){return"\x3c!--"+t.sanitizedValue+"--\x3e"},visitCharRef:function(t){return t.html},visitRaw:function(t){return t.value},visitTag:function(t){var e=[],i=t.tagName,r=t.children,n=t.attrs;if(n){n=o.flattenAttributes(n);for(var a in n)if("value"===a&&"textarea"===i)r=[n[a],r];else{var s=this.toText(n[a],o.TEXTMODE.ATTRIBUTE);e.push(" "+a+'="'+s+'"')}}var l="<"+i+e.join("")+">",u=[],f;if("textarea"===i){for(var c=0;c<r.length;c++)u.push(this.toText(r[c],o.TEXTMODE.RCDATA));"\n"===(f=u.join("")).slice(0,1)&&(f="\n"+f)}else{for(var c=0;c<r.length;c++)u.push(this.visit(r[c]));f=u.join("")}var h=l+f;return!r.length&&o.isVoidElement(i)||(h+="</"+i+">"),h},visitObject:function(t){throw new Error("Unexpected object in htmljs in toHTML: "+t)},toText:function(t,e){return o.toText(t,e)}})}.call(this),function(){o.Tag=function(){},o.Tag.prototype.tagName="",o.Tag.prototype.attrs=null,o.Tag.prototype.children=Object.freeze?Object.freeze([]):[],o.Tag.prototype.htmljsType=o.Tag.htmljsType=["Tag"];var t=function(t){var e=function(){var t=this instanceof o.Tag?this:new e,i=0,r=arguments.length&&arguments[0];if(r&&"object"==typeof r)if(o.isConstructedObject(r)){if(r instanceof o.Attrs){var n=r.value;1===n.length?t.attrs=n[0]:n.length>1&&(t.attrs=n),i++}}else t.attrs=r,i++;return i<arguments.length&&(t.children=s.call(arguments,i)),t};return e.prototype=new o.Tag,e.prototype.constructor=e,e.prototype.tagName=t,e},e=o.Attrs=function(){var t=this instanceof e?this:new e;return t.value=s.call(arguments),t};o.getTag=function(e){var i=o.getSymbolName(e);if(i===e)throw new Error("Use the lowercase or camelCase form of '"+e+"' here");return o[i]||(o[i]=t(e)),o[i]},o.ensureTag=function(t){o.getTag(t)},o.isTagEnsured=function(t){return o.isKnownElement(t)},o.getSymbolName=function(t){return t.toUpperCase().replace(/-/g,"_")},o.knownElementNames="a abbr acronym address applet area article aside audio b base basefont bdi bdo big blockquote body br button canvas caption center cite code col colgroup command data datagrid datalist dd del details dfn dir div dl dt em embed eventsource fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins isindex kbd keygen label legend li link main map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr".split(" "),o.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),o.knownElementNames=o.knownElementNames.concat(o.knownSVGElementNames),o.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");var i={yes:!0},r=function(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=i;return e},n=r(o.voidElementNames),a=r(o.knownElementNames),l=r(o.knownSVGElementNames);o.isKnownElement=function(t){return a[t]===i},o.isKnownSVGElement=function(t){return l[t]===i},o.isVoidElement=function(t){return n[t]===i};for(var u=0;u<o.knownElementNames.length;u++)o.ensureTag(o.knownElementNames[u]);var f=o.CharRef=function(t){if(!(this instanceof f))return new f(t);if(!(t&&t.html&&t.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=t.html,this.str=t.str};f.prototype.htmljsType=f.htmljsType=["CharRef"];var c=o.Comment=function(t){if(!(this instanceof c))return new c(t);if("string"!=typeof t)throw new Error("HTML.Comment must be constructed with a string");this.value=t,this.sanitizedValue=t.replace(/^-|--+|-$/g,"")};c.prototype.htmljsType=c.htmljsType=["Comment"];var h=o.Raw=function(t){if(!(this instanceof h))return new h(t);if("string"!=typeof t)throw new Error("HTML.Raw must be constructed with a string");this.value=t};h.prototype.htmljsType=h.htmljsType=["Raw"],o.isArray=function(t){return t instanceof Array},o.isConstructedObject=function(t){return t&&"object"==typeof t&&t.constructor!==Object&&"function"==typeof t.constructor&&t instanceof t.constructor},o.isNully=function(t){if(null==t)return!0;if(o.isArray(t)){for(var e=0;e<t.length;e++)if(!o.isNully(t[e]))return!1;return!0}return!1},o.isValidAttributeName=function(t){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(t)},o.flattenAttributes=function(t){if(!t)return t;var e=o.isArray(t);if(e&&0===t.length)return null;for(var i={},r=0,n=e?t.length:1;r<n;r++){var a=e?t[r]:t;if("object"!=typeof a||o.isConstructedObject(a))throw new Error("Expected plain JS object as attrs, found: "+a);for(var s in a){if(!o.isValidAttributeName(s))throw new Error("Illegal HTML attribute name: "+s);var l=a[s];o.isNully(l)||(i[s]=l)}}return i},o.toHTML=function(t){return(new o.ToHTMLVisitor).visit(t)},o.TEXTMODE={STRING:1,RCDATA:2,ATTRIBUTE:3},o.toText=function(t,e){if(!e)throw new Error("textMode required for HTML.toText");if(e!==o.TEXTMODE.STRING&&e!==o.TEXTMODE.RCDATA&&e!==o.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+e);return new o.ToTextVisitor({textMode:e}).visit(t)}}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var i in e)i in t||(t[i]=e[i])}(Package.htmljs={},{HTML:o})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.jquery.$,i=Package.jquery.jQuery,a=Package.tracker.Tracker,o=Package.tracker.Deps,s=Package.check.check,l=Package.check.Match,c=Package.underscore._,u=Package["observe-sequence"].ObserveSequence,d=Package["reactive-var"].ReactiveVar,p=Package.htmljs.HTML,f,h,m,w,v;(function(){(f={})._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),f._warn=function(e){e="Warning: "+e,"undefined"!=typeof console&&console.warn&&console.warn(e)};var e=Function.prototype.bind;f._bind=e?function(t,n){if(2===arguments.length)return e.call(t,n);for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return e.apply(t,r.slice(1))}:c.bind}).call(this),function(){var e={};f._DOMBackend=e;var t=void 0!==i?i:"undefined"!=typeof Package?Package.jquery&&Package.jquery.jQuery:null;if(!t)throw new Error("jQuery not found");e._$jq=t,e.parseHTML=function(e){return t.parseHTML(e)||[]},e.Events={delegateEvents:function(e,n,r,i){t(e).on(n,r,i)},undelegateEvents:function(e,n,r){t(e).off(n,"**",r)},bindEventCapturer:function(n,r,i,a){var o=t(n),s=function(e){(e=t.event.fix(e)).currentTarget=e.target,t(e.currentTarget).is(o.find(i))&&a.call(n,e)};a._meteorui_wrapper=s,r=e.Events.parseEventType(r),n.addEventListener(r,s,!0)},unbindEventCapturer:function(t,n,r){n=e.Events.parseEventType(n),t.removeEventListener(n,r._meteorui_wrapper,!0)},parseEventType:function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}};var n=function(){},r=function(e){this.next=this,this.prev=this,this.func=e};r.prototype.linkBefore=function(e){this.prev=e.prev,this.next=e,e.prev.next=this,e.prev=this},r.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},r.prototype.go=function(){var e=this.func;e&&e()},r.prototype.stop=r.prototype.unlink,e.Teardown={_JQUERY_EVENT_NAME:"blaze_teardown_watcher",_CB_PROP:"$blaze_teardown_callbacks",onElementTeardown:function(i,a){var o=new r(a),s=e.Teardown._CB_PROP;return i[s]||(i[s]=new r,t(i).on(e.Teardown._JQUERY_EVENT_NAME,n)),o.linkBefore(i[s]),o},tearDownElement:function(e){for(var n=[],r=e.getElementsByTagName("*"),i=0;i<r.length;i++)n.push(r[i]);n.push(e),t.cleanData(n)}},t.event.special[e.Teardown._JQUERY_EVENT_NAME]={setup:function(){},teardown:function(){var t=this,n=t[e.Teardown._CB_PROP];if(n){for(var r=n.next;r!==n;)r.go(),r=r.next;n.go(),t[e.Teardown._CB_PROP]=null}}},e.findBySelector=function(e,n){return t(e,n)}}.call(this),function(){var e=Object.freeze?Object.freeze([]):[];f._DOMRange=function(n){if(!(this instanceof t))return new t(n);var r=n||e;if(!r||"number"!=typeof r.length)throw new Error("Expected array");for(var i=0;i<r.length;i++)this._memberIn(r[i]);this.members=r,this.emptyRangePlaceholder=null,this.attached=!1,this.parentElement=null,this.parentRange=null,this.attachedCallbacks=e};var t=f._DOMRange;t._USE_COMMENT_PLACEHOLDERS=function(){var e=!1,t=document.createTextNode("");try{t.someProp=!0}catch(t){e=!0}return e}(),t._insert=function(e,n,r,i){var a=e;a instanceof t?a.attach(n,r,i):i?t._moveNodeWithHooks(a,n,r):t._insertNodeWithHooks(a,n,r)},t._remove=function(e){var n=e;n instanceof t?n.detach():t._removeNodeWithHooks(n)},t._removeNodeWithHooks=function(e){e.parentNode&&(1===e.nodeType&&e.parentNode._uihooks&&e.parentNode._uihooks.removeElement?e.parentNode._uihooks.removeElement(e):e.parentNode.removeChild(e))},t._insertNodeWithHooks=function(e,t,n){n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.insertElement?t._uihooks.insertElement(e,n):t.insertBefore(e,n)},t._moveNodeWithHooks=function(e,t,n){e.parentNode===t&&(n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.moveElement?t._uihooks.moveElement(e,n):t.insertBefore(e,n))},t.forElement=function(e){if(1!==e.nodeType)throw new Error("Expected element, found: "+e);for(var t=null;e&&!t;)(t=e.$blaze_range||null)||(e=e.parentNode);return t},t.prototype.attach=function(e,n,r,i){if((r||i)&&(this.parentElement!==e||!this.attached))throw new Error("Can only move or replace an attached DOMRange, and only under the same parent element");var a=this.members;if(a.length){this.emptyRangePlaceholder=null;for(var o=0;o<a.length;o++)t._insert(a[o],e,n,r)}else{var s=t._USE_COMMENT_PLACEHOLDERS?document.createComment(""):document.createTextNode("");this.emptyRangePlaceholder=s,e.insertBefore(s,n||null)}if(this.attached=!0,this.parentElement=e,!r&&!i)for(var o=0;o<this.attachedCallbacks.length;o++){var l=this.attachedCallbacks[o];l.attached&&l.attached(this,e)}},t.prototype.setMembers=function(e){var t=e;if(!t||"number"!=typeof t.length)throw new Error("Expected array");for(var n=this.members,r=0;r<n.length;r++)this._memberOut(n[r]);for(var r=0;r<t.length;r++)this._memberIn(t[r]);if(this.attached){if(t.length||n.length){var i=this.lastNode().nextSibling,a=this.parentElement;this.detach(!0),this.members=t,this.attach(a,i,!1,!0)}}else this.members=t},t.prototype.firstNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[0];return e instanceof t?e.firstNode():e},t.prototype.lastNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[this.members.length-1];return e instanceof t?e.lastNode():e},t.prototype.detach=function(e){if(!this.attached)throw new Error("Must be attached");var n=this.parentElement,r=this.members;if(r.length)for(var i=0;i<r.length;i++)t._remove(r[i]);else{var a=this.emptyRangePlaceholder;this.parentElement.removeChild(a),this.emptyRangePlaceholder=null}if(!e){this.attached=!1,this.parentElement=null;for(var i=0;i<this.attachedCallbacks.length;i++){var o=this.attachedCallbacks[i];o.detached&&o.detached(this,n)}}},t.prototype.addMember=function(e,n,r){var i=this.members;if(!(n>=0&&n<=i.length))throw new Error("Bad index in range.addMember: "+n);if(r||this._memberIn(e),this.attached)if(0===i.length)this.setMembers([e]);else{var a;if(n===i.length)a=this.lastNode().nextSibling;else{var o=i[n];a=o instanceof t?o.firstNode():o}i.splice(n,0,e),t._insert(e,this.parentElement,a,r)}else i.splice(n,0,e)},t.prototype.removeMember=function(n,r){var i=this.members;if(!(n>=0&&n<i.length))throw new Error("Bad index in range.removeMember: "+n);if(r)i.splice(n,1);else{var a=i[n];this._memberOut(a),1===i.length?this.setMembers(e):(i.splice(n,1),this.attached&&t._remove(a))}},t.prototype.moveMember=function(e,t){var n=this.members[e];this.removeMember(e,!0),this.addMember(n,t,!0)},t.prototype.getMember=function(e){var t=this.members;if(!(e>=0&&e<t.length))throw new Error("Bad index in range.getMember: "+e);return this.members[e]},t.prototype._memberIn=function(e){e instanceof t?e.parentRange=this:1===e.nodeType&&(e.$blaze_range=this)},t._destroy=function(e,n){e instanceof t?e.view&&f._destroyView(e.view,n):n||1!==e.nodeType||e.$blaze_range&&(f._destroyNode(e),e.$blaze_range=null)},t.prototype._memberOut=t._destroy,t.prototype.destroyMembers=function(e){for(var t=this.members,n=0;n<t.length;n++)this._memberOut(t[n],e)},t.prototype.destroy=function(e){t._destroy(this,e)},t.prototype.containsElement=function(e){if(!this.attached)throw new Error("Must be attached");if(!f._elementContains(this.parentElement,e))return!1;for(;e.parentNode!==this.parentElement;)e=e.parentNode;for(var t=e.$blaze_range;t&&t!==this;)t=t.parentRange;return t===this},t.prototype.containsRange=function(e){if(!this.attached)throw new Error("Must be attached");if(!e.attached)return!1;if(e.parentElement!==this.parentElement)return this.containsElement(e.parentElement);if(e===this)return!1;for(;e&&e!==this;)e=e.parentRange;return e===this},t.prototype.onAttached=function(e){this.onAttachedDetached({attached:e})},t.prototype.onAttachedDetached=function(t){this.attachedCallbacks===e&&(this.attachedCallbacks=[]),this.attachedCallbacks.push(t)},t.prototype.$=function(e){var t=this,n=this.parentElement;if(!n)throw new Error("Can't select in removed DomRange");if(11===n.nodeType)throw new Error("Can't use $ on an offscreen range");var r=f._DOMBackend.findBySelector(e,n),i=function(e){return"number"==typeof e&&(e=this),t.containsElement(e)};if(r.filter)r=r.filter(i);else{for(var a=[],o=0;o<r.length;o++){var s=r[o];i(s)&&a.push(s)}r=a}return r},f._elementContains=function(e,t){return 1===e.nodeType&&(e!==t&&(e.compareDocumentPosition?16&e.compareDocumentPosition(t):!(!(t=t.parentNode)||1!==t.nodeType)&&(e===t||e.contains(t))))}}.call(this),function(){var e=f._EventSupport={},t=f._DOMBackend,n=e.eventsToDelegate={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},r=e.EVENT_MODE={TBD:0,BUBBLING:1,CAPTURING:2},i=1,a=function(e,a,o,s,l){this.elem=e,this.type=a,this.selector=o,this.handler=s,this.recipient=l,this.id=i++,this.mode=r.TBD,this.delegatedHandler=function(e){return function(t){if(e.selector||t.currentTarget===t.target)return e.handler.apply(e.recipient,arguments)}}(this),e.addEventListener&&!c.has(n,t.Events.parseEventType(a))?this.capturingHandler=function(e){return function(n){if(e.mode===r.TBD){if(n.bubbles)return e.mode=r.BUBBLING,void t.Events.unbindEventCapturer(e.elem,e.type,e.capturingHandler);e.mode=r.CAPTURING,t.Events.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(n)}}(this):this.mode=r.BUBBLING};e.HandlerRec=a,a.prototype.bind=function(){this.mode!==r.BUBBLING&&t.Events.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},a.prototype.unbind=function(){this.mode!==r.BUBBLING&&t.Events.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.undelegateEvents(this.elem,this.type,this.delegatedHandler)},e.listen=function(e,t,n,r,i,o){try{e=e}finally{}var s=[];t.replace(/[^ /]+/g,function(e){s.push(e)});for(var l=[],c=0,u=s.length;c<u;c++){var d=s[c],p=e.$blaze_events;p||(p=e.$blaze_events={});var f=p[d];f||((f=p[d]={}).handlers=[]);var h=f.handlers,m=new a(e,d,n,r,i);if(l.push(m),m.bind(),h.push(m),o)for(var w=o(i);w;w=o(w))for(var v=0,_=h.length;v<_;v++){var g=h[v];g.recipient===w&&(g.unbind(),g.bind(),h.splice(v,1),h.push(g),v--,_--)}}return{stop:function(){var t=e.$blaze_events;if(t){for(var n=0;n<l.length;n++){var r=l[n],i=t[r.type];if(i)for(var a=i.handlers,o=a.length-1;o>=0;o--)a[o]===r&&(r.unbind(),a.splice(o,1))}l.length=0}}}}}.call(this),function(){var t=!1;f._allowJavascriptUrls=function(){t=!0},f._javascriptUrlsAllowed=function(){return t},h=function(e,t){this.name=e,this.value=t},f._AttributeHandler=h,h.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},h.extend=function(e){var t=this,n=function e(){h.apply(this,arguments)};return n.prototype=new t,n.extend=t.extend,e&&c.extend(n.prototype,e),n},f._DiffingAttributeHandler=h.extend({update:function(e,t,n){if(!this.getCurrentValue||!this.setValue||!this.parseValue)throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var r=t?this.parseValue(t):{},i=n?this.parseValue(n):{},a=this.getCurrentValue(e),o=a?this.parseValue(a):{};c.each(c.keys(r),function(e){e in i||delete o[e]}),c.each(c.keys(i),function(e){o[e]=i[e]}),this.setValue(e,c.values(o).join(" "))}});var n=f._DiffingAttributeHandler.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t},parseValue:function(e){var t={};return c.each(e.split(" "),function(e){e&&(t[e]=e)}),t}}),i=n.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),a=f._DiffingAttributeHandler.extend({getCurrentValue:function(e){return e.getAttribute("style")},setValue:function(e,t){""===t?e.removeAttribute("style"):e.setAttribute("style",t)},parseValue:function(e){for(var t={},n=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,i=n.exec(e);i;)t[" "+i[1]]=i[0].trim?i[0].trim():r.trim(i[0]),i=n.exec(e);return t}}),o=h.extend({update:function(e,t,n){var r=this.name;null==n?null!=t&&(e[r]=!1):e[r]=!0}}),s=h.extend({update:function(e,t,n){var r=this.name;n!==e[r]&&(e[r]=n)}}),l=h.extend({update:function(e,t,n){var r="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(r,this.name):e.setAttributeNS(r,this.name,this.value)}}),u=function(e){return"ownerSVGElement"in e},d=function(e,t){var n={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]};if("itemid"===t)return!0;var r=n[e]||[];return c.contains(r,t)};if(e.isClient)var p=document.createElement("A");var w=function(t){if(e.isClient)return p.href=t,(p.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},v=h.prototype.update,_=h.extend({update:function(e,t,n){var r=this,i=arguments;if(f._javascriptUrlsAllowed())v.apply(r,i);else{var a="javascript:"===w(n),o="vbscript:"===w(n);a||o?(f._warn("URLs that use the 'javascript:' or 'vbscript:' protocol are not allowed in URL attribute values. Call Blaze._allowJavascriptUrls() to enable them."),v.apply(r,[e,t,null])):v.apply(r,i)}}});f._makeAttributeHandler=function(e,t,r){return"class"===t?u(e)?new i(t,r):new n(t,r):"style"===t?new a(t,r):"OPTION"===e.tagName&&"selected"===t||"INPUT"===e.tagName&&"checked"===t?new o(t,r):"autofocus"===t||"disabled"===t||"hidden"===t||"readonly"===t||"required"===t?new o(t,r):"FORM"===e.tagName&&"novalidate"===t?new o(t,r):"IFRAME"!==e.tagName||"sandbox"!==t||r?"IMG"===e.tagName&&"ismap"===t?new o(t,r):"INPUT"!==e.tagName&&"SELECT"!==e.tagName||"multiple"!==t?"OL"===e.tagName&&"reversed"===t?new o(t,r):"SCRIPT"===e.tagName&&"defer"===t?new o(t,r):"VIDEO"!==e.tagName||"autoplay"!==t&&"controls"!==t&&"loop"!==t&&"muted"!==t?"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==t?"xlink:"===t.substring(0,6)?new l(t.substring(6),r):d(e.tagName,t)?new _(t,r):new h(t,r):new s(t,r):new o(t,r):new o(t,r):new o(t,!!r)},(m=function(e){this.elem=e,this.handlers={}}).prototype.update=function(e){var t=this.elem,n=this.handlers;for(var r in n)if(!c.has(e,r)){var i=(a=n[r]).value;a.value=null,a.update(t,i,null),delete n[r]}for(var r in e){var a=null,i,o=e[r];c.has(n,r)?i=(a=n[r]).value:null!==o&&(a=f._makeAttributeHandler(t,r,o),n[r]=a,i=null),i!==o&&(a.value=o,a.update(t,i,o),null===o&&delete n[r])}}}.call(this),function(){f._materializeDOM=function(t,n,r,i){var a=i||[];if(e(t,n,r,a),!i)for(;a.length;)a.pop()();return n};var e=function(e,n,r,i){if(null!=e){switch(typeof e){case"string":case"boolean":case"number":return void n.push(document.createTextNode(String(e)));case"object":if(e.htmljsType)switch(e.htmljsType){case p.Tag.htmljsType:return void n.push(t(e,r,i));case p.CharRef.htmljsType:return void n.push(document.createTextNode(e.str));case p.Comment.htmljsType:return void n.push(document.createComment(e.sanitizedValue));case p.Raw.htmljsType:for(var a=f._DOMBackend.parseHTML(e.value),o=0;o<a.length;o++)n.push(a[o]);return}else{if(p.isArray(e)){for(var o=e.length-1;o>=0;o--)i.push(f._bind(f._materializeDOM,null,e[o],n,r,i));return}if(e instanceof f.Template&&(e=e.constructView()),e instanceof f.View)return void f._materializeView(e,r,i,n)}}throw new Error("Unexpected object in htmljs: "+e)}},t=function(e,t,r){var i=e.tagName,o;o=(p.isKnownSVGElement(i)||n(e))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",i):document.createElement(i);var s=e.attrs,l=e.children;if("textarea"===i&&e.children.length&&!(s&&"value"in s)){if("function"==typeof s||p.isArray(s))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");(s=c.extend({},s||null)).value=f._expand(l,t),l=[]}if(s){var u=new m(o),d=function(){var e=f._expandAttributes(s,t),n=p.flattenAttributes(e),r={};for(var i in n)r[i]=f._toText(n[i],t,p.TEXTMODE.STRING);u.update(r)},h;h=t?t.autorun(d,void 0,"updater"):a.nonreactive(function(){return a.autorun(function(){a._withCurrentView(t,d)})}),f._DOMBackend.Teardown.onElementTeardown(o,function e(){h.stop()})}if(l.length){var w=[];r.push(function(){for(var e=0;e<w.length;e++){var t=w[e];t instanceof f._DOMRange?t.attach(o):o.appendChild(t)}}),r.push(f._bind(f._materializeDOM,null,l,w,t,r))}return o},n=function(e){return"a"===e.tagName&&e.attrs&&void 0!==e.attrs["xlink:href"]}}.call(this),function(){var t;f._throwNextException=!1,f._reportException=function(n,r){if(f._throwNextException)throw f._throwNextException=!1,n;t||(t=function(){return void 0!==e?e._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),t()(r||"Exception caught in template:",n.stack||n.message||n)},f._wrapCatchingExceptions=function(e,t){return"function"!=typeof e?e:function(){try{return e.apply(this,arguments)}catch(e){f._reportException(e,"Exception in "+t+":")}}}}.call(this),function(){f.View=function(e,t){if(!(this instanceof f.View))return new f.View(e,t);"function"==typeof e&&(t=e,e=""),this.name=e,this._render=t,this._callbacks={created:null,rendered:null,destroyed:null},this.isCreated=!1,this._isCreatedForExpansion=!1,this.isRendered=!1,this._isAttached=!1,this.isDestroyed=!1,this._isInRender=!1,this.parentView=null,this._domrange=null,this._hasGeneratedParent=!1,this._scopeBindings={},this.renderCount=0},f.View.prototype._render=function(){return null},f.View.prototype.onViewCreated=function(e){this._callbacks.created=this._callbacks.created||[],this._callbacks.created.push(e)},f.View.prototype._onViewRendered=function(e){this._callbacks.rendered=this._callbacks.rendered||[],this._callbacks.rendered.push(e)},f.View.prototype.onViewReady=function(e){var t=this,n=function(){a.afterFlush(function(){t.isDestroyed||f._withCurrentView(t,function(){e.call(t)})})};t._onViewRendered(function e(){t.isDestroyed||(t._domrange.attached?n():t._domrange.onAttached(n))})},f.View.prototype.onViewDestroyed=function(e){this._callbacks.destroyed=this._callbacks.destroyed||[],this._callbacks.destroyed.push(e)},f.View.prototype.removeViewDestroyedListener=function(e){var t=this._callbacks.destroyed;if(t){var n=c.lastIndexOf(t,e);-1!==n&&(t[n]=null)}},f.View.prototype.autorun=function(e,t,n){var r=this;if(!r.isCreated)throw new Error("View#autorun must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#autorun from inside render(); try calling it from the created or rendered callback");var i=f.Template._currentTemplateInstanceFunc,o=function n(a){return f._withCurrentView(t||r,function(){return f.Template._withTemplateInstanceFunc(i,function(){return e.call(r,a)})})};o.displayName=(r.name||"anonymous")+":"+(n||"anonymous");var s=a.autorun(o),l=function(){s.stop()};return r.onViewDestroyed(l),s.onStop(function(){r.removeViewDestroyedListener(l)}),s},f.View.prototype._errorIfShouldntCallSubscribe=function(){var e=this;if(!e.isCreated)throw new Error("View#subscribe must be called from the created callback at the earliest");if(e._isInRender)throw new Error("Can't call View#subscribe from inside render(); try calling it from the created or rendered callback");if(e.isDestroyed)throw new Error("Can't call View#subscribe from inside the destroyed callback, try calling it inside created or rendered.")},f.View.prototype.subscribe=function(t,n){var r=this;n=n||{},r._errorIfShouldntCallSubscribe();var i;return i=n.connection?n.connection.subscribe.apply(n.connection,t):e.subscribe.apply(e,t),r.onViewDestroyed(function(){i.stop()}),i},f.View.prototype.firstNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.firstNode()},f.View.prototype.lastNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.lastNode()},f._fireCallbacks=function(e,t){f._withCurrentView(e,function(){a.nonreactive(function n(){for(var r=e._callbacks[t],i=0,a=r&&r.length;i<a;i++)r[i]&&r[i].call(e)})})},f._createView=function(e,t,n){if(e.isCreated)throw new Error("Can't render the same View twice");e.parentView=t||null,e.isCreated=!0,n&&(e._isCreatedForExpansion=!0),f._fireCallbacks(e,"created")};var t=function(e,t){var n=new f._DOMRange(t);e._domrange=n,n.view=e,e.isRendered=!0,f._fireCallbacks(e,"rendered");var r=null;return n.onAttached(function t(n,i){e._isAttached=!0,r=f._DOMBackend.Teardown.onElementTeardown(i,function t(){f._destroyView(e,!0)})}),e.onViewDestroyed(function(){r&&r.stop(),r=null}),n};f._materializeView=function(e,n,r,i){f._createView(e,n);var o,s;return a.nonreactive(function(){e.autorun(function t(n){e.renderCount++,e._isInRender=!0;var r=e._render();e._isInRender=!1,n.firstRun||a.nonreactive(function t(){var n=f._materializeDOM(r,[],e);f._isContentEqual(s,r)||(o.setMembers(n),f._fireCallbacks(e,"rendered"))}),s=r,a.onInvalidate(function(){o&&o.destroyMembers()})},void 0,"materialize");var n;r?(n=[],r.push(function(){o=t(e,n),n=null,i.push(o)}),r.push(f._bind(f._materializeDOM,null,s,n,e,r))):(n=f._materializeDOM(s,[],e),o=t(e,n),n=null)}),r?null:o},f._expandView=function(e,t){f._createView(e,t,!0),e._isInRender=!0;var n=f._withCurrentView(e,function(){return e._render()});e._isInRender=!1;var r=f._expand(n,e);return a.active?a.onInvalidate(function(){f._destroyView(e)}):f._destroyView(e),r},f._HTMLJSExpander=p.TransformingVisitor.extend(),f._HTMLJSExpander.def({visitObject:function(e){return e instanceof f.Template&&(e=e.constructView()),e instanceof f.View?f._expandView(e,this.parentView):p.TransformingVisitor.prototype.visitObject.call(this,e)},visitAttributes:function(e){return"function"==typeof e&&(e=f._withCurrentView(this.parentView,e)),p.TransformingVisitor.prototype.visitAttributes.call(this,e)},visitAttribute:function(e,t,n){return"function"==typeof t&&(t=f._withCurrentView(this.parentView,t)),p.TransformingVisitor.prototype.visitAttribute.call(this,e,t,n)}});var n=function(){var e=f.currentView;return e&&e._isInRender?e:null};f._expand=function(e,t){return t=t||n(),new f._HTMLJSExpander({parentView:t}).visit(e)},f._expandAttributes=function(e,t){return t=t||n(),new f._HTMLJSExpander({parentView:t}).visitAttributes(e)},f._destroyView=function(e,t){e.isDestroyed||(e.isDestroyed=!0,f._fireCallbacks(e,"destroyed"),e._domrange&&e._domrange.destroyMembers(t))},f._destroyNode=function(e){1===e.nodeType&&f._DOMBackend.Teardown.tearDownElement(e)},f._isContentEqual=function(e,t){return e instanceof p.Raw?t instanceof p.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)},f.currentView=null,f._withCurrentView=function(e,t){var n=f.currentView;try{return f.currentView=e,t()}finally{f.currentView=n}};var r=function(e){if(null===e)throw new Error("Can't render null");if(void 0===e)throw new Error("Can't render undefined");if(!(e instanceof f.View||e instanceof f.Template||"function"==typeof e))try{(new p.Visitor).visit(e)}catch(e){throw new Error("Expected Template or View")}},i=function(e){if(r(e),e instanceof f.Template)return e.constructView();if(e instanceof f.View)return e;var t=e;return"function"!=typeof t&&(t=function(){return e}),f.View("render",t)},o=function(e){return r(e),"function"!=typeof e?function(){return e}:e};f.render=function(e,t,r,a){if(t||f._warn("Blaze.render without a parent element is deprecated. You must specify where to insert the rendered content."),r instanceof f.View&&(a=r,r=null),t&&"number"!=typeof t.nodeType)throw new Error("'parentElement' must be a DOM node");if(r&&"number"!=typeof r.nodeType)throw new Error("'nextNode' must be a DOM node");a=a||n();var o=i(e);return f._materializeView(o,a),t&&o._domrange.attach(t,r),o},f.insert=function(e,t,n){if(f._warn("Blaze.insert has been deprecated.  Specify where to insert the rendered content in the call to Blaze.render."),!(e&&e._domrange instanceof f._DOMRange))throw new Error("Expected template rendered with Blaze.render");e._domrange.attach(t,n)},f.renderWithData=function(e,t,n,r,i){return f.render(f._TemplateWith(t,o(e)),n,r,i)},f.remove=function(e){if(!(e&&e._domrange instanceof f._DOMRange))throw new Error("Expected template rendered with Blaze.render");for(;e;){if(!e.isDestroyed){var t=e._domrange;t.attached&&!t.parentRange&&t.detach(),t.destroy()}e=e._hasGeneratedParent&&e.parentView}},f.toHTML=function(e,t){return t=t||n(),p.toHTML(f._expandView(i(e),t))},f.toHTMLWithData=function(e,t,r){return r=r||n(),p.toHTML(f._expandView(f._TemplateWith(t,o(e)),r))},f._toText=function(e,t,r){if("function"==typeof e)throw new Error("Blaze._toText doesn't take a function, just HTMLjs");if(null==t||t instanceof f.View||(r=t,t=null),t=t||n(),!r)throw new Error("textMode required");if(r!==p.TEXTMODE.STRING&&r!==p.TEXTMODE.RCDATA&&r!==p.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+r);return p.toText(f._expand(e,t),r)},f.getData=function(e){var t;if(e)if(e instanceof f.View){var n=e;t="with"===n.name?n:f.getView(n,"with")}else{if("number"!=typeof e.nodeType)throw new Error("Expected DOM element or View");if(1!==e.nodeType)throw new Error("Expected DOM element");t=f.getView(e,"with")}else t=f.getView("with");return t?t.dataVar.get():null},f.getElementData=function(e){if(f._warn("Blaze.getElementData has been deprecated.  Use Blaze.getData(element) instead."),1!==e.nodeType)throw new Error("Expected DOM element");return f.getData(e)},f.getView=function(e,t){var n=t;if("string"==typeof e&&(n=e,e=null),e){if(e instanceof f.View)return f._getParentView(e,n);if("number"==typeof e.nodeType)return f._getElementView(e,n);throw new Error("Expected DOM element or View")}return f._getCurrentView(n)},f._getCurrentView=function(e){var t=f.currentView;if(!t)throw new Error("There is no current view");if(e){for(;t&&t.name!==e;)t=t.parentView;return t||null}return t},f._getParentView=function(e,t){var n=e.parentView;if(t)for(;n&&n.name!==t;)n=n.parentView;return n||null},f._getElementView=function(e,t){for(var n=f._DOMRange.forElement(e),r=null;n&&!r;)(r=n.view||null)||(n=n.parentRange?n.parentRange:f._DOMRange.forElement(n.parentElement));if(t){for(;r&&r.name!==t;)r=r.parentView;return r||null}return r},f._addEventMap=function(e,t,n){n=n||null;var r=[];if(!e._domrange)throw new Error("View must have a DOMRange");e._domrange.onAttached(function i(a,o){c.each(t,function(t,i){var s=i.split(/,\s+/);c.each(s,function(i){var s=i.split(/\s+/);if(0!==s.length){var l=s.shift(),c=s.join(" ");r.push(f._EventSupport.listen(o,l,c,function(r){if(!a.containsElement(r.currentTarget))return null;var i=n||this,o=arguments;return f._withCurrentView(e,function(){return t.apply(i,o)})},a,function(e){return e.parentRange}))}})})}),e.onViewDestroyed(function(){c.each(r,function(e){e.stop()}),r.length=0})}}.call(this),function(){f._calculateCondition=function(e){return e instanceof Array&&0===e.length&&(e=!1),!!e},f.With=function(e,t){var n=f.View("with",t);return n.dataVar=new d,n.onViewCreated(function(){"function"==typeof e?n.autorun(function(){n.dataVar.set(e())},n.parentView,"setData"):n.dataVar.set(e)}),n},f._attachBindingsToView=function(e,t){t.onViewCreated(function(){c.each(e,function(e,n){t._scopeBindings[n]=new d,"function"==typeof e?t.autorun(function(){t._scopeBindings[n].set(e())},t.parentView):t._scopeBindings[n].set(e)})})},f.Let=function(e,t){var n=f.View("let",t);return f._attachBindingsToView(e,n),n},f.If=function(e,t,n,r){var i=new d,a=f.View(r?"unless":"if",function(){return i.get()?t():n?n():null});return a.__conditionVar=i,a.onViewCreated(function(){this.autorun(function(){var t=f._calculateCondition(e());i.set(r?!t:t)},this.parentView,"condition")}),a},f.Unless=function(e,t,n){return f.If(e,t,n,!0)},f.Each=function(e,t,n){var r=f.View("each",function(){var e=this.initialSubviews;return this.initialSubviews=null,this._isCreatedForExpansion&&(this.expandedValueDep=new a.Dependency,this.expandedValueDep.depend()),e});r.initialSubviews=[],r.numItems=0,r.inElseMode=!1,r.stopHandle=null,r.contentFunc=t,r.elseFunc=n,r.argVar=new d,r.variableName=null;var i=function(e,t){void 0===t&&(t=r.numItems-1);for(var n=e;n<=t;n++)r._domrange.members[n].view._scopeBindings["@index"].set(n)};return r.onViewCreated(function(){r.autorun(function(){var t=e();c.isObject(t)&&c.has(t,"_sequence")&&(r.variableName=t._variable||null,t=t._sequence),r.argVar.set(t)},r.parentView,"collection"),r.stopHandle=u.observe(function(){return r.argVar.get()},{addedAt:function(e,t,n){a.nonreactive(function(){var e;e=r.variableName?f.View("item",r.contentFunc):f.With(t,r.contentFunc),r.numItems++;var a={};if(a["@index"]=n,r.variableName&&(a[r.variableName]=t),f._attachBindingsToView(a,e),r.expandedValueDep)r.expandedValueDep.changed();else if(r._domrange){r.inElseMode&&(r._domrange.removeMember(0),r.inElseMode=!1);var o=f._materializeView(e,r);r._domrange.addMember(o,n),i(n)}else r.initialSubviews.splice(n,0,e)})},removedAt:function(e,t,n){a.nonreactive(function(){r.numItems--,r.expandedValueDep?r.expandedValueDep.changed():r._domrange?(r._domrange.removeMember(n),i(n),r.elseFunc&&0===r.numItems&&(r.inElseMode=!0,r._domrange.addMember(f._materializeView(f.View("each_else",r.elseFunc),r),0))):r.initialSubviews.splice(n,1)})},changedAt:function(e,t,n,i){a.nonreactive(function(){if(r.expandedValueDep)r.expandedValueDep.changed();else{var e;e=r._domrange?r._domrange.getMember(i).view:r.initialSubviews[i],r.variableName?e._scopeBindings[r.variableName].set(t):e.dataVar.set(t)}})},movedTo:function(e,t,n,o){a.nonreactive(function(){if(r.expandedValueDep)r.expandedValueDep.changed();else if(r._domrange)r._domrange.moveMember(n,o),i(Math.min(n,o),Math.max(n,o));else{var e=r.initialSubviews,t=e[n];e.splice(n,1),e.splice(o,0,t)}})}}),r.elseFunc&&0===r.numItems&&(r.inElseMode=!0,r.initialSubviews[0]=f.View("each_else",r.elseFunc))}),r.onViewDestroyed(function(){r.stopHandle&&r.stopHandle.stop()}),r},f._TemplateWith=function(e,t){var n,r=e;"function"!=typeof e&&(r=function(){return e});var i=function(){var e=null;return n.parentView&&"InOuterTemplateScope"===n.parentView.name&&(e=n.parentView.originalParentView),e?f._withCurrentView(e,r):r()},a=function(){var e=t.call(this);return e instanceof f.Template&&(e=e.constructView()),e instanceof f.View&&(e._hasGeneratedParent=!0),e};return n=f.With(i,a),n.__isTemplateWith=!0,n},f._InOuterTemplateScope=function(e,t){var n=f.View("InOuterTemplateScope",t),r=e.parentView;return r.__isTemplateWith&&(r=r.parentView),n.onViewCreated(function(){this.originalParentView=this.parentView,this.parentView=r,this.__childDoesntStartNewLexicalScope=!0}),n},f.InOuterTemplateScope=f._InOuterTemplateScope}.call(this),function(){f._globalHelpers={},f.registerHelper=function(e,t){f._globalHelpers[e]=t},f.deregisterHelper=function(e){delete f._globalHelpers[e]};var e=function(e,t){return"function"!=typeof e?e:f._bind(e,t)},t=function(e){return"function"==typeof e?function(){var t=f.getData();return null==t&&(t={}),e.apply(t,arguments)}:e};f._OLDSTYLE_HELPER={},f._getTemplateHelper=function(e,r,i){var a=!1;if(e.__helpers.has(r)){var o=e.__helpers.get(r);if(o!==f._OLDSTYLE_HELPER)return null!=o?n(t(o),i):null;a=!0}return r in e&&(a||(e.__helpers.set(r,f._OLDSTYLE_HELPER),e._NOWARN_OLDSTYLE_HELPERS||f._warn("Assigning helper with `"+e.viewName+"."+r+" = ...` is deprecated.  Use `"+e.viewName+".helpers(...)` instead.")),null!=e[r])?n(t(e[r]),i):null};var n=function(e,t){return"function"!=typeof e?e:function(){var n=this,r=arguments;return f.Template._withTemplateInstanceFunc(t,function(){return f._wrapCatchingExceptions(e,"template helper").apply(n,r)})}};f._lexicalBindingLookup=function(e,t){var n=e,r=[];do{if(c.has(n._scopeBindings,t)){var i=n._scopeBindings[t];return function(){return i.get()}}}while((!n.__startsNewLexicalScope||n.parentView&&n.parentView.__childDoesntStartNewLexicalScope)&&(n=n.parentView));return null},f._getTemplate=function(e,t){return e in f.Template&&f.Template[e]instanceof f.Template?f.Template[e]:null},f._getGlobalHelper=function(e,r){return null!=f._globalHelpers[e]?n(t(f._globalHelpers[e]),r):null},f.View.prototype.lookup=function(e,t){var n=this.template,r=t&&t.template,i,a,o,s;if(this.templateInstance&&(o=f._bind(this.templateInstance,this)),/^\./.test(e)){if(!/^(\.)+$/.test(e))throw new Error("id starting with dot must be a series of dots");return f._parentData(e.length-1,!0)}return n&&null!=(i=f._getTemplateHelper(n,e,o))?i:n&&null!=(a=f._lexicalBindingLookup(f.currentView,e))?a:r&&null!=(s=f._getTemplate(e,o))?s:null!=(i=f._getGlobalHelper(e,o))?i:function(){var t=arguments.length>0,n=f.getData(),i=n&&n[e];if(!i){if(r)throw new Error("No such template: "+e);if(t)throw new Error("No such function: "+e);if("@"===e.charAt(0)&&(null===i||void 0===i))throw new Error("Unsupported directive: "+e)}if(!n)return null;if("function"!=typeof i){if(t)throw new Error("Can't call non-function: "+i);return i}return i.apply(n,arguments)}},f._parentData=function(e,t){null==e&&(e=1);for(var n=f.getView("with"),r=0;r<e&&n;r++)n=f.getView(n,"with");return n?t?function(){return n.dataVar.get()}:n.dataVar.get():null},f.View.prototype.lookupTemplate=function(e){return this.lookup(e,{template:!0})}}.call(this),function(){f.Template=function(e,n){if(!(this instanceof f.Template))return new f.Template(e,n);if("function"==typeof e&&(n=e,e=""),"string"!=typeof e)throw new Error("viewName must be a String (or omitted)");if("function"!=typeof n)throw new Error("renderFunction must be a function");this.viewName=e,this.renderFunction=n,this.__helpers=new t,this.__eventMaps=[],this._callbacks={created:[],rendered:[],destroyed:[]}};var e=f.Template,t=function(){};t.prototype.get=function(e){return this[" "+e]},t.prototype.set=function(e,t){this[" "+e]=t},t.prototype.has=function(e){return" "+e in this},f.isTemplate=function(e){return e instanceof f.Template},e.prototype.onCreated=function(e){this._callbacks.created.push(e)},e.prototype.onRendered=function(e){this._callbacks.rendered.push(e)},e.prototype.onDestroyed=function(e){this._callbacks.destroyed.push(e)},e.prototype._getCallbacks=function(e){var t=this,n=t[e]?[t[e]]:[];return n=n.concat(t._callbacks[e])};var n=function(t,n){e._withTemplateInstanceFunc(function(){return n},function(){for(var e=0,r=t.length;e<r;e++)t[e].call(n)})};e.prototype.constructView=function(t,r){var i=this,a=f.View(i.viewName,i.renderFunction);a.template=i,a.templateContentBlock=t?new e("(contentBlock)",t):null,a.templateElseBlock=r?new e("(elseBlock)",r):null,(i.__eventMaps||"object"==typeof i.events)&&a._onViewRendered(function(){1===a.renderCount&&(i.__eventMaps.length||"object"!=typeof i.events||e.prototype.events.call(i,i.events),c.each(i.__eventMaps,function(e){f._addEventMap(a,e,a)}))}),a._templateInstance=new f.TemplateInstance(a),a.templateInstance=function(){var e=a._templateInstance;return e.data=f.getData(a),a._domrange&&!a.isDestroyed?(e.firstNode=a._domrange.firstNode(),e.lastNode=a._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e};var o=i._getCallbacks("created");a.onViewCreated(function(){n(o,a.templateInstance())});var s=i._getCallbacks("rendered");a.onViewReady(function(){n(s,a.templateInstance())});var l=i._getCallbacks("destroyed");return a.onViewDestroyed(function(){n(l,a.templateInstance())}),a},f.TemplateInstance=function(e){if(!(this instanceof f.TemplateInstance))return new f.TemplateInstance(e);if(!(e instanceof f.View))throw new Error("View required");e._templateInstance=this,this.view=e,this.data=null,this.firstNode=null,this.lastNode=null,this._allSubsReadyDep=new a.Dependency,this._allSubsReady=!1,this._subscriptionHandles={}},f.TemplateInstance.prototype.$=function(e){var t=this.view;if(!t._domrange)throw new Error("Can't use $ on template instance with no DOM");return t._domrange.$(e)},f.TemplateInstance.prototype.findAll=function(e){return Array.prototype.slice.call(this.$(e))},f.TemplateInstance.prototype.find=function(e){return this.$(e)[0]||null},f.TemplateInstance.prototype.autorun=function(e){return this.view.autorun(e)},f.TemplateInstance.prototype.subscribe=function(){var e=this,t=e._subscriptionHandles,n=c.toArray(arguments),r={};if(n.length){var i=c.last(n),a={onReady:l.Optional(Function),onError:l.Optional(Function),onStop:l.Optional(Function),connection:l.Optional(l.Any)};c.isFunction(i)?r.onReady=n.pop():i&&!c.isEmpty(i)&&l.test(i,a)&&(r=n.pop())}var o,s=r.onStop;r.onStop=function(n){delete t[o.subscriptionId],e._allSubsReady||e._allSubsReadyDep.changed(),s&&s(n)};var u=r.connection,d=c.pick(r,["onReady","onError","onStop"]);return n.push(d),o=e.view.subscribe.call(e.view,n,{connection:u}),c.has(t,o.subscriptionId)||(t[o.subscriptionId]=o,e._allSubsReady&&e._allSubsReadyDep.changed()),o},f.TemplateInstance.prototype.subscriptionsReady=function(){return this._allSubsReadyDep.depend(),this._allSubsReady=c.all(this._subscriptionHandles,function(e){return e.ready()}),this._allSubsReady},e.prototype.helpers=function(e){if(!c.isObject(e))throw new Error("Helpers dictionary has to be an object");for(var t in e)this.__helpers.set(t,e[t])},e._currentTemplateInstanceFunc=null,e._withTemplateInstanceFunc=function(t,n){if("function"!=typeof n)throw new Error("Expected function, got: "+n);var r=e._currentTemplateInstanceFunc;try{return e._currentTemplateInstanceFunc=t,n()}finally{e._currentTemplateInstanceFunc=r}},e.prototype.events=function(t){if(!c.isObject(t))throw new Error("Event map has to be an object");var n=this,r={};for(var i in t)r[i]=function(t,n){return function(t){var r=this,i=f.getData(t.currentTarget);null==i&&(i={});var a=Array.prototype.slice.call(arguments),o=f._bind(r.templateInstance,r);return a.splice(1,0,o()),e._withTemplateInstanceFunc(o,function(){return n.apply(i,a)})}}(i,t[i]);n.__eventMaps.push(r)},e.instance=function(){return e._currentTemplateInstanceFunc&&e._currentTemplateInstanceFunc()},e.currentData=f.getData,e.parentData=f._parentData,e.registerHelper=f.registerHelper,e.deregisterHelper=f.deregisterHelper}.call(this),function(){w=f,f.ReactiveVar=d,w._templateInstance=f.Template.instance,(v={}).registerHelper=f.registerHelper,v._escape=f._escape,v.SafeString=function(e){this.string=e},v.SafeString.prototype.toString=function(){return this.string.toString()}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.blaze={},{Blaze:f,UI:w,Handlebars:v})}();

!function(){var a=Package.blaze.Blaze,e=Package.blaze.UI,n=Package.blaze.Handlebars;"undefined"==typeof Package&&(Package={}),function(a,e){for(var n in e)n in a||(a[n]=e[n])}(Package.ui={},{Blaze:a,UI:e,Handlebars:n})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["observe-sequence"].ObserveSequence,a=Package.underscore._,u=Package.tracker.Tracker,i=Package.tracker.Deps,c=Package.htmljs.HTML,l=Package.blaze.Blaze,o=Package.blaze.UI,f=Package.blaze.Handlebars,p;(function(){var e=function(e,t){return e===t};(p={}).include=function(t,n,r){if(!t)return null;if("function"!=typeof t){var a=t;if(!l.isTemplate(a))throw new Error("Expected template or null, found: "+a);return(i=t.constructView(n,r)).__startsNewLexicalScope=!0,i}var u=l.ReactiveVar(null,e),i=l.View("Spacebars.include",function(){var e=u.get();if(null===e)return null;if(!l.isTemplate(e))throw new Error("Expected template or null, found: "+e);return e.constructView(n,r)});return i.__templateVar=u,i.onViewCreated(function(){this.autorun(function(){u.set(t())})}),i.__startsNewLexicalScope=!0,i},p.mustacheImpl=function(e){var t=arguments;if(t.length>1){var n=t[t.length-1];if(n instanceof p.kw){var r={};for(var a in n.hash){var u=n.hash[a];r[a]="function"==typeof u?u():u}t[t.length-1]=p.kw(r)}else n=p.kw(),(t=Array.prototype.slice.call(arguments)).push(n)}return p.call.apply(null,t)},p.mustache=function(e){var t=p.mustacheImpl.apply(null,arguments);return t instanceof p.SafeString?c.Raw(t.toString()):null==t||!1===t?null:String(t)},p.attrMustache=function(e){var t=p.mustacheImpl.apply(null,arguments);if(null==t||""===t)return null;if("object"==typeof t)return t;if("string"==typeof t&&c.isValidAttributeName(t)){var n={};return n[t]="",n}throw new Error("Expected valid attribute name, '', null, or object")},p.dataMustache=function(e){return p.mustacheImpl.apply(null,arguments)},p.makeRaw=function(e){return null==e?null:e instanceof c.Raw?e:c.Raw(e)},p.call=function(e){if("function"==typeof e){for(var t=[],n=1;n<arguments.length;n++){var r=arguments[n];t[n-1]="function"==typeof r?r():r}return e.apply(null,t)}if(null!=e&&arguments.length>1)throw new Error("Can't call non-function: "+e);return e},p.kw=function(e){if(!(this instanceof p.kw))return new p.kw(e);this.hash=e||{}},p.SafeString=function(e){return this instanceof p.SafeString?new f.SafeString(e):new p.SafeString(e)},p.SafeString.prototype=f.SafeString.prototype,p.dot=function(e,t){if(arguments.length>2){var n=[];return n.push(p.dot(e,t)),n.push.apply(n,Array.prototype.slice.call(arguments,2)),p.dot.apply(null,n)}if("function"==typeof e&&(e=e()),!e)return e;var r=e[t];return"function"!=typeof r?r:function(){return r.apply(e,arguments)}},p.With=function(e,t,n){var r=new l.ReactiveVar,a=l.View("Spacebars_with",function(){return l.If(function(){return r.get()},function(){return l.With(function(){return r.get()},t)},n)});return a.onViewCreated(function(){this.autorun(function(){r.set(e()),u.onInvalidate(function(){r.dep.changed()})})}),a},p.TemplateWith=l._TemplateWith}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.spacebars={},{Spacebars:p})}();

"undefined"==typeof Package&&(Package={}),Package["templating-compiler"]={};

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,o=Package.blaze.Blaze,c=Package.blaze.UI,r=Package.blaze.Handlebars,i=Package.spacebars.Spacebars,u=Package.htmljs.HTML,l;(function(){l=o.Template;var e="__proto__ name".split(" ");l.__checkName=function(t){if(t in l||a.contains(e,t)){if(l[t]instanceof l&&"body"!==t)throw new Error("There are multiple templates named '"+t+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+t)}},l.__define__=function(e,t){l.__checkName(e),l[e]=new l("Template."+e,t),l[e]._NOWARN_OLDSTYLE_HELPERS=!0},l.body=new l("body",function(){var e=this;return a.map(l.body.contentRenderFuncs,function(t){return t.apply(e)})}),l.body.contentRenderFuncs=[],l.body.view=null,l.body.addContent=function(e){l.body.contentRenderFuncs.push(e)},l.body.renderToDocument=function(){if(!l.body.view){var e=o.render(l.body,document.body);l.body.view=e}},c.body=l.body,l.__body__=l.body,l.__body__.__contentParts=l.body.contentViews,l.__body__.__instantiate=l.body.renderToDocument}).call(this),function(){l.__checkName("__dynamic"),l.__dynamic=new l("Template.__dynamic",function(){var e=this;return[o.View("lookup:checkContext",function(){return i.mustache(e.lookup("checkContext"))}),"\n  ",o.If(function(){return i.call(e.lookup("dataContextPresent"))},function(){return["\n    ",i.include(e.lookupTemplate("__dynamicWithDataContext"),function(){return o._InOuterTemplateScope(e,function(){return i.include(function(){return i.call(e.templateContentBlock)})})}),"\n  "]},function(){return["\n    \n    ",o._TemplateWith(function(){return{template:i.call(e.lookup("template")),data:i.call(e.lookup(".."))}},function(){return i.include(e.lookupTemplate("__dynamicWithDataContext"),function(){return o._InOuterTemplateScope(e,function(){return i.include(function(){return i.call(e.templateContentBlock)})})})}),"\n  "]})]}),l.__checkName("__dynamicWithDataContext"),l.__dynamicWithDataContext=new l("Template.__dynamicWithDataContext",function(){var e=this;return i.With(function(){return i.dataMustache(e.lookup("chooseTemplate"),e.lookup("template"))},function(){return["\n    \n    ",o._TemplateWith(function(){return i.call(i.dot(e.lookup(".."),"data"))},function(){return i.include(e.lookupTemplate(".."),function(){return o._InOuterTemplateScope(e,function(){return i.include(function(){return i.call(e.templateContentBlock)})})})}),"\n  "]})})}.call(this),function(){var e=o.Template;e.__dynamicWithDataContext.helpers({chooseTemplate:function(t){return o._getTemplate(t,function(){return e.instance()})}}),e.__dynamic.helpers({dataContextPresent:function(){return a.has(this,"data")},checkContext:function(){if(!a.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> Template.dynamic}}.");a.each(this,function(e,t){if("template"!==t&&"data"!==t)throw new Error("Invalid argument to {{> Template.dynamic}}: "+t)})}})}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["templating-runtime"]={},{Template:l})}();

!function(){var a=Package["templating-runtime"].Template;"undefined"==typeof Package&&(Package={}),function(a,e){for(var n in e)n in a||(a[n]=e[n])}(Package.templating={},{Template:a})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,o=Package.ejson.EJSON,i;(function(){if(Package["cmather:iron-core"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){(i={}).utils={},i.utils.assert=function(e,t){if(!e)throw new Error(t)},i.utils.warn=function(e,t){e||console&&console.warn&&console.warn(t)},i.utils.defaultValue=function(e,t,n){return void 0===e[t]?(e[t]=n,n):e[t]},i.utils.inherits=function(e,t,n){i.utils.assert(void 0!==e,"Child is undefined in inherits function"),i.utils.assert(void 0!==t,"Parent is undefined in inherits function");for(var a in t)r.has(t,a)&&(e[a]=o.clone(t[a]));var s=function(){this.constructor=e};return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,r.isObject(n)&&r.extend(e.prototype,n),e},i.utils.extend=function(e,t){t=t||{};var n=function(){var e;(e=r.has(t,"constructor")?t.constructor:n.__super__.constructor).apply(this,arguments)};return i.utils.inherits(n,e,t)},i.utils.global=e.isClient?window:t,i.utils.namespace=function(e,t){var n=i.utils.global,r,o,a,s;i.utils.assert("string"==typeof e,"namespace must be a string"),a=(r=e.split(".")).pop(),s=n;for(var c=0;c<r.length;c++)s=s[o=r[c]]=s[o]||{};return 2===arguments.length?(s[a]=t,t):s[a]},i.utils.resolve=function(e){var t=i.utils.global,n,r;if("string"==typeof e){n=e.split("."),r=t;for(var o=0;o<n.length;o++)if(!(r=r[n[o]]))return}else r=e;return r},i.utils.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length)},i.utils.classCase=function(e){var t=/_|-|\.|\//;return e?r.map(e.split(t),function(e){return i.utils.capitalize(e)}).join(""):""},i.utils.camelCase=function(e){var t=i.utils.classCase(e);return t=t.charAt(0).toLowerCase()+t.slice(1,t.length)},i.utils.notifyDeprecated=function(e){var t,n,o,i,a="[:where] ':name' is deprecated. Please use ':instead' instead.";r.isObject(e)?(t=e.name,n=e.instead,o=e.message||a,i=e.where||"IronRouter"):(o=e,t="",n="",i=""),"undefined"!=typeof console&&console.warn&&console.warn("<deprecated> "+o.replace(":name",t).replace(":instead",n).replace(":where",i)+" "+(new Error).stack)},i.utils.withDeprecatedNotice=function(e,t,n){return function(){return Utils.notifyDeprecated(e),t&&t.apply(n||this,arguments)}},Function.prototype.deprecate=function(e){var t=this;return i.utils.withDeprecatedNotice(e,t)},i.utils.debug=function(e){return i.utils.assert("string"==typeof e,"debug requires a package name"),function t(){if(console&&console.log&&!0===i.debug){var n=r.toArray(arguments).join(" ");console.log("%c<"+e+"> %c"+n,"color: #999;","color: #000;")}}},i.utils.get=function(e){for(var t=1;t<arguments.length;t++){if(!(e&&arguments[t]in e))return;e=e[arguments[t]]}return e},i.utils.global.Iron=i}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["iron:core"]={},{Iron:i})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.ui.Blaze,r=Package.ui.UI,i=Package.ui.Handlebars,o=Package.underscore._,s=Package.jquery.$,u=Package.jquery.jQuery,c=Package.tracker.Tracker,l=Package.tracker.Deps,p=Package["reactive-var"].ReactiveVar,h=Package["templating-runtime"].Template,d=Package.random.Random,m=Package["iron:core"].Iron,_=Package.htmljs.HTML,f=Package.spacebars.Spacebars,v;(function(){if(Package["cmather:iron-dynamic-template"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){h.__checkName("__DynamicTemplateError__"),h.__DynamicTemplateError__=new h("Template.__DynamicTemplateError__",function(){var e=this;return _.DIV({style:"margin: 0 auto; color: red;"},"\n    ",a.View("lookup:msg",function(){return f.mustache(e.lookup("msg"))}),"\n  ")})}.call(this),function(){var e=m.utils.debug("iron:dynamic-template"),t=m.utils.assert,n=m.utils.get,i=m.utils.camelCase,u=function(e){return Object.prototype.toString.call(e)};(v=function(e){this._id=d.id(),this.options=e=e||{},this._template=e.template,this._defaultTemplate=e.defaultTemplate,this._content=e.content,this._data=e.data,this._templateDep=new c.Dependency,this._dataDep=new c.Dependency,this._lookupHostDep=new c.Dependency,this._lookupHostValue=null,this._hooks={},this._eventMap=null,this._eventHandles=null,this._eventThisArg=null,this.name=e.name||this.constructor.prototype.name||"DynamicTemplate",this.isCreated=!1,this.isDestroyed=!1}).prototype.template=function(e){if(1===arguments.length&&e!==this._template)return this._template=e,void this._templateDep.changed();if(!(arguments.length>0))return this._templateDep.depend(),this._template?"function"==typeof this._template?this._template():this._template:this._defaultTemplate?"function"==typeof this._defaultTemplate?this._defaultTemplate():this._defaultTemplate:void 0},v.prototype.defaultTemplate=function(e){if(1!==arguments.length)return this._defaultTemplate;this._defaultTemplate=e},v.prototype.clear=function(){this._template=void 0,this._data=void 0,this._templateDep.changed()},v.prototype.data=function(e){return 1===arguments.length&&e!==this._data?(this._data=e,void this._dataDep.changed()):(this._dataDep.depend(),"function"==typeof this._data?this._data():this._data)},v.prototype.create=function(e){var t=this;if(this.isCreated)throw new Error("DynamicTemplate view is already created");this.isCreated=!0,this.isDestroyed=!1;var n=p(null),r=a.View("DynamicTemplate",function(){var e=this,r=n.get();return a.With(function(){var n=t.data();return void 0!==n?n:v.getParentDataContext(e)},function(){return t.renderView(r)})});return r.onViewCreated(function(){this.autorun(function(){n.set(t.template())})}),o.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(e){r[e](function(){t._runHooks(e,this)})}),r._onViewRendered(function(){t.isInserted=!0,1===r.renderCount&&t._attachEvents()}),r.onViewDestroyed(function(){t._detachEvents()}),r._templateInstance=new a.TemplateInstance(r),r.templateInstance=function(){var e=r._templateInstance;return e.data=a.getData(r),r._domrange&&!r.isDestroyed?(e.firstNode=r._domrange.firstNode(),e.lastNode=r._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e},this.view=r,r.__dynamicTemplate__=this,r.name=this.name,r},v.prototype.renderView=function(e){var t=this,n=null;return"string"==typeof e?((n=h[e])||(n=h[i(e)]),n||(n=a.With({msg:"Couldn't find a template named "+JSON.stringify(e)+" or "+JSON.stringify(i(e))+". Are you sure you defined it?"},function(){return h.__DynamicTemplateError__}))):"[object Object]"===u(e)?n=e:void 0!==t._content&&(n=t._content),n},v.prototype.destroy=function(){this.isCreated&&(a.remove(this.view),this.view=null,this.isDestroyed=!0,this.isCreated=!1)},o.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(e){v.prototype[e]=function(t){return(this._hooks[e]=this._hooks[e]||[]).push(t),this}}),v.prototype._runHooks=function(e,t){for(var n=this._hooks[e]||[],a,r=0;r<n.length;r++)(a=n[r]).call(t,this)},v.prototype.events=function(e,t){var n=this;this._detachEvents(),this._eventThisArg=t;var r=this._eventMap={};for(var i in e)r[i]=function(e,r){return function(e){var i=a.getData(e.currentTarget);null==i&&(i={});var o=n.view.templateInstance();return r.call(t||this,e,o,i)}}(i,e[i]);this._attachEvents()},v.prototype._attachEvents=function(){var e=this,t=e._eventThisArg,n=e._eventMap,r=e.view,i=e._eventHandles;if(r){var s=r._domrange;if(!s)throw new Error("no domrange");var u=function(t,s){o.each(n,function(n,u){var c=u.split(/,\s+/);o.each(c,function(o){var u=o.split(/\s+/);if(0!==u.length){var c=u.shift(),l=u.join(" ");i.push(a._EventSupport.listen(s,c,l,function(i){if(!t.containsElement(i.currentTarget))return null;var o=e._eventThisArg||this,s=arguments;return a._withCurrentView(r,function(){return n.apply(o,s)})},t,function(e){return e.parentRange}))}})})};s.attached?u(s,s.parentElement):s.onAttached(u)}},v.prototype._detachEvents=function(){o.each(this._eventHandles,function(e){e.stop()}),this._eventHandles=[]};var _=function(e,t,n,r){o.each(n,function(n,i){var s=i.split(/,\s+/);o.each(s,function(i){var o=i.split(/\s+/);if(0!==o.length){var s=o.shift(),u=o.join(" ");handles.push(a._EventSupport.listen(t,s,u,function(t){if(!e.containsElement(t.currentTarget))return null;var i=r||this,o=arguments;return a._withCurrentView(view,function(){return n.apply(i,o)})},e,function(e){return e.parentRange}))}})})};v.prototype.insert=function(e){if(e=e||{},!this.isInserted){this.isInserted=!0;var t=e.el||document.body,n=s(t);if(0===n.length)throw new Error("No element to insert layout into. Is your element defined? Try a Meteor.startup callback.");return this.view||this.create(e),a.render(this.view,n[0],e.nextNode,e.parentView),this}},v.prototype._getLookupHost=function(){return this._lookupHostValue},v.prototype._setLookupHost=function(e){var t=this;return t._lookupHostValue!==e&&(t._lookupHostValue=e,l.afterFlush(function(){t._lookupHostDep.changed()})),this},v.getParentDataContext=function(e){return v.getDataContext(e&&e.parentView)},v.getDataContext=function(e){for(;e;){if("with"===e.name&&!e.__isTemplateWith)return e.dataVar.get();e=e.parentView}return null},v.getInclusionArguments=function(e){var t=e&&e.parentView;return t&&t.__isTemplateWith?t.dataVar.get():null},v.args=function(e){return function(t){var n=v.getInclusionArguments(e);return n?t?n[t]:n:null}},v.extend=function(e){return m.utils.extend(this,e)},v.findFirstLookupHost=function(e){var n,r;for(t(e instanceof a.View,"view must be a Blaze.View");e;)if(e.__dynamicTemplate__){if(n=e.__dynamicTemplate__._getLookupHost())return n}else e=e.parentView},v.findLookupHostWithProperty=function(e,r){var i,o;for(t(e instanceof a.View,"view must be a Blaze.View");e;){if(e.__dynamicTemplate__&&(i=e.__dynamicTemplate__._getLookupHost())&&n(i,r))return i;e=e.parentView}},v.findLookupHostWithHelper=function(e,r){var i,o;for(t(e instanceof a.View,"view must be a Blaze.View");e;){if(e.__dynamicTemplate__&&(i=e.__dynamicTemplate__._getLookupHost())&&n(i,"constructor","_helpers",r))return i;e=e.parentView}},void 0!==h&&r.registerHelper("DynamicTemplate",new h("DynamicTemplateHelper",function(){var e=v.args(this);return new v({data:function(){return e("data")},template:function(){return e("template")},content:this.templateContentBlock}).create()})),m.DynamicTemplate=v}.call(this),function(){var e=m.utils.assert,t=m.utils.get,n=a.View.prototype.lookup;a.View.prototype.lookup=function(e){var r;return(r=v.findLookupHostWithHelper(a.getView(),e))?function n(){var a=t(r,"constructor","_helpers",e),i=[].slice.call(arguments);return"function"==typeof a?a.apply(r,i):a}:n.apply(this,arguments)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:dynamic-template"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package["templating-runtime"].Template,o=Package.blaze.Blaze,i=Package.blaze.UI,a=Package.blaze.Handlebars,s=Package.underscore._,c=Package.tracker.Tracker,u=Package.tracker.Deps,h=Package["iron:core"].Iron,l=Package.htmljs.HTML,g=Package.spacebars.Spacebars,d,p,m;(function(){var e=[];if(Package["cmather:iron-layout"]&&e.push("\n\n    The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  "),Package["cmather:blaze-layout"]&&e.push("The blaze-layout package has been replaced by iron-layout. Please remove the package like this:\n> meteor remove cmather:blaze-layout\n"),e.length>0)throw new Error("Sorry! Looks like there's a few errors related to iron:layout\n\n"+e.join("\n\n"))}).call(this),function(){r.__checkName("__IronDefaultLayout__"),r.__IronDefaultLayout__=new r("Template.__IronDefaultLayout__",function(){var e=this;return g.include(e.lookupTemplate("yield"))})}.call(this),function(){var e=h.DynamicTemplate,n=h.utils.inherits;d=function(e){for(;e;){if("Iron.Layout"===e.name)return e.__dynamicTemplate__;e=e.parentView}return null},m=(p=function(e){var n=this;p.__super__.constructor.apply(this,arguments),e=e||{},this.name="Iron.Layout",this._regions={},this._regionHooks={},this.defaultTemplate("__IronDefaultLayout__"),e.content&&this.render(e.content)}).DEFAULT_REGION="main",n(p,h.DynamicTemplate),p.prototype.region=function(e,n){return this._ensureRegion(e,n)},p.prototype.destroyRegions=function(){s.each(this._regions,function(e){e.destroy()}),this._regions={}},p.prototype.render=function(e,n){var t=(n=n||{}).to||n.region||m,r=this.region(t);this._trackRenderedRegion(t),r.template(e),r.data(n.data)},p.prototype.has=function(e){return e=e||p.DEFAULT_REGION,!!this._regions[e]},p.prototype.regionKeys=function(){return s.keys(this._regions)},p.prototype.clear=function(e){return e=e||p.DEFAULT_REGION,this.has(e)&&this.region(e).template(null),this},p.prototype.clearAll=function(){return s.each(this._regions,function(e){e.template(null)}),this},p.prototype.beginRendering=function(e){var n=this;if(this._finishRenderingTransaction&&this._finishRenderingTransaction(),this._finishRenderingTransaction=s.once(function(){var t=n._endRendering({flush:!1});e&&e(t)}),u.afterFlush(this._finishRenderingTransaction),this._renderedRegions)throw new Error("You called beginRendering again before calling endRendering");this._renderedRegions={}},p.prototype._trackRenderedRegion=function(e){this._renderedRegions&&(this._renderedRegions[e]=!0)},p.prototype._endRendering=function(e){!1!==(e=e||{}).flush&&u.flush();var n=this._renderedRegions||{};return this._renderedRegions=null,s.keys(n)},s.each(["onRegionCreated","onRegionRendered","onRegionDestroyed"],function(e){p.prototype[e]=function(n){return(this._regionHooks[e]=this._regionHooks[e]||[]).push(n),this}}),p.prototype._ensureRegion=function(e,n){return this._regions[e]=this._regions[e]||this._createDynamicTemplate(e,n)},p.prototype._createDynamicTemplate=function(e,n){var t=this,r=new h.DynamicTemplate(n),o=h.utils.capitalize;return r._region=e,s.each(["viewCreated","viewReady","viewDestroyed"],function(e){e=o(e),r["on"+e](function(n){var r=this,o={viewCreated:"regionCreated",viewReady:"regionRendered",viewDestroyed:"regionDestroyed"}[e];t._runRegionHooks("on"+o,r,n)})}),r},p.prototype._runRegionHooks=function(e,n,t){for(var r=this,o=this._regionHooks[e]||[],i,a=0;a<o.length;a++)(i=o[a]).call(n,t.region,t,this)},void 0!==r&&(i.registerHelper("yield",new r("yield",function(){var n=d(this);if(!n)throw new Error("No Iron.Layout found so you can't use yield!");var t=e.getInclusionArguments(this),r,o;return s.isString(t)?r=t:s.isObject(t)&&(r=t.region),r=r||m,(o=n.region(r)).isCreated&&o.destroy(),o.create()})),i.registerHelper("contentFor",new r("contentFor",function(){var n=d(this);if(!n)throw new Error("No Iron.Layout found so you can't use contentFor!");var t=e.getInclusionArguments(this)||{},r=this.templateContentBlock,o=t.template,i=t.data,a;if(s.isString(t))a=t;else{if(!s.isObject(t))throw new Error("Which region is this contentFor block supposed to be for?");a=t.region}return n.region(a).template(o||r),n._trackRenderedRegion(a),i&&n.region(a).data(i),null})),i.registerHelper("hasRegion",function(e){var n=d(o.getView());if(!n)throw new Error("No Iron.Layout found so you can't use hasRegion!");if(!s.isString(e))throw new Error("You need to provide an region argument to hasRegion");return!!n.region(e).template()}),i.registerHelper("Layout",new r("layout",function(){var e=h.DynamicTemplate.args(this);return new p({template:function(){return e("template")},data:function(){return e("data")},content:this.templateContentBlock}).create()}))),h.Layout=p}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:layout"]={}}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,t=Package.meteor.meteorEnv,n=Package.underscore._,i=Package["iron:core"].Iron,o,a;(function(){function e(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function r(o,a,s){a&&"[object Array]"!==t(a)&&(s=a,a=null),a=a||[];var c=(s=s||{}).strict,u=!1!==s.end,p=s.sensitive?"":"i",l=0;if(o instanceof RegExp){var h=o.source.match(/\((?!\?)/g)||[];return a.push.apply(a,h.map(function(e,r){return{name:r,delimiter:null,optional:!1,repeat:!1}})),i(o,a)}if("[object Array]"===t(o))return o=o.map(function(e){return r(e,a,s).source}),i(new RegExp("(?:"+o.join("|")+")",p),a);var f="/"===(o=o.replace(n,function(r,t,n,i,o,s,c,u){if(t)return t;if(u)return"\\"+u;var p="+"===c||"*"===c,h="?"===c||"*"===c;return a.push({name:i||l++,delimiter:n||"/",optional:h,repeat:p}),n=n?"\\"+n:"",o=e(o||s||"[^"+(n||"\\/")+"]+?"),p&&(o=o+"(?:"+n+o+")*"),h?"(?:"+n+"("+o+"))?":n+"("+o+")"}))[o.length-1];return c||(o=(f?o.slice(0,-2):o)+"(?:\\/(?=$))?"),u||(o+=c&&f?"":"(?=\\/|$)"),i(new RegExp("^"+o+(u?"$":""),p),a)}var t=function(e){return Object.prototype.toString.call(e)},n=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g"),i=function(e,r){return e.keys=r,e};o=r}).call(this),function(){function e(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return void(r.constructor==URIError&&t("Tried to decode an invalid URI component: "+JSON.stringify(e)+" "+r.stack))}}function r(e){try{return decodeURI(e.replace(/\+/g," "))}catch(r){return void(r.constructor==URIError&&t("Tried to decode an invalid URI: "+JSON.stringify(e)+" "+r.stack))}}var t=i.utils.warn;(a=function(e,r){r=r||{},this.options=r,this.keys=[],this.regexp=o(e,this.keys,r),this._originalPath=e,n.extend(this,a.parse(e))}).normalize=function(e){if(e instanceof RegExp)return e;if("string"!=typeof e)return"/";var r=a.parse(e).pathname;return"/"!==r.charAt(0)&&(r="/"+r),r.length>1&&"/"===r.charAt(r.length-1)&&(r=r.slice(0,r.length-1)),r},a.isSameOrigin=function(e,r){var t=a.parse(e),n=a.parse(r);return t.origin===n.origin},a.fromQueryString=function(r){if(!r)return{};if("string"!=typeof r)throw new Error("expected string");"?"===r.charAt(0)&&(r=r.slice(1));var t=r.split("&"),i={},o;return n.each(t,function(r){var t=r.split("="),n=t[0],o=e(t[1]);"[]"===n.slice(-2)?(n=n.slice(0,-2),i[n]=i[n]||[],i[n].push(o)):i[n]=o}),i},a.toQueryString=function(e){var r=[];return"string"==typeof e?"?"!==e.charAt(0)?"?"+e:e:(n.each(e,function(e,t){n.isArray(e)?n.each(e,function(e){r.push(encodeURIComponent(t)+"[]="+encodeURIComponent(e))}):r.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),r.length>0?"?"+r.join("&"):"")},a.parse=function(e){if("string"!=typeof e)return{};var r=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,t=e.match(r),n=t[1]?t[1].toLowerCase():void 0,i=!!t[3],o=t[4]?t[4].toLowerCase():void 0,s=o?o.split("@"):[],c,u;2==s.length?(u=s[0],c=s[1]):1==s.length?(c=s[0],u=void 0):(c=void 0,u=void 0);var p=c&&c.split(":")||[],l=p[0],h=p[1],f=n&&c?n+"//"+c:void 0,g=t[5],d=t[8],m=e,v=t[6],y,w=d&&d.indexOf("?")||-1;~w&&!v?(v=d.slice(w),d=d.substr(0,w),y=v.slice(1)):y=t[7];var R=g+(v||""),x=a.fromQueryString(y),U=[n||"",i?"//":"",o||""].join(""),S=[n||"",i?"//":"",o||"",g||"",v||"",d||""].join("");return{rootUrl:U||"",originalUrl:e||"",href:S||"",protocol:n||"",auth:u||"",host:c||"",hostname:l||"",port:h||"",origin:f||"",path:R||"",pathname:g||"",search:v||"",query:y||"",queryObject:x||"",hash:d||"",slashes:i}},a.prototype.test=function(e){return this.regexp.test(a.normalize(e))},a.prototype.exec=function(e){return this.regexp.exec(a.normalize(e))},a.prototype.params=function(t){if(!t)return[];var n=[],i=this.exec(t),o,s=this.keys,c,u;if(!i)throw new Error('The route named "'+this.name+'" does not match the path "'+t+'"');for(var p=1,l=i.length;p<l;++p)c=s[p-1],u="string"==typeof i[p]?e(i[p]):i[p],c?n[c.name]=void 0!==n[c.name]?n[c.name]:u:n.push(u);return void 0!==(t=r(t))&&((o=t.split("?")[1])&&(o=o.split("#")[0]),n.hash=t.split("#")[1]||null,n.query=a.fromQueryString(o)),n},a.prototype.resolve=function(e,r){var t,i,o,s=0,c=this._originalPath,u,p,l=[],h=e;if(r=r||{},e=e||[],p=r.query,u=r.hash&&r.hash.toString(),c instanceof RegExp)throw new Error("Cannot currently resolve a regular expression path");if(c=c.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(r,o,a,s,c,u,p){if(o=o||"",a=a||"",t=e[s],i=void 0!==t,u&&!i)t="";else if(!i)return void l.push(s);return t=n.isFunction(t)?t.call(e):t,o+a+n.map(String(t).split("/"),function(e){return encodeURIComponent(e)}).join("/")}).replace(/\*/g,function(r){if(void 0===e[s])throw new Error("You are trying to access a wild card parameter at index "+s+" but the value of params at that index is undefined");var t=String(e[s++]);return n.map(t.split("/"),function(e){return encodeURIComponent(e)}).join("/")}),c+=p=a.toQueryString(p),u&&(c=c+"#"+(u=encodeURI(u.replace("#","")))),c=c.replace(/\/+/g,"/"),c=c.replace(/^(.+)\/$/g,"$1"),0==l.length)return c;if(!0===r.throwOnMissingParams)throw new Error("Missing required parameters on path "+JSON.stringify(this._originalPath)+". The missing params are: "+JSON.stringify(l)+". The params object passed in was: "+JSON.stringify(h)+".");return null},i.Url=a}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:url"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package.ejson.EJSON,o=Package["iron:core"].Iron,a,s;(function(){var t=o.Url;(a=function(e,n,i){r.isFunction(e)&&(i=i||n||{},n=e,e="/",this.middleware=!0,void 0===i.mount&&(i.mount=!0)),"object"==typeof n&&(n=(i=n).action||"action"),i=i||{},this.options=i,this.mount=i.mount,this.method=i.method&&i.method.toLowerCase()||!1,this.where=i.where||"client",this.mount&&(i.end=!1),i.name?this.name=i.name:"string"==typeof e&&"/"!==e.charAt(0)?this.name=e:"string"==typeof e&&"/"!==e&&(this.name=e.split("/").slice(1).join(".")),"string"==typeof(e=i.path||e)&&"/"!==e.charAt(0)&&(e="/"+e),this.path=e,this.compiledUrl=new t(e,i),r.isString(n)?this.handle=function t(){var e=this[n];if("function"!=typeof e)throw new Error("No method named "+JSON.stringify(n)+" found on handler.");return e.apply(this,arguments)}:r.isFunction(n)&&(this.handle=n)}).prototype.test=function(t,e){e=e||{};var n=this.compiledUrl.test(t),r=!0,i=!0;return this.method&&e.method&&(r=this.method==e.method.toLowerCase()),e.where&&(i=this.where==e.where),n&&r&&i},a.prototype.params=function(t){return this.compiledUrl.params(t)},a.prototype.resolve=function(t,e){return this.compiledUrl.resolve(t,e)},a.prototype.clone=function(){var t=new a(this.path,this.handle,this.options);return t.name=this.name,t}}).call(this),function(){var e=o.Url,n=o.utils.assert,h=o.utils.defaultValue;(s=function(){this._stack=[],this.length=0}).prototype._create=function(t,e,n){var i=new a(t,e,n),o=i.name;if(o){if(r.has(this._stack,o))throw new Error("Handler with name '"+o+"' already exists.");this._stack[o]=i}return i},s.prototype.findByName=function(t){return this._stack[t]},s.prototype.push=function(t,e,n){var r=this._create(t,e,n);return this._stack.push(r),this.length++,r},s.prototype.append=function(){var t=this,e=r.toArray(arguments),n={};return"object"==typeof e[e.length-1]&&(n=e.pop()),r.each(e,function(e){if(void 0!==e)if("function"==typeof e)t.push(e,n);else{if(!r.isArray(e))throw new Error("Can only append functions or arrays to the MiddlewareStack");t.append.apply(t,e.concat([n]))}}),this},s.prototype.insertAt=function(t,e,n,r){var i=this._create(e,n,r);return this._stack.splice(t,0,i),this.length=this._stack.length,this},s.prototype.insertBefore=function(t,e,n,i){var o,a;if(!(o=this._stack[t]))throw new Error("Couldn't find a handler named '"+t+"' on the path stack");return a=r.indexOf(this._stack,o),this.insertAt(a,e,n,i),this},s.prototype.insertAfter=function(t,e,n,i){var o,a;if(!(o=this._stack[t]))throw new Error("Couldn't find a handler named '"+t+"' on the path stack");return a=r.indexOf(this._stack,o),this.insertAt(a+1,e,n,i),this},s.prototype.concat=function(){var t=new s,e=Array.prototype.concat,n=i.clone(this._stack),o=r.map(r.toArray(arguments),function(t){return i.clone(t._stack)});return t._stack=e.apply(n,o),t.length=t._stack.length,t},s.prototype.dispatch=function r(i,o,a){var s=this,l=i;n("string"==typeof i,"Requires url"),n("object"==typeof o,"Requires context object"),i=e.normalize(i||"/"),h(o,"request",{}),h(o,"response",{}),h(o,"originalUrl",i),h(o,"_method",o.method),h(o,"_handlersForEnv",{client:!1,server:!1}),h(o,"_handled",!1),h(o,"isHandled",function(){return o._handled}),h(o,"willBeHandledOnClient",function(){return o._handlersForEnv.client}),h(o,"willBeHandledOnServer",function(){return o._handlersForEnv.server});var c=function(){if(a)try{a.apply(this,arguments)}catch(t){throw t._punt=!0,t}},u=0,p=t.bindEnvironment(function n(r){var a=s._stack[u++];if(o.url=o.request.url=o.originalUrl,!a)return c.call(o,r);if(!a.test(i,{method:o._method}))return p(r);var h=t.isClient?"client":"server";if(a.middleware||(o._handlersForEnv[a.where]=!0),a.where!==h)return p(r);if(o.next=p,a.mount){var l=e.normalize(a.compiledUrl.pathname),d=i.substr(l.length,i.length);d=e.normalize(d),o.url=o.request.url=d}try{var f=a.handle.length,m=o.request,y=o.response;return r&&4===f?a.handle.call(o,r,m,y,p):!r&&f<4?a.handle.call(o,m,y,p):p(r)}catch(r){if(r._punt)throw r;p(r)}finally{o._handled=!0,o.next=null}});return p(),o.next=null,o},(o=o||{}).MiddlewareStack=s}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Package["iron:middleware-stack"]={},{Handler:a})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,r=Package.tracker.Tracker,o=Package.tracker.Deps,i=Package.jquery.$,c=Package.jquery.jQuery,s=Package["iron:core"].Iron,h,u,l,f,p;(function(){var t=s.Url,e="__hash__";h=function(e){var n=t.parse(e),a=n.hash&&n.hash.replace("#",""),r=n.search,o=n.pathname,i=n.rootUrl;if(a&&"!"!==a.charAt(0)){var c="__hash__="+a;r=r?r+"&":"?",r+=c,a=""}return!a&&o?a="#!"+o.substring(1):a&&(a="#"+a),[i,a,r].join("")},u=function(e){var n=t.parse(e),r=n.hash&&n.hash.replace("#!","/"),o=n.search,i=n.rootUrl,c;return a.has(n.queryObject,"__hash__")?(c="#"+n.queryObject.__hash__,delete n.queryObject.__hash__):c="",[i,r,t.toQueryString(n.queryObject),c].join("")},l=function(e){var n=t.parse(e),a=n.queryObject;return n.hash&&(a.__hash__=n.hash.replace("#","")),["!",n.pathname.substring(1),t.toQueryString(a)].join("")}}).call(this),function(){var t=s.Url;(f=function(e,n){a.extend(this,t.parse(e),{options:n||{}})}).prototype.equals=function(t){return!!t&&(t instanceof f&&(t.pathname==this.pathname&&t.search==this.search&&t.hash==this.hash&&t.options.historyState===this.options.historyState))},f.prototype.isCancelled=function(){return!!this._isCancelled},f.prototype.cancelUrlChange=function(){this._isCancelled=!0}}.call(this),function(){var e=s.Url,n=null,r=new o.Dependency,c={go:[],popState:[]},g=function(){return/MSIE 9/.test(navigator.appVersion)},y=function(){return/MSIE 8/.test(navigator.appVersion)},_=function(){return!!Package.appcache},d=function(){return"undefined"==typeof history||"function"!=typeof history.pushState},S=function(){return p.options.useHashPaths||y()||g()||_()||d()},v=function(){return!!p.options.useHashPaths},k=function(t,e){a.each(c[t],function(t){t.call(e)})},w=function(t){if(!(t instanceof f))throw new Error("Expected a State instance");return!t.equals(n)&&(n=t,r.changed(),!0)},P=function(){var t=location.href,e;e=v()?new f(u(t)):new f(t,{historyState:history.state}),k("popState",e),w(e)},m=function(t){var e=q;e&&e(t)},j=function(t,e){var n=new f(t,e=e||{});k("go",n),w(n)&&o.afterFlush(function(){n.isCancelled()||(v()?location.hash=l(t):!0===e.replaceState?history.replaceState(e.historyState,null,t):history.pushState(e.historyState,null,t))})},q=function(t){try{var n=t.currentTarget,a=n.href,r=n.pathname+n.search+n.hash;if(r=r.replace(/(^\/?)/,"/"),t.isDefaultPrevented())return void t.preventDefault();if(t.metaKey||t.ctrlKey||t.shiftKey)return;if(n.target)return;if(!e.isSameOrigin(a,location.href))return;t.preventDefault(),j(r)}catch(e){throw t.preventDefault(),e}};(p={}).options={linkSelector:"a[href]",useHashPaths:!1},p.configure=function(t){a.extend(this.options,t||{})},p.get=function(){return r.depend(),n},p.start=function(){if(!this._isStarted){var n=e.parse(location.href);if(S()){if(n.pathname.length>1){var a=h(location.href);window.location=a}this.configure({useHashPaths:!0})}var r=location.href;if(v()){var o=new f(u(r));w(o)}else{if("!"===n.hash.replace("#","")[0])var r=u(r);var c={initial:!0};history.replaceState(c,null,r);var o=new f(r,{historyState:c});w(o)}i(window).on("popstate.iron-location",P),i(window).on("hashchange.iron-location",P),t.startup(function(){i(document).on("click.iron-location",p.options.linkSelector,m)}),this._isStarted=!0}},p.stop=function(){this._isStarted&&(i(window).on("popstate.iron-location"),i(window).on("hashchange.iron-location"),i(document).off("click.iron-location"),this._isStarted=!1)},p.onClick=function(t){q=t},p.go=function(t,e){return j(t,e)},p.onGo=function(t){c.go.push(t)},p.onPopState=function(t){c.popState.push(t)},p.start(),s.Location=p}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Package["iron:location"]={},{urlToHashStyle:h,urlFromHashStyle:u})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.underscore._,i;(function(){var t=function(t,e,r,n){return{key:t,value:e,next:r,prev:n}};i=function(){var t=this;t._dict={},t._first=null,t._last=null,t._size=0;var e=n.toArray(arguments);t._stringify=function(t){return t},"function"==typeof e[0]&&(t._stringify=e.shift()),n.each(e,function(e){t.putBefore(e[0],e[1],null)})},n.extend(i.prototype,{_k:function(t){return" "+this._stringify(t)},empty:function(){return!this._first},size:function(){return this._size},_linkEltIn:function(t){var e=this;t.next?(t.prev=t.next.prev,t.next.prev=t,t.prev&&(t.prev.next=t)):(t.prev=e._last,e._last&&(e._last.next=t),e._last=t),null!==e._first&&e._first!==t.next||(e._first=t)},_linkEltOut:function(t){var e=this;t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===e._last&&(e._last=t.prev),t===e._first&&(e._first=t.next)},putBefore:function(e,r,n){var i=this;if(i._dict[i._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var o=n?t(e,r,i._dict[i._k(n)]):t(e,r,null);if(void 0===o.next)throw new Error("could not find item to put this one before");i._linkEltIn(o),i._dict[i._k(e)]=o,i._size++},append:function(t,e){this.putBefore(t,e,null)},remove:function(t){var e=this,r=e._dict[e._k(t)];if(void 0===r)throw new Error("Item "+t+" not present in OrderedDict");return e._linkEltOut(r),e._size--,delete e._dict[e._k(t)],r.value},get:function(t){var e=this;if(e.has(t))return e._dict[e._k(t)].value},has:function(t){var e=this;return n.has(e._dict,e._k(t))},forEach:function(t){for(var e=0,r=this._first;null!==r;){if(t(r.value,r.key,e)===i.BREAK)return;r=r.next,e++}},first:function(){var t=this;if(!t.empty())return t._first.key},firstValue:function(){var t=this;if(!t.empty())return t._first.value},last:function(){var t=this;if(!t.empty())return t._last.key},lastValue:function(){var t=this;if(!t.empty())return t._last.value},prev:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.prev)return r.prev.key}return null},next:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.next)return r.next.key}return null},moveBefore:function(t,e){var r=this,n=r._dict[r._k(t)],i=e?r._dict[r._k(e)]:null;if(void 0===n)throw new Error("Item to move is not present");if(void 0===i)throw new Error("Could not find element to move this one before");i!==n.next&&(r._linkEltOut(n),n.next=i,r._linkEltIn(n))},indexOf:function(t){var e=this,r=null;return e.forEach(function(n,o,f){if(e._k(o)===e._k(t))return r=f,i.BREAK}),r},_checkRep:function(){var t=this;n.each(t._dict,function(t,e){if(e.next===e)throw new Error("Next is a loop");if(e.prev===e)throw new Error("Prev is a loop")})}}),i.BREAK={break:!0}}).call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var r in e)r in t||(t[r]=e[r])}(Package["ordered-dict"]={},{OrderedDict:i})}();

!function(){var t=Package.meteor.Meteor,n=Package.meteor.global,o=Package.meteor.meteorEnv,a=Package.modules.meteorInstall,e=Package.modules.process,r,i=a({node_modules:{meteor:{"geojson-utils":{"main.js":["./geojson-utils.js",function(t,n){n.GeoJSON=t("./geojson-utils.js")}],"geojson-utils.js":function(t,n,o){!function(){function t(t){for(var n=[],o=[],a=0;a<t[0].length;a++)n.push(t[0][a][1]),o.push(t[0][a][0]);return n=n.sort(function(t,n){return t-n}),o=o.sort(function(t,n){return t-n}),[[n[0],o[0]],[n[n.length-1],o[o.length-1]]]}function n(t,n,o){for(var a=[[0,0]],e=0;e<o.length;e++){for(var r=0;r<o[e].length;r++)a.push(o[e][r]);a.push([0,0])}for(var i=!1,e=0,r=a.length-1;e<a.length;r=e++)a[e][0]>n!=a[r][0]>n&&t<(a[r][1]-a[e][1])*(n-a[e][0])/(a[r][0]-a[e][0])+a[e][1]&&(i=!i);return i}var a={};void 0!==o&&o.exports&&(o.exports=a),a.lineStringsIntersect=function(t,n){for(var o=[],a=0;a<=t.coordinates.length-2;++a)for(var e=0;e<=n.coordinates.length-2;++e){var r={x:t.coordinates[a][1],y:t.coordinates[a][0]},i={x:t.coordinates[a+1][1],y:t.coordinates[a+1][0]},s={x:n.coordinates[e][1],y:n.coordinates[e][0]},c={x:n.coordinates[e+1][1],y:n.coordinates[e+1][0]},u=(c.x-s.x)*(r.y-s.y)-(c.y-s.y)*(r.x-s.x),h=(i.x-r.x)*(r.y-s.y)-(i.y-r.y)*(r.x-s.x),d=(c.y-s.y)*(i.x-r.x)-(c.x-s.x)*(i.y-r.y);if(0!=d){var l=u/d,g=h/d;0<=l&&l<=1&&0<=g&&g<=1&&o.push({type:"Point",coordinates:[r.x+l*(i.x-r.x),r.y+l*(i.y-r.y)]})}}return 0==o.length&&(o=!1),o},a.pointInBoundingBox=function(t,n){return!(t.coordinates[1]<n[0][0]||t.coordinates[1]>n[1][0]||t.coordinates[0]<n[0][1]||t.coordinates[0]>n[1][1])},a.pointInPolygon=function(o,e){for(var r="Polygon"==e.type?[e.coordinates]:e.coordinates,i=!1,s=0;s<r.length;s++)a.pointInBoundingBox(o,t(r[s]))&&(i=!0);if(!i)return!1;for(var c=!1,s=0;s<r.length;s++)n(o.coordinates[1],o.coordinates[0],r[s])&&(c=!0);return c},a.numberToRadius=function(t){return t*Math.PI/180},a.numberToDegree=function(t){return 180*t/Math.PI},a.drawCircle=function(t,n,o){for(var e=[n.coordinates[1],n.coordinates[0]],r=t/1e3/6371,i=[a.numberToRadius(e[0]),a.numberToRadius(e[1])],o=o||15,s=[[e[0],e[1]]],c=0;c<o;c++){var u=2*Math.PI*c/o,h=Math.asin(Math.sin(i[0])*Math.cos(r)+Math.cos(i[0])*Math.sin(r)*Math.cos(u)),d=i[1]+Math.atan2(Math.sin(u)*Math.sin(r)*Math.cos(i[0]),Math.cos(r)-Math.sin(i[0])*Math.sin(h));s[c]=[],s[c][1]=a.numberToDegree(h),s[c][0]=a.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},a.rectangleCentroid=function(t){var n=t.coordinates[0],o=n[0][0],a=n[0][1];return{type:"Point",coordinates:[o+(n[2][0]-o)/2,a+(n[2][1]-a)/2]}},a.pointDistance=function(t,n){var o=t.coordinates[0],e=t.coordinates[1],r=n.coordinates[0],i=n.coordinates[1],s=a.numberToRadius(i-e),c=a.numberToRadius(r-o),u=Math.pow(Math.sin(s/2),2)+Math.cos(a.numberToRadius(e))*Math.cos(a.numberToRadius(i))*Math.pow(Math.sin(c/2),2);return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))*1e3},a.geometryWithinRadius=function(t,n,o){if("Point"==t.type)return a.pointDistance(t,n)<=o;if("LineString"==t.type||"Polygon"==t.type){var e={},r;r="Polygon"==t.type?t.coordinates[0]:t.coordinates;for(var i in r)if(e.coordinates=r[i],a.pointDistance(e,n)>o)return!1}return!0},a.area=function(t){for(var n=0,o=t.coordinates[0],a=o.length-1,e,r,i=0;i<o.length;a=i++){var e={x:o[i][1],y:o[i][0]},r={x:o[a][1],y:o[a][0]};n+=e.x*r.y,n-=e.y*r.x}return n/=2},a.centroid=function(t){for(var n,o=0,e=0,r=t.coordinates[0],i=r.length-1,s,c,u=0;u<r.length;i=u++){var s={x:r[u][1],y:r[u][0]},c={x:r[i][1],y:r[i][0]};n=s.x*c.y-c.x*s.y,o+=(s.x+c.x)*n,e+=(s.y+c.y)*n}return n=6*a.area(t),{type:"Point",coordinates:[e/n,o/n]}},a.simplify=function(t,n){n=n||20,t=t.map(function(t){return{lng:t.coordinates[0],lat:t.coordinates[1]}});var o,a,e,r,i,s,c,u,h,d,l,g,M,y,f,x,m,p,v,P=Math.PI/180*.5,b=new Array,T=new Array,j=new Array;if(t.length<3)return t;for(o=t.length,d=360*n/(2*Math.PI*6378137),d*=d,e=0,T[0]=0,j[0]=o-1,a=1;a>0;)if(r=T[a-1],i=j[a-1],a--,i-r>1){for(l=t[i].lng()-t[r].lng(),g=t[i].lat()-t[r].lat(),Math.abs(l)>180&&(l=360-Math.abs(l)),M=(l*=Math.cos(P*(t[i].lat()+t[r].lat())))*l+g*g,s=r+1,c=r,h=-1;s<i;s++)y=t[s].lng()-t[r].lng(),f=t[s].lat()-t[r].lat(),Math.abs(y)>180&&(y=360-Math.abs(y)),x=(y*=Math.cos(P*(t[s].lat()+t[r].lat())))*y+f*f,m=t[s].lng()-t[i].lng(),p=t[s].lat()-t[i].lat(),Math.abs(m)>180&&(m=360-Math.abs(m)),(u=x>=M+(v=(m*=Math.cos(P*(t[s].lat()+t[i].lat())))*m+p*p)?v:v>=M+x?x:(y*g-f*l)*(y*g-f*l)/M)>h&&(c=s,h=u);h<d?(b[e]=r,e++):(T[++a-1]=c,j[a-1]=i,T[++a-1]=r,j[a-1]=c)}else b[e]=r,e++;b[e]=o-1,e++;for(var I=new Array,s=0;s<e;s++)I.push(t[b[s]]);return I.map(function(t){return{type:"Point",coordinates:[t.lng,t.lat]}})},a.destinationPoint=function(t,n,o){o/=6371,n=a.numberToRadius(n);var e=a.numberToRadius(t.coordinates[0]),r=a.numberToRadius(t.coordinates[1]),i=Math.asin(Math.sin(e)*Math.cos(o)+Math.cos(e)*Math.sin(o)*Math.cos(n)),s=r+Math.atan2(Math.sin(n)*Math.sin(o)*Math.cos(e),Math.cos(o)-Math.sin(e)*Math.sin(i));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[a.numberToDegree(i),a.numberToDegree(s)]}}}()}}}}},{extensions:[".js",".json"]})("./node_modules/meteor/geojson-utils/main.js");"undefined"==typeof Package&&(Package={}),function(t,n){for(var o in n)o in t||(t[o]=n[o])}(Package["geojson-utils"]=i,{GeoJSON:void 0})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,t=Package.meteor.meteorEnv,n=Package.underscore._,o=Package.ejson.EJSON,i=Package["id-map"].IdMap,a=Package["ordered-dict"].OrderedDict,s=Package.tracker.Tracker,c=Package.tracker.Deps,u=Package["mongo-id"].MongoID,d=Package.random.Random,f=Package["diff-sequence"].DiffSequence,l=Package["geojson-utils"].GeoJSON,h,p,v,_,m,y,g,w,$,b,E,I,C,O,k,S;(function(){p={},v={},_=function(e){var r=new Error(e);return r.name="MinimongoError",r},(h=function(r){var t=this;t.name=r,t._docs=new h._IdMap,t._observeQueue=new e._SynchronousQueue,t.next_qid=1,t.queries={},t._savedOriginals=null,t.paused=!1}).prototype.find=function(e,r){return 0===arguments.length&&(e={}),new h.Cursor(this,e,r)},h.Cursor=function(e,r,t){var n=this;t||(t={}),n.collection=e,n.sorter=null,n.matcher=new p.Matcher(r),h._selectorIsId(r)?n._selectorId=r:h._selectorIsIdPerhapsAsObject(r)?n._selectorId=r._id:(n._selectorId=void 0,(n.matcher.hasGeoQuery()||t.sort)&&(n.sorter=new p.Sorter(t.sort||[],{matcher:n.matcher}))),n.skip=t.skip,n.limit=t.limit,n.fields=t.fields,n._projectionFn=h._compileProjection(n.fields||{}),n._transform=h.wrapTransform(t.transform),void 0!==s&&(n.reactive=void 0===t.reactive||t.reactive)},h.Cursor.prototype.rewind=function(){},h.prototype.findOne=function(e,r){return 0===arguments.length&&(e={}),r=r||{},r.limit=1,this.find(e,r).fetch()[0]},h.Cursor.prototype.forEach=function(e,r){var t=this,o=t._getRawObjects({ordered:!0});t.reactive&&t._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),n.each(o,function(n,o){n=t._projectionFn(n),t._transform&&(n=t._transform(n)),e.call(r,n,o,t)})},h.Cursor.prototype.getTransform=function(){return this._transform},h.Cursor.prototype.map=function(e,r){var t=this,n=[];return t.forEach(function(o,i){n.push(e.call(r,o,i,t))}),n},h.Cursor.prototype.fetch=function(){var e=[];return this.forEach(function(r){e.push(r)}),e},h.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),e._getRawObjects({ordered:!0}).length},h.Cursor.prototype._publishCursor=function(e){var r=this;if(!r.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var t=r.collection.name;if(!Package.mongo)throw new Error("Can't publish from Minimongo without the `mongo` package.");return Package.mongo.Mongo.Collection._publishCursor(r,e,t)},h.Cursor.prototype._getCollectionName=function(){return this.collection.name},h._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},h._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},h.ObserveHandle=function(){},n.extend(h.Cursor.prototype,{observe:function(e){var r=this;return h._observeFromObserveChanges(r,e)},observeChanges:function(e){var r=this,t=h._observeChangesCallbacksAreOrdered(e);if(!e._allow_unordered&&!t&&(r.skip||r.limit))throw new Error("must use ordered observe (ie, 'addedBefore' instead of 'added') with skip or limit");if(r.fields&&(0===r.fields._id||!1===r.fields._id))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var i={dirty:!1,matcher:r.matcher,sorter:t&&r.sorter,distances:r.matcher.hasGeoQuery()&&t&&new h._IdMap,resultsSnapshot:null,ordered:t,cursor:r,projectionFn:r._projectionFn},a;r.reactive&&(a=r.collection.next_qid++,r.collection.queries[a]=i),i.results=r._getRawObjects({ordered:t,distances:i.distances}),r.collection.paused&&(i.resultsSnapshot=t?[]:new h._IdMap);var c=function(e){return e?function(){var t=this,n=arguments;r.collection.paused||r.collection._observeQueue.queueTask(function(){e.apply(t,n)})}:function(){}};i.added=c(e.added),i.changed=c(e.changed),i.removed=c(e.removed),t&&(i.addedBefore=c(e.addedBefore),i.movedBefore=c(e.movedBefore)),e._suppress_initial||r.collection.paused||(t?n.bind(n.each,null,i.results):n.bind(i.results.forEach,i.results))(function(e){var n=o.clone(e);delete n._id,t&&i.addedBefore(e._id,r._projectionFn(n),null),i.added(e._id,r._projectionFn(n))});var u=new h.ObserveHandle;return n.extend(u,{collection:r.collection,stop:function(){r.reactive&&delete r.collection.queries[a]}}),r.reactive&&s.active&&s.onInvalidate(function(){u.stop()}),r.collection._observeQueue.drain(),u}}),h.Cursor.prototype._getRawObjects=function(e){var r=this,t=(e=e||{}).ordered?[]:new h._IdMap;if(void 0!==r._selectorId){if(r.skip)return t;var n=r.collection._docs.get(r._selectorId);return n&&(e.ordered?t.push(n):t.set(r._selectorId,n)),t}var o;if(r.matcher.hasGeoQuery()&&e.ordered&&(e.distances?(o=e.distances).clear():o=new h._IdMap),r.collection._docs.forEach(function(n,i){var a=r.matcher.documentMatches(n);return a.result&&(e.ordered?(t.push(n),o&&void 0!==a.distance&&o.set(i,a.distance)):t.set(i,n)),!(r.limit&&!r.skip&&!r.sorter&&t.length===r.limit)}),!e.ordered)return t;if(r.sorter){var i=r.sorter.getComparator({distances:o});t.sort(i)}var a=r.skip||0,s=r.limit?r.limit+a:t.length;return t.slice(a,s)},h.Cursor.prototype._depend=function(e,r){var t=this;if(s.active){var o=new s.Dependency;o.depend();var i=n.bind(o.changed,o),a={_suppress_initial:!0,_allow_unordered:r};n.each(["added","changed","removed","addedBefore","movedBefore"],function(r){e[r]&&(a[r]=i)}),t.observeChanges(a)}},h.prototype.insert=function(r,t){var i=this;r=o.clone(r),n.has(r,"_id")||(r._id=h._useOID?new u.ObjectID:d.id());var a=r._id;if(i._docs.has(a))throw _("Duplicate _id '"+a+"'");i._saveOriginal(a,void 0),i._docs.set(a,r);var s=[];for(var c in i.queries){var f=i.queries[c];if(!f.dirty){var l=f.matcher.documentMatches(r);l.result&&(f.distances&&void 0!==l.distance&&f.distances.set(a,l.distance),f.cursor.skip||f.cursor.limit?s.push(c):h._insertInResults(f,r))}}return n.each(s,function(e){i.queries[e]&&i._recomputeResults(i.queries[e])}),i._observeQueue.drain(),t&&e.defer(function(){t(null,a)}),a},h.prototype._eachPossiblyMatchingDoc=function(e,r){var t=this,n=h._idsMatchedBySelector(e);if(n)for(var o=0;o<n.length;++o){var i=n[o],a=t._docs.get(i);if(a&&!1===r(a,i))break}else t._docs.forEach(r)},h.prototype.remove=function(r,t){var i=this;if(i.paused&&!i._savedOriginals&&o.equals(r,{})){var a=i._docs.size();return i._docs.clear(),n.each(i.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),t&&e.defer(function(){t(null,a)}),a}var s=new p.Matcher(r),c=[];i._eachPossiblyMatchingDoc(r,function(e,r){s.documentMatches(e).result&&c.push(r)});for(var u=[],d=[],f=0;f<c.length;f++){var l=c[f],v=i._docs.get(l);n.each(i.queries,function(e,r){e.dirty||e.matcher.documentMatches(v).result&&(e.cursor.skip||e.cursor.limit?u.push(r):d.push({qid:r,doc:v}))}),i._saveOriginal(l,v),i._docs.remove(l)}return n.each(d,function(e){var r=i.queries[e.qid];r&&(r.distances&&r.distances.remove(e.doc._id),h._removeFromResults(r,e.doc))}),n.each(u,function(e){var r=i.queries[e];r&&i._recomputeResults(r)}),i._observeQueue.drain(),a=c.length,t&&e.defer(function(){t(null,a)}),a},h.prototype.update=function(r,t,i,a){var s=this;!a&&i instanceof Function&&(a=i,i=null),i||(i={});var c=new p.Matcher(r),u={},d=new h._IdMap,f=h._idsMatchedBySelector(r);n.each(s.queries,function(e,r){if((e.cursor.skip||e.cursor.limit)&&!s.paused){if(e.results instanceof h._IdMap)return void(u[r]=e.results.clone());if(!(e.results instanceof Array))throw new Error("Assertion failed: query.results not an array");var t=function(e){if(d.has(e._id))return d.get(e._id);var r;return r=f&&!n.any(f,function(r){return o.equals(r,e._id)})?e:o.clone(e),d.set(e._id,r),r};u[r]=e.results.map(t)}});var l={},v=0;s._eachPossiblyMatchingDoc(r,function(e,r){var n=c.documentMatches(e);return!(n.result&&(s._saveOriginal(r,e),s._modifyAndNotify(e,t,l,n.arrayIndices),++v,!i.multi))}),n.each(l,function(e,r){var t=s.queries[r];t&&s._recomputeResults(t,u[r])}),s._observeQueue.drain();var _;if(0===v&&i.upsert){var m=h._removeDollarOperators(r);h._modify(m,t,{isInsert:!0}),!m._id&&i.insertedId&&(m._id=i.insertedId),_=s.insert(m),v=1}var y;return i._returnObject?(y={numberAffected:v},void 0!==_&&(y.insertedId=_)):y=v,a&&e.defer(function(){a(null,y)}),y},h.prototype.upsert=function(e,r,t,o){var i=this;return o||"function"!=typeof t||(o=t,t={}),i.update(e,r,n.extend({},t,{upsert:!0,_returnObject:!0}),o)},h.prototype._modifyAndNotify=function(e,r,t,n){var i=this,a={};for(var s in i.queries){var c=i.queries[s];c.dirty||(c.ordered?a[s]=c.matcher.documentMatches(e).result:a[s]=c.results.has(e._id))}var u=o.clone(e);h._modify(e,r,{arrayIndices:n});for(s in i.queries)if(!(c=i.queries[s]).dirty){var d=a[s],f=c.matcher.documentMatches(e),l=f.result;l&&c.distances&&void 0!==f.distance&&c.distances.set(e._id,f.distance),c.cursor.skip||c.cursor.limit?(d||l)&&(t[s]=!0):d&&!l?h._removeFromResults(c,e):!d&&l?h._insertInResults(c,e):d&&l&&h._updateInResults(c,e,u)}},h._insertInResults=function(e,r){var t=o.clone(r);if(delete t._id,e.ordered){if(e.sorter){var n=h._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r),i=e.results[n+1];i=i?i._id:null,e.addedBefore(r._id,e.projectionFn(t),i)}else e.addedBefore(r._id,e.projectionFn(t),null),e.results.push(r);e.added(r._id,e.projectionFn(t))}else e.added(r._id,e.projectionFn(t)),e.results.set(r._id,r)},h._removeFromResults=function(e,r){if(e.ordered){var t=h._findInOrderedResults(e,r);e.removed(r._id),e.results.splice(t,1)}else{var n=r._id;e.removed(r._id),e.results.remove(n)}},h._updateInResults=function(e,r,t){if(!o.equals(r._id,t._id))throw new Error("Can't change a doc's _id while updating");var i=e.projectionFn,a=f.makeChangedFields(i(r),i(t));if(e.ordered){var s=h._findInOrderedResults(e,r);if(n.isEmpty(a)||e.changed(r._id,a),e.sorter){e.results.splice(s,1);var c=h._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r);if(s!==c){var u=e.results[c+1];u=u?u._id:null,e.movedBefore&&e.movedBefore(r._id,u)}}}else n.isEmpty(a)||(e.changed(r._id,a),e.results.set(r._id,r))},h.prototype._recomputeResults=function(e,r){var t=this;t.paused?e.dirty=!0:(t.paused||r||(r=e.results),e.distances&&e.distances.clear(),e.results=e.cursor._getRawObjects({ordered:e.ordered,distances:e.distances}),t.paused||h._diffQueryChanges(e.ordered,r,e.results,e,{projectionFn:e.projectionFn}))},h._findInOrderedResults=function(e,r){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var t=0;t<e.results.length;t++)if(e.results[t]===r)return t;throw Error("object missing from query")},h._binarySearch=function(e,r,t){for(var n=0,o=r.length;o>0;){var i=Math.floor(o/2);e(t,r[n+i])>=0?(n+=i+1,o-=i+1):o=i}return n},h._insertInSortedList=function(e,r,t){if(0===r.length)return r.push(t),0;var n=h._binarySearch(e,r,t);return r.splice(n,0,t),n},h.prototype.saveOriginals=function(){var e=this;if(e._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");e._savedOriginals=new h._IdMap},h.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var r=e._savedOriginals;return e._savedOriginals=null,r},h.prototype._saveOriginal=function(e,r){var t=this;t._savedOriginals&&(t._savedOriginals.has(e)||t._savedOriginals.set(e,o.clone(r)))},h.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var r=this.queries[e];r.resultsSnapshot=o.clone(r.results)}}},h.prototype.resumeObservers=function(){var e=this;if(this.paused){this.paused=!1;for(var r in this.queries){var t=e.queries[r];t.dirty?(t.dirty=!1,e._recomputeResults(t,t.resultsSnapshot)):h._diffQueryChanges(t.ordered,t.resultsSnapshot,t.results,t,{projectionFn:t.projectionFn}),t.resultsSnapshot=null}e._observeQueue.drain()}}}).call(this),function(){h.wrapTransform=function(e){if(!e)return null;if(e.__wrappedTransform__)return e;var r=function(r){if(!n.has(r,"_id"))throw new Error("can only transform documents with _id");var t=r._id,i=s.nonreactive(function(){return e(r)});if(!y(i))throw new Error("transform must return object");if(n.has(i,"_id")){if(!o.equals(i._id,t))throw new Error("transformed document can't have different _id")}else i._id=t;return i};return r.__wrappedTransform__=!0,r}}.call(this),function(){m=function(e){return n.isArray(e)&&!o.isBinary(e)},y=h._isPlainObject=function(e){return e&&3===h._f._type(e)},g=function(e){return m(e)||y(e)},w=function(e,r){if(!y(e))return!1;var t=void 0;return n.each(e,function(n,o){var i="$"===o.substr(0,1);if(void 0===t)t=i;else if(t!==i){if(!r)throw new Error("Inconsistent operator: "+JSON.stringify(e));t=!1}}),!!t},$=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){p.Matcher=function(e){var r=this;r._paths={},r._hasGeoQuery=!1,r._hasWhere=!1,r._isSimple=!0,r._matchingDocument=void 0,r._selector=null,r._docMatcher=r._compileSelector(e)},n.extend(p.Matcher.prototype,{documentMatches:function(e){if(!e||"object"!=typeof e)throw Error("documentMatches needs a document");return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(r){var t=this;if(r instanceof Function)return t._isSimple=!1,t._selector=r,t._recordPathUsed(""),function(e){return{result:!!r.call(e)}};if(h._selectorIsId(r))return t._selector={_id:r},t._recordPathUsed("_id"),function(e){return{result:o.equals(e._id,r)}};if(!r||"_id"in r&&!r._id)return t._isSimple=!1,S;if("boolean"==typeof r||m(r)||o.isBinary(r))throw new Error("Invalid selector: "+r);return t._selector=o.clone(r),e(r,t,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return n.keys(this._paths)}});var e=function(e,t,o){o=o||{};var i=[];return n.each(e,function(e,a){if("$"===a.substr(0,1)){if(!n.has(s,a))throw new Error("Unrecognized logical operator: "+a);t._isSimple=!1,i.push(s[a](e,t,o.inElemMatch))}else{o.inElemMatch||t._recordPathUsed(a);var c=C(a),u=r(e,t,o.isRoot);i.push(function(e){var r=c(e);return u(r)})}}),j(i)},r=function(e,r,n){return e instanceof RegExp?(r._isSimple=!1,t(b(e))):w(e)?i(e,r,n):t(E(e))},t=function(e,r){return r=r||{},function(t){var o=t;r.dontExpandLeafArrays||(o=O(t,r.dontIncludeLeafArrays));var i={};return i.result=n.any(o,function(r){var t=e(r.value);return"number"==typeof t&&(r.arrayIndices||(r.arrayIndices=[t]),t=!0),t&&r.arrayIndices&&(i.arrayIndices=r.arrayIndices),t}),i}};b=function(e){return function(r){return r instanceof RegExp?n.isEqual(r,e):"string"==typeof r&&(e.lastIndex=0,e.test(r))}},E=function(e){if(w(e))throw Error("Can't create equalityValueSelector for operator object");return null==e?function(e){return null==e}:function(r){return h._f._equal(e,r)}};var i=function(e,r,o){var i=[];return n.each(e,function(a,s){var c=n.contains(["$lt","$lte","$gt","$gte"],s)&&n.isNumber(a),u=n.contains(["$ne","$eq"],s)&&!n.isObject(a),f=n.contains(["$in","$nin"],s)&&n.isArray(a)&&!n.any(a,n.isObject);if(c||f||u||(r._isSimple=!1),n.has(d,s))i.push(d[s](a,e,r,o));else{if(!n.has(I,s))throw new Error("Unrecognized operator: "+s);var l=I[s];i.push(t(l.compileElementSelector(a,e,r),l))}}),P(i)},a=function(r,t,o){if(!m(r)||n.isEmpty(r))throw Error("$and/$or/$nor must be nonempty array");return n.map(r,function(r){if(!y(r))throw Error("$or/$and/$nor entries need to be full objects");return e(r,t,{inElemMatch:o})})},s={$and:function(e,r,t){var n=a(e,r,t);return j(n)},$or:function(e,r,t){var o=a(e,r,t);return 1===o.length?o[0]:function(e){return{result:n.any(o,function(r){return r(e).result})}}},$nor:function(e,r,t){var o=a(e,r,t);return function(e){return{result:n.all(o,function(r){return!r(e).result})}}},$where:function(e,r){return r._recordPathUsed(""),r._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(r){return{result:e.call(r,r)}}},$comment:function(){return function(){return{result:!0}}}},c=function(e){return function(r){return{result:!e(r).result}}},d={$eq:function(e){return t(E(e))},$not:function(e,t,n){return c(r(e,n))},$ne:function(e){return c(t(E(e)))},$nin:function(e){return c(t(I.$in.compileElementSelector(e)))},$exists:function(e){var r=t(function(e){return void 0!==e});return e?r:c(r)},$options:function(e,r){if(!n.has(r,"$regex"))throw Error("$options needs a $regex");return M},$maxDistance:function(e,r){if(!r.$near)throw Error("$maxDistance needs a $near");return M},$all:function(e,t,o){if(!m(e))throw Error("$all requires array");if(n.isEmpty(e))return S;var i=[];return n.each(e,function(e){if(w(e))throw Error("no $ expressions in $all");i.push(r(e,o))}),P(i)},$near:function(e,r,t,o){if(!o)throw Error("$near can't be inside another $ operator");t._hasGeoQuery=!0;var i,a,s;if(y(e)&&n.has(e,"$geometry"))i=e.$maxDistance,a=e.$geometry,s=function(e){return e&&e.type?"Point"===e.type?l.pointDistance(a,e):l.geometryWithinRadius(e,a,i)?0:i+1:null};else{if(i=r.$maxDistance,!m(e)&&!y(e))throw Error("$near argument must be coordinate pair or GeoJSON");a=_(e),s=function(e){return m(e)||y(e)?f(a,e):null}}return function(e){e=O(e);var r={result:!1};return n.each(e,function(e){var t=s(e.value);null===t||t>i||void 0!==r.distance&&r.distance<=t||(r.result=!0,r.distance=t,e.arrayIndices?r.arrayIndices=e.arrayIndices:delete r.arrayIndices)}),r}}},f=function(e,r){e=_(e),r=_(r);var t=e[0]-r[0],o=e[1]-r[1];return n.isNaN(t)||n.isNaN(o)?null:Math.sqrt(t*t+o*o)},_=function(e){return n.map(e,n.identity)},k=function(e){return{compileElementSelector:function(r){if(m(r))return function(){return!1};void 0===r&&(r=null);var t=h._f._type(r);return function(n){return void 0===n&&(n=null),h._f._type(n)===t&&e(h._f._cmp(n,r))}}}};I={$lt:k(function(e){return e<0}),$gt:k(function(e){return e>0}),$lte:k(function(e){return e<=0}),$gte:k(function(e){return e>=0}),$mod:{compileElementSelector:function(e){if(!m(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var r=e[0],t=e[1];return function(e){return"number"==typeof e&&e%r===t}}},$in:{compileElementSelector:function(e){if(!m(e))throw Error("$in needs an array");var r=[];return n.each(e,function(e){if(e instanceof RegExp)r.push(b(e));else{if(w(e))throw Error("cannot nest $ under $in");r.push(E(e))}}),function(e){return void 0===e&&(e=null),n.any(r,function(r){return r(e)})}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(r){return m(r)&&r.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(e){if("number"!=typeof e)throw Error("$type needs a number");return function(r){return void 0!==r&&h._f._type(r)===e}}},$regex:{compileElementSelector:function(e,r){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var t;if(void 0!==r.$options){if(/[^gim]/.test(r.$options))throw new Error("Only the i, m, and g regexp options are supported");var n=e instanceof RegExp?e.source:e;t=new RegExp(n,r.$options)}else t=e instanceof RegExp?e:new RegExp(e);return b(t)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(t,o,i){if(!y(t))throw Error("$elemMatch need an object");var a,c;return w(n.omit(t,n.keys(s)),!0)?(a=r(t,i),c=!1):(a=e(t,i,{inElemMatch:!0}),c=!0),function(e){if(!m(e))return!1;for(var r=0;r<e.length;++r){var t=e[r],n;if(c){if(!y(t)&&!m(t))return!1;n=t}else n=[{value:t,dontIterate:!0}];if(a(n).result)return r}return!1}}}},C=function(e,r){r=r||{};var t=e.split("."),o=t.length?t[0]:"",i=$(o),a=t.length>=2&&$(t[1]),s;t.length>1&&(s=C(t.slice(1).join(".")));var c=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e,t){if(t||(t=[]),m(e)){if(!(i&&o<e.length))return[];t=t.concat(+o,"x")}var u=e[o];if(!s)return[c({value:u,dontIterate:m(e)&&m(u),arrayIndices:t})];if(!g(u))return m(e)?[]:[c({value:void 0,arrayIndices:t})];var d=[],f=function(e){Array.prototype.push.apply(d,e)};return f(s(u,t)),!m(u)||a&&r.forSort||n.each(u,function(e,r){y(e)&&f(s(e,t.concat(r)))}),d}},v.makeLookupFunction=C,O=function(e,r){var t=[];return n.each(e,function(e){var o=m(e.value);r&&o&&!e.dontIterate||t.push({value:e.value,arrayIndices:e.arrayIndices}),o&&!e.dontIterate&&n.each(e.value,function(r,n){t.push({value:r,arrayIndices:(e.arrayIndices||[]).concat(n)})})}),t};var S=function(e){return{result:!1}},M=function(e){return{result:!0}},A=function(e){return 0===e.length?M:1===e.length?e[0]:function(r){var t={};return t.result=n.all(e,function(e){var n=e(r);return n.result&&void 0!==n.distance&&void 0===t.distance&&(t.distance=n.distance),n.result&&n.arrayIndices&&(t.arrayIndices=n.arrayIndices),n.result}),t.result||(delete t.distance,delete t.arrayIndices),t}},j=A,P=A;h._f={_type:function(e){return"number"==typeof e?1:"string"==typeof e?2:"boolean"==typeof e?8:m(e)?4:null===e?10:e instanceof RegExp?11:"function"==typeof e?13:e instanceof Date?9:o.isBinary(e)?5:e instanceof u.ObjectID?7:3},_equal:function(e,r){return o.equals(e,r,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(e,r){if(void 0===e)return void 0===r?0:-1;if(void 0===r)return 1;var t=h._f._type(e),n=h._f._type(r),o=h._f._typeorder(t),i=h._f._typeorder(n);if(o!==i)return o<i?-1:1;if(t!==n)throw Error("Missing type coercion logic in _cmp");if(7===t&&(t=n=2,e=e.toHexString(),r=r.toHexString()),9===t&&(t=n=1,e=e.getTime(),r=r.getTime()),1===t)return e-r;if(2===n)return e<r?-1:e===r?0:1;if(3===t){var a=function(e){var r=[];for(var t in e)r.push(t),r.push(e[t]);return r};return h._f._cmp(a(e),a(r))}if(4===t)for(var s=0;;s++){if(s===e.length)return s===r.length?0:-1;if(s===r.length)return 1;var c=h._f._cmp(e[s],r[s]);if(0!==c)return c}if(5===t){if(e.length!==r.length)return e.length-r.length;for(s=0;s<e.length;s++){if(e[s]<r[s])return-1;if(e[s]>r[s])return 1}return 0}if(8===t)return e?r?0:1:r?-1:0;if(10===t)return 0;if(11===t)throw Error("Sorting not supported on regular expression");if(13===t)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},h._removeDollarOperators=function(e){var r={};for(var t in e)"$"!==t.substr(0,1)&&(r[t]=e[t]);return r}}.call(this),function(){p.Sorter=function(r,t){var o=this;t=t||{},o._sortSpecParts=[],o._sortFunction=null;var i=function(e,r){if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: "+e);o._sortSpecParts.push({path:e,lookup:C(e,{forSort:!0}),ascending:r})};if(r instanceof Array)for(var a=0;a<r.length;a++)"string"==typeof r[a]?i(r[a],!0):i(r[a][0],"desc"!==r[a][1]);else if("object"==typeof r)n.each(r,function(e,r){i(r,e>=0)});else{if("function"!=typeof r)throw Error("Bad sort specification: "+JSON.stringify(r));o._sortFunction=r}if(!o._sortFunction){if(o.affectedByModifier){var s={};n.each(o._sortSpecParts,function(e){s[e.path]=1}),o._selectorForAffectedByModifier=new p.Matcher(s)}o._keyComparator=e(n.map(o._sortSpecParts,function(e,r){return o._keyFieldComparator(r)})),o._keyFilter=null,t.matcher&&o._useWithMatcher(t.matcher)}},n.extend(p.Sorter.prototype,{getComparator:function(r){var t=this;if(!r||!r.distances)return t._getBaseComparator();var n=r.distances;return e([t._getBaseComparator(),function(e,r){if(!n.has(e._id))throw Error("Missing distance for "+e._id);if(!n.has(r._id))throw Error("Missing distance for "+r._id);return n.get(e._id)-n.get(r._id)}])},_getPaths:function(){var e=this;return n.pluck(e._sortSpecParts,"path")},_getMinKeyFromDoc:function(e){var r=this,t=null;if(r._generateKeysFromDoc(e,function(e){r._keyCompatibleWithSelector(e)&&(null!==t?r._compareKeys(e,t)<0&&(t=e):t=e)}),null===t)throw Error("sort selector found no keys in doc?");return t},_keyCompatibleWithSelector:function(e){var r=this;return!r._keyFilter||r._keyFilter(e)},_generateKeysFromDoc:function(e,r){var t=this;if(0===t._sortSpecParts.length)throw new Error("can't generate keys without a spec");var o=[],i=function(e){return e.join(",")+","},a=null;if(n.each(t._sortSpecParts,function(r,t){var s=O(r.lookup(e),!0);s.length||(s=[{value:null}]);var c=!1;if(o[t]={},n.each(s,function(e){if(e.arrayIndices){c=!0;var r=i(e.arrayIndices);if(n.has(o[t],r))throw Error("duplicate path: "+r);if(o[t][r]=e.value,a&&!n.has(a,r))throw Error("cannot index parallel arrays")}else{if(s.length>1)throw Error("multiple branches but no array used?");o[t][""]=e.value}}),a){if(!n.has(o[t],"")&&n.size(a)!==n.size(o[t]))throw Error("cannot index parallel arrays!")}else c&&(a={},n.each(o[t],function(e,r){a[r]=!0}))}),a)n.each(a,function(e,t){var i=n.map(o,function(e){if(n.has(e,""))return e[""];if(!n.has(e,t))throw Error("missing path?");return e[t]});r(i)});else{var s=n.map(o,function(e){if(!n.has(e,""))throw Error("no value in sole key case?");return e[""]});r(s)}},_compareKeys:function(e,r){var t=this;if(e.length!==t._sortSpecParts.length||r.length!==t._sortSpecParts.length)throw Error("Key has wrong length");return t._keyComparator(e,r)},_keyFieldComparator:function(e){var r=!this._sortSpecParts[e].ascending;return function(t,n){var o=h._f._cmp(t[e],n[e]);return r&&(o=-o),o}},_getBaseComparator:function(){var e=this;return e._sortFunction?e._sortFunction:e._sortSpecParts.length?function(r,t){var n=e._getMinKeyFromDoc(r),o=e._getMinKeyFromDoc(t);return e._compareKeys(n,o)}:function(e,r){return 0}},_useWithMatcher:function(e){var r=this;if(r._keyFilter)throw Error("called _useWithMatcher twice?");if(!n.isEmpty(r._sortSpecParts)){var t=e._selector;if(!(t instanceof Function)){var o={};n.each(r._sortSpecParts,function(e,r){o[e.path]=[]}),n.each(t,function(e,r){var t=o[r];if(t)if(e instanceof RegExp){if(e.ignoreCase||e.multiline)return;t.push(b(e))}else w(e)?n.each(e,function(r,o){n.contains(["$lt","$lte","$gt","$gte"],o)&&t.push(I[o].compileElementSelector(r)),"$regex"!==o||e.$options||t.push(I.$regex.compileElementSelector(r,e))}):t.push(E(e))}),n.isEmpty(o[r._sortSpecParts[0].path])||(r._keyFilter=function(e){return n.all(r._sortSpecParts,function(r,t){return n.all(o[r.path],function(r){return r(e[t])})})})}}}});var e=function(e){return function(r,t){for(var n=0;n<e.length;++n){var o=e[n](r,t);if(0!==o)return o}return 0}}}.call(this),function(){h._compileProjection=function(e){h._checkSupportedProjection(e);var r=!!n.isUndefined(e._id)||e._id,t=k(e),i=function(e,r){if(n.isArray(e))return n.map(e,function(e){return i(e,r)});var a=t.including?{}:o.clone(e);return n.each(r,function(r,s){n.has(e,s)&&(n.isObject(r)?n.isObject(e[s])&&(a[s]=i(e[s],r)):t.including?a[s]=o.clone(e[s]):delete a[s])}),a};return function(e){var o=i(e,t.tree);return r&&n.has(e,"_id")&&(o._id=e._id),!r&&n.has(o,"_id")&&delete o._id,o}},k=function(e){var r=n.keys(e).sort();!(r.length>0)||1===r.length&&"_id"===r[0]||n.contains(r,"_id")&&e._id||(r=n.reject(r,function(e){return"_id"===e}));var t=null;return n.each(r,function(r){var n=!!e[r];if(null===t&&(t=n),t!==n)throw _("You cannot currently mix including and excluding fields.")}),{tree:S(r,function(e){return t},function(e,r,t){throw _("both "+t+" and "+r+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")}),including:t}},S=function(e,r,t,o){return o=o||{},n.each(e,function(e){var i=o,a=e.split(".");if(n.all(a.slice(0,-1),function(r,o){if(n.has(i,r)){if(!n.isObject(i[r])&&(i[r]=t(i[r],a.slice(0,o+1).join("."),e),!n.isObject(i[r])))return!1}else i[r]={};return i=i[r],!0})){var s=n.last(a);n.has(i,s)?i[s]=t(i[s],e,e):i[s]=r(e)}}),o},h._checkSupportedProjection=function(e){if(!n.isObject(e)||n.isArray(e))throw _("fields option must be an object");n.each(e,function(e,r){if(n.contains(r.split("."),"$"))throw _("Minimongo doesn't support $ operator in projections yet.");if("object"==typeof e&&n.intersection(["$elemMatch","$meta","$slice"],n.keys(e)).length>0)throw _("Minimongo doesn't support operators in projections yet.");if(-1===n.indexOf([1,0,!0,!1],e))throw _("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){h._modify=function(i,a,s){if(s=s||{},!y(a))throw _("Modifier must be an object");a=o.clone(a);var c;if(w(a))c=o.clone(i),n.each(a,function(o,i){var a=t[i];if(s.isInsert&&"$setOnInsert"===i&&(a=t.$set),!a)throw _("Invalid modifier specified "+i);n.each(o,function(t,o){if(""===o)throw _("An empty update path is not valid.");if("_id"===o&&"$setOnInsert"!==i)throw _("Mod on _id not allowed");var u=o.split(".");if(!n.all(u,n.identity))throw _("The update path '"+o+"' contains an empty field name, which is not allowed.");var d=n.has(r,i),f="$rename"===i,l=e(c,u,{noCreate:r[i],forbidArray:"$rename"===i,arrayIndices:s.arrayIndices}),h=u.pop();a(l,h,t,o,c)})});else{if(a._id&&!o.equals(i._id,a._id))throw _("Cannot change the _id of a document");for(var u in a)if(/\./.test(u))throw _("When replacing document, field name may not contain '.'");c=a}n.each(n.keys(i),function(e){"_id"!==e&&delete i[e]}),n.each(c,function(e,r){i[r]=e})};var e=function(e,r,t){t=t||{};for(var n=!1,o=0;o<r.length;o++){var i=o===r.length-1,a=r[o];if(!g(e)){if(t.noCreate)return;var s=_("cannot use the part '"+a+"' to traverse "+e);throw s.setPropertyError=!0,s}if(e instanceof Array){if(t.forbidArray)return null;if("$"===a){if(n)throw _("Too many positional (i.e. '$') elements");if(!t.arrayIndices||!t.arrayIndices.length)throw _("The positional operator did not find the match needed from the query");a=t.arrayIndices[0],n=!0}else{if(!$(a)){if(t.noCreate)return;throw _("can't append to array using string field name ["+a+"]")}a=parseInt(a)}if(i&&(r[o]=a),t.noCreate&&a>=e.length)return;for(;e.length<a;)e.push(null);if(!i)if(e.length===a)e.push({});else if("object"!=typeof e[a])throw _("can't modify field '"+r[o+1]+"' of list value "+JSON.stringify(e[a]))}else{if(a.length&&"$"===a.substr(0,1))throw _("can't set field named "+a);if(!(a in e)){if(t.noCreate)return;i||(e[a]={})}}if(i)return e;e=e[a]}},r={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},t={$currentDate:function(e,r,t){if("object"==typeof t&&t.hasOwnProperty("$type")){if("date"!==t.$type)throw _("Minimongo does currently only support the date type in $currentDate modifiers")}else if(!0!==t)throw _("Invalid $currentDate modifier");e[r]=new Date},$min:function(e,r,t){if("number"!=typeof t)throw _("Modifier $min allowed for numbers only");if(r in e){if("number"!=typeof e[r])throw _("Cannot apply $min modifier to non-number");e[r]>t&&(e[r]=t)}else e[r]=t},$max:function(e,r,t){if("number"!=typeof t)throw _("Modifier $max allowed for numbers only");if(r in e){if("number"!=typeof e[r])throw _("Cannot apply $max modifier to non-number");e[r]<t&&(e[r]=t)}else e[r]=t},$inc:function(e,r,t){if("number"!=typeof t)throw _("Modifier $inc allowed for numbers only");if(r in e){if("number"!=typeof e[r])throw _("Cannot apply $inc modifier to non-number");e[r]+=t}else e[r]=t},$set:function(e,r,t){if(!n.isObject(e))throw(o=_("Cannot set property on non-object field")).setPropertyError=!0,o;if(null===e){var o=_("Cannot set property on null");throw o.setPropertyError=!0,o}e[r]=t},$setOnInsert:function(e,r,t){},$unset:function(e,r,t){void 0!==e&&(e instanceof Array?r in e&&(e[r]=null):delete e[r])},$push:function(e,r,t){if(void 0===e[r]&&(e[r]=[]),!(e[r]instanceof Array))throw _("Cannot apply $push modifier to non-array");if(t&&t.$each){var n=t.$each;if(!(n instanceof Array))throw _("$each must be an array");var o=void 0;if("$position"in t){if("number"!=typeof t.$position)throw _("$position must be a numeric value");if(t.$position<0)throw _("$position in $push must be zero or positive");o=t.$position}var i=void 0;if("$slice"in t){if("number"!=typeof t.$slice)throw _("$slice must be a numeric value");if(t.$slice>0)throw _("$slice in $push must be zero or negative");i=t.$slice}var a=void 0;if(t.$sort){if(void 0===i)throw _("$sort requires $slice to be present");a=new p.Sorter(t.$sort).getComparator();for(var s=0;s<n.length;s++)if(3!==h._f._type(n[s]))throw _("$push like modifiers using $sort require all elements to be objects")}if(void 0===o)for(var c=0;c<n.length;c++)e[r].push(n[c]);else{for(var u=[o,0],c=0;c<n.length;c++)u.push(n[c]);Array.prototype.splice.apply(e[r],u)}a&&e[r].sort(a),void 0!==i&&(e[r]=0===i?[]:e[r].slice(i))}else e[r].push(t)},$pushAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw _("Modifier $pushAll/pullAll allowed for arrays only");var n=e[r];if(void 0===n)e[r]=t;else{if(!(n instanceof Array))throw _("Cannot apply $pushAll modifier to non-array");for(var o=0;o<t.length;o++)n.push(t[o])}},$addToSet:function(e,r,t){var o=!1;if("object"==typeof t)for(var i in t){"$each"===i&&(o=!0);break}var a=o?t.$each:[t],s=e[r];if(void 0===s)e[r]=a;else{if(!(s instanceof Array))throw _("Cannot apply $addToSet modifier to non-array");n.each(a,function(e){for(var r=0;r<s.length;r++)if(h._f._equal(e,s[r]))return;s.push(e)})}},$pop:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw _("Cannot apply $pop modifier to non-array");"number"==typeof t&&t<0?n.splice(0,1):n.pop()}}},$pull:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw _("Cannot apply $pull/pullAll modifier to non-array");var o=[];if(null==t||"object"!=typeof t||t instanceof Array)for(var i=0;i<n.length;i++)h._f._equal(n[i],t)||o.push(n[i]);else for(var a=new p.Matcher(t),i=0;i<n.length;i++)a.documentMatches(n[i]).result||o.push(n[i]);e[r]=o}}},$pullAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw _("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw _("Cannot apply $pull/pullAll modifier to non-array");for(var o=[],i=0;i<n.length;i++){for(var a=!1,s=0;s<t.length;s++)if(h._f._equal(n[i],t[s])){a=!0;break}a||o.push(n[i])}e[r]=o}}},$rename:function(r,t,n,o,i){if(o===n)throw _("$rename source must differ from target");if(null===r)throw _("$rename source field invalid");if("string"!=typeof n)throw _("$rename target must be a string");if(void 0!==r){var a=r[t];delete r[t];var s=n.split("."),c=e(i,s,{forbidArray:!0});if(null===c)throw _("$rename target field invalid");c[s.pop()]=a}},$bit:function(e,r,t){throw _("$bit is not supported")}}}.call(this),function(){h._diffQueryChanges=function(e,r,t,n,o){return f.diffQueryChanges(e,r,t,n,o)},h._diffQueryUnorderedChanges=function(e,r,t,n){return f.diffQueryUnorderedChanges(e,r,t,n)},h._diffQueryOrderedChanges=function(e,r,t,n){return f.diffQueryOrderedChanges(e,r,t,n)},h._diffObjects=function(e,r,t){return f.diffObjects(e,r,t)}}.call(this),function(){h._IdMap=function(){var e=this;i.call(e,u.idStringify,u.idParse)},e._inherits(h._IdMap,i)}.call(this),function(){h._CachingChangeObserver=function(e){var r=this,t=(e=e||{}).callbacks&&h._observeChangesCallbacksAreOrdered(e.callbacks);if(n.has(e,"ordered")){if(r.ordered=e.ordered,e.callbacks&&e.ordered!==t)throw Error("ordered option doesn't match callbacks")}else{if(!e.callbacks)throw Error("must provide ordered or callbacks");r.ordered=t}var i=e.callbacks||{};r.ordered?(r.docs=new a(u.idStringify),r.applyChange={addedBefore:function(e,t,n){var a=o.clone(t);a._id=e,i.addedBefore&&i.addedBefore.call(r,e,t,n),i.added&&i.added.call(r,e,t),r.docs.putBefore(e,a,n||null)},movedBefore:function(e,t){var n=r.docs.get(e);i.movedBefore&&i.movedBefore.call(r,e,t),r.docs.moveBefore(e,t||null)}}):(r.docs=new h._IdMap,r.applyChange={added:function(e,t){var n=o.clone(t);i.added&&i.added.call(r,e,t),n._id=e,r.docs.set(e,n)}}),r.applyChange.changed=function(e,t){var n=r.docs.get(e);if(!n)throw new Error("Unknown id for changed: "+e);i.changed&&i.changed.call(r,e,o.clone(t)),f.applyChanges(n,t)},r.applyChange.removed=function(e){i.removed&&i.removed.call(r,e),r.docs.remove(e)}},h._observeFromObserveChanges=function(e,r){var t=e.getTransform()||function(e){return e},i=!!r._suppress_initial,a;if(h._observeCallbacksAreOrdered(r)){var s=!r._no_indices;a={addedBefore:function(e,o,a){var c=this;if(!i&&(r.addedAt||r.added)){var u=t(n.extend(o,{_id:e}));if(r.addedAt){var d=s?a?c.docs.indexOf(a):c.docs.size():-1;r.addedAt(u,d,a)}else r.added(u)}},changed:function(e,n){var i=this;if(r.changedAt||r.changed){var a=o.clone(i.docs.get(e));if(!a)throw new Error("Unknown id for changed: "+e);var c=t(o.clone(a));if(f.applyChanges(a,n),a=t(a),r.changedAt){var u=s?i.docs.indexOf(e):-1;r.changedAt(a,c,u)}else r.changed(a,c)}},movedBefore:function(e,n){var i=this;if(r.movedTo){var a=s?i.docs.indexOf(e):-1,c=s?n?i.docs.indexOf(n):i.docs.size():-1;c>a&&--c,r.movedTo(t(o.clone(i.docs.get(e))),a,c,n||null)}},removed:function(e){var n=this;if(r.removedAt||r.removed){var o=t(n.docs.get(e));if(r.removedAt){var i=s?n.docs.indexOf(e):-1;r.removedAt(o,i)}else r.removed(o)}}}}else a={added:function(e,o){if(!i&&r.added){var a=n.extend(o,{_id:e});r.added(t(a))}},changed:function(e,n){var i=this;if(r.changed){var a=i.docs.get(e),s=o.clone(a);f.applyChanges(s,n),r.changed(t(s),t(o.clone(a)))}},removed:function(e){var n=this;r.removed&&r.removed(t(n.docs.get(e)))}};var c=new h._CachingChangeObserver({callbacks:a}),u=e.observeChanges(c.applyChange);return i=!1,u}}.call(this),function(){h._selectorIsId=function(e){return"string"==typeof e||"number"==typeof e||e instanceof u.ObjectID},h._selectorIsIdPerhapsAsObject=function(e){return h._selectorIsId(e)||e&&"object"==typeof e&&e._id&&h._selectorIsId(e._id)&&1===n.size(e)},h._idsMatchedBySelector=function(e){if(h._selectorIsId(e))return[e];if(!e)return null;if(n.has(e,"_id"))return h._selectorIsId(e._id)?[e._id]:e._id&&e._id.$in&&n.isArray(e._id.$in)&&!n.isEmpty(e._id.$in)&&n.all(e._id.$in,h._selectorIsId)?e._id.$in:null;if(e.$and&&n.isArray(e.$and))for(var r=0;r<e.$and.length;++r){var t=h._idsMatchedBySelector(e.$and[r]);if(t)return t}return null}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,r){for(var t in r)t in e||(e[t]=r[t])}(Package.minimongo={},{LocalCollection:h,Minimongo:p,MinimongoTest:v})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.underscore._,i=Package.random.Random,a;(function(){a=function(e){var t=this;n.extend(t,n.defaults(n.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),t.retryTimer=null},n.extend(a.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var r=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return r*=i.fraction()*t.fuzz+(1-t.fuzz/2)},retryLater:function(t,r){var n=this,i=n._timeout(t);return n.retryTimer&&clearTimeout(n.retryTimer),n.retryTimer=e.setTimeout(r,i),i}})}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var r in t)r in e||(e[r]=t[r])}(Package.retry={},{Retry:a})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,n=Package.check.check,r=Package.check.Match,i=Package.random.Random,o=Package.ejson.EJSON,c=Package.underscore._,s=Package.tracker.Tracker,l=Package.tracker.Deps,u=Package.retry.Retry,d;(function(){d={}}).call(this),function(){d.Heartbeat=function(e){var t=this;t.heartbeatInterval=e.heartbeatInterval,t.heartbeatTimeout=e.heartbeatTimeout,t._sendPing=e.sendPing,t._onTimeout=e.onTimeout,t._seenPacket=!1,t._heartbeatIntervalHandle=null,t._heartbeatTimeoutHandle=null},c.extend(d.Heartbeat.prototype,{stop:function(){var e=this;e._clearHeartbeatIntervalTimer(),e._clearHeartbeatTimeoutTimer()},start:function(){var e=this;e.stop(),e._startHeartbeatIntervalTimer()},_startHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle=e.setInterval(c.bind(t._heartbeatIntervalFired,t),t.heartbeatInterval)},_startHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle=e.setTimeout(c.bind(t._heartbeatTimeoutFired,t),t.heartbeatTimeout)},_clearHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle&&(e.clearInterval(t._heartbeatIntervalHandle),t._heartbeatIntervalHandle=null)},_clearHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle&&(e.clearTimeout(t._heartbeatTimeoutHandle),t._heartbeatTimeoutHandle=null)},_heartbeatIntervalFired:function(){var e=this;e._seenPacket||e._heartbeatTimeoutHandle||(e._sendPing(),e._startHeartbeatTimeoutTimer()),e._seenPacket=!1},_heartbeatTimeoutFired:function(){var e=this;e._heartbeatTimeoutHandle=null,e._onTimeout()},messageReceived:function(){var e=this;e._seenPacket=!0,e._heartbeatTimeoutHandle&&e._clearHeartbeatTimeoutTimer()}})}.call(this),function(){d.SUPPORTED_DDP_VERSIONS=["1","pre2","pre1"],d.parseDDP=function(t){try{var a=JSON.parse(t)}catch(a){return e._debug("Discarding message with invalid JSON",t),null}return null===a||"object"!=typeof a?(e._debug("Discarding non-object DDP message",t),null):(c.has(a,"cleared")&&(c.has(a,"fields")||(a.fields={}),c.each(a.cleared,function(e){a.fields[e]=void 0}),delete a.cleared),c.each(["fields","params","result"],function(e){c.has(a,e)&&(a[e]=o._adjustTypesFromJSONValue(a[e]))}),a)},d.stringifyDDP=function(e){var t=o.clone(e);if(c.has(e,"fields")){var a=[];c.each(e.fields,function(e,n){void 0===e&&(a.push(n),delete t.fields[n])}),c.isEmpty(a)||(t.cleared=a),c.isEmpty(t.fields)&&delete t.fields}if(c.each(["fields","params","result"],function(e){c.has(t,e)&&(t[e]=o._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return JSON.stringify(t)}}.call(this),function(){d.MethodInvocation=function(e){var t=this;this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null},c.extend(d.MethodInvocation.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}})}.call(this),function(){function e(){return i.hexString(20)}d.RandomStream=function(t){var a=this;this.seed=[].concat(t.seed||e()),this.sequences={}},d.RandomStream.get=function(e,t){if(t||(t="default"),!e)return i.insecure;var a=e.randomStream;return a||(e.randomStream=a=new d.RandomStream({seed:e.randomSeed})),a._sequence(t)},d.makeRpcSeed=function(e,t){return d.RandomStream.get(e,"/rpc/"+t).hexString(20)},c.extend(d.RandomStream.prototype,{_sequence:function(e){var t=this,a=t.sequences[e]||null;if(null===a){for(var n=t.seed.concat(e),r=0;r<n.length;r++)c.isFunction(n[r])&&(n[r]=n[r]());t.sequences[e]=a=i.createWithSeeds.apply(null,n)}return a}})}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var a in t)a in e||(e[a]=t[a])}(Package["ddp-common"]={},{DDPCommon:d})}();

!function(){var a=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package.underscore._,n=Package["ecmascript-runtime-client"].Symbol,r=Package["ecmascript-runtime-client"].Map,i=Package["ecmascript-runtime-client"].Set,c;(function(){c={};var e="Meteor_Reload",t={},n,r=null;try{(r=window.sessionStorage)?(r.setItem("__dummy__","1"),r.removeItem("__dummy__")):r=null}catch(a){r=null}c._getData=function(){return r&&r.getItem(e)},r&&(n=c._getData(),r.removeItem(e)),n||(n="{}");var i={};try{"object"!=typeof(i=JSON.parse(n))&&(a._debug("Got bad data on reload. Ignoring."),i={})}catch(e){a._debug("Got invalid JSON on reload. Ignoring.")}i.reload&&"object"==typeof i.data&&(t=i.data);var l=[];c._onMigrate=function(a,e){e||(e=a,a=void 0),l.push({name:a,callback:e})},c._migrationData=function(a){return t[a]};var d=function(a,e){a=a||function(){},e=e||{};for(var t={},n=o.clone(l),r=!0;n.length;){var i=n.shift(),c=i.callback(a,e);c[0]||(r=!1),c.length>1&&i.name&&(t[i.name]=c[1])}return r||e.immediateMigration?t:null};c._migrate=function(t,o){var n=d(t,o);if(null===n)return!1;try{var i=JSON.stringify({data:n,reload:!0})}catch(e){throw a._debug("Couldn't serialize data for migration",n),e}if(r)try{r.setItem(e,i)}catch(e){a._debug("Couldn't save data for migration to sessionStorage",e)}else a._debug("Browser does not support sessionStorage. Not saving migration state.");return!0},c._withFreshProvidersForTest=function(a){var e=o.clone(l);l=[];try{a()}finally{l=e}};var g=!1;c._reload=function(a){if(a=a||{},!g){g=!0;var e=function(){o.defer(function(){c._migrate(e,a)&&(window.location.hash||window.location.href.endsWith("#")?window.location.reload():window.location.replace(window.location.href))})};e()}}}).call(this),function(){a._reload={onMigrate:c._onMigrate,migrationData:c._migrationData,reload:c._reload}}.call(this),"undefined"==typeof Package&&(Package={}),function(a,e){for(var t in e)t in a||(a[t]=e[t])}(Package.reload={},{Reload:c})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.check.check,o=Package.check.Match,i=Package.random.Random,s=Package.ejson.EJSON,a=Package.underscore._,u=Package.tracker.Tracker,c=Package.tracker.Deps,d=Package.retry.Retry,l=Package["id-map"].IdMap,f=Package["ddp-common"].DDPCommon,_=Package["diff-sequence"].DiffSequence,p=Package["mongo-id"].MongoID,h,v,m,g,b,y,w;(function(){h={},v={}}).call(this),function(){m=function(){var e=this;l.call(e,p.idStringify,p.idParse)},e._inherits(m,l)}.call(this),function(){g=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];-1===n.arrIndexOf(r,t)&&r.push(t)},r.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],o=n.arrIndexOf(r,t);-1===o||(r.length>1?this._listeners[e]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[e])}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var o=function(e,t){if(this.type=e,void 0!==t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var i=function(e){var t=this;t._events=e||[],t._listeners={}};i.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},i.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},i.prototype._verifyType=function(e){var t=this;-1===n.arrIndexOf(t._events,e)&&n.log("Event "+JSON.stringify(e)+" not listed "+JSON.stringify(t._events)+" in "+t)},i.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var s="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||s.length;var n,r=[];for(n=0;n<e;n++)r.push(s.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length;return(Array(t+1).join("0")+n.random_number(e)).slice(-t)},n.getOrigin=function(e){return(e+="/").split("/").slice(0,3).join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){return/^[0-9.]*$/.test(e)?e:/^\[/.test(e)?e:/[.]/.test(e)?e.split(".").slice(1).join("."):e},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var a="_jp";n.polluteGlobalNamespace=function(){"_jp"in t||(t._jp={})},n.closeFrame=function(e,t){return"c"+JSON.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&e<=4999},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return-1===e.indexOf("?")&&-1===e.indexOf("#")},n.amendUrl=function(t,r){var o;if(void 0===r)o=e.location;else{var i=/^([a-z0-9.+-]+:)/i.exec(r);if(i){var s=i[0].toLowerCase(),a=r.substring(s.length),u=/[a-z0-9\.-]+(:[0-9]+)?/.exec(a);if(u)var c=u[0]}if(!s||!c)throw new Error("relativeTo must be an absolute url");o={protocol:s,host:c}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=o.protocol+t),0===t.indexOf("/")&&(t=o.protocol+"//"+o.host+t);var d=(t=t.replace(/[/]+$/,"")).split("/");return("http:"===d[0]&&/:80$/.test(d[2])||"https:"===d[0]&&/:443$/.test(d[2]))&&(d[2]=d[2].replace(/:(80|443)$/,"")),t=d.join("/")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);return-1===r?e.slice():e.slice(0,r).concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\0":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","\t":"\\t","\n":"\\n","\v":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","":"\\u00ad","":"\\u0600","":"\\u0601","":"\\u0602","":"\\u0603","":"\\u0604","":"\\u070f","":"\\u17b4","":"\\u17b5","":"\\u200c","":"\\u200d","":"\\u200e","":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","":"\\u202a","":"\\u202b","":"\\u202c","":"\\u202d","":"\\u202e","":"\\u202f","":"\\u2060","":"\\u2061","":"\\u2062","":"\\u2063","":"\\u2064","":"\\u2065","":"\\u2066","":"\\u2067","":"\\u2068","":"\\u2069","":"\\u206a","":"\\u206b","":"\\u206c","":"\\u206d","":"\\u206e","":"\\u206f","\ufeff":"\\ufeff","":"\\ufff0","":"\\ufff1","":"\\ufff2","":"\\ufff3","":"\\ufff4","":"\\ufff5","":"\\ufff6","":"\\ufff7","":"\\ufff8","":"\\ufff9","":"\\ufffa","":"\\ufffb","":"\\ufffc","":"\\ufffd","":"\\ufffe","":"\\uffff"},d=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,l,f=JSON&&JSON.stringify||function(e){return u.lastIndex=0,u.test(e)&&(e=e.replace(u,function(e){return c[e]})),'"'+e+'"'},_=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=f(e);return d.lastIndex=0,d.test(t)?(l||(l=_(d)),t.replace(d,function(e){return l[e]})):t};var p=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<p.length;t++){var n=p[t];e[n]=S[n]&&S[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},o=[];t||(t=p);for(var i=0;i<t.length;i++){var s=t[i];r[s]=e[s]}var a=function(e){var t=e.shift();r[t]?o.push(t):e.length>0&&a(e)};return!1!==n.websocket&&a(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?a(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?a(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var h="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(h in t)){var r={};t[h]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[h](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){void 0!==t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){void 0!==t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var v={},m=!1,g=function(){for(var e in v)v[e](),delete v[e]},b=function(){m||(m=!0,g())};n.attachEvent("unload",b),n.unload_add=function(e){var t=n.random_string(8);return v[t]=e,m&&n.delay(g),t},n.unload_del=function(e){e in v&&delete v[e]},n.createIframe=function(t,r){var o=e.createElement("iframe"),i,s,a=function(){clearTimeout(i);try{o.onload=null}catch(e){}o.onerror=null},u=function(){o&&(a(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),n.unload_del(s))},c=function(e){o&&(u(),r(e))},d=function(e,t){try{o&&o.contentWindow&&o.contentWindow.postMessage(e,t)}catch(e){}};return o.src=t,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(i),i=setTimeout(function(){c("onload timeout")},2e3)},e.body.appendChild(o),i=setTimeout(function(){c("timeout")},15e3),s=n.unload_add(u),{post:d,cleanup:u,loaded:a}},n.createHtmlfile=function(e,r){var o=new ActiveXObject("htmlfile"),i,s,a,u=function(){clearTimeout(i)},c=function(){o&&(u(),n.unload_del(s),a.parentNode.removeChild(a),a=o=null,CollectGarbage())},d=function(e){o&&(c(),r(e))},l=function(e,t){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(e){}};o.open(),o.write('<html><script>document.domain="'+document.domain+'";<\/script></html>'),o.close(),o.parentWindow._jp=t._jp;var f=o.createElement("div");return o.body.appendChild(f),a=o.createElement("iframe"),f.appendChild(a),a.src=e,i=setTimeout(function(){d("timeout")},15e3),s=n.unload_add(c),{post:l,cleanup:c,loaded:u}};var y=function(){};(y.prototype=new i(["chunk","finish"]))._start=function(e,r,o,i){var s=this;try{s.xhr=new XMLHttpRequest}catch(e){}if(!s.xhr)try{s.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(-1===r.indexOf("?")?"?":"&")+"t="+ +new Date),s.unload_ref=n.unload_add(function(){s._cleanup(!0)});try{s.xhr.open(e,r,!0)}catch(e){return s.emit("finish",0,""),void s._cleanup()}if(i&&i.no_credentials||(s.xhr.withCredentials="true"),i&&i.headers)for(var a in i.headers)s.xhr.setRequestHeader(a,i.headers[a]);s.xhr.onreadystatechange=function(){if(s.xhr){var e=s.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&s.emit("chunk",t,n);break;case 4:1223===(t=e.status)&&(t=204),s.emit("finish",t,e.responseText),s._cleanup(!1);break}}},s.xhr.send(o)},y.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(e){}t.unload_ref=t.xhr=null}},y.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},(n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})}).prototype=new y,(n.XHRLocalObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r,{no_credentials:!0})})}).prototype=new y;var w=n.XDRObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r)})};w.prototype=new i(["chunk","finish"]),w.prototype._start=function(e,t,r){var o=this,i=new XDomainRequest;t+=(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date;var s=i.ontimeout=i.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};i.onprogress=function(){o.emit("chunk",200,i.responseText)},i.onload=function(){o.emit("finish",200,i.responseText),o._cleanup(!1)},o.xdr=i,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(r)}catch(e){s()}},w.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(e){}t.unload_ref=t.xdr=null}},w.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:j.enabled()?3:4};var S=function(e,t,r){if(!(this instanceof S))return new S(e,t,r);var o=this,i;o._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(o._options,r),o._base_url=n.amendUrl(e),o._server=o._options.server||n.random_number_string(1e3),o._options.protocols_whitelist&&o._options.protocols_whitelist.length?i=o._options.protocols_whitelist:(i="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null)&&o._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.'),o._protocols=[],o.protocol=null,o.readyState=S.CONNECTING,o._ir=H(o._base_url),o._ir.onfinish=function(e,t){o._ir=null,e?(o._options.info&&(e=n.objectExtend(e,o._options.info)),o._options.rtt&&(t=o._options.rtt),o._applyInfo(e,t,i),o._didClose()):o._didClose(1002,"Can't connect to server",!0)}};S.prototype=new r,S.version="0.3.4",S.CONNECTING=0,S.OPEN=1,S.CLOSING=2,S.CLOSED=3,S.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},S.prototype._dispatchOpen=function(){var e=this;e.readyState===S.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=S.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},S.prototype._dispatchMessage=function(e){var t=this;t.readyState===S.OPEN&&t.dispatchEvent(new o("message",{data:e}))},S.prototype._dispatchHeartbeat=function(e){var t=this;t.readyState===S.OPEN&&t.dispatchEvent(new o("heartbeat",{}))},S.prototype._didClose=function(e,t,r){var i=this;if(i.readyState!==S.CONNECTING&&i.readyState!==S.OPEN&&i.readyState!==S.CLOSING)throw new Error("INVALID_STATE_ERR");i._ir&&(i._ir.nuke(),i._ir=null),i._transport&&(i._transport.doCleanup(),i._transport=null);var s=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&i.readyState===S.CONNECTING&&!r){if(i._try_next_protocol(s))return;s=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:s})}i.readyState=S.CLOSED,n.delay(function(){i.dispatchEvent(s)})},S.prototype._didMessage=function(e){var t=this;switch(e.slice(0,1)){case"o":t._dispatchOpen();break;case"a":for(var n=JSON.parse(e.slice(1)||"[]"),r=0;r<n.length;r++)t._dispatchMessage(n[r]);break;case"m":var n=JSON.parse(e.slice(1)||"null");t._dispatchMessage(n);break;case"c":var n=JSON.parse(e.slice(1)||"[]");t._didClose(n[0],n[1]);break;case"h":t._dispatchHeartbeat();break}},S.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(S[o]&&!0===S[o].need_body&&(!e.body||void 0!==e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(S[o]&&S[o].enabled(r._options)){var i=S[o].roundTrips||1,s=(r._options.rto||0)*i||5e3;r._transport_tref=n.delay(s,function(){r.readyState===S.CONNECTING&&r._didClose(2007,"Transport timeouted")});var a=n.random_string(8),u=r._base_url+"/"+r._server+"/"+a;return r._debug("Opening transport:",o," url:"+u," RTO:"+r._options.rto),r._transport=new S[o](r,u,r._base_url),!0}r._debug("Skipping transport:",o)}},S.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return(r.readyState===S.CONNECTING||r.readyState===S.OPEN)&&(r.readyState=S.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},S.prototype.send=function(e){var t=this;if(t.readyState===S.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===S.OPEN&&t._transport.doSend(n.quote(""+e)),!0},S.prototype._applyInfo=function(t,r,o){var i=this;i._options.info=t,i._options.rtt=r,i._options.rto=n.countRTO(r),i._options.info.null_origin=!e.domain,t.base_url&&(i._base_url=n.amendUrl(t.base_url,i._base_url));var s=n.probeProtocols();i._protocols=n.detectProtocols(s,o,t),n.isSameOriginScheme(i._base_url)||2!==n.isXHRCorsCapable()||(i._protocols=["jsonp-polling"])};var k=S.websocket=function(e,r){var o=this,i=r+"/websocket";i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),o.ri=e,o.url=i;var s=t.WebSocket||t.MozWebSocket;o.ws=new s(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};k.prototype.doSend=function(e){this.ws.send("["+e+"]")},k.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},k.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},k.roundTrips=2;var C=function(){};C.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},C.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},C.prototype.send_schedule_wait=function(){var e=this,t;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},C.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,!1===t?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},C.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var E=function(t,r,o){var i=this;if(!("_send_form"in i)){var s=i._send_form=e.createElement("form");(a=i._send_area=e.createElement("textarea")).name="d",s.style.display="none",s.style.position="absolute",s.method="POST",s.enctype="application/x-www-form-urlencoded",s.acceptCharset="UTF-8",s.appendChild(a),e.body.appendChild(s)}var s=i._send_form,a=i._send_area,u="a"+n.random_string(8);s.target=u,s.action=t+"/jsonp_send?i="+u;var c;try{c=e.createElement('<iframe name="'+u+'">')}catch(t){(c=e.createElement("iframe")).name=u}c.id=u,s.appendChild(c),c.style.display="none";try{a.value=r}catch(e){n.log("Your browser is seriously broken. Go home! "+e.message)}s.submit();var d=function(e){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,function(){c.parentNode.removeChild(c),c=null}),a.value="",o(!0))};return c.onerror=c.onload=d,c.onreadystatechange=function(e){"complete"==c.readyState&&d()},d},O=function(e){return function(t,n,r){return new e("POST",t+"/xhr_send",n).onfinish=function(e,t){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},T=function(t,r){var o,i=e.createElement("script"),s,a=function(e){s&&(s.parentNode.removeChild(s),s=null),i&&(clearTimeout(o),i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,i=null,r(e),r=null)},u=!1,c=null;if(i.id="a"+n.random_string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=function(e){c||(c=setTimeout(function(){u||a(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},i.onload=function(e){a(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(e){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){u=!0;try{i.onclick()}catch(e){}}i&&a(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},void 0===i.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))(s=e.createElement("script")).text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=s.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(e){}i.async=!0}void 0!==i.async&&(i.async=!0),o=setTimeout(function(){a(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var d=e.getElementsByTagName("head")[0];return d.insertBefore(i,d.firstChild),s&&d.insertBefore(s,d.firstChild),a},D=S["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(E),r._schedule_recv()};D.prototype=new C,D.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=M(e.trans_url+"/jsonp",T,t)},D.enabled=function(){return!0},D.need_body=!0,D.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var M=function(e,r,o){var i="a"+n.random_string(6),s=0,a=r(e+"?c="+escape("_jp."+i),function(e){switch(s){case 0:delete t._jp[i],o(e);break;case 1:o(e),s=2;break;case 2:delete t._jp[i];break}});return t._jp[i]=a,function(){t._jp[i]&&(s=1,t._jp[i](n.closeFrame(1e3,"JSONP user aborted read")))}},x=function(){};(x.prototype=new C).run=function(e,t,n,r,o){var i=this;i.ri=e,i.trans_url=t,i.send_constructor(O(o)),i.poll=new q(e,r,t+n,o)},x.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var R=S["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",Y,n.XHRCorsObject)};R.prototype=new x,R.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},R.roundTrips=2,R.need_body=!0;var I=S["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",Y,n.XDRObject)};I.prototype=new x,I.enabled=function(){return!!t.XDomainRequest},I.roundTrips=2;var P=S["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",Y,n.XHRCorsObject)};P.prototype=new x,P.enabled=R.enabled,P.roundTrips=2;var N=S["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",Y,n.XDRObject)};N.prototype=new x,N.enabled=I.enabled,N.roundTrips=2;var j=function(){};j.prototype.i_constructor=function(e,t,r){var o=this;o.ri=e,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=t;var i=r+"/iframe.html";o.ri._options.devel&&(i+="?t="+ +new Date),o.window_id=n.random_string(8),i+="#"+o.window_id,o.iframeObj=n.createIframe(i,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},j.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(e){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},j.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),r=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",JSON.stringify([S.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o);break}}},j.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},j.prototype.doSend=function(e){this.postMessage("m",e)},j.enabled=function(){var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var A,B=function(e,r){parent!==t?parent.postMessage(A+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},U=function(){};U.prototype._didClose=function(e,t){B("t",n.closeFrame(e,t))},U.prototype._didMessage=function(e){B("t",e)},U.prototype._doSend=function(e){this._transport.doSend(e)},U.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,S.bootstrap_iframe=function(){var r;A=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&(void 0===n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),i=e.data.slice(8,9),s=e.data.slice(9);if(o===A)switch(i){case"s":var a=JSON.parse(s),u=a[0],c=a[1],d=a[2],l=a[3];if(u!==S.version&&n.log('Incompatibile SockJS! Main site uses: "'+u+'", the iframe: "'+S.version+'".'),!n.flatUrl(d)||!n.flatUrl(l))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(d)||!n.isSameOriginUrl(l))return void n.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([t.location.href,d,l])+")");(r=new U)._transport=new U[c](r,d,l);break;case"m":r._doSend(s);break;case"c":r&&r._doCleanup(),r=null;break}}};n.attachMessage(o),B("s")};var W=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};(W.prototype=new i(["finish"])).doXhr=function(e,t){var r=this,o=(new Date).getTime(),i=new t("GET",e+"/info?cb="+n.random_string(10)),s=n.delay(8e3,function(){i.ontimeout()});i.onfinish=function(e,t){if(clearTimeout(s),s=null,200===e){var n=(new Date).getTime()-o,i=JSON.parse(t);"object"!=typeof i&&(i={}),r.emit("finish",i,n)}else r.emit("finish")},i.ontimeout=function(){i.close(),r.emit("finish")}};var F=function(t){var r=this,o=function(){var e=new j;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=JSON.parse(t.substr(1)),o=n[0],i=n[1];r.emit("finish",o,i)}else r.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};F.prototype=new i(["finish"]);var L=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};L.prototype=new i(["finish"]);var H=function(e){if(n.isSameOriginUrl(e))return new W(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new W(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new W(e,n.XDRObject):new L;case 3:return new F(e);default:return new L}};(U["w-iframe-info-receiver"]=function(e,t,r){new W(r,n.XHRLocalObject).onfinish=function(t,n){e._didMessage("m"+JSON.stringify([t,n])),e._didClose()}}).prototype.doCleanup=function(){};var X=S["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};X.prototype=new j,X.enabled=function(){return"EventSource"in t&&j.enabled()},X.need_body=!0,X.roundTrips=3,(U["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",G,n.XHRLocalObject)}).prototype=new x;var J=S["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};J.prototype=new j,J.enabled=function(){return t.XMLHttpRequest&&j.enabled()},J.need_body=!0,J.roundTrips=3,(U["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",Y,n.XHRLocalObject)}).prototype=new x;var V=S["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};V.prototype=new j,V.enabled=function(){return j.enabled()},V.need_body=!0,V.roundTrips=3,(U["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",$,n.XHRLocalObject)}).prototype=new x;var q=function(e,t,n,r){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=r,o._scheduleRecv()};q.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},q.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var G=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,i){var s=i?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:s}))})}};G.prototype=new r,G.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var Q,z=function(){if(void 0===Q)if("ActiveXObject"in t)try{Q=!!new ActiveXObject("htmlfile")}catch(e){}else Q=!1;return Q},$=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(-1===e.indexOf("?")?"?":"&")+"c="+escape("_jp."+r.id);var i=z()?n.createHtmlfile:n.createIframe,s;t._jp[r.id]={start:function(){s.loaded()},message:function(e){r.dispatchEvent(new o("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){s.cleanup(),r.iframe_close=s=null,delete t._jp[r.id],r.dispatchEvent(new o("close",{reason:n}))},s=i(e,function(e){r.iframe_close({},"permanent")})};$.prototype=new r,$.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var Y=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var i=t.slice(r),s=i.indexOf("\n");if(-1===s)break;r+=s+1;var a=i.slice(0,s);n.dispatchEvent(new o("message",{data:a}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return Y.prototype=new r,Y.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},S.getUtils=function(){return n},S.getIframeTransport=function(){return j},S}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return g})}.call(this),function(){v.ClientStream=function(e,t){var n=this;n.options=a.extend({retry:!0},t),n._initCommon(n.options),n.HEARTBEAT_TIMEOUT=1e5,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",a.bind(n._online,n),!1),n._launchConnection()},a.extend(v.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){this.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.currentStatus.connected||(e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),a.each(e.eventCallbacks.reset,function(e){e()}))},_cleanup:function(e){var t=this;t._clearConnectionAndHeartbeatTimers(),t.socket&&(t.socket.onmessage=t.socket.onclose=t.socket.onerror=t.socket.onheartbeat=function(){},t.socket.close(),t.socket=null),a.each(t.eventCallbacks.disconnect,function(t){t(e)})},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var t=this;e._debug("Connection timeout. No sockjs heartbeat received."),t._lostConnection(new h.ConnectionError("Heartbeat timed out"))},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(a.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT))},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];return navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent)||(e=["websocket"].concat(e)),e},_launchConnection:function(){var t=this;t._cleanup();var n=a.extend({protocols_whitelist:t._sockjsProtocolsWhitelist()},t.options._sockjsOptions);t.socket=new g(b(t.rawUrl),void 0,n),t.socket.onopen=function(e){t._connected()},t.socket.onmessage=function(e){t._heartbeat_received(),t.currentStatus.connected&&a.each(t.eventCallbacks.message,function(t){t(e.data)})},t.socket.onclose=function(){t._lostConnection()},t.socket.onerror=function(){e._debug("stream error",a.toArray(arguments),(new Date).toDateString())},t.socket.onheartbeat=function(){t._heartbeat_received()},t.connectionTimer&&clearTimeout(t.connectionTimer),t.connectionTimer=setTimeout(function(){t._lostConnection(new h.ConnectionError("DDP connection timed out"))},t.CONNECT_TIMEOUT)}})}.call(this),function(){var t=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},n=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},r=function(r,o,s){o||(o="http");var a=r.match(/^ddp(i?)\+sockjs:\/\//),u=r.match(/^http(s?):\/\//),c;if(a){var d=r.substr(a[0].length);c="i"===a[1]?o:o+"s";var l=d.indexOf("/"),f=-1===l?d:d.substr(0,l),_=-1===l?"":d.substr(l);return f=f.replace(/\*/g,function(){return Math.floor(10*i.fraction())}),c+"://"+f+_}return u&&(r=(c=u[1]?o+"s":o)+"://"+r.substr(u[0].length)),-1!==r.indexOf("://")||t(r,"/")||(r=o+"://"+r),r=e._relativeToSiteRootUrl(r),n(r,"/")?r+s:r+"/"+s};b=function(e){return r(e,"http","sockjs")},y=function(e){return r(e,"ws","websocket")},v.toSockjsUrl=b,a.extend(v.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e&&"disconnect"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(e){var t=this;e=e||{},t.CONNECT_TIMEOUT=e.connectTimeoutMs||1e4,t.eventCallbacks={},t._forcedToDisconnect=!1,t.currentStatus={status:"connecting",connected:!1,retryCount:0},t.statusListeners=void 0!==u&&new u.Dependency,t.statusChanged=function(){t.statusListeners&&t.statusListeners.changed()},t._retry=new d,t.connectionTimer=null},reconnect:function(e){var t=this;(e=e||{}).url&&t._changeUrl(e.url),e._sockjsOptions&&(t.options._sockjsOptions=e._sockjsOptions),t.currentStatus.connected?(e._force||e.url)&&t._lostConnection(new h.ForcedReconnectError):("connecting"===t.currentStatus.status&&t._lostConnection(),t._retry.clear(),t.currentStatus.retryCount-=1,t._retryNow())},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(e){var t=this;t._cleanup(e),t._retryLater(e)},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(e){var t=this,n=0;t.options.retry||e&&"DDP.ForcedReconnectError"===e.errorType?(n=t._retry.retryLater(t.currentStatus.retryCount,a.bind(t._retryNow,t)),t.currentStatus.status="waiting",t.currentStatus.retryTime=(new Date).getTime()+n):(t.currentStatus.status="failed",delete t.currentStatus.retryTime),t.currentStatus.connected=!1,t.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}}),h.ConnectionError=e.makeErrorType("DDP.ConnectionError",function(e){this.message=e}),h.ForcedReconnectError=e.makeErrorType("DDP.ForcedReconnectError",function(){})}.call(this),function(){v.SUPPORTED_DDP_VERSIONS=f.SUPPORTED_DDP_VERSIONS,h._CurrentInvocation=new e.EnvironmentVariable}.call(this),function(){h.randomStream=function(e){var t=h._CurrentInvocation.get();return f.RandomStream.get(t,e)}}.call(this),function(){if(e.isServer)var t=Npm.require("path"),n=Npm.require("fibers"),r=Npm.require(t.join("fibers","future"));var o=function(t,n){var r=this;n=a.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(t){e._debug(t)},heartbeatInterval:17500,heartbeatTimeout:15e3,npmFayeOptions:{},reloadWithOutstanding:!1,supportedDDPVersions:f.SUPPORTED_DDP_VERSIONS,retry:!0,respondToPings:!0,bufferedWritesInterval:5,bufferedWritesMaxAge:500},n),r.onReconnect=null,r._stream="object"==typeof t?t:new v.ClientStream(t,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors,connectTimeoutMs:n.connectTimeoutMs,npmFayeOptions:n.npmFayeOptions}),r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores={},r._methodHandlers={},r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._heartbeatInterval=n.heartbeatInterval,r._heartbeatTimeout=n.heartbeatTimeout,r._methodInvokers={},r._outstandingMethodBlocks=[],r._documentsWrittenByStub={},r._serverDocuments={},r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence={},r._subsBeingRevived={},r._resetStores=!1,r._updatesForUnknownStores={},r._retryMigrate=null,r.__flushBufferedWrites=e.bindEnvironment(r._flushBufferedWrites,"flushing DDP buffered writes",r),r._bufferedWrites={},r._bufferedWritesFlushAt=null,r._bufferedWritesFlushHandle=null,r._bufferedWritesInterval=n.bufferedWritesInterval,r._bufferedWritesMaxAge=n.bufferedWritesMaxAge,r._subscriptions={},r._userId=null,r._userIdDeps=new u.Dependency,e.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(r._readyToMigrate())return[!0];if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1});var o=function(t){try{var o=f.parseDDP(t)}catch(t){return void e._debug("Exception while parsing DDP",t)}if(r._heartbeat&&r._heartbeat.messageReceived(),null!==o&&o.msg)if("connected"===o.msg)r._version=r._versionSuggestion,r._livedata_connected(o),n.onConnected();else if("failed"===o.msg)if(a.contains(r._supportedDDPVersions,o.version))r._versionSuggestion=o.version,r._stream.reconnect({_force:!0});else{var i="DDP version negotiation failed; server requested version "+o.version;r._stream.disconnect({_permanent:!0,_error:i}),n.onDDPVersionNegotiationFailure(i)}else"ping"===o.msg&&n.respondToPings?r._send({msg:"pong",id:o.id}):"pong"===o.msg||(a.include(["added","changed","removed","ready","updated"],o.msg)?r._livedata_data(o):"nosub"===o.msg?r._livedata_nosub(o):"result"===o.msg?r._livedata_result(o):"error"===o.msg?r._livedata_error(o):e._debug("discarding unknown livedata message type",o));else o&&o.server_id||e._debug("discarding invalid livedata message",o)},i=function(){var t={msg:"connect"};r._lastSessionId&&(t.session=r._lastSessionId),t.version=r._versionSuggestion||r._supportedDDPVersions[0],r._versionSuggestion=t.version,t.support=r._supportedDDPVersions,r._send(t),r._outstandingMethodBlocks.length>0&&a.each(r._outstandingMethodBlocks[0].methods,function(t){if(t.sentMessage&&t.noRetry){for(var n=r._outstandingMethodBlocks[0].methods,o,i=0;i<n.length&&(o=n[i]).methodId!==t.methodId;i++);n.splice(i,1),t.receiveResult(new e.Error("invocation-failed","Method invocation might have failed due to dropped connection. Failing because `noRetry` option was passed to Meteor.apply."))}}),!a.isEmpty(r._outstandingMethodBlocks)&&a.isEmpty(r._outstandingMethodBlocks[0].methods)&&r._outstandingMethodBlocks.shift(),a.each(r._methodInvokers,function(e){e.sentMessage=!1}),r.onReconnect?r._callOnReconnectAndSendAppropriateOutstandingMethods():r._sendOutstandingMethods(),a.each(r._subscriptions,function(e,t){r._send({msg:"sub",id:t,name:e.name,params:e.params})})},s=function(){r._heartbeat&&(r._heartbeat.stop(),r._heartbeat=null)};e.isServer?(r._stream.on("message",e.bindEnvironment(o,"handling DDP message")),r._stream.on("reset",e.bindEnvironment(i,"handling DDP reset")),r._stream.on("disconnect",e.bindEnvironment(s,"handling DDP disconnect"))):(r._stream.on("message",o),r._stream.on("reset",i),r._stream.on("disconnect",s))},c=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t.noRetry=e.noRetry,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};a.extend(c.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){return!!this._methodResult}}),a.extend(o.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};a.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals","getDoc","_getCollection"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=r;var o=n._updatesForUnknownStores[e];return o&&(r.beginUpdate(o.length,!1),a.each(o,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),r={};if(n.length){var o=n[n.length-1];a.isFunction(o)?r.onReady=n.pop():o&&a.any([o.onReady,o.onError,o.onStop],a.isFunction)&&(r=n.pop())}var c=a.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&s.equals(t.params,n)}),d;c?(d=c.id,c.inactive=!1,r.onReady&&(c.ready||(c.readyCallback=r.onReady)),r.onError&&(c.errorCallback=r.onError),r.onStop&&(c.stopCallback=r.onStop)):(d=i.id(),t._subscriptions[d]={id:d,name:e,params:s.clone(n),inactive:!1,ready:!1,readyDeps:new u.Dependency,readyCallback:r.onReady,errorCallback:r.onError,stopCallback:r.onStop,connection:t,remove:function(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop:function(){this.connection._send({msg:"unsub",id:d}),this.remove(),r.onStop&&r.onStop()}},t._send({msg:"sub",id:d,name:e,params:n}));var l={stop:function(){a.has(t._subscriptions,d)&&t._subscriptions[d].stop()},ready:function(){if(!a.has(t._subscriptions,d))return!1;var e=t._subscriptions[d];return e.readyDeps.depend(),e.ready},subscriptionId:d};return u.active&&u.onInvalidate(function(e){a.has(t._subscriptions,d)&&(t._subscriptions[d].inactive=!0),u.afterFlush(function(){a.has(t._subscriptions,d)&&t._subscriptions[d].inactive&&l.stop()})}),l},_subscribeAndWait:function(e,t,n){var o=this,i=new r,s=!1,a;return(t=t||[]).push({onReady:function(){s=!0,i.return()},onError:function(e){s?n&&n.onLateError&&n.onLateError(e):i.throw(e)}}),a=o.subscribe.apply(o,[e].concat(t)),i.wait(),a},methods:function(e){var t=this;a.each(e,function(e,n){if("function"!=typeof e)throw new Error("Method '"+n+"' must be a function");if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,o,i){var u=this;i||"function"!=typeof o||(i=o,o={}),o=o||{},i&&(i=e.bindEnvironment(i,"delivering result of invoking '"+t+"'")),n=s.clone(n);var d=function(){var e;return function(){return void 0===e&&(e=""+u._nextMethodId++),e}}(),l=h._CurrentInvocation.get(),_=l&&l.isSimulation,p=null,v=function(){return null===p&&(p=f.makeRpcSeed(l,t)),p},m=u._methodHandlers[t];if(m){var g=function(e){u.setUserId(e)},b=new f.MethodInvocation({isSimulation:!0,userId:u.userId(),setUserId:g,randomSeed:function(){return v()}});_||u._saveOriginals();try{var y=h._CurrentInvocation.withValue(b,function(){return e.isServer?e._noYieldsAllowed(function(){return m.apply(b,s.clone(n))}):m.apply(b,s.clone(n))})}catch(e){var w=e}_||u._retrieveAndStoreOriginals(d())}if(_){if(i)return void i(w,y);if(w)throw w;return y}if(w){if(o.throwStubExceptions)throw w;w.expected||e._debug("Exception while simulating the effect of invoking '"+t+"'",w,w.stack)}if(!i)if(e.isClient)i=function(n){n&&e._debug("Error invoking Method '"+t+"':",n.message)};else{var S=new r;i=S.resolver()}var k={msg:"method",method:t,params:n,id:d()};null!==p&&(k.randomSeed=p);var C=new c({methodId:d(),callback:i,connection:u,onResultReceived:o.onResultReceived,wait:!!o.wait,message:k,noRetry:!!o.noRetry});return o.wait?u._outstandingMethodBlocks.push({wait:!0,methods:[C]}):((a.isEmpty(u._outstandingMethodBlocks)||a.last(u._outstandingMethodBlocks).wait)&&u._outstandingMethodBlocks.push({wait:!1,methods:[]}),a.last(u._outstandingMethodBlocks).methods.push(C)),1===u._outstandingMethodBlocks.length&&C.sendMessage(),S?S.wait():o.returnStubValue?y:void 0},_saveOriginals:function(){var e=this;a.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];a.each(t._stores,function(r,o){var i=r.retrieveOriginals();i&&i.forEach(function(r,i){n.push({collection:o,id:i}),a.has(t._serverDocuments,o)||(t._serverDocuments[o]=new m);var s=t._serverDocuments[o].setDefault(i,{});s.writtenByStubs?s.writtenByStubs[e]=!0:(s.document=r,s.flushCallbacks=[],s.writtenByStubs={},s.writtenByStubs[e]=!0)})}),a.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;a.each(a.clone(e._subscriptions),function(t,n){"meteor_autoupdate_clientVersions"!==t.name&&e._subscriptions[n].stop()})},_send:function(e){this._stream.send(f.stringifyDDP(e))},_lostConnection:function(e){this._stream._lostConnection(e)},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){return this._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!a.isEmpty(e._subsBeingRevived)||!a.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return a.any(a.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new f.Heartbeat({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){t._lostConnection(new h.ConnectionError("DDP heartbeat timed out"))},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},a.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&a.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(a.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(a.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){this["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this;if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],a.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),a.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;a.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,t._bufferedWrites)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,t._bufferedWrites);var n=a.include(["added","changed","removed"],e.msg);if(0!==t._bufferedWritesInterval&&n){if(null===t._bufferedWritesFlushAt)t._bufferedWritesFlushAt=(new Date).valueOf()+t._bufferedWritesMaxAge;else if(t._bufferedWritesFlushAt<(new Date).valueOf())return void t._flushBufferedWrites();t._bufferedWritesFlushHandle&&clearTimeout(t._bufferedWritesFlushHandle),t._bufferedWritesFlushHandle=setTimeout(t.__flushBufferedWrites,t._bufferedWritesInterval)}else t._flushBufferedWrites()},_flushBufferedWrites:function(){var e=this;e._bufferedWritesFlushHandle&&(clearTimeout(e._bufferedWritesFlushHandle),e._bufferedWritesFlushHandle=null),e._bufferedWritesFlushAt=null;var t=e._bufferedWrites;e._bufferedWrites={},e._performWrites(t)},_performWrites:function(e){var t=this;!t._resetStores&&a.isEmpty(e)||(a.each(t._stores,function(n,r){n.beginUpdate(a.has(e,r)?e[r].length:0,t._resetStores)}),t._resetStores=!1,a.each(e,function(e,n){var r=t._stores[n];r?a.each(e,function(e){r.update(e)}):(a.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),a.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],a.each(t,function(e){e()})},_pushUpdate:function(e,t,n){var r=this;a.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;return a.has(n._serverDocuments,e)?n._serverDocuments[e].get(t)||null:null},_process_added:function(e,t){var n=this,r=p.idParse(e.id),o=n._getServerDoc(e.collection,r);if(o){var i=void 0!==o.document;if(o.document=e.fields||{},o.document._id=r,n._resetStores){var s=n._stores[e.collection].getDoc(e.id);void 0!==s&&(e.fields=s),n._pushUpdate(t,e.collection,e)}else if(i)throw new Error("Server sent add for existing id: "+e.id)}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,r=n._getServerDoc(e.collection,p.idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent changed for nonexisting id: "+e.id);_.applyChanges(r.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,r=n._getServerDoc(e.collection,p.idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent removed for nonexisting id:"+e.id);r.document=void 0}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;a.each(e.methods,function(e){a.each(n._documentsWrittenByStub[e],function(r){var o=n._getServerDoc(r.collection,r.id);if(!o)throw new Error("Lost serverDoc for "+JSON.stringify(r));if(!o.writtenByStubs[e])throw new Error("Doc "+JSON.stringify(r)+" not written by  method "+e);delete o.writtenByStubs[e],a.isEmpty(o.writtenByStubs)&&(n._pushUpdate(t,r.collection,{msg:"replace",id:p.idStringify(r.id),replace:o.document}),a.each(o.flushCallbacks,function(e){e()}),n._serverDocuments[r.collection].remove(r.id))}),delete n._documentsWrittenByStub[e];var r=n._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(a.bind(r.dataVisible,r))})},_process_ready:function(e,t){var n=this;a.each(e.subs,function(e){n._runWhenAllServerDocsAreFlushed(function(){var t=n._subscriptions[e];t&&(t.ready||(t.ready=!0,t.readyCallback&&t.readyCallback(),t.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,o=function(){0===--r&&n()};a.each(t._serverDocuments,function(e){e.forEach(function(e){a.any(e.writtenByStubs,function(e,n){var r=t._methodInvokers[n];return r&&r.sentMessage})&&(++r,e.flushCallbacks.push(o))})}),0===r&&n()},_livedata_nosub:function(t){var n=this;if(n._livedata_data(t),a.has(n._subscriptions,t.id)){var r=n._subscriptions[t.id].errorCallback,o=n._subscriptions[t.id].stopCallback;n._subscriptions[t.id].remove();var i=function(t){return t&&t.error&&new e.Error(t.error.error,t.error.reason,t.error.details)};r&&t.error&&r(i(t)),o&&o(i(t))}},_process_nosub:function(){},_livedata_result:function(t){var n=this;if(a.isEmpty(n._bufferedWrites)||n._flushBufferedWrites(),a.isEmpty(n._outstandingMethodBlocks))e._debug("Received method result but no methods outstanding");else{for(var r=n._outstandingMethodBlocks[0].methods,o,i=0;i<r.length&&(o=r[i]).methodId!==t.id;i++);o?(r.splice(i,1),a.has(t,"error")?o.receiveResult(new e.Error(t.error.error,t.error.reason,t.error.details)):o.receiveResult(void 0,t.result)):e._debug("Can't match method response to original method call",t)}},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!a.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!a.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+JSON.stringify(t));a.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;a.isEmpty(e._outstandingMethodBlocks)||a.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(t){e._debug("Received error from server: ",t.reason),t.offendingMessage&&e._debug("For: ",t.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!a.isEmpty(t)){if(a.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,void e._sendOutstandingMethods();a.last(e._outstandingMethodBlocks).wait||t[0].wait||(a.each(t[0].methods,function(t){a.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),a.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return a.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),v.Connection=o,h.connect=function(e,t){var n=new o(e,t);return w.push(n),n},w=[],h._allSubscriptionsReady=function(){return a.all(w,function(e){return a.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(e.refresh=function(e){},e.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new d,r=function(t){if(e._debug(t),Package.reload){var r=(Package.reload.Reload._migrationData("livedata")||{}).DDPVersionNegotiationFailures||0;++r,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:r}]}),n.retryLater(r,function(){Package.reload.Reload._reload()})}};e.connection=h.connect(t,{onDDPVersionNegotiationFailure:r}),a.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(t){e[t]=a.bind(e.connection[t],e.connection)})}else e.connection=null;e.default_connection=e.connection,e.connect=h.connect}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["ddp-client"]={},{DDP:h,LivedataTest:v})}();

!function(){var a=Package["ddp-client"].DDP;"undefined"==typeof Package&&(Package={}),function(a,n){for(var e in n)e in a||(a[e]=n[e])}(Package.ddp={},{DDP:a})}();

"undefined"==typeof Package&&(Package={}),Package["ddp-server"]={};

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.minimongo.LocalCollection,o=Package.minimongo.Minimongo,i=Package.check.check,a=Package.check.Match,c=Package.ejson.EJSON,l=Package["ddp-client"].DDP,s=Package.modules.meteorInstall,d=Package.modules.process,u=Package["babel-runtime"].meteorBabelHelpers,f=Package.promise.Promise,h=Package["ecmascript-runtime-client"].Symbol,_=Package["ecmascript-runtime-client"].Map,m=Package["ecmascript-runtime-client"].Set,v;s({node_modules:{meteor:{"allow-deny":{"allow-deny.js":function(){function t(e,t){return e.transform?e.transform(t):t}function r(e,t,r){var n=t;return e.transform&&(n=c.clone(t),null!==r&&(n._id=r),n=e.transform(n)),n}function o(e,t,r){var o=/^(?:insert|update|remove|fetch|transform)$/;if(Object.keys(r).forEach(function(e){if(!o.test(e))throw new Error(t+": Invalid key: "+e)}),e._restricted=!0,["insert","update","remove"].forEach(function(o){if(u.call(r,o)){if(!(r[o]instanceof Function))throw new Error(t+": Value for `"+o+"` must be a function");void 0===r.transform?r[o].transform=e._transform:r[o].transform=n.wrapTransform(r.transform),e._validators[o][t].push(r[o])}}),r.update||r.remove||r.fetch){if(r.fetch&&!(r.fetch instanceof Array))throw new Error(t+": Value for `fetch` must be an array");e._updateFetch(r.fetch)}}function s(t,r){if(!n._selectorIsIdPerhapsAsObject(t))throw new e.Error(403,"Not permitted. Untrusted code may only "+r+" documents by ID.")}function d(){var e=(l._CurrentMethodInvocation||l._CurrentInvocation).get();return e&&e.isSimulation}var u=Object.prototype.hasOwnProperty,f=(v={CollectionPrototype:{}}).CollectionPrototype;f.allow=function(e){o(this,"allow",e)},f.deny=function(e){o(this,"deny",e)},f._defineMutationMethods=function(t){var r=this;if(t=t||{},r._restricted=!1,r._insecure=void 0,r._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},r._name&&(r._prefix="/"+r._name+"/",r._connection&&(r._connection===e.server||e.isClient))){var n={};["insert","update","remove"].forEach(function(o){var c=r._prefix+o;if(t.useExisting){var l=e.isClient?"_methodHandlers":"method_handlers";if(r._connection[l]&&"function"==typeof r._connection[l][c])return}n[c]=function(){i(arguments,[a.Any]);var t=Array.from(arguments);try{var n=null;if("insert"!==o||u.call(t[0],"_id")||(n=r._makeNewID()),this.isSimulation)return null!==n&&(t[0]._id=n),r._collection[o].apply(r._collection,t);if("insert"!==o&&s(t[0],o),r._restricted){if(0===r._validators[o].allow.length)throw new e.Error(403,"Access denied. No allow validators set on restricted collection for method '"+o+"'.");var c="_validated"+o.charAt(0).toUpperCase()+o.slice(1);return t.unshift(this.userId),"insert"===o&&t.push(n),r[c].apply(r,t)}if(r._isInsecure())return null!==n&&(t[0]._id=n),r._collection[o].apply(r._collection,t);throw new e.Error(403,"Access denied")}catch(t){throw"MongoError"===t.name||"MinimongoError"===t.name?new e.Error(409,t.toString()):t}}}),r._connection.methods(n)}},f._updateFetch=function(e){var t=this;if(!t._validators.fetchAllFields)if(e){var r=Object.create(null),n=function(e){return e&&e.forEach(function(e){return r[e]=1})};n(t._validators.fetch),n(e),t._validators.fetch=Object.keys(r)}else t._validators.fetchAllFields=!0,t._validators.fetch=null},f._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure},f._validatedInsert=function(t,n,o){var i=this;if(i._validators.insert.deny.some(function(e){return e(t,r(e,n,o))}))throw new e.Error(403,"Access denied");if(i._validators.insert.allow.every(function(e){return!e(t,r(e,n,o))}))throw new e.Error(403,"Access denied");null!==o&&(n._id=o),i._collection.insert.call(i._collection,n)},f._validatedUpdate=function(r,o,a,c){var l=this;if(i(a,Object),c=Object.assign(Object.create(null),c),!n._selectorIsIdPerhapsAsObject(o))throw new Error("validated update should be of a single ID");if(c.upsert)throw new e.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var s="Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.",d=Object.keys(a),f={};if(0===d.length)throw new e.Error(403,s);d.forEach(function(t){var r=a[t];if("$"!==t.charAt(0))throw new e.Error(403,s);if(!u.call(h,t))throw new e.Error(403,"Access denied. Operator "+t+" not allowed in a restricted collection.");Object.keys(r).forEach(function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),f[e]=!0})});var _=Object.keys(f),m={transform:null};l._validators.fetchAllFields||(m.fields={},l._validators.fetch.forEach(function(e){m.fields[e]=1}));var v=l._collection.findOne(o,m);if(!v)return 0;if(l._validators.update.deny.some(function(e){var n=t(e,v);return e(r,n,_,a)}))throw new e.Error(403,"Access denied");if(l._validators.update.allow.every(function(e){var n=t(e,v);return!e(r,n,_,a)}))throw new e.Error(403,"Access denied");return c._forbidReplace=!0,l._collection.update.call(l._collection,o,a,c)};var h={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};f._validatedRemove=function(r,n){var o=this,i={transform:null};o._validators.fetchAllFields||(i.fields={},o._validators.fetch.forEach(function(e){i.fields[e]=1}));var a=o._collection.findOne(n,i);if(!a)return 0;if(o._validators.remove.deny.some(function(e){return e(r,t(e,a))}))throw new e.Error(403,"Access denied");if(o._validators.remove.allow.every(function(e){return!e(r,t(e,a))}))throw new e.Error(403,"Access denied");return o._collection.remove.call(o._collection,n)},f._callMutatorMethod=function(){function t(t,r,n){!e.isClient||n||d()||(n=function(r){r&&e._debug(t+" failed: "+(r.reason||r.stack))}),("update"===t||"remove"===t)&&!d()&&s(r[0],t);var o=this._prefix+t;return this._connection.apply(o,r,{returnStubValue:!0},n)}return t}()}}}}},{extensions:[".js",".json"]})("./node_modules/meteor/allow-deny/allow-deny.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var r in t)r in e||(e[r]=t[r])}(Package["allow-deny"]={},{AllowDeny:v})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,n=Package.meteor.meteorEnv,t=Package["allow-deny"].AllowDeny,r=Package.random.Random,i=Package.ejson.EJSON,c=Package.underscore._,l=Package.minimongo.LocalCollection,a=Package.minimongo.Minimongo,s=Package["ddp-client"].DDP,d=Package.tracker.Tracker,u=Package.tracker.Deps,f=Package["diff-sequence"].DiffSequence,_=Package["mongo-id"].MongoID,p=Package.check.check,m=Package.check.Match,g=Package.modules.meteorInstall,h=Package.modules.process,v=Package["babel-runtime"].meteorBabelHelpers,w=Package.promise.Promise,C=Package["ecmascript-runtime-client"].Symbol,y=Package["ecmascript-runtime-client"].Map,b=Package["ecmascript-runtime-client"].Set,k,O,I=g({node_modules:{meteor:{mongo:{"local_collection_driver.js":function(){k=function(){this.noConnCollections={}};var e=function(e,o){return e in o||(o[e]=new l(e)),o[e]};c.extend(k.prototype,{open:function(o,n){var t=this;return o?n?(n._mongo_livedata_collections||(n._mongo_livedata_collections={}),e(o,n._mongo_livedata_collections)):e(o,t.noConnCollections):new l}}),k=new k},"collection.js":function(o,n,i){function a(e){p(e,RegExp);var o={$regex:e.source},n="";return e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),n&&(o.$options=n),o}function d(e,o){if(e)return o=o||c.identity,function(n,t){e(n,!n&&o(t))}}function u(e){if(e.length&&(void 0===e[e.length-1]||e[e.length-1]instanceof Function))return e.pop()}(O={}).Collection=function(o,n){var t=this;if(!(t instanceof O.Collection))throw new Error('use "new" to construct a Mongo.Collection');if(o||null===o||(e._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),o=null),null!==o&&"string"!=typeof o)throw new Error("First argument to new Mongo.Collection must be a string or null");switch(n&&n.methods&&(n={connection:n}),n&&n.manager&&!n.connection&&(n.connection=n.manager),(n=c.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},n)).idGeneration){case"MONGO":t._makeNewID=function(){var e=o?s.randomStream("/collection/"+o):r.insecure;return new O.ObjectID(e.hexString(24))};break;case"STRING":default:t._makeNewID=function(){return(o?s.randomStream("/collection/"+o):r.insecure).id()};break}if(t._transform=l.wrapTransform(n.transform),o&&null!==n.connection?n.connection?t._connection=n.connection:e.isClient?t._connection=e.connection:t._connection=e.server:t._connection=null,n._driver||(o&&t._connection===e.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?n._driver=MongoInternals.defaultRemoteCollectionDriver():n._driver=k),t._collection=n._driver.open(o,t._connection),t._name=o,t._driver=n._driver,t._connection&&t._connection.registerStore&&!t._connection.registerStore(o,{beginUpdate:function(e,o){(e>1||o)&&t._collection.pauseObservers(),o&&t._collection.remove({})},update:function(e){var o=_.idParse(e.id),n=t._collection.findOne(o);if("replace"!==e.msg)if("added"===e.msg){if(n)throw new Error("Expected not to find a document already present for an add");t._collection.insert(c.extend({_id:o},e.fields))}else if("removed"===e.msg){if(!n)throw new Error("Expected to find a document already present for removed");t._collection.remove(o)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!n)throw new Error("Expected to find a document to change");if(!c.isEmpty(e.fields)){var r={};c.each(e.fields,function(e,o){void 0===e?(r.$unset||(r.$unset={}),r.$unset[o]=1):(r.$set||(r.$set={}),r.$set[o]=e)}),t._collection.update(o,r)}}else{var i=e.replace;i?n?t._collection.update(o,i):t._collection.insert(i):n&&t._collection.remove(o)}},endUpdate:function(){t._collection.resumeObservers()},saveOriginals:function(){t._collection.saveOriginals()},retrieveOriginals:function(){return t._collection.retrieveOriginals()},getDoc:function(e){return t.findOne(e)},_getCollection:function(){return t}})){var i='There is already a collection named "'+o+'"';if(!0!==n._suppressSameNameError)throw new Error(i);console.warn?console.warn(i):console.log(i)}if(!1!==n.defineMutationMethods)try{t._defineMutationMethods({useExisting:!0===n._suppressSameNameError})}catch(e){if(e.message==="A method named '/"+o+"/insert' is already defined")throw new Error('There is already a collection named "'+o+'"');throw e}Package.autopublish&&!n._preventAutopublish&&t._connection&&t._connection.publish&&t._connection.publish(null,function(){return t.find()},{is_auto:!0})},c.extend(O.Collection.prototype,{_getFindSelector:function(e){return 0==e.length?{}:e[0]},_getFindOptions:function(e){var o=this;return e.length<2?{transform:o._transform}:(p(e[1],m.Optional(m.ObjectIncluding({fields:m.Optional(m.OneOf(Object,void 0)),sort:m.Optional(m.OneOf(Object,Array,Function,void 0)),limit:m.Optional(m.OneOf(Number,void 0)),skip:m.Optional(m.OneOf(Number,void 0))}))),c.extend({transform:o._transform},e[1]))},find:function(){var e=this,o=c.toArray(arguments);return e._collection.find(e._getFindSelector(o),e._getFindOptions(o))},findOne:function(){var e=this,o=c.toArray(arguments);return e._collection.findOne(e._getFindSelector(o),e._getFindOptions(o))}}),O.Collection._publishCursor=function(e,o,n){var t=e.observeChanges({added:function(e,t){o.added(n,e,t)},changed:function(e,t){o.changed(n,e,t)},removed:function(e){o.removed(n,e)}});return o.onStop(function(){t.stop()}),t},O.Collection._rewriteSelector=function(e){if(l._selectorIsId(e)&&(e={_id:e}),c.isArray(e))throw new Error("Mongo selector can't be an array.");if(!e||"_id"in e&&!e._id)return{_id:r.id()};var o={};return c.each(e,function(e,n){e instanceof RegExp?o[n]=a(e):e&&e.$regex instanceof RegExp?(o[n]=a(e.$regex),void 0!==e.$options&&(o[n].$options=e.$options)):c.contains(["$or","$and","$nor"],n)?o[n]=c.map(e,function(e){return O.Collection._rewriteSelector(e)}):o[n]=e}),o},O.Collection.prototype.insert=function(){function e(e,o){if(!e)throw new Error("insert requires an argument");if("_id"in(e=c.extend({},e))){if(!e._id||!("string"==typeof e._id||e._id instanceof O.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var n=!0;this._isRemoteCollection()&&(s._CurrentInvocation.get()||(n=!1)),n&&(e._id=this._makeNewID())}var t=function(o){return e._id?e._id:(e._id=o,o)},r=d(o,t);if(this._isRemoteCollection())return t(this._callMutatorMethod("insert",[e],r));try{return t(this._collection.insert(e,r))}catch(e){if(o)return o(e),null;throw e}}return e}(),O.Collection.prototype.update=function(){function e(e,o){for(var n=arguments.length,t=Array(n>2?n-2:0),r=2;r<n;r++)t[r-2]=arguments[r];var i=u(t);e=O.Collection._rewriteSelector(e);var l=c.clone(t[0])||{};if(l&&l.upsert)if(l.insertedId){if(!("string"==typeof l.insertedId||l.insertedId instanceof O.ObjectID))throw new Error("insertedId must be string or ObjectID")}else e._id||(l.insertedId=this._makeNewID());var a=d(i);if(this._isRemoteCollection()){var s=[e,o,l];return this._callMutatorMethod("update",s,a)}try{return this._collection.update(e,o,l,a)}catch(e){if(i)return i(e),null;throw e}}return e}(),O.Collection.prototype.remove=function(){function e(e,o){e=O.Collection._rewriteSelector(e);var n=d(o);if(this._isRemoteCollection())return this._callMutatorMethod("remove",[e],n);try{return this._collection.remove(e,n)}catch(e){if(o)return o(e),null;throw e}}return e}(),O.Collection.prototype._isRemoteCollection=function(){function o(){return this._connection&&this._connection!==e.server}return o}(),O.Collection.prototype.upsert=function(){function e(e,o,n,t){t||"function"!=typeof n||(t=n,n={});var r=c.extend({},n,{_returnObject:!0,upsert:!0});return this.update(e,o,r,t)}return e}(),O.Collection.prototype._ensureIndex=function(e,o){var n=this;if(!n._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");n._collection._ensureIndex(e,o)},O.Collection.prototype._dropIndex=function(e){var o=this;if(!o._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");o._collection._dropIndex(e)},O.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},O.Collection.prototype._createCappedCollection=function(e,o){var n=this;if(!n._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");n._collection._createCappedCollection(e,o)},O.Collection.prototype.rawCollection=function(){var e=this;if(!e._collection.rawCollection)throw new Error("Can only call rawCollection on server collections");return e._collection.rawCollection()},O.Collection.prototype.rawDatabase=function(){var e=this;if(!e._driver.mongo||!e._driver.mongo.db)throw new Error("Can only call rawDatabase on server collections");return e._driver.mongo.db},O.ObjectID=_.ObjectID,O.Cursor=l.Cursor,O.Collection.Cursor=O.Cursor,O.Collection.ObjectID=O.ObjectID,e.Collection=O.Collection,c.extend(e.Collection.prototype,t.CollectionPrototype)}}}}},{extensions:[".js",".json"]});I("./node_modules/meteor/mongo/local_collection_driver.js"),I("./node_modules/meteor/mongo/collection.js"),"undefined"==typeof Package&&(Package={}),function(e,o){for(var n in o)n in e||(e[n]=o[n])}(Package.mongo={},{Mongo:O})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,i=Package.underscore._,n=Package.tracker.Tracker,s=Package.tracker.Deps,r=Package.ejson.EJSON,c=Package.modules.meteorInstall,o=Package.modules.process,u=Package["babel-runtime"].meteorBabelHelpers,d=Package.promise.Promise,l=Package["ecmascript-runtime-client"].Symbol,f=Package["ecmascript-runtime-client"].Map,k=Package["ecmascript-runtime-client"].Set,D,g=c({node_modules:{meteor:{"reactive-dict":{"reactive-dict.js":["babel-runtime/helpers/typeof",function(e){function t(e){return e&&e.__esModule?e:{default:e}}var a=t(e("babel-runtime/helpers/typeof")),s=function(e){return void 0===e?"undefined":r.stringify(e)},c=function(e){if(void 0!==e&&"undefined"!==e)return r.parse(e)},o=function(e){e&&e.changed()};D=function(e){if(e)if("string"==typeof e)D._registerDictForMigrate(e,this),this.keys=D._loadMigratedDict(e)||{},this.name=e;else{if("object"!==(void 0===e?"undefined":(0,a.default)(e)))throw new Error("Invalid ReactiveDict argument: "+e);this.keys=e}else this.keys={};this.allDeps=new n.Dependency,this.keyDeps={},this.keyValueDeps={}},i.extend(D.prototype,{set:function(e,t){var n=this;if("object"!==(void 0===e?"undefined":(0,a.default)(e))||void 0!==t){var r=e;t=s(t);var c=i.has(n.keys,r),u=c?n.keys[r]:"undefined",d=t!==u;n.keys[r]=t,!d&&c||n.allDeps.changed(),d&&(o(n.keyDeps[r]),n.keyValueDeps[r]&&(o(n.keyValueDeps[r][u]),o(n.keyValueDeps[r][t])))}else n._setObject(e)},setDefault:function(e,t){var n=this;if("object"!==(void 0===e?"undefined":(0,a.default)(e))||void 0!==t){var s=e;i.has(n.keys,s)||n.set(s,t)}else n._setDefaultObject(e)},get:function(e){var t=this;return t._ensureKey(e),t.keyDeps[e].depend(),c(t.keys[e])},equals:function(e,t){var a=this,o=null;if(Package.mongo&&(o=Package.mongo.Mongo.ObjectID),!("string"==typeof t||"number"==typeof t||"boolean"==typeof t||void 0===t||t instanceof Date||o&&t instanceof o||null===t))throw new Error("ReactiveDict.equals: value must be scalar");var u=s(t);n.active&&(a._ensureKey(e),i.has(a.keyValueDeps[e],u)||(a.keyValueDeps[e][u]=new n.Dependency),a.keyValueDeps[e][u].depend()&&n.onInvalidate(function(){a.keyValueDeps[e][u].hasDependents()||delete a.keyValueDeps[e][u]}));var d=void 0;return i.has(a.keys,e)&&(d=c(a.keys[e])),r.equals(d,t)},all:function(){this.allDeps.depend();var e={};return i.each(this.keys,function(t,a){e[a]=c(t)}),e},clear:function(){var e=this,t=e.keys;e.keys={},e.allDeps.changed(),i.each(t,function(t,a){o(e.keyDeps[a]),e.keyValueDeps[a]&&(o(e.keyValueDeps[a][t]),o(e.keyValueDeps[a].undefined))})},delete:function(e){var t=this,a=!1;if(i.has(t.keys,e)){var n=t.keys[e];delete t.keys[e],o(t.keyDeps[e]),t.keyValueDeps[e]&&(o(t.keyValueDeps[e][n]),o(t.keyValueDeps[e].undefined)),t.allDeps.changed(),a=!0}return a},_setObject:function(e){var t=this;i.each(e,function(e,a){t.set(a,e)})},_setDefaultObject:function(e){var t=this;i.each(e,function(e,a){t.setDefault(a,e)})},_ensureKey:function(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new n.Dependency,t.keyValueDeps[e]={})},_getMigrationData:function(){return this.keys}})}],"migration.js":function(){if(D._migratedDictData={},D._dictsToMigrate={},D._loadMigratedDict=function(e){return i.has(D._migratedDictData,e)?D._migratedDictData[e]:null},D._registerDictForMigrate=function(e,t){if(i.has(D._dictsToMigrate,e))throw new Error("Duplicate ReactiveDict name: "+e);D._dictsToMigrate[e]=t},e.isClient&&Package.reload){var t=Package.reload.Reload._migrationData("reactive-dict");t&&t.dicts&&(D._migratedDictData=t.dicts),Package.reload.Reload._onMigrate("reactive-dict",function(){var e=D._dictsToMigrate,t={};for(var a in u.sanitizeForInObject(e))t[a]=e[a]._getMigrationData();return[!0,{dicts:t}]})}}}}}},{extensions:[".js",".json"]});g("./node_modules/meteor/reactive-dict/reactive-dict.js"),g("./node_modules/meteor/reactive-dict/migration.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var a in t)a in e||(e[a]=t[a])}(Package["reactive-dict"]={},{ReactiveDict:D})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,o=Package.tracker.Tracker,i=Package.tracker.Deps,r=Package["reactive-dict"].ReactiveDict,u=Package["templating-runtime"].Template,s=Package["iron:core"].Iron,c=Package.blaze.Blaze,l=Package.blaze.UI,p=Package.blaze.Handlebars,d=Package.spacebars.Spacebars,h=Package.htmljs.HTML,y,f;(function(){var t=s.utils.assert,e=function(){for(var t={},e=i.currentComputation;e;)t[String(e._id)]=!0,e=e._parent;return t},n=function(n){var o=e(),i=a.keys(n._dependentsById);a.each(i,function(e){t(!o[e],"\n\nYou called wait() after calling ready() inside the same computation tree.\n\nYou can fix this problem in two possible ways:\n\n1) Put all of your wait() calls before any ready() calls.\n2) Put your ready() call in its own computation with Deps.autorun.")})};(y=function(){this._readyDep=new i.Dependency,this._comps=[],this._notReadyCount=0}).prototype.wait=function(t){var e=this,o=i.currentComputation;n(e._readyDep),i.nonreactive(function(){var n=null,r=i.autorun(function(a){var o=!!t(),i=e._notReadyCount;a.firstRun&&!o?e._notReadyCount++:null!==n&&o!==n&&!0===o?e._notReadyCount--:null!==n&&o!==n&&!1===o&&e._notReadyCount++,n=o,0===i&&e._notReadyCount>0?e._readyDep.changed():i>0&&0===e._notReadyCount&&e._readyDep.changed()});e._comps.push(r),o&&o.onInvalidate(function(){i.afterFlush(function(){r.stop(),e._comps.splice(a.indexOf(e._comps,r),1),!1===n&&(e._notReadyCount--,0===e._notReadyCount&&e._readyDep.changed())})})})},y.prototype.ready=function(){return this._readyDep.depend(),0===this._notReadyCount},y.prototype.stop=function(){a.each(this._comps,function(t){t.stop()}),this._comps=[]},s.WaitList=y}).call(this),function(){var t=s.utils.debug("iron:controller"),e=s.Layout,n=s.DynamicTemplate,o=function(t,e){return function(){return"function"==typeof t?t.apply(e,arguments):t}};(f=function(t){var n=this;this.options=t||{},this._layout=this.options.layout||new e(this.options),this._isController=!0,this._layout._setLookupHost(this);var a=f._collectEventMaps.call(this.constructor);this._layout.events(a,this),this.init(t)}).prototype.layout=function(t,e){var n=this;return this._layout.template(t),e&&a.has(e,"data")&&this._layout.data(o(e.data,this)),{data:function(t){return n._layout.data(o(t,n))}}},f.prototype.render=function(t,e){var n=this;e&&void 0!==e.data&&(e.data=o(e.data,this));var a=this._layout.render(t,e);return{data:function(t){return a.data(o(t,n))}}},f.prototype.beginRendering=function(t){return this._layout.beginRendering(t)},f.extend=function(t){return s.utils.extend(this,t)},f.events=function(t){return this._eventMap=t,this};var i=function(t,e){var n={};return t.__super__&&a.extend(n,i(t.__super__.constructor,e)),a.has(t,e)?a.extend(n,t[e]):n};f._collectEventMaps=function(){return i(this,"_eventMap")},f._helpers={},f.helpers=function(t){return a.extend(this._helpers,t),this},void 0!==u&&(s.controller=function(){return n.findLookupHostWithProperty(c.getView(),"_isController")},u.registerHelper("get",function(t){var e=s.controller();if(e&&e.state)return e.state.get(t)})),s.Controller=f}.call(this),function(){var t=s.Layout,e=s.utils.debug("iron:controller"),n=s.utils.defaultValue,o=function(t,e){return function(){return"function"==typeof t?t.apply(e,arguments):t}};f.prototype.init=function(t){this._waitlist=new y,this.state=new r},f.prototype.insert=function(t){return this._layout.insert.apply(this._layout,arguments)},f.prototype.wait=function(t){var e=this;if(t)return a.isArray(t)?a.each(t,function t(n){e.wait(n)}):t.ready?this._waitlist.wait(function(){return t.ready()}):this._waitlist.wait(t),this},f.prototype.ready=function(){return this._waitlist.ready()},f.prototype.stop=function(){this._waitlist.stop()}}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:controller"]={}}();

!function(){var t=Package.underscore._,o=Package.tracker.Tracker,e=Package.tracker.Deps,r=Package.blaze.Blaze,n=Package.blaze.UI,i=Package.blaze.Handlebars,a=Package["templating-runtime"].Template,s=Package.ejson.EJSON,u=Package.meteor.Meteor,l=Package.meteor.global,c=Package.meteor.meteorEnv,p=Package["iron:core"].Iron,h=Package.htmljs.HTML,f=Package.spacebars.Spacebars,d,y,_,m,g;(function(){d=new u.EnvironmentVariable}).call(this),function(){y=["get","post","put","delete","patch"]}.call(this),function(){var o=p.Controller,e=p.Url,r=p.MiddlewareStack,n=p.utils.assert;(_=o.extend({constructor:function(o){_.__super__.constructor.apply(this,arguments),o=o||{},this.options=o,this._onStopCallbacks=[],this.route=o.route,this.params=[];var e=this.lookupOption("data");"function"==typeof e?this.data=t.bind(e,this):void 0!==e&&(this.data=function(){return e}),this.init(o)}})).prototype.lookupOption=function(o){if(this.route&&this.route.options&&t.has(this.route.options,o))return this.route.options[o];if(t.has(this.options,o))return this.options[o];if(void 0!==this[o])return this[o];var e=d.get();return e&&t.has(e,o)?e[o]:this.router&&this.router.options&&t.has(this.router.options,o)?this.router.options[o]:void 0},_.prototype.configureFromUrl=function(t,o,e){n("string"==typeof t,"url must be a string"),o=o||{},this.request=o.request||{},this.response=o.response||{},this.url=o.url||t,this.originalUrl=o.originalUrl||t,this.method=this.request.method,this.route&&this.setParams(this.route.params(t),e)},_.prototype._collectHooks=function(){var o=this,e=t.toArray(arguments),r=function(e){if(!e)return[];var r=o.router.lookupHook,n=t.isArray(e)?e:[e];return t.map(n,function(t){return r(t)})},n=function(o,e){var i=[];return o.__super__&&(i=i.concat(n(o.__super__.constructor,e))),t.has(o.prototype,e)?i.concat(r(o.prototype[e])):i},i=function(t){for(var o=0;o<e.length;o++)t(e[o])},a=[];i(function(t){var e=o.route&&o.route.getName(),r=o.router.getHooks(t,e);a=a.concat(r)});var s=[];i(function(t){var e=n(o.constructor,t);s=s.concat(e)});var u=[];i(function(e){if(t.has(o,e)){var n=r(o[e]);u=u.concat(n)}});var l=[];return o.route&&i(function(t){var e=r(o.route.options[t]);l=l.concat(e)}),a.concat(l).concat(s).concat(u)},_.prototype.runHooks=function(){for(var t=this._collectHooks.apply(this,arguments),o=0,e=t.length;o<e;o++)t[o].call(this);return t.length},_.prototype.getParams=function(){return this.params},_.prototype.setParams=function(t){return this.params=t,this},p.RouteController=_}.call(this),function(){var r=p.Controller,n=p.Url,i=p.MiddlewareStack,a=p.utils.debug("iron-router:RouteController");if(_.prototype.init=function(t){_.__super__.init.apply(this,arguments),this._computation=null,this._paramsDep=new o.Dependency,this.location=p.Location},_.prototype.getParams=function(){return this._paramsDep.depend(),this.params},_.prototype.setParams=function(o,e){if(!function(o,r){if(!(o instanceof Array))throw new Error("you called equals with a non array value in setParams");if(!(r instanceof Array))return!1;if(o.length!==r.length)return!1;for(var n=0;n<o.length;n++)if(!s.equals(o[n],r[n],e))return!1;var i=t.keys(o),a=t.keys(r),u;if(i.length!==a.length)return!1;for(var n=0;n<i.length;n++){if(u=i[n],!t.has(r,u))return!1;if(!s.equals(o[u],r[u]))return!1}return!0}(this.params,o))return this.params=o,!1!==(e=e||{}).reactive&&this._paramsDep.changed(),this},_.prototype.dispatch=function(t,o,r){if(this._computation&&!this._computation.stopped)throw new Error("RouteController computation is already running. Stop it first.");var n=this;return e.nonreactive(function(){e.autorun(function(e){n._computation=e,t.dispatch(o,n,r)})}),n},_.prototype._runRoute=function(o,r,n){var a=this,s=this._collectHooks("subscriptions");t.each(s,function(t){a.wait(t.call(a))});var u=this._collectHooks("waitOn");t.each(u,function(t){a.wait(t.call(a))});var l=u.length>0,c,h,f=function(){return e.nonreactive(function(){return a._layout.template()})},d=function(){return e.nonreactive(function(){var t=a._layout._regions.main;return t&&t.template()})},y=f(),m=d();this.beginRendering(function o(e){if(!a.isStopped){var r=f(),n=d();if(y!==r||m!=n){var i=a._layout.regionKeys(),s=t.difference(i,e);t.each(s,function(t){a._layout.clear(t)})}}}),this.layout(this.lookupOption("layoutTemplate"),{data:this.lookupOption("data")});var g=new i,v=new i,k=new i;v.append(this._collectHooks("onRun","load"),{where:"client"}),k.append(this._collectHooks("onRerun"),{where:"client"}),g.append(function t(o,e,r){this._computation.firstRun&&!_._hasJustReloaded&&v.length>0?v.dispatch(o.url,this,r):r(),_._hasJustReloaded=!1},function t(o,e,r){this._computation.firstRun?r():k.length>0?k.dispatch(o.url,this,r):r()},{where:"client"}),l&&g.push(t.bind(p.Router.hooks.loading,a));var w=this._collectHooks("onBeforeAction","before");g.append(w,{where:"client"}),0===o._actionStack.length&&o._actionStack.push(o._path,"action",o.options),g=g.concat(o._actionStack),this._rendered=!1,g.dispatch(r,this,n),e.afterFlush(function(){p.utils.warn(a._rendered||a.isStopped,"Route dispatch never rendered. Did you forget to call this.next() in an onBeforeAction?")}),this.runHooks("onAfterAction","after")},_.prototype.action=function(){this.render()},_.prototype.lookupTemplate=function(){return this.lookupOption("template")||this.router&&this.router.toTemplateName(this.route.getName())},_.prototype.lookupRegionTemplates=function(){return this.lookupOption("yieldRegions")||this.lookupOption("regionTemplates")||this.lookupOption("yieldTemplates")||{}},_.prototype.render=function(t,o){if(this._rendered=!0,0===arguments.length){var t=this.lookupTemplate(),e=_.__super__.render.call(this,t);return this.renderRegions(),e}return _.__super__.render.call(this,t,o)},_.prototype.renderRegions=function(){var o=this,e=this.lookupRegionTemplates();a("regionTemplates: "+JSON.stringify(e)),t.each(e,function(t,e){o.render(e,t)})},_.prototype.stop=function(){_.__super__.stop.call(this),this._computation&&this._computation.stop(),this.runHooks("onStop","unload"),this.isStopped=!0},_.prototype.redirect=function(){return this.router.go.apply(this.router,arguments)},_.prototype.subscribe=function(){var o=this,e=u.subscribe.apply(this,arguments);return t.extend(e,{wait:function(){o.wait(this)}})},Package.reload){Package.reload.Reload._onMigrate("iron-router",function(){return[!0,!0]});var l=Package.reload.Reload._migrationData("iron-router");_._hasJustReloaded=l}}.call(this),function(){var o=p.Url,e=p.MiddlewareStack,r=p.utils.assert;(m=function(o,r,n){var i=function(t,o,e){var r=this;r.request=t,r.response=o,i.dispatch(t.url,r,e)};return"object"==typeof r&&(r=(n=r).action),n=n||{},"string"==typeof o&&"/"!==o.charAt(0)&&(o=n.path?n.path:"/"+o),t.extend(i,this.constructor.prototype),n=i.options=n||{},i._actionStack=new e,i._beforeStack=new e,i._beforeStack.append(i.options.onBeforeAction),i._beforeStack.append(i.options.before),i._afterStack=new e,i._afterStack.append(i.options.onAfterAction),i._afterStack.append(i.options.after),i._methods={},"string"==typeof r?i._actionStack.push(o,t.extend(n,{template:r})):"function"!=typeof r&&"object"!=typeof r||i._actionStack.push(o,r,n),i._path=o,i}).prototype.getName=function(){return this.handler&&this.handler.name},m.prototype.findControllerConstructor=function(){var t=this,o=function(t,o){o=o||{};var e=p.utils.resolve(t);if(e&&_.prototype.isPrototypeOf(e.prototype))return e;if(!0!==o.supressErrors)throw new Error("RouteController '"+t+"' is not defined.")},e=function(o){return t.router.toControllerName(o)},r,n=this.getName();return"function"==typeof this.options.controller?this.options.controller:"string"==typeof this.options.controller?o(this.options.controller):this.router&&this.router.options.controller?"function"==typeof this.router.options.controller?this.router.options.controller:"string"==typeof this.router.options.controller?o(this.router.options.controller):void 0:n&&(r=o(e(n),{supressErrors:!0}))?r:_},m.prototype.createController=function(t){t=t||{};var o=this.findControllerConstructor();return t.route=this,new o(t)},m.prototype.setControllerParams=function(t,o){},m.prototype.dispatch=function(t,o,e){return r(o._runRoute,"context doesn't have a _runRoute method"),o._runRoute(this,t,e)},m.prototype.path=function(t,o){return this.handler.resolve(t,o)},m.prototype.url=function(t,o){var e=this.path(t,o),r=o&&o.host||u.absoluteUrl();return"/"===r.charAt(r.length-1)&&(r=r.slice(0,r.length-1)),r+e},m.prototype.params=function(t){return this.handler.params(t)},t.each(y,function(t){m.prototype[t]=function(o){return this._methods[t]=!0,this._actionStack.push(this._path,o,{name:this.getName()+"_"+t.toLowerCase(),method:t,where:this.handler.where,mount:!1}),this}}),p.Route=m}.call(this),function(){var o=p.MiddlewareStack,e=p.Url,r=p.Layout,n=p.utils.warn,i=p.utils.assert;(g=function(e){function r(t,o,e){r.dispatch(t.url,{request:t,response:o},e)}return r._stack=new o,r._globalHooks={},r.routes=[],r.routes._byPath={},this.configure.call(r,e),t.extend(r,this.constructor.prototype),this.init.call(r,e),u.startup(function(){u.defer(function(){!1!==r.options.autoStart&&r.start()})}),r}).prototype.init=function(t){},g.prototype.configure=function(o){var e=this;o=o||{};var r=function(o){return o?t.isArray(o)?o:[o]:[]};return t.each(p.Router.HOOK_TYPES,function n(i){o[i]&&(t.each(r(o[i]),function t(o){e.addHook(i,o)}),delete o[i])}),this.options=this.options||{},t.extend(this.options,o),this},g.prototype.map=function(t){return t.call(this)},g.prototype.route=function(t,o,e){var r=function(t){return Object.prototype.toString.call(t)};i("[object String]"===r(t)||"[object RegExp]"===r(t),"Router.route requires a path that is a string or regular expression."),"object"==typeof o&&(o=(e=o).action);var n=new m(t,o,e);(e=e||{}).mount=!1;var a=this._stack.push(t,n,e);return a.route=n,n.handler=a,n.router=this,i(!this.routes._byPath[a.path],"A route for the path "+JSON.stringify(a.path)+" already exists by the name of "+JSON.stringify(a.name)+"."),this.routes._byPath[a.path]=n,this.routes.push(n),"string"==typeof a.name&&(this.routes[a.name]=n),n},g.prototype.findFirstRoute=function(t){for(var o,e,r=0;r<this.routes.length;r++)if(e=this.routes[r],o=e.handler.test(t,{where:u.isServer?"server":"client"}))return e;return null},g.prototype.path=function(t,o,e){var r=this.routes[t];return n(r,"You called Router.path for a route named "+JSON.stringify(t)+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.path(o,e)},g.prototype.url=function(t,o,e){var r=this.routes[t];return n(r,"You called Router.url for a route named "+JSON.stringify(t)+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.url(o,e)},g.prototype.createController=function(t,o){var e=this.findFirstRoute(t),r;return o=o||{},r=e?e.createController({layout:this._layout}):new _({layout:this._layout}),r.router=this,r.configureFromUrl(t,o,{reactive:!1}),r},g.prototype.setTemplateNameConverter=function(t){return this._templateNameConverter=t,this},g.prototype.setControllerNameConverter=function(t){return this._controllerNameConverter=t,this},g.prototype.toTemplateName=function(t){return this._templateNameConverter?this._templateNameConverter(t):p.utils.classCase(t)},g.prototype.toControllerName=function(t){return this._controllerNameConverter?this._controllerNameConverter(t):p.utils.classCase(t)+"Controller"},g.prototype.addHook=function(o,e,r){var n=this,i=function(o){return o?t.isArray(o)?o:[o]:[]};(r=r||{}).only&&(r.only=i(r.only)),r.except&&(r.except=i(r.except));var a=function(){var t=this,o=arguments;return d.withValue(r,function(){return n.lookupHook(e).apply(t,o)})};return(this._globalHooks[o]=this._globalHooks[o]||[]).push({options:r,hook:a}),this},g.prototype.lookupHook=function(o){var e=o;if(t.isFunction(e))return e;if(t.isString(e)&&t.isFunction(p.Router.hooks[e]))return p.Router.hooks[e];throw new Error("No hook found named: "+o)},g.prototype.getHooks=function(o,e){var r=this,n=[];return t.each(this._globalHooks[o],function(o){var r=o.options;return r.except&&t.include(r.except,e)?[]:r.only&&!t.include(r.only,e)?[]:void n.push(o.hook)}),n},g.HOOK_TYPES=["onRun","onRerun","onBeforeAction","onAfterAction","onStop","waitOn","subscriptions","load","before","after","unload"],g.hooks={},g.plugins={},t.each(g.HOOK_TYPES,function(t){g.prototype[t]=function(o,e){this.addHook(t,o,e)}}),g.prototype.plugin=function(t,o){var e;if("function"==typeof t?e=t:"string"==typeof t&&(e=p.Router.plugins[t]),!e)throw new Error("No plugin found named "+JSON.stringify(t));return e.call(this,this,o),this},p.Router=g}.call(this),function(){if(void 0!==a)var t=new a("DefaultLoadingTemplate",function(){return"Loading..."}),o=new a("DefaultDataNotFoundTemplate",function(){return"Data not found..."});g.hooks.loading=function(){if(this.ready())this.next();else{var o=this.lookupOption("loadingTemplate");this.render(o||t),this.renderRegions()}},g.hooks.dataNotFound=function(){if(this.ready()){var t=this.lookupOption("data"),e,r=this.lookupOption("notFoundTemplate");if("function"==typeof t&&!(e=t.call(this)))return this.render(r||o),void this.renderRegions();this.next()}else this.next()}}.call(this),function(){var o=p.utils.warn,e=p.DynamicTemplate,i=p.utils.debug("iron:router <helpers>");n.registerHelper("Router",new r.Template("Router",function(){return g.createView()})),n.registerHelper("pathFor",function(e){var r;arguments.length>1&&(r=arguments[0],e=arguments[1]||{});var n=e&&e.hash,i="",a=(n=n||{}).query,u=n.hash,r=r||n.route,l=t.extend({},n.data||this),c=g.routes[r];return o(c,"pathFor couldn't find a route named "+JSON.stringify(r)),c&&(t.each(c.handler.compiledUrl.keys,function(o){var e=o.name;t.has(n,e)&&(l[e]=s.clone(n[e]),delete n[e])}),i=c.path(l,{query:a,hash:u})),i}),n.registerHelper("urlFor",function(e){var r;arguments.length>1&&(r=arguments[0],e=arguments[1]||{});var n=e&&e.hash,i="",a=(n=n||{}).query,u=n.hash,r=r||n.route,l=t.extend({},n.data||this),c=g.routes[r];return o(c,"urlFor couldn't find a route named "+JSON.stringify(r)),c&&(t.each(c.handler.compiledUrl.keys,function(o){var e=o.name;t.has(n,e)&&(l[e]=s.clone(n[e]),delete n[e])}),i=c.url(l,{query:a,hash:u})),i}),n.registerHelper("linkTo",new r.Template("linkTo",function(){var n=this,i=e.getInclusionArguments(this);if("object"!=typeof i)throw new Error("linkTo options must be key value pairs such as {{#linkTo route='my.route.name'}}. You passed: "+JSON.stringify(i));var a="",u=(i=i||{}).query,l=i.hash,c=i.route,p=t.extend({},i.data||e.getParentDataContext(this)),f=g.routes[c],d;o(f,"linkTo couldn't find a route named "+JSON.stringify(c)),f&&(t.each(f.handler.compiledUrl.keys,function(o){var e=o.name;t.has(i,e)&&(p[e]=s.clone(i[e]),delete i[e])}),a=f.path(p,{query:u,hash:l}));var y=t.omit(i,"route","query","hash","data");return y.href=a,r.With(function(){return e.getParentDataContext(n)},function(){return h.A(y,n.templateContentBlock)})}))}.call(this),function(){var o=p.MiddlewareStack,r=p.Url,n=p.Layout,i=p.utils.assert,a="__IronRouterNotFound__",s="__IronRouterNoRoutes__";g.prototype.init=function(t){var o=this;o._currentController=null,o._currentRoute=null,o._currentDep=new e.Dependency,o._locationComputation=null,o._layout=new n({template:o.options.layoutTemplate}),u.startup(function(){setTimeout(function t(){!1!==o.options.autoRender&&o.insert({el:document.body})})})},g.prototype.insert=function(t){return this._layout.insert(t),this},g.prototype.createView=function(){return this._layout.create()},g.prototype.lookupNotFoundTemplate=function(){return this.options.notFoundTemplate?this.options.notFoundTemplate:0===this.routes.length?s:"__IronRouterNotFound__"},g.prototype.lookupLayoutTemplate=function(){return this.options.layoutTemplate},g.prototype.dispatch=function(t,o,r){var n=this;i("string"==typeof t,"expected url string in router dispatch");var a=this._currentController,u=this.findFirstRoute(t),l=this._currentRoute;return this._currentRoute=u,this._currentController&&this._currentController.stop(),a&&u&&l===u?a.configureFromUrl(t,o):a=this.createController(t,o),this._currentController=a,a.dispatch(n._stack,t,function t(o){if(o)throw o;if(!a.isHandled()){var i=e.nonreactive(function(){return a.location.get().options.historyState});if(i&&!0===i.initial){this.layout(this.lookupOption("layoutTemplate"),{data:{url:this.url}});var u=this.lookupOption("notFoundTemplate");u||(u=0===n.routes.length?s:"__IronRouterNotFound__"),this.render(u,{data:{url:this.url}}),this.renderRegions(),a.isHandled=function(){return!0}}return r&&r.call(a)}}),this._currentController==a&&this._currentDep.changed(),a},g.prototype.current=function(){return this._currentDep.depend(),this._currentController},g.prototype._scrollToHash=function(t){try{var o=$(t);$("html, body").scrollTop(o.offset().top)}catch(t){}},g.prototype.start=function(){var t=this,o;t._locationComputation=e.autorun(function e(r){var n,i=p.Location.get(),a,s,u,l=t._currentController;!l||o&&o.path!==i.path?n=t.dispatch(i.href,null,function t(o){this.isHandled()||(i.cancelUrlChange(),window.location=i.path)}):(t._scrollToHash(i.hash),l.configureFromUrl(i.href)),o=i})},g.prototype.stop=function(){this._isStarted&&(this._locationComputation&&this._locationComputation.stop(),this._currentController&&this._currentController.stop(),this._isStarted=!1)},g.prototype.go=function(o,e,r){var n=this,a=/^\/|http/,s;if(r=r||{},a.test(o))s=o;else{var u=n.routes[o];i(u,"No route found named "+JSON.stringify(o)),s=u.path(e,t.extend(r,{throwOnMissingParams:!0}))}p.Location.go(s,r)}}.call(this),function(){g.plugins.loading=function(t,o){t.onBeforeAction("loading",o)},g.plugins.dataNotFound=function(t,o){t.onBeforeAction("dataNotFound",o)}}.call(this),function(){g=new p.Router}.call(this),function(){a.__checkName("__IronRouterNotFound__"),a.__IronRouterNotFound__=new a("Template.__IronRouterNotFound__",function(){var t=this;return h.DIV({style:"width: 600px; margin: 0 auto; padding: 20px;"},"\n    ",h.DIV({style:"font-size: 18pt; color: #999;"},"\n      Oops, looks like there's no route on the client or the server for url: \"",r.View("lookup:url",function(){return f.mustache(t.lookup("url"))}),'."\n    '),"\n  ")}),a.__checkName("__IronRouterNoRoutes__"),a.__IronRouterNoRoutes__=new a("Template.__IronRouterNoRoutes__",function(){var t=this;return h.Raw('<div style="font-family: helvetica; color: #777; max-width: 600px; margin: 20px auto;">\n      <h1 style="text-align: center; margin: 0; font-size: 48pt;">\n        iron:router\n      </h1>\n      <p style="text-align: center; font-size: 1.3em;">\n        Organize your Meteor application.\n      </p>\n      <div style="margin: 50px 0px;">\n        <pre style="background: #f2f2f2; margin: 0; padding: 10px;">\nRouter.route(\'/\', function () {\n  this.render(\'Home\', {\n    data: function () { return Items.findOne({_id: this.params._id}); }\n  });\n});\n        </pre>\n      </div>\n      <div style="margin: 50px 0px;">\n        Check it out on Github:<br>\n        <a href="https://github.com/eventedmind/iron-router" target="_blank">https://github.com/eventedmind/iron-router</a>\n        <br>\n        <br>\n        And check out the new Guide:<br>\n        <a href="https://iron-meteor.github.io/iron-router" target="_blank">\n          https://iron-meteor.github.io/iron-router\n        </a>\n      </div>\n    </div>')})}.call(this),"undefined"==typeof Package&&(Package={}),function(t,o){for(var e in o)e in t||(t[e]=o[e])}(Package["iron:router"]={},{Router:g,RouteController:_})}();

"undefined"==typeof Package&&(Package={}),Package["mquandalle:jade"]={};

!function(){var n=Package.meteor.Meteor,t=Package.meteor.global,e=Package.meteor.meteorEnv;(function(){(function(){!function(){function n(n){return null!=n&&!isNaN(n)}function t(n){return n.length}function e(n){for(var t=1;n*t%1;)t*=10;return t}function r(n,t){try{for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}catch(e){n.prototype=t}}function i(){}function u(n){return uo+n in this}function o(n){return(n=uo+n)in this&&delete this[n]}function a(){var n=[];return this.forEach(function(t){n.push(t)}),n}function c(){var n=0;for(var t in this)t.charCodeAt(0)===oo&&++n;return n}function l(){for(var n in this)if(n.charCodeAt(0)===oo)return!1;return!0}function f(){}function s(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function h(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var e=0,r=ao.length;r>e;++e){var i=ao[e]+t;if(i in n)return i}}function g(){}function p(){}function v(n){function t(){for(var t,r=e,i=-1,u=r.length;++i<u;)(t=r[i].on)&&t.apply(this,arguments);return n}var e=[],r=new i;return t.on=function(t,i){var u,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,u=e.indexOf(o)).concat(e.slice(u+1)),r.remove(t)),i&&e.push(r.set(t,{on:i})),n)},t}function d(){Xu.event.preventDefault()}function y(){for(var n,t=Xu.event;n=t.sourceEvent;)t=n;return t}function m(n){for(var t=new p,e=0,r=arguments.length;++e<r;)t[arguments[e]]=v(t);return t.of=function(e,r){return function(i){try{var u=i.sourceEvent=Xu.event;i.target=n,Xu.event=i,t[i.type].apply(e,r)}finally{Xu.event=u}}},t}function x(n){return lo(n,po),n}function M(n){return"function"==typeof n?n:function(){return fo(n,this)}}function _(n){return"function"==typeof n?n:function(){return so(n,this)}}function b(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function i(){this.setAttribute(n,t)}function u(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=Xu.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?u:i}function w(n){return n.trim().replace(/\s+/g," ")}function S(n){return new RegExp("(?:^|\\s+)"+Xu.requote(n)+"(?:\\s+|$)","g")}function k(n){return n.trim().split(/^|\s+/)}function N(n,t){function e(){for(var e=-1;++e<i;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<i;)n[e](this,r)}var i=(n=k(n).map(E)).length;return"function"==typeof t?r:e}function E(n){var t=S(n);return function(e,r){if(i=e.classList)return r?i.add(n):i.remove(n);var i=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||e.setAttribute("class",w(i+" "+n))):e.setAttribute("class",w(i.replace(t," ")))}}function A(n,t,e){function r(){this.style.removeProperty(n)}function i(){this.style.setProperty(n,t,e)}function u(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?u:i}function C(n,t){function e(){delete this[n]}function r(){this[n]=t}function i(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?i:r}function L(n){return"function"==typeof n?n:(n=Xu.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,n)}}function z(n){return{__data__:n}}function q(n){return function(){return go(this,n)}}function T(n){return arguments.length||(n=Xu.ascending),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function R(n,t){for(var e=0,r=n.length;r>e;e++)for(var i,u=n[e],o=0,a=u.length;a>o;o++)(i=u[o])&&t(i,o,e);return n}function D(n){return lo(n,yo),n}function P(n){var t,e;return function(r,i,u){var o,a=n[u].update,c=a.length;for(u!=e&&(e=u,t=0),i>=t&&(t=i+1);!(o=a[t])&&++t<c;);return o}}function U(){var n=this.__transition__;n&&++n.active}function j(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function i(){var i=c(t,Bu(arguments));r.call(this),this.addEventListener(n,this[o]=i,i.$=e),i._=t}function u(){var t,e=new RegExp("^__on([^.]+)"+Xu.requote(n)+"$");for(var r in this)if(t=r.match(e)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var o="__on"+n,a=n.indexOf("."),c=H;a>0&&(n=n.substring(0,a));var l=xo.get(n);return l&&(n=l,c=F),a?t?i:r:t?g:u}function H(n,t){return function(e){var r=Xu.event;Xu.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{Xu.event=r}}}function F(n,t){var e=H(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function O(){var n=".dragsuppress-"+ ++_o,t="click"+n,e=Xu.select(Gu).on("touchmove"+n,d).on("dragstart"+n,d).on("selectstart"+n,d);if(Mo){var r=Ju.style,i=r[Mo];r[Mo]="none"}return function(u){function o(){e.on(t,null)}e.on(n,null),Mo&&(r[Mo]=i),u&&(e.on(t,function(){d(),o()},!0),setTimeout(o,0))}}function Y(n,t){t.changedTouches&&(t=t.changedTouches[0]);var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();if(0>bo&&(Gu.scrollX||Gu.scrollY)){var i=(e=Xu.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();bo=!(i.f||i.e),e.remove()}return bo?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}var u=n.getBoundingClientRect();return[t.clientX-u.left-n.clientLeft,t.clientY-u.top-n.clientTop]}function I(n){return n>0?1:0>n?-1:0}function Z(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function V(n){return n>1?0:-1>n?wo:Math.acos(n)}function X(n){return n>1?ko:-1>n?-ko:Math.asin(n)}function $(n){return((n=Math.exp(n))-1/n)/2}function B(n){return((n=Math.exp(n))+1/n)/2}function W(n){return((n=Math.exp(2*n))-1)/(n+1)}function J(n){return(n=Math.sin(n/2))*n}function G(){}function K(n,t,e){return new Q(n,t,e)}function Q(n,t,e){this.h=n,this.s=t,this.l=e}function nn(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?u+(o-u)*n/60:180>n?o:240>n?u+(o-u)*(240-n)/60:u}function i(n){return Math.round(255*r(n))}var u,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,o=.5>=e?e*(1+t):e+t-e*t,u=2*e-o,pn(i(n+120),i(n),i(n-120))}function tn(n,t,e){return new en(n,t,e)}function en(n,t,e){this.h=n,this.c=t,this.l=e}function rn(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),un(e,Math.cos(n*=Ao)*t,Math.sin(n)*t)}function un(n,t,e){return new on(n,t,e)}function on(n,t,e){this.l=n,this.a=t,this.b=e}function an(n,t,e){var r=(n+16)/116,i=r+t/500,u=r-e/200;return i=ln(i)*Ho,r=ln(r)*Fo,u=ln(u)*Oo,pn(sn(3.2404542*i-1.5371385*r-.4985314*u),sn(-.969266*i+1.8760108*r+.041556*u),sn(.0556434*i-.2040259*r+1.0572252*u))}function cn(n,t,e){return n>0?tn(Math.atan2(e,t)*Co,Math.sqrt(t*t+e*e),n):tn(NaN,NaN,n)}function ln(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function fn(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function sn(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function hn(n){return pn(n>>16,255&n>>8,255&n)}function gn(n){return hn(n)+""}function pn(n,t,e){return new vn(n,t,e)}function vn(n,t,e){this.r=n,this.g=t,this.b=e}function dn(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function yn(n,t,e){var r,i,u,o=0,a=0,c=0;if(r=/([a-z]+)\((.*)\)/i.exec(n))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(_n(i[0]),_n(i[1]),_n(i[2]))}return(u=Zo.get(n))?t(u.r,u.g,u.b):(null!=n&&"#"===n.charAt(0)&&(4===n.length?(o=n.charAt(1),o+=o,a=n.charAt(2),a+=a,c=n.charAt(3),c+=c):7===n.length&&(o=n.substring(1,3),a=n.substring(3,5),c=n.substring(5,7)),o=parseInt(o,16),a=parseInt(a,16),c=parseInt(c,16)),t(o,a,c))}function mn(n,t,e){var r,i,u=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-u,c=(o+u)/2;return a?(i=.5>c?a/(o+u):a/(2-o-u),r=n==o?(t-e)/a+(e>t?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=NaN,i=c>0&&1>c?0:r),K(r,i,c)}function xn(n,t,e){var r=fn((.4124564*(n=Mn(n))+.3575761*(t=Mn(t))+.1804375*(e=Mn(e)))/Ho),i=fn((.2126729*n+.7151522*t+.072175*e)/Fo);return un(116*i-16,500*(r-i),200*(i-fn((.0193339*n+.119192*t+.9503041*e)/Oo)))}function Mn(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function _n(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function bn(n){return"function"==typeof n?n:function(){return n}}function wn(n){return n}function Sn(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),kn(t,e,n,r)}}function kn(n,t,e,r){function i(){var n,t=c.status;if(!t&&c.responseText||t>=200&&300>t||304===t){try{n=e.call(u,c)}catch(n){return void o.error.call(u,n)}o.load.call(u,n)}else o.error.call(u,c)}var u={},o=Xu.dispatch("beforesend","progress","load","error"),a={},c=new XMLHttpRequest,l=null;return!Gu.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(n)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=i:c.onreadystatechange=function(){c.readyState>3&&i()},c.onprogress=function(n){var t=Xu.event;Xu.event=n;try{o.progress.call(u,c)}finally{Xu.event=t}},u.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",u)},u.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",u):t},u.responseType=function(n){return arguments.length?(l=n,u):l},u.response=function(n){return e=n,u},["get","post"].forEach(function(n){u[n]=function(){return u.send.apply(u,[n].concat(Bu(arguments)))}}),u.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),c.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),c.setRequestHeader)for(var f in a)c.setRequestHeader(f,a[f]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=l&&(c.responseType=l),null!=i&&u.on("error",i).on("load",function(n){i(null,n)}),o.beforesend.call(u,c),c.send(null==r?null:r),u},u.abort=function(){return c.abort(),u},Xu.rebind(u,o,"on"),null==r?u:u.get(Nn(r))}function Nn(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function En(){var n=An(),t=Cn()-n;t>24?(isFinite(t)&&(clearTimeout(Bo),Bo=setTimeout(En,t)),$o=0):($o=1,Jo(En))}function An(){var n=Date.now();for(Wo=Vo;Wo;)n>=Wo.t&&(Wo.f=Wo.c(n-Wo.t)),Wo=Wo.n;return n}function Cn(){for(var n,t=Vo,e=1/0;t;)t.f?t=n?n.n=t.n:Vo=t.n:(t.t<e&&(e=t.t),t=(n=t).n);return Xo=n,e}function Ln(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function zn(n,t){var e=Math.pow(10,3*io(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function qn(n){var t=n.decimal,e=n.thousands,r=n.grouping,i=n.currency,u=r?function(n){for(var t=n.length,i=[],u=0,o=r[0];t>0&&o>0;)i.push(n.substring(t-=o,t+o)),o=r[u=(u+1)%r.length];return i.reverse().join(e)}:wn;return function(n){var e=Ko.exec(n),r=e[1]||" ",o=e[2]||">",a=e[3]||"",c=e[4]||"",l=e[5],f=+e[6],s=e[7],h=e[8],g=e[9],p=1,v="",d="",y=!1;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===o)&&(l=r="0",o="=",s&&(f-=Math.floor((f-1)/4))),g){case"n":s=!0,g="g";break;case"%":p=100,d="%",g="f";break;case"p":p=100,d="%",g="r";break;case"b":case"o":case"x":case"X":"#"===c&&(v="0"+g.toLowerCase());case"c":case"d":y=!0,h=0;break;case"s":p=-1,g="r"}"$"===c&&(v=i[0],d=i[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):("e"==g||"f"==g)&&(h=Math.max(0,Math.min(20,h)))),g=Qo.get(g)||Tn;var m=l&&s;return function(n){if(y&&n%1)return"";var e=0>n||0===n&&0>1/n?(n=-n,"-"):a;if(0>p){var i=Xu.formatPrefix(n,h);n=i.scale(n),d=i.symbol}else n*=p;var c=(n=g(n,h)).lastIndexOf("."),x=0>c?n:n.substring(0,c),M=0>c?"":t+n.substring(c+1);!l&&s&&(x=u(x));var _=v.length+x.length+M.length+(m?0:e.length),b=f>_?new Array(_=f-_+1).join(r):"";return m&&(x=u(b+x)),e+=v,n=x+M,("<"===o?e+n+b:">"===o?b+e+n:"^"===o?b.substring(0,_>>=1)+e+n+b.substring(_):e+(m?n:b+n))+d}}}function Tn(n){return n+""}function Rn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Dn(n,t,e){function r(t){var e=n(t),r=u(e,1);return r-t>t-e?e:r}function i(e){return t(e=n(new ta(e-1)),1),e}function u(n,e){return t(n=new ta(+n),e),n}function o(n,r,u){var o=i(n),a=[];if(u>1)for(;r>o;)e(o)%u||a.push(new Date(+o)),t(o,1);else for(;r>o;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{ta=Rn;var r=new Rn;return r._=n,o(r,t,e)}finally{ta=Date}}n.floor=n,n.round=r,n.ceil=i,n.offset=u,n.range=o;var c=n.utc=Pn(n);return c.floor=c,c.round=Pn(r),c.ceil=Pn(i),c.offset=Pn(u),c.range=a,n}function Pn(n){return function(t,e){try{ta=Rn;var r=new Rn;return r._=t,n(r,e)._}finally{ta=Date}}}function Un(n){function t(n){function t(t){for(var e,i,u,o=[],a=-1,c=0;++a<r;)37===n.charCodeAt(a)&&(o.push(n.substring(c,a)),null!=(i=ra[e=n.charAt(++a)])&&(e=n.charAt(++a)),(u=A[e])&&(e=u(t,null==i?"e"===e?" ":"0":i)),o.push(e),c=a+1);return o.push(n.substring(c,a)),o.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(e(r,n,t,0)!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&ta!==Rn,u=new(i?Rn:ta);return"j"in r?u.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(u.setFullYear(r.y,0,1),u.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(u.getDay()+5)%7:r.w+7*r.U-(u.getDay()+6)%7)):u.setFullYear(r.y,r.m,r.d),u.setHours(r.H+Math.floor(r.Z/100),r.M+r.Z%100,r.S,r.L),i?u._:u},t.toString=function(){return n},t}function e(n,t,e,r){for(var i,u,o,a=0,c=t.length,l=e.length;c>a;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(o=t.charAt(a++),!(u=C[o in ra?t.charAt(a++):o])||(r=u(n,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){b.lastIndex=0;var r=b.exec(t.substring(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){M.lastIndex=0;var r=M.exec(t.substring(e));return r?(n.w=_.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){N.lastIndex=0;var r=N.exec(t.substring(e));return r?(n.m=E.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){S.lastIndex=0;var r=S.exec(t.substring(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,A.c.toString(),t,r)}function c(n,t,r){return e(n,A.x.toString(),t,r)}function l(n,t,r){return e(n,A.X.toString(),t,r)}function f(n,t,e){var r=x.get(t.substring(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var s=n.dateTime,h=n.date,g=n.time,p=n.periods,v=n.days,d=n.shortDays,y=n.months,m=n.shortMonths;t.utc=function(n){function e(n){try{var t=new(ta=Rn);return t._=n,r(t)}finally{ta=Date}}var r=t(n);return e.parse=function(n){try{ta=Rn;var t=r.parse(n);return t&&t._}finally{ta=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=rt;var x=Xu.map(),M=Hn(v),_=Fn(v),b=Hn(d),w=Fn(d),S=Hn(y),k=Fn(y),N=Hn(m),E=Fn(m);p.forEach(function(n,t){x.set(n.toLowerCase(),t)});var A={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return m[n.getMonth()]},B:function(n){return y[n.getMonth()]},c:t(s),d:function(n,t){return jn(n.getDate(),t,2)},e:function(n,t){return jn(n.getDate(),t,2)},H:function(n,t){return jn(n.getHours(),t,2)},I:function(n,t){return jn(n.getHours()%12||12,t,2)},j:function(n,t){return jn(1+na.dayOfYear(n),t,3)},L:function(n,t){return jn(n.getMilliseconds(),t,3)},m:function(n,t){return jn(n.getMonth()+1,t,2)},M:function(n,t){return jn(n.getMinutes(),t,2)},p:function(n){return p[+(n.getHours()>=12)]},S:function(n,t){return jn(n.getSeconds(),t,2)},U:function(n,t){return jn(na.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return jn(na.mondayOfYear(n),t,2)},x:t(h),X:t(g),y:function(n,t){return jn(n.getFullYear()%100,t,2)},Y:function(n,t){return jn(n.getFullYear()%1e4,t,4)},Z:tt,"%":function(){return"%"}},C={a:r,A:i,b:u,B:o,c:a,d:Wn,e:Wn,H:Gn,I:Gn,j:Jn,L:nt,m:Bn,M:Kn,p:f,S:Qn,U:Yn,w:On,W:In,x:c,X:l,y:Vn,Y:Zn,Z:Xn,"%":et};return t}function jn(n,t,e){var r=0>n?"-":"",i=(r?-n:n)+"",u=i.length;return r+(e>u?new Array(e-u+1).join(t)+i:i)}function Hn(n){return new RegExp("^(?:"+n.map(Xu.requote).join("|")+")","i")}function Fn(n){for(var t=new i,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function On(n,t,e){ia.lastIndex=0;var r=ia.exec(t.substring(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Yn(n,t,e){ia.lastIndex=0;var r=ia.exec(t.substring(e));return r?(n.U=+r[0],e+r[0].length):-1}function In(n,t,e){ia.lastIndex=0;var r=ia.exec(t.substring(e));return r?(n.W=+r[0],e+r[0].length):-1}function Zn(n,t,e){ia.lastIndex=0;var r=ia.exec(t.substring(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Vn(n,t,e){ia.lastIndex=0;var r=ia.exec(t.substring(e,e+2));return r?(n.y=$n(+r[0]),e+r[0].length):-1}function Xn(n,t,e){return/^[+-]\d{4}$/.test(t=t.substring(e,e+5))?(n.Z=+t,e+5):-1}function $n(n){return n+(n>68?1900:2e3)}function Bn(n,t,e){ia.lastIndex=0;var r=ia.exec(t.substring(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Wn(n,t,e){ia.lastIndex=0;var r=ia.exec(t.substring(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function Jn(n,t,e){ia.lastIndex=0;var r=ia.exec(t.substring(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function Gn(n,t,e){ia.lastIndex=0;var r=ia.exec(t.substring(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function Kn(n,t,e){ia.lastIndex=0;var r=ia.exec(t.substring(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function Qn(n,t,e){ia.lastIndex=0;var r=ia.exec(t.substring(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function nt(n,t,e){ia.lastIndex=0;var r=ia.exec(t.substring(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function tt(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=~~(io(t)/60),i=io(t)%60;return e+jn(r,"0",2)+jn(i,"0",2)}function et(n,t,e){ua.lastIndex=0;var r=ua.exec(t.substring(e,e+1));return r?e+r[0].length:-1}function rt(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function it(){}function ut(n,t,e){var r=e.s=n+t,i=r-n,u=r-i;e.t=n-u+(t-i)}function ot(n,t){n&&la.hasOwnProperty(n.type)&&la[n.type](n,t)}function at(n,t,e){var r,i=-1,u=n.length-e;for(t.lineStart();++i<u;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function ct(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)at(n[e],t,1);t.polygonEnd()}function lt(){function n(n,t){t=t*Ao/2+wo/4;var e=(n*=Ao)-r,o=Math.cos(t),a=Math.sin(t),c=u*a,l=i*o+c*Math.cos(e),f=c*Math.sin(e);sa.add(Math.atan2(f,l)),r=n,i=o,u=a}var t,e,r,i,u;ha.point=function(o,a){ha.point=n,r=(t=o)*Ao,i=Math.cos(a=(e=a)*Ao/2+wo/4),u=Math.sin(a)},ha.lineEnd=function(){n(t,e)}}function ft(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function st(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function ht(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function gt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function pt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function vt(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function dt(n){return[Math.atan2(n[1],n[0]),X(n[2])]}function yt(n,t){return io(n[0]-t[0])<No&&io(n[1]-t[1])<No}function mt(n,t){n*=Ao;var e=Math.cos(t*=Ao);xt(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function xt(n,t,e){va+=(n-va)/++ga,da+=(t-da)/ga,ya+=(e-ya)/ga}function Mt(){function n(n,i){n*=Ao;var u=Math.cos(i*=Ao),o=u*Math.cos(n),a=u*Math.sin(n),c=Math.sin(i),l=Math.atan2(Math.sqrt((l=e*c-r*a)*l+(l=r*o-t*c)*l+(l=t*a-e*o)*l),t*o+e*a+r*c);pa+=l,ma+=l*(t+(t=o)),xa+=l*(e+(e=a)),Ma+=l*(r+(r=c)),xt(t,e,r)}var t,e,r;Sa.point=function(i,u){i*=Ao;var o=Math.cos(u*=Ao);t=o*Math.cos(i),e=o*Math.sin(i),r=Math.sin(u),Sa.point=n,xt(t,e,r)}}function _t(){Sa.point=mt}function bt(){function n(n,t){n*=Ao;var e=Math.cos(t*=Ao),o=e*Math.cos(n),a=e*Math.sin(n),c=Math.sin(t),l=i*c-u*a,f=u*o-r*c,s=r*a-i*o,h=Math.sqrt(l*l+f*f+s*s),g=r*o+i*a+u*c,p=h&&-V(g)/h,v=Math.atan2(h,g);_a+=p*l,ba+=p*f,wa+=p*s,pa+=v,ma+=v*(r+(r=o)),xa+=v*(i+(i=a)),Ma+=v*(u+(u=c)),xt(r,i,u)}var t,e,r,i,u;Sa.point=function(o,a){t=o,e=a,Sa.point=n,o*=Ao;var c=Math.cos(a*=Ao);r=c*Math.cos(o),i=c*Math.sin(o),u=Math.sin(a),xt(r,i,u)},Sa.lineEnd=function(){n(t,e),Sa.lineEnd=_t,Sa.point=mt}}function wt(){return!0}function St(n,t,e,r,i){var u=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(yt(e,r)){i.lineStart();for(var a=0;t>a;++a)i.point((e=n[a])[0],e[1]);return void i.lineEnd()}var c=new Nt(e,n,null,!0),l=new Nt(e,null,c,!1);c.o=l,u.push(c),o.push(l),l=new Nt(r,null,c=new Nt(r,n,null,!1),!0),c.o=l,u.push(c),o.push(l)}}),o.sort(t),kt(u),kt(o),u.length){for(var a=0,c=e,l=o.length;l>a;++a)o[a].e=c=!c;for(var f,s,h=u[0];;){for(var g=h,p=!0;g.v;)if((g=g.n)===h)return;f=g.z,i.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(var a=0,l=f.length;l>a;++a)i.point((s=f[a])[0],s[1]);else r(g.x,g.n.x,1,i);g=g.n}else{if(p)for(var a=(f=g.p.z).length-1;a>=0;--a)i.point((s=f[a])[0],s[1]);else r(g.x,g.p.x,-1,i);g=g.p}f=(g=g.o).z,p=!p}while(!g.v);i.lineEnd()}}}function kt(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function Nt(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Et(n,t,e,r){return function(i,u){function o(t,e){var r=i(t,e);n(t=r[0],e=r[1])&&u.point(t,e)}function a(n,t){var e=i(n,t);d.point(e[0],e[1])}function c(){m.point=a,d.lineStart()}function l(){m.point=o,d.lineEnd()}function f(n,t){v.push([n,t]);var e=i(n,t);M.point(e[0],e[1])}function s(){M.lineStart(),v=[]}function h(){f(v[0][0],v[0][1]),M.lineEnd();var n,t=M.clean(),e=x.buffer(),r=e.length;if(v.pop(),p.push(v),v=null,r){if(1&t){var i,r=(n=e[0]).length-1,o=-1;for(u.lineStart();++o<r;)u.point((i=n[o])[0],i[1]);return void u.lineEnd()}r>1&&2&t&&e.push(e.pop().concat(e.shift())),g.push(e.filter(At))}}var g,p,v,d=t(u),y=i.invert(r[0],r[1]),m={point:o,lineStart:c,lineEnd:l,polygonStart:function(){m.point=f,m.lineStart=s,m.lineEnd=h,g=[],p=[],u.polygonStart()},polygonEnd:function(){m.point=o,m.lineStart=c,m.lineEnd=l,g=Xu.merge(g);var n=zt(y,p);g.length?St(g,Lt,n,e,u):n&&(u.lineStart(),e(null,null,1,u),u.lineEnd()),u.polygonEnd(),g=p=null},sphere:function(){u.polygonStart(),u.lineStart(),e(null,null,1,u),u.lineEnd(),u.polygonEnd()}},x=Ct(),M=t(x);return m}}function At(n){return n.length>1}function Ct(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:g,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Lt(n,t){return((n=n.x)[0]<0?n[1]-ko-No:ko-n[1])-((t=t.x)[0]<0?t[1]-ko-No:ko-t[1])}function zt(n,t){var e=n[0],r=n[1],i=[Math.sin(e),-Math.cos(e),0],u=0,o=0;sa.reset();for(var a=0,c=t.length;c>a;++a){var l=t[a],f=l.length;if(f)for(var s=l[0],h=s[0],g=s[1]/2+wo/4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===f&&(d=0);var y=(n=l[d])[0],m=n[1]/2+wo/4,x=Math.sin(m),M=Math.cos(m),_=y-h,b=io(_)>wo,w=p*x;if(sa.add(Math.atan2(w*Math.sin(_),v*M+w*Math.cos(_))),u+=b?_+(_>=0?So:-So):_,b^h>=e^y>=e){var S=ht(ft(s),ft(n));vt(S);var k=ht(i,S);vt(k);var N=(b^_>=0?-1:1)*X(k[2]);(r>N||r===N&&(S[0]||S[1]))&&(o+=b^_>=0?1:-1)}if(!d++)break;h=y,p=x,v=M,s=n}}return(-No>u||No>u&&0>sa)^1&o}function qt(n){var t,e=NaN,r=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(u,o){var a=u>0?wo:-wo,c=io(u-e);io(c-wo)<No?(n.point(e,r=(r+o)/2>0?ko:-ko),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(u,r),t=0):i!==a&&c>=wo&&(io(e-i)<No&&(e-=i*No),io(u-a)<No&&(u-=a*No),r=Tt(e,r,u,o),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=u,r=o),i=a},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}function Tt(n,t,e,r){var i,u,o=Math.sin(n-e);return io(o)>No?Math.atan((Math.sin(t)*(u=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(t))*Math.sin(n))/(i*u*o)):(t+r)/2}function Rt(n,t,e,r){var i;if(null==n)i=e*ko,r.point(-wo,i),r.point(0,i),r.point(wo,i),r.point(wo,0),r.point(wo,-i),r.point(0,-i),r.point(-wo,-i),r.point(-wo,0),r.point(-wo,i);else if(io(n[0]-t[0])>No){var u=n[0]<t[0]?wo:-wo;i=e*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else r.point(t[0],t[1])}function Dt(n){function t(n,t){return Math.cos(n)*Math.cos(t)>u}function e(n){var e,u,c,l,f;return{lineStart:function(){l=c=!1,f=1},point:function(s,h){var g,p=[s,h],v=t(s,h),d=o?v?0:i(s,h):v?i(s+(0>s?wo:-wo),h):0;if(!e&&(l=c=v)&&n.lineStart(),v!==c&&(g=r(e,p),(yt(e,g)||yt(p,g))&&(p[0]+=No,p[1]+=No,v=t(p[0],p[1]))),v!==c)f=0,v?(n.lineStart(),g=r(p,e),n.point(g[0],g[1])):(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g;else if(a&&e&&o^v){var y;d&u||!(y=r(p,e,!0))||(f=0,o?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1])))}!v||e&&yt(e,p)||n.point(p[0],p[1]),e=p,c=v,u=d},lineEnd:function(){c&&n.lineEnd(),e=null},clean:function(){return f|(l&&c)<<1}}}function r(n,t,e){var r=[1,0,0],i=ht(ft(n),ft(t)),o=st(i,i),a=i[0],c=o-a*a;if(!c)return!e&&n;var l=u*o/c,f=-u*a/c,s=ht(r,i),h=pt(r,l);gt(h,pt(i,f));var g=s,p=st(h,g),v=st(g,g),d=p*p-v*(st(h,h)-1);if(!(0>d)){var y=Math.sqrt(d),m=pt(g,(-p-y)/v);if(gt(m,h),m=dt(m),!e)return m;var x,M=n[0],_=t[0],b=n[1],w=t[1];M>_&&(x=M,M=_,_=x);var S=_-M,k=io(S-wo)<No,N=k||No>S;if(!k&&b>w&&(x=b,b=w,w=x),N?k?b+w>0^m[1]<(io(m[0]-M)<No?b:w):b<=m[1]&&m[1]<=w:S>wo^(M<=m[0]&&m[0]<=_)){var E=pt(g,(-p+y)/v);return gt(E,h),[m,dt(E)]}}}function i(t,e){var r=o?n:wo-n,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>e?i|=4:e>r&&(i|=8),i}var u=Math.cos(n),o=u>0,a=io(u)>No;return Et(t,e,le(n,6*Ao),o?[0,-n]:[-wo,n-wo])}function Pt(n,t,e,r){return function(i){var u,o=i.a,a=i.b,c=o.x,l=o.y,f=0,s=1,h=a.x-c,g=a.y-l;if(u=n-c,h||!(u>0)){if(u/=h,0>h){if(f>u)return;s>u&&(s=u)}else if(h>0){if(u>s)return;u>f&&(f=u)}if(u=e-c,h||!(0>u)){if(u/=h,0>h){if(u>s)return;u>f&&(f=u)}else if(h>0){if(f>u)return;s>u&&(s=u)}if(u=t-l,g||!(u>0)){if(u/=g,0>g){if(f>u)return;s>u&&(s=u)}else if(g>0){if(u>s)return;u>f&&(f=u)}if(u=r-l,g||!(0>u)){if(u/=g,0>g){if(u>s)return;u>f&&(f=u)}else if(g>0){if(f>u)return;s>u&&(s=u)}return f>0&&(i.a={x:c+f*h,y:l+f*g}),1>s&&(i.b={x:c+s*h,y:l+s*g}),i}}}}}}function Ut(n,t,e,r){function i(r,i){return io(r[0]-n)<No?i>0?0:3:io(r[0]-e)<No?i>0?2:1:io(r[1]-t)<No?i>0?1:0:i>0?3:2}function u(n,t){return o(n.x,t.x)}function o(n,t){var e=i(n,1),r=i(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function c(n){for(var t=0,e=d.length,r=n[1],i=0;e>i;++i)for(var u,o=1,a=d[i],c=a.length,l=a[0];c>o;++o)u=a[o],l[1]<=r?u[1]>r&&Z(l,u,n)>0&&++t:u[1]<=r&&Z(l,u,n)<0&&--t,l=u;return 0!==t}function l(u,a,c,l){var f=0,s=0;if(null==u||(f=i(u,c))!==(s=i(a,c))||o(u,a)<0^c>0)do{l.point(0===f||3===f?n:e,f>1?r:t)}while((f=(f+c+4)%4)!==s);else l.point(a[0],a[1])}function f(i,u){return i>=n&&e>=i&&u>=t&&r>=u}function s(n,t){f(n,t)&&a.point(n,t)}function h(){C.point=p,d&&d.push(y=[]),S=!0,w=!1,_=b=NaN}function g(){v&&(p(m,x),M&&w&&E.rejoin(),v.push(E.buffer())),C.point=s,w&&a.lineEnd()}function p(n,t){var e=f(n=Math.max(-Na,Math.min(Na,n)),t=Math.max(-Na,Math.min(Na,t)));if(d&&y.push([n,t]),S)m=n,x=t,M=e,S=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&w)a.point(n,t);else{var r={a:{x:_,y:b},b:{x:n,y:t}};A(r)?(w||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),k=!1):e&&(a.lineStart(),a.point(n,t),k=!1)}_=n,b=t,w=e}var v,d,y,m,x,M,_,b,w,S,k,N=a,E=Ct(),A=Pt(n,t,e,r),C={point:s,lineStart:h,lineEnd:g,polygonStart:function(){a=E,v=[],d=[],k=!0},polygonEnd:function(){a=N,v=Xu.merge(v);var t=c([n,r]),e=k&&t,i=v.length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),i&&St(v,u,t,l,a),a.polygonEnd()),v=d=y=null}};return C}}function jt(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return(e=t.invert(e,r))&&n.invert(e[0],e[1])}),e}function Ht(n){var t=0,e=wo/3,r=te(n),i=r(t,e);return i.parallels=function(n){return arguments.length?r(t=n[0]*wo/180,e=n[1]*wo/180):[t/wo*180,e/wo*180]},i}function Ft(n,t){function e(n,t){var e=Math.sqrt(u-2*i*Math.sin(t))/i;return[e*Math.sin(n*=i),o-e*Math.cos(n)]}var r=Math.sin(n),i=(r+Math.sin(t))/2,u=1+r*(2*i-r),o=Math.sqrt(u)/i;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/i,X((u-(n*n+e*e)*i*i)/(2*i))]},e}function Ot(){function n(n,t){Aa+=i*n-r*t,r=n,i=t}var t,e,r,i;Ta.point=function(u,o){Ta.point=n,t=r=u,e=i=o},Ta.lineEnd=function(){n(t,e)}}function Yt(n,t){Ca>n&&(Ca=n),n>za&&(za=n),La>t&&(La=t),t>qa&&(qa=t)}function It(){function n(n,t){o.push("M",n,",",t,u)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function i(){o.push("Z")}var u=Zt(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return u=Zt(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Zt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Vt(n,t){va+=n,da+=t,++ya}function Xt(){function n(n,r){var i=n-t,u=r-e,o=Math.sqrt(i*i+u*u);ma+=o*(t+n)/2,xa+=o*(e+r)/2,Ma+=o,Vt(t=n,e=r)}var t,e;Da.point=function(r,i){Da.point=n,Vt(t=r,e=i)}}function $t(){Da.point=Vt}function Bt(){function n(n,t){var e=n-r,u=t-i,o=Math.sqrt(e*e+u*u);ma+=o*(r+n)/2,xa+=o*(i+t)/2,Ma+=o,_a+=(o=i*n-r*t)*(r+n),ba+=o*(i+t),wa+=3*o,Vt(r=n,i=t)}var t,e,r,i;Da.point=function(u,o){Da.point=n,Vt(t=r=u,e=i=o)},Da.lineEnd=function(){n(t,e)}}function Wt(n){function t(t,e){n.moveTo(t,e),n.arc(t,e,o,0,So)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function i(){a.point=t}function u(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(n){return o=n,a},result:g};return a}function Jt(n){function t(n){return(a?r:e)(n)}function e(t){return Qt(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){x=NaN,S.point=u,t.lineStart()}function u(e,r){var u=ft([e,r]),o=n(e,r);i(x,M,m,_,b,w,x=o[0],M=o[1],m=e,_=u[0],b=u[1],w=u[2],a,t),t.point(x,M)}function o(){S.point=e,t.lineEnd()}function c(){r(),S.point=l,S.lineEnd=f}function l(n,t){u(s=n,h=t),g=x,p=M,v=_,d=b,y=w,S.point=u}function f(){i(x,M,m,_,b,w,g,p,s,v,d,y,a,t),S.lineEnd=o,o()}var s,h,g,p,v,d,y,m,x,M,_,b,w,S={point:e,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=c},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function i(t,e,r,a,c,l,f,s,h,g,p,v,d,y){var m=f-t,x=s-e,M=m*m+x*x;if(M>4*u&&d--){var _=a+g,b=c+p,w=l+v,S=Math.sqrt(_*_+b*b+w*w),k=Math.asin(w/=S),N=io(io(w)-1)<No||io(r-h)<No?(r+h)/2:Math.atan2(b,_),E=n(N,k),A=E[0],C=E[1],L=A-t,z=C-e,q=x*L-m*z;(q*q/M>u||io((m*L+x*z)/M-.5)>.3||o>a*g+c*p+l*v)&&(i(t,e,r,a,c,l,A,C,N,_/=S,b/=S,w,d,y),y.point(A,C),i(A,C,N,_,b,w,f,s,h,g,p,v,d,y))}}var u=.5,o=Math.cos(30*Ao),a=16;return t.precision=function(n){return arguments.length?(a=(u=n*n)>0&&16,t):Math.sqrt(u)},t}function Gt(n){var t=Jt(function(t,e){return n([t*Co,e*Co])});return function(n){return ee(t(n))}}function Kt(n){this.stream=n}function Qt(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function ne(n){return te(function(){return n})()}function te(n){function t(n){return n=a(n[0]*Ao,n[1]*Ao),[n[0]*h+c,l-n[1]*h]}function e(n){return(n=a.invert((n[0]-c)/h,(l-n[1])/h))&&[n[0]*Co,n[1]*Co]}function r(){a=jt(o=ue(y,m,x),u);var n=u(v,d);return c=g-n[0]*h,l=p+n[1]*h,i()}function i(){return f&&(f.valid=!1,f=null),t}var u,o,a,c,l,f,s=Jt(function(n,t){return n=u(n,t),[n[0]*h+c,l-n[1]*h]}),h=150,g=480,p=250,v=0,d=0,y=0,m=0,x=0,M=ka,_=wn,b=null,w=null;return t.stream=function(n){return f&&(f.valid=!1),f=ee(M(o,s(_(n)))),f.valid=!0,f},t.clipAngle=function(n){return arguments.length?(M=null==n?(b=n,ka):Dt((b=+n)*Ao),i()):b},t.clipExtent=function(n){return arguments.length?(w=n,_=n?Ut(n[0][0],n[0][1],n[1][0],n[1][1]):wn,i()):w},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(g=+n[0],p=+n[1],r()):[g,p]},t.center=function(n){return arguments.length?(v=n[0]%360*Ao,d=n[1]%360*Ao,r()):[v*Co,d*Co]},t.rotate=function(n){return arguments.length?(y=n[0]%360*Ao,m=n[1]%360*Ao,x=n.length>2?n[2]%360*Ao:0,r()):[y*Co,m*Co,x*Co]},Xu.rebind(t,s,"precision"),function(){return u=n.apply(this,arguments),t.invert=u.invert&&e,r()}}function ee(n){return Qt(n,function(t,e){n.point(t*Ao,e*Ao)})}function re(n,t){return[n,t]}function ie(n,t){return[n>wo?n-So:-wo>n?n+So:n,t]}function ue(n,t,e){return n?t||e?jt(ae(n),ce(t,e)):ae(n):t||e?ce(t,e):ie}function oe(n){return function(t,e){return t+=n,[t>wo?t-So:-wo>t?t+So:t,e]}}function ae(n){var t=oe(n);return t.invert=oe(-n),t}function ce(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),f=l*r+a*i;return[Math.atan2(c*u-f*o,a*r-l*i),X(f*u+c*o)]}var r=Math.cos(n),i=Math.sin(n),u=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),f=l*u-c*o;return[Math.atan2(c*u+l*o,a*r+f*i),X(f*r-a*i)]},e}function le(n,t){var e=Math.cos(n),r=Math.sin(n);return function(i,u,o,a){var c=o*t;null!=i?(i=fe(e,i),u=fe(e,u),(o>0?u>i:i>u)&&(i+=o*So)):(i=n+o*So,u=n-.5*c);for(var l,f=i;o>0?f>u:u>f;f-=c)a.point((l=dt([e,-r*Math.cos(f),-r*Math.sin(f)]))[0],l[1])}}function fe(n,t){var e=ft(t);e[0]-=n,vt(e);var r=V(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-No)%(2*Math.PI)}function se(n,t,e){var r=Xu.range(n,t-No,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function he(n,t,e){var r=Xu.range(n,t-No,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function ge(n){return n.source}function pe(n){return n.target}function ve(n,t,e,r){var i=Math.cos(t),u=Math.sin(t),o=Math.cos(r),a=Math.sin(r),c=i*Math.cos(n),l=i*Math.sin(n),f=o*Math.cos(e),s=o*Math.sin(e),h=2*Math.asin(Math.sqrt(J(r-t)+i*o*J(e-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,e=Math.sin(h-n)*g,r=e*c+t*f,i=e*l+t*s,o=e*u+t*a;return[Math.atan2(i,r)*Co,Math.atan2(o,Math.sqrt(r*r+i*i))*Co]}:function(){return[n*Co,t*Co]};return p.distance=h,p}function de(){function n(n,i){var u=Math.sin(i*=Ao),o=Math.cos(i),a=io((n*=Ao)-t),c=Math.cos(a);Pa+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*u-e*o*c)*a),e*u+r*o*c),t=n,e=u,r=o}var t,e,r;Ua.point=function(i,u){t=i*Ao,e=Math.sin(u*=Ao),r=Math.cos(u),Ua.point=n},Ua.lineEnd=function(){Ua.point=Ua.lineEnd=g}}function ye(n,t){function e(t,e){var r=Math.cos(t),i=Math.cos(e),u=n(r*i);return[u*i*Math.sin(t),u*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),i=t(r),u=Math.sin(i),o=Math.cos(i);return[Math.atan2(n*u,r*o),Math.asin(r&&e*u/r)]},e}function me(n,t){function e(n,t){var e=io(io(t)-ko)<No?0:o/Math.pow(i(t),u);return[e*Math.sin(u*n),o-e*Math.cos(u*n)]}var r=Math.cos(n),i=function(n){return Math.tan(wo/4+n/2)},u=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(i(t)/i(n)),o=r*Math.pow(i(n),u)/u;return u?(e.invert=function(n,t){var e=o-t,r=I(u)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/u,2*Math.atan(Math.pow(o/r,1/u))-ko]},e):Me}function xe(n,t){function e(n,t){var e=u-t;return[e*Math.sin(i*n),u-e*Math.cos(i*n)]}var r=Math.cos(n),i=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),u=r/i+n;return io(i)<No?re:(e.invert=function(n,t){var e=u-t;return[Math.atan2(n,e)/i,u-I(i)*Math.sqrt(n*n+e*e)]},e)}function Me(n,t){return[n,Math.log(Math.tan(wo/4+t/2))]}function _e(n){var t,e=ne(n),r=e.scale,i=e.translate,u=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=i.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var o=u.apply(e,arguments);if(o===e){if(t=null==n){var a=wo*r(),c=i();u([[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]])}}else t&&(o=null);return o},e.clipExtent(null)}function be(n,t){return[Math.log(Math.tan(wo/4+t/2)),-n]}function we(n){return n[0]}function Se(n){return n[1]}function ke(n){for(var t=n.length,e=[0,1],r=2,i=2;t>i;i++){for(;r>1&&Z(n[e[r-2]],n[e[r-1]],n[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function Ne(n,t){return n[0]-t[0]||n[1]-t[1]}function Ee(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Ae(n,t,e,r){var i=n[0],u=e[0],o=t[0]-i,a=r[0]-u,c=n[1],l=e[1],f=t[1]-c,s=r[1]-l,h=(a*(c-l)-s*(i-u))/(s*o-a*f);return[i+h*o,c+h*f]}function Ce(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Le(){Ge(this),this.edge=this.site=this.circle=null}function ze(n){var t=Wa.pop()||new Le;return t.site=n,t}function qe(n){Ye(n),Xa.remove(n),Wa.push(n),Ge(n)}function Te(n){var t=n.circle,e=t.x,r=t.cy,i={x:e,y:r},u=n.P,o=n.N,a=[n];qe(n);for(var c=u;c.circle&&io(e-c.circle.x)<No&&io(r-c.circle.cy)<No;)u=c.P,a.unshift(c),qe(c),c=u;a.unshift(c),Ye(c);for(var l=o;l.circle&&io(e-l.circle.x)<No&&io(r-l.circle.cy)<No;)o=l.N,a.push(l),qe(l),l=o;a.push(l),Ye(l);var f,s=a.length;for(f=1;s>f;++f)l=a[f],c=a[f-1],Be(l.edge,c.site,l.site,i);c=a[0],(l=a[s-1]).edge=Xe(c.site,l.site,null,i),Oe(c),Oe(l)}function Re(n){for(var t,e,r,i,u=n.x,o=n.y,a=Xa._;a;)if((r=De(a,o)-u)>No)a=a.L;else{if(!((i=u-Pe(a,o))>No)){r>-No?(t=a.P,e=a):i>-No?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}var c=ze(n);if(Xa.insert(t,c),t||e){if(t===e)return Ye(t),e=ze(t.site),Xa.insert(c,e),c.edge=e.edge=Xe(t.site,c.site),Oe(t),void Oe(e);if(!e)return void(c.edge=Xe(t.site,c.site));Ye(t),Ye(e);var l=t.site,f=l.x,s=l.y,h=n.x-f,g=n.y-s,p=e.site,v=p.x-f,d=p.y-s,y=2*(h*d-g*v),m=h*h+g*g,x=v*v+d*d,M={x:(d*m-g*x)/y+f,y:(h*x-v*m)/y+s};Be(e.edge,l,p,M),c.edge=Xe(l,n,null,M),e.edge=Xe(n,p,null,M),Oe(t),Oe(e)}}function De(n,t){var e=n.site,r=e.x,i=e.y,u=i-t;if(!u)return r;var o=n.P;if(!o)return-1/0;var a=(e=o.site).x,c=e.y,l=c-t;if(!l)return a;var f=a-r,s=1/u-1/l,h=f/l;return s?(-h+Math.sqrt(h*h-2*s*(f*f/(-2*l)-c+l/2+i-u/2)))/s+r:(r+a)/2}function Pe(n,t){var e=n.N;if(e)return De(e,t);var r=n.site;return r.y===t?r.x:1/0}function Ue(n){this.site=n,this.edges=[]}function je(n){for(var t,e,r,i,u,o,a,c,l,f,s=n[0][0],h=n[1][0],g=n[0][1],p=n[1][1],v=Va,d=v.length;d--;)if((u=v[d])&&u.prepare())for(a=u.edges,c=a.length,o=0;c>o;)f=a[o].end(),r=f.x,i=f.y,l=a[++o%c].start(),t=l.x,e=l.y,(io(r-t)>No||io(i-e)>No)&&(a.splice(o,0,new We($e(u.site,f,io(r-s)<No&&p-i>No?{x:s,y:io(t-s)<No?e:p}:io(i-p)<No&&h-r>No?{x:io(e-p)<No?t:h,y:p}:io(r-h)<No&&i-g>No?{x:h,y:io(t-h)<No?e:g}:io(i-g)<No&&r-s>No?{x:io(e-g)<No?t:s,y:g}:null),u.site,null)),++c)}function He(n,t){return t.angle-n.angle}function Fe(){Ge(this),this.x=this.y=this.arc=this.site=this.cy=null}function Oe(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,i=n.site,u=e.site;if(r!==u){var o=i.x,a=i.y,c=r.x-o,l=r.y-a,f=u.x-o,s=2*(c*(d=u.y-a)-l*f);if(!(s>=-Eo)){var h=c*c+l*l,g=f*f+d*d,p=(d*h-l*g)/s,v=(c*g-f*h)/s,d=v+a,y=Ja.pop()||new Fe;y.arc=n,y.site=i,y.x=p+o,y.y=d+Math.sqrt(p*p+v*v),y.cy=d,n.circle=y;for(var m=null,x=Ba._;x;)if(y.y<x.y||y.y===x.y&&y.x<=x.x){if(!x.L){m=x.P;break}x=x.L}else{if(!x.R){m=x;break}x=x.R}Ba.insert(m,y),m||($a=y)}}}}function Ye(n){var t=n.circle;t&&(t.P||($a=t.N),Ba.remove(t),Ja.push(t),Ge(t),n.circle=null)}function Ie(n){for(var t,e=Za,r=Pt(n[0][0],n[0][1],n[1][0],n[1][1]),i=e.length;i--;)t=e[i],(!Ze(t,n)||!r(t)||io(t.a.x-t.b.x)<No&&io(t.a.y-t.b.y)<No)&&(t.a=t.b=null,e.splice(i,1))}function Ze(n,t){var e=n.b;if(e)return!0;var r,i,u=n.a,o=t[0][0],a=t[1][0],c=t[0][1],l=t[1][1],f=n.l,s=n.r,h=f.x,g=f.y,p=s.x,v=s.y,d=(h+p)/2,y=(g+v)/2;if(v===g){if(o>d||d>=a)return;if(h>p){if(u){if(u.y>=l)return}else u={x:d,y:c};e={x:d,y:l}}else{if(u){if(u.y<c)return}else u={x:d,y:l};e={x:d,y:c}}}else if(r=(h-p)/(v-g),i=y-r*d,-1>r||r>1)if(h>p){if(u){if(u.y>=l)return}else u={x:(c-i)/r,y:c};e={x:(l-i)/r,y:l}}else{if(u){if(u.y<c)return}else u={x:(l-i)/r,y:l};e={x:(c-i)/r,y:c}}else if(v>g){if(u){if(u.x>=a)return}else u={x:o,y:r*o+i};e={x:a,y:r*a+i}}else{if(u){if(u.x<o)return}else u={x:a,y:r*a+i};e={x:o,y:r*o+i}}return n.a=u,n.b=e,!0}function Ve(n,t){this.l=n,this.r=t,this.a=this.b=null}function Xe(n,t,e,r){var i=new Ve(n,t);return Za.push(i),e&&Be(i,n,t,e),r&&Be(i,t,n,r),Va[n.i].edges.push(new We(i,n,t)),Va[t.i].edges.push(new We(i,t,n)),i}function $e(n,t,e){var r=new Ve(n,null);return r.a=t,r.b=e,Za.push(r),r}function Be(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function We(n,t,e){var r=n.a,i=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Je(){this._=null}function Ge(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function Ke(n,t){var e=t,r=t.R,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function Qe(n,t){var e=t,r=t.L,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function nr(n){for(;n.L;)n=n.L;return n}function tr(n,t){var e,r,i,u=n.sort(er).pop();for(Za=[],Va=new Array(n.length),Xa=new Je,Ba=new Je;;)if(i=$a,u&&(!i||u.y<i.y||u.y===i.y&&u.x<i.x))(u.x!==e||u.y!==r)&&(Va[u.i]=new Ue(u),Re(u),e=u.x,r=u.y),u=n.pop();else{if(!i)break;Te(i.arc)}t&&(Ie(t),je(t));var o={cells:Va,edges:Za};return Xa=Ba=Za=Va=null,o}function er(n,t){return t.y-n.y||t.x-n.x}function rr(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function ir(n){return n.x}function ur(n){return n.y}function or(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ar(n,t,e,r,i,u){if(!n(t,e,r,i,u)){var o=.5*(e+i),a=.5*(r+u),c=t.nodes;c[0]&&ar(n,c[0],e,r,o,a),c[1]&&ar(n,c[1],o,r,i,a),c[2]&&ar(n,c[2],e,a,o,u),c[3]&&ar(n,c[3],o,a,i,u)}}function cr(n,t){n=Xu.rgb(n),t=Xu.rgb(t);var e=n.r,r=n.g,i=n.b,u=t.r-e,o=t.g-r,a=t.b-i;return function(n){return"#"+dn(Math.round(e+u*n))+dn(Math.round(r+o*n))+dn(Math.round(i+a*n))}}function lr(n,t){var e,r={},i={};for(e in n)e in t?r[e]=hr(n[e],t[e]):i[e]=n[e];for(e in t)e in n||(i[e]=t[e]);return function(n){for(e in r)i[e]=r[e](n);return i}}function fr(n,t){return t-=n=+n,function(e){return n+t*e}}function sr(n,t){var e,r,i,u,o,a=0,c=0,l=[],f=[];for(n+="",t+="",Ka.lastIndex=0,r=0;e=Ka.exec(t);++r)e.index&&l.push(t.substring(a,c=e.index)),f.push({i:l.length,x:e[0]}),l.push(null),a=Ka.lastIndex;for(a<t.length&&l.push(t.substring(a)),r=0,u=f.length;(e=Ka.exec(n))&&u>r;++r)if((o=f[r]).x==e[0]){if(o.i)if(null==l[o.i+1])for(l[o.i-1]+=o.x,l.splice(o.i,1),i=r+1;u>i;++i)f[i].i--;else for(l[o.i-1]+=o.x+l[o.i+1],l.splice(o.i,2),i=r+1;u>i;++i)f[i].i-=2;else if(null==l[o.i+1])l[o.i]=o.x;else for(l[o.i]=o.x+l[o.i+1],l.splice(o.i+1,1),i=r+1;u>i;++i)f[i].i--;f.splice(r,1),u--,r--}else o.x=fr(parseFloat(e[0]),parseFloat(o.x));for(;u>r;)o=f.pop(),null==l[o.i+1]?l[o.i]=o.x:(l[o.i]=o.x+l[o.i+1],l.splice(o.i+1,1)),u--;return 1===l.length?null==l[0]?(o=f[0].x,function(n){return o(n)+""}):function(){return t}:function(n){for(r=0;u>r;++r)l[(o=f[r]).i]=o.x(n);return l.join("")}}function hr(n,t){for(var e,r=Xu.interpolators.length;--r>=0&&!(e=Xu.interpolators[r](n,t)););return e}function gr(n,t){var e,r=[],i=[],u=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;a>e;++e)r.push(hr(n[e],t[e]));for(;u>e;++e)i[e]=n[e];for(;o>e;++e)i[e]=t[e];return function(n){for(e=0;a>e;++e)i[e]=r[e](n);return i}}function pr(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function vr(n){return function(t){return 1-n(1-t)}}function dr(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function yr(n){return n*n}function mr(n){return n*n*n}function xr(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(.5>n?e:3*(n-t)+e-.75)}function Mr(n){return function(t){return Math.pow(t,n)}}function _r(n){return 1-Math.cos(n*ko)}function br(n){return Math.pow(2,10*(n-1))}function wr(n){return 1-Math.sqrt(1-n*n)}function Sr(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/So*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*So/t)}}function kr(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function Nr(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Er(n,t){n=Xu.hcl(n),t=Xu.hcl(t);var e=n.h,r=n.c,i=n.l,u=t.h-e,o=t.c-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:-180>u&&(u+=360),function(n){return rn(e+u*n,r+o*n,i+a*n)+""}}function Ar(n,t){n=Xu.hsl(n),t=Xu.hsl(t);var e=n.h,r=n.s,i=n.l,u=t.h-e,o=t.s-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:-180>u&&(u+=360),function(n){return nn(e+u*n,r+o*n,i+a*n)+""}}function Cr(n,t){n=Xu.lab(n),t=Xu.lab(t);var e=n.l,r=n.a,i=n.b,u=t.l-e,o=t.a-r,a=t.b-i;return function(n){return an(e+u*n,r+o*n,i+a*n)+""}}function Lr(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function zr(n){var t=[n.a,n.b],e=[n.c,n.d],r=Tr(t),i=qr(t,e),u=Tr(Rr(e,t,-i))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Co,this.translate=[n.e,n.f],this.scale=[r,u],this.skew=u?Math.atan2(i,u)*Co:0}function qr(n,t){return n[0]*t[0]+n[1]*t[1]}function Tr(n){var t=Math.sqrt(qr(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Rr(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Dr(n,t){var e,r=[],i=[],u=Xu.transform(n),o=Xu.transform(t),a=u.translate,c=o.translate,l=u.rotate,f=o.rotate,s=u.skew,h=o.skew,g=u.scale,p=o.scale;return a[0]!=c[0]||a[1]!=c[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:fr(a[0],c[0])},{i:3,x:fr(a[1],c[1])})):c[0]||c[1]?r.push("translate("+c+")"):r.push(""),l!=f?(l-f>180?f+=360:f-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:fr(l,f)})):f&&r.push(r.pop()+"rotate("+f+")"),s!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:fr(s,h)}):h&&r.push(r.pop()+"skewX("+h+")"),g[0]!=p[0]||g[1]!=p[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:e-4,x:fr(g[0],p[0])},{i:e-2,x:fr(g[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),e=i.length,function(n){for(var t,u=-1;++u<e;)r[(t=i[u]).i]=t.x(n);return r.join("")}}function Pr(n,t){return t=t-(n=+n)?1/(t-n):0,function(e){return(e-n)*t}}function Ur(n,t){return t=t-(n=+n)?1/(t-n):0,function(e){return Math.max(0,Math.min(1,(e-n)*t))}}function jr(n){for(var t=n.source,e=n.target,r=Fr(t,e),i=[t];t!==r;)t=t.parent,i.push(t);for(var u=i.length;e!==r;)i.splice(u,0,e),e=e.parent;return i}function Hr(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Fr(n,t){if(n===t)return n;for(var e=Hr(n),r=Hr(t),i=e.pop(),u=r.pop(),o=null;i===u;)o=i,i=e.pop(),u=r.pop();return o}function Or(n){n.fixed|=2}function Yr(n){n.fixed&=-7}function Ir(n){n.fixed|=4,n.px=n.x,n.py=n.y}function Zr(n){n.fixed&=-5}function Vr(n,t,e){var r=0,i=0;if(n.charge=0,!n.leaf)for(var u,o=n.nodes,a=o.length,c=-1;++c<a;)null!=(u=o[c])&&(Vr(u,t,e),n.charge+=u.charge,r+=u.charge*u.cx,i+=u.charge*u.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var l=t*e[n.point.index];n.charge+=n.pointCharge=l,r+=l*n.point.x,i+=l*n.point.y}n.cx=r/n.charge,n.cy=i/n.charge}function Xr(n,t){return Xu.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=Jr,n}function $r(n){return n.children}function Br(n){return n.value}function Wr(n,t){return t.value-n.value}function Jr(n){return Xu.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function Gr(n){return n.x}function Kr(n){return n.y}function Qr(n,t,e){n.y0=t,n.y=e}function ni(n){return Xu.range(n.length)}function ti(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function ei(n){for(var t,e=1,r=0,i=n[0][1],u=n.length;u>e;++e)(t=n[e][1])>i&&(r=e,i=t);return r}function ri(n){return n.reduce(ii,0)}function ii(n,t){return n+t[1]}function ui(n,t){return oi(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function oi(n,t){for(var e=-1,r=+n[0],i=(n[1]-r)/t,u=[];++e<=t;)u[e]=i*e+r;return u}function ai(n){return[Xu.min(n),Xu.max(n)]}function ci(n,t){return n.parent==t.parent?1:2}function li(n){var t=n.children;return t&&t.length?t[0]:n._tree.thread}function fi(n){var t,e=n.children;return e&&(t=e.length)?e[t-1]:n._tree.thread}function si(n,t){var e=n.children;if(e&&(i=e.length))for(var r,i,u=-1;++u<i;)t(r=si(e[u],t),n)>0&&(n=r);return n}function hi(n,t){return n.x-t.x}function gi(n,t){return t.x-n.x}function pi(n,t){return n.depth-t.depth}function vi(n,t){function e(n,r){var i=n.children;if(i&&(o=i.length))for(var u,o,a=null,c=-1;++c<o;)u=i[c],e(u,a),a=u;t(n,r)}e(n,null)}function di(n){for(var t,e=0,r=0,i=n.children,u=i.length;--u>=0;)t=i[u]._tree,t.prelim+=e,t.mod+=e,e+=t.shift+(r+=t.change)}function yi(n,t,e){n=n._tree;var r=e/((t=t._tree).number-n.number);n.change+=r,t.change-=r,t.shift+=e,t.prelim+=e,t.mod+=e}function mi(n,t,e){return n._tree.ancestor.parent==t.parent?n._tree.ancestor:e}function xi(n,t){return n.value-t.value}function Mi(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function _i(n,t){n._pack_next=t,t._pack_prev=n}function bi(n,t){var e=t.x-n.x,r=t.y-n.y,i=n.r+t.r;return.999*i*i>e*e+r*r}function wi(n){function t(n){f=Math.min(n.x-n.r,f),s=Math.max(n.x+n.r,s),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}if((e=n.children)&&(l=e.length)){var e,r,i,u,o,a,c,l,f=1/0,s=-1/0,h=1/0,g=-1/0;if(e.forEach(Si),r=e[0],r.x=-r.r,r.y=0,t(r),l>1&&(i=e[1],i.x=i.r,i.y=0,t(i),l>2))for(u=e[2],Ei(r,i,u),t(u),Mi(r,u),r._pack_prev=u,Mi(u,i),i=r._pack_next,o=3;l>o;o++){Ei(r,i,u=e[o]);var p=0,v=1,d=1;for(a=i._pack_next;a!==i;a=a._pack_next,v++)if(bi(a,u)){p=1;break}if(1==p)for(c=r._pack_prev;c!==a._pack_prev&&!bi(c,u);c=c._pack_prev,d++);p?(d>v||v==d&&i.r<r.r?_i(r,i=a):_i(r=c,i),o--):(Mi(r,u),i=u,t(u))}var y=(f+s)/2,m=(h+g)/2,x=0;for(o=0;l>o;o++)u=e[o],u.x-=y,u.y-=m,x=Math.max(x,u.r+Math.sqrt(u.x*u.x+u.y*u.y));n.r=x,e.forEach(ki)}}function Si(n){n._pack_next=n._pack_prev=n}function ki(n){delete n._pack_next,delete n._pack_prev}function Ni(n,t,e,r){var i=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,i)for(var u=-1,o=i.length;++u<o;)Ni(i[u],t,e,r)}function Ei(n,t,e){var r=n.r+e.r,i=t.x-n.x,u=t.y-n.y;if(r&&(i||u)){var o=t.r+e.r,a=i*i+u*u,c=.5+((r*=r)-(o*=o))/(2*a),l=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+c*i+l*u,e.y=n.y+c*u-l*i}else e.x=n.x+r,e.y=n.y}function Ai(n){return 1+Xu.max(n,function(n){return n.y})}function Ci(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Li(n){var t=n.children;return t&&t.length?Li(t[0]):n}function zi(n){var t,e=n.children;return e&&(t=e.length)?zi(e[t-1]):n}function qi(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Ti(n,t){var e=n.x+t[3],r=n.y+t[0],i=n.dx-t[1]-t[3],u=n.dy-t[0]-t[2];return 0>i&&(e+=i/2,i=0),0>u&&(r+=u/2,u=0),{x:e,y:r,dx:i,dy:u}}function Ri(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function Di(n){return n.rangeExtent?n.rangeExtent():Ri(n.range())}function Pi(n,t,e,r){var i=e(n[0],n[1]),u=r(t[0],t[1]);return function(n){return u(i(n))}}function Ui(n,t){var e,r=0,i=n.length-1,u=n[r],o=n[i];return u>o&&(e=r,r=i,i=e,e=u,u=o,o=e),n[r]=t.floor(u),n[i]=t.ceil(o),n}function ji(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:lc}function Hi(n,t,e,r){var i=[],u=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)i.push(e(n[o-1],n[o])),u.push(r(t[o-1],t[o]));return function(t){var e=Xu.bisect(n,t,1,a)-1;return u[e](i[e](t))}}function Fi(n,t,e,r){function i(){var i=Math.min(n.length,t.length)>2?Hi:Pi,c=r?Ur:Pr;return o=i(n,t,c,e),a=i(t,n,c,hr),u}function u(n){return o(n)}var o,a;return u.invert=function(n){return a(n)},u.domain=function(t){return arguments.length?(n=t.map(Number),i()):n},u.range=function(n){return arguments.length?(t=n,i()):t},u.rangeRound=function(n){return u.range(n).interpolate(Lr)},u.clamp=function(n){return arguments.length?(r=n,i()):r},u.interpolate=function(n){return arguments.length?(e=n,i()):e},u.ticks=function(t){return Zi(n,t)},u.tickFormat=function(t,e){return Vi(n,t,e)},u.nice=function(t){return Yi(n,t),i()},u.copy=function(){return Fi(n,t,e,r)},i()}function Oi(n,t){return Xu.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Yi(n,t){return Ui(n,ji(Ii(n,t)[2]))}function Ii(n,t){null==t&&(t=10);var e=Ri(n),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),u=t/r*i;return.15>=u?i*=10:.35>=u?i*=5:.75>=u&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function Zi(n,t){return Xu.range.apply(Xu,Ii(n,t))}function Vi(n,t,e){var r=Ii(n,t);return Xu.format(e?e.replace(Ko,function(n,t,e,i,u,o,a,c,l,f){return[t,e,i,u,o,a,c,l||"."+$i(f,r),f].join("")}):",."+Xi(r[2])+"f")}function Xi(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function $i(n,t){var e=Xi(t[2]);return n in fc?Math.abs(e-Xi(Math.max(Math.abs(t[0]),Math.abs(t[1]))))+ +("e"!==n):e-2*("%"===n)}function Bi(n,t,e,r){function i(n){return(e?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function u(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(i(t))}return o.invert=function(t){return u(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(i)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(i)),o):t},o.nice=function(){var t=Ui(r.map(i),e?Math:hc);return n.domain(t),r=t.map(u),o},o.ticks=function(){var n=Ri(r),o=[],a=n[0],c=n[1],l=Math.floor(i(a)),f=Math.ceil(i(c)),s=t%1?2:t;if(isFinite(f-l)){if(e){for(;f>l;l++)for(var h=1;s>h;h++)o.push(u(l)*h);o.push(u(l))}else for(o.push(u(l));l++<f;)for(var h=s-1;h>0;h--)o.push(u(l)*h);for(l=0;o[l]<a;l++);for(f=o.length;o[f-1]>c;f--);o=o.slice(l,f)}return o},o.tickFormat=function(n,t){if(!arguments.length)return sc;arguments.length<2?t=sc:"function"!=typeof t&&(t=Xu.format(t));var r,a=Math.max(.1,n/o.ticks().length),c=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(n){return n/u(c(i(n)+r))<=a?t(n):""}},o.copy=function(){return Bi(n.copy(),t,e,r)},Oi(o,n)}function Wi(n,t,e){function r(t){return n(i(t))}var i=Ji(t),u=Ji(1/t);return r.invert=function(t){return u(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(i)),r):e},r.ticks=function(n){return Zi(e,n)},r.tickFormat=function(n,t){return Vi(e,n,t)},r.nice=function(n){return r.domain(Yi(e,n))},r.exponent=function(o){return arguments.length?(i=Ji(t=o),u=Ji(1/t),n.domain(e.map(i)),r):t},r.copy=function(){return Wi(n.copy(),t,e)},Oi(r,n)}function Ji(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function Gi(n,t){function e(e){return o[((u.get(e)||"range"===t.t&&u.set(e,n.push(e)))-1)%o.length]}function r(t,e){return Xu.range(n.length).map(function(n){return t+e*n})}var u,o,a;return e.domain=function(r){if(!arguments.length)return n;n=[],u=new i;for(var o,a=-1,c=r.length;++a<c;)u.has(o=r[a])||u.set(o,n.push(o));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(o=n,a=0,t={t:"range",a:arguments},e):o},e.rangePoints=function(i,u){arguments.length<2&&(u=0);var c=i[0],l=i[1],f=(l-c)/(Math.max(1,n.length-1)+u);return o=r(n.length<2?(c+l)/2:c+f*u/2,f),a=0,t={t:"rangePoints",a:arguments},e},e.rangeBands=function(i,u,c){arguments.length<2&&(u=0),arguments.length<3&&(c=u);var l=i[1]<i[0],f=i[l-0],s=(i[1-l]-f)/(n.length-u+2*c);return o=r(f+s*c,s),l&&o.reverse(),a=s*(1-u),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(i,u,c){arguments.length<2&&(u=0),arguments.length<3&&(c=u);var l=i[1]<i[0],f=i[l-0],s=i[1-l],h=Math.floor((s-f)/(n.length-u+2*c)),g=s-f-(n.length-u)*h;return o=r(f+Math.round(g/2),h),l&&o.reverse(),a=Math.round(h*(1-u)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return a},e.rangeExtent=function(){return Ri(t.a[0])},e.copy=function(){return Gi(n,t)},e.domain(n)}function Ki(n,t){function e(){var e=0,u=t.length;for(i=[];++e<u;)i[e-1]=Xu.quantile(n,e/u);return r}function r(n){return isNaN(n=+n)?void 0:t[Xu.bisect(i,n)]}var i;return r.domain=function(t){return arguments.length?(n=t.filter(function(n){return!isNaN(n)}).sort(Xu.ascending),e()):n},r.range=function(n){return arguments.length?(t=n,e()):t},r.quantiles=function(){return i},r.invertExtent=function(e){return 0>(e=t.indexOf(e))?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},r.copy=function(){return Ki(n,t)},e()}function Qi(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(u*(t-n))))]}function i(){return u=e.length/(t-n),o=e.length-1,r}var u,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],i()):[n,t]},r.range=function(n){return arguments.length?(e=n,i()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0>t?NaN:t/u+n,[t,t+1/u]},r.copy=function(){return Qi(n,t,e)},i()}function nu(n,t){function e(e){return e>=e?t[Xu.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return nu(n,t)},e}function tu(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Zi(n,t)},t.tickFormat=function(t,e){return Vi(n,t,e)},t.copy=function(){return tu(n)},t}function eu(n){return n.innerRadius}function ru(n){return n.outerRadius}function iu(n){return n.startAngle}function uu(n){return n.endAngle}function ou(n){function t(t){function o(){l.push("M",u(n(f),a))}for(var c,l=[],f=[],s=-1,h=t.length,g=bn(e),p=bn(r);++s<h;)i.call(this,c=t[s],s)?f.push([+g.call(this,c,s),+p.call(this,c,s)]):f.length&&(o(),f=[]);return f.length&&o(),l.length?l.join(""):null}var e=we,r=Se,i=wt,u=au,o=u.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(i=n,t):i},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?u=n:(u=xc.get(n)||au).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function au(n){return n.join("L")}function cu(n){return au(n)+"Z"}function lu(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&i.push("H",r[0]),i.join("")}function fu(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("V",(r=n[t])[1],"H",r[0]);return i.join("")}function su(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r=n[t])[0],"V",r[1]);return i.join("")}function hu(n,t){return n.length<4?au(n):n[1]+vu(n.slice(1,n.length-1),du(n,t))}function gu(n,t){return n.length<3?au(n):n[0]+vu((n.push(n[0]),n),du([n[n.length-2]].concat(n,[n[1]]),t))}function pu(n,t){return n.length<3?au(n):n[0]+vu(n,du(n,t))}function vu(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return au(n);var e=n.length!=t.length,r="",i=n[0],u=n[1],o=t[0],a=o,c=1;if(e&&(r+="Q"+(u[0]-2*o[0]/3)+","+(u[1]-2*o[1]/3)+","+u[0]+","+u[1],i=n[1],c=2),t.length>1){a=t[1],u=n[c],c++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1];for(var l=2;l<t.length;l++,c++)u=n[c],a=t[l],r+="S"+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1]}if(e){var f=n[c];r+="Q"+(u[0]+2*a[0]/3)+","+(u[1]+2*a[1]/3)+","+f[0]+","+f[1]}return r}function du(n,t){for(var e,r=[],i=(1-t)/2,u=n[0],o=n[1],a=1,c=n.length;++a<c;)e=u,u=o,o=n[a],r.push([i*(o[0]-e[0]),i*(o[1]-e[1])]);return r}function yu(n){if(n.length<3)return au(n);var t=1,e=n.length,r=n[0],i=r[0],u=r[1],o=[i,i,i,(r=n[1])[0]],a=[u,u,u,r[1]],c=[i,",",u,"L",_u(bc,o),",",_u(bc,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),bu(c,o,a);return n.pop(),c.push("L",r),c.join("")}function mu(n){if(n.length<4)return au(n);for(var t,e=[],r=-1,i=n.length,u=[0],o=[0];++r<3;)t=n[r],u.push(t[0]),o.push(t[1]);for(e.push(_u(bc,u)+","+_u(bc,o)),--r;++r<i;)t=n[r],u.shift(),u.push(t[0]),o.shift(),o.push(t[1]),bu(e,u,o);return e.join("")}function xu(n){for(var t,e,r=-1,i=n.length,u=i+4,o=[],a=[];++r<4;)e=n[r%i],o.push(e[0]),a.push(e[1]);for(t=[_u(bc,o),",",_u(bc,a)],--r;++r<u;)e=n[r%i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),bu(t,o,a);return t.join("")}function Mu(n,t){var e=n.length-1;if(e)for(var r,i,u=n[0][0],o=n[0][1],a=n[e][0]-u,c=n[e][1]-o,l=-1;++l<=e;)r=n[l],i=l/e,r[0]=t*r[0]+(1-t)*(u+i*a),r[1]=t*r[1]+(1-t)*(o+i*c);return yu(n)}function _u(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function bu(n,t,e){n.push("C",_u(Mc,t),",",_u(Mc,e),",",_u(_c,t),",",_u(_c,e),",",_u(bc,t),",",_u(bc,e))}function wu(n,t){return(t[1]-n[1])/(t[0]-n[0])}function Su(n){for(var t=0,e=n.length-1,r=[],i=n[0],u=n[1],o=r[0]=wu(i,u);++t<e;)r[t]=(o+(o=wu(i=u,u=n[t+1])))/2;return r[t]=o,r}function ku(n){for(var t,e,r,i,u=[],o=Su(n),a=-1,c=n.length-1;++a<c;)t=wu(n[a],n[a+1]),io(t)<No?o[a]=o[a+1]=0:(e=o[a]/t,r=o[a+1]/t,(i=e*e+r*r)>9&&(i=3*t/Math.sqrt(i),o[a]=i*e,o[a+1]=i*r));for(a=-1;++a<=c;)i=(n[Math.min(c,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),u.push([i||0,o[a]*i||0]);return u}function Nu(n){return n.length<3?au(n):n[0]+vu(n,ku(n))}function Eu(n){for(var t,e,r,i=-1,u=n.length;++i<u;)t=n[i],e=t[0],r=t[1]+yc,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Au(n){function t(t){function c(){v.push("M",a(n(y),s),f,l(n(d.reverse()),s),"Z")}for(var h,g,p,v=[],d=[],y=[],m=-1,x=t.length,M=bn(e),_=bn(i),b=e===r?function(){return g}:bn(r),w=i===u?function(){return p}:bn(u);++m<x;)o.call(this,h=t[m],m)?(d.push([g=+M.call(this,h,m),p=+_.call(this,h,m)]),y.push([+b.call(this,h,m),+w.call(this,h,m)])):d.length&&(c(),d=[],y=[]);return d.length&&c(),v.length?v.join(""):null}var e=we,r=we,i=0,u=Se,o=wt,a=au,c=a.key,l=a,f="L",s=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(i=u=n,t):u},t.y0=function(n){return arguments.length?(i=n,t):i},t.y1=function(n){return arguments.length?(u=n,t):u},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(c="function"==typeof n?a=n:(a=xc.get(n)||au).key,l=a.reverse||a,f=a.closed?"M":"L",t):c},t.tension=function(n){return arguments.length?(s=n,t):s},t}function Cu(n){return n.radius}function Lu(n){return[n.x,n.y]}function zu(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]+yc;return[e*Math.cos(r),e*Math.sin(r)]}}function qu(){return 64}function Tu(){return"circle"}function Ru(n){var t=Math.sqrt(n/wo);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Du(n,t){return lo(n,Ac),n.id=t,n}function Pu(n,t,e,r){var i=n.id;return R(n,"function"==typeof e?function(n,u,o){n.__transition__[i].tween.set(t,r(e.call(n,n.__data__,u,o)))}:(e=r(e),function(n){n.__transition__[i].tween.set(t,e)}))}function Uu(n){return null==n&&(n=""),function(){this.textContent=n}}function ju(n,t,e,r){var u=n.__transition__||(n.__transition__={active:0,count:0}),o=u[e];if(!o){var a=r.time;o=u[e]={tween:new i,time:a,ease:r.ease,delay:r.delay,duration:r.duration},++u.count,Xu.timer(function(r){function i(r){return u.active>e?l():(u.active=e,o.event&&o.event.start.call(n,f,t),o.tween.forEach(function(e,r){(r=r.call(n,f,t))&&v.push(r)}),void Xu.timer(function(){return p.c=c(r||1)?wt:c,1},0,a))}function c(r){if(u.active!==e)return l();for(var i=r/g,a=s(i),c=v.length;c>0;)v[--c].call(n,a);return i>=1?(o.event&&o.event.end.call(n,f,t),l()):void 0}function l(){return--u.count?delete u[e]:delete n.__transition__,1}var f=n.__data__,s=o.ease,h=o.delay,g=o.duration,p=Wo,v=[];return p.t=h+a,r>=h?i(r-h):void(p.c=i)},0,a)}}function Hu(n,t){n.attr("transform",function(n){return"translate("+t(n)+",0)"})}function Fu(n,t){n.attr("transform",function(n){return"translate(0,"+t(n)+")"})}function Ou(n){return n.toISOString()}function Yu(n,t,e){function r(t){return n(t)}function i(n,e){var r=(n[1]-n[0])/e,i=Xu.bisect(Uc,r);return i==Uc.length?[t.year,Ii(n.map(function(n){return n/31536e6}),e)[2]]:i?t[r/Uc[i-1]<Uc[i]/r?i-1:i]:[Fc,Ii(n,e)[2]]}return r.invert=function(t){return Iu(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(Iu)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,Iu(+e+1),t).length}var u=r.domain(),o=Ri(u),a=null==n?i(o,10):"number"==typeof n&&i(o,n);return a&&(n=a[0],t=a[1]),r.domain(Ui(u,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=Iu(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=Iu(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Ri(r.domain()),u=null==n?i(e,10):"number"==typeof n?i(e,n):!n.range&&[{range:n},t];return u&&(n=u[0],t=u[1]),n.range(e[0],Iu(+e[1]+1),1>t?1:t)},r.tickFormat=function(){return e},r.copy=function(){return Yu(n.copy(),t,e)},Oi(r,n)}function Iu(n){return new Date(n)}function Zu(n){return JSON.parse(n.responseText)}function Vu(n){var t=Wu.createRange();return t.selectNode(Wu.body),t.createContextualFragment(n.responseText)}var Xu={version:"3.4.1"};Date.now||(Date.now=function(){return+new Date});var $u=[].slice,Bu=function(n){return $u.call(n)},Wu=document,Ju=Wu.documentElement,Gu=window;try{Bu(Ju.childNodes)[0].nodeType}catch(n){Bu=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}try{Wu.createElement("div").style.setProperty("opacity",0,"")}catch(n){var Ku=Gu.Element.prototype,Qu=Ku.setAttribute,no=Ku.setAttributeNS,to=Gu.CSSStyleDeclaration.prototype,eo=to.setProperty;Ku.setAttribute=function(n,t){Qu.call(this,n,t+"")},Ku.setAttributeNS=function(n,t,e){no.call(this,n,t,e+"")},to.setProperty=function(n,t,e){eo.call(this,n,t+"",e)}}Xu.ascending=function(n,t){return t>n?-1:n>t?1:n>=t?0:NaN},Xu.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:NaN},Xu.min=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u&&!(null!=(e=n[i])&&e>=e);)e=void 0;for(;++i<u;)null!=(r=n[i])&&e>r&&(e=r)}else{for(;++i<u&&!(null!=(e=t.call(n,n[i],i))&&e>=e);)e=void 0;for(;++i<u;)null!=(r=t.call(n,n[i],i))&&e>r&&(e=r)}return e},Xu.max=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u&&!(null!=(e=n[i])&&e>=e);)e=void 0;for(;++i<u;)null!=(r=n[i])&&r>e&&(e=r)}else{for(;++i<u&&!(null!=(e=t.call(n,n[i],i))&&e>=e);)e=void 0;for(;++i<u;)null!=(r=t.call(n,n[i],i))&&r>e&&(e=r)}return e},Xu.extent=function(n,t){var e,r,i,u=-1,o=n.length;if(1===arguments.length){for(;++u<o&&!(null!=(e=i=n[u])&&e>=e);)e=i=void 0;for(;++u<o;)null!=(r=n[u])&&(e>r&&(e=r),r>i&&(i=r))}else{for(;++u<o&&!(null!=(e=i=t.call(n,n[u],u))&&e>=e);)e=void 0;for(;++u<o;)null!=(r=t.call(n,n[u],u))&&(e>r&&(e=r),r>i&&(i=r))}return[e,i]},Xu.sum=function(n,t){var e,r=0,i=n.length,u=-1;if(1===arguments.length)for(;++u<i;)isNaN(e=+n[u])||(r+=e);else for(;++u<i;)isNaN(e=+t.call(n,n[u],u))||(r+=e);return r},Xu.mean=function(t,e){var r,i=t.length,u=0,o=-1,a=0;if(1===arguments.length)for(;++o<i;)n(r=t[o])&&(u+=(r-u)/++a);else for(;++o<i;)n(r=e.call(t,t[o],o))&&(u+=(r-u)/++a);return a?u:void 0},Xu.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),i=+n[r-1],u=e-r;return u?i+u*(n[r]-i):i},Xu.median=function(t,e){return arguments.length>1&&(t=t.map(e)),(t=t.filter(n)).length?Xu.quantile(t.sort(Xu.ascending),.5):void 0},Xu.bisector=function(n){return{left:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var u=r+i>>>1;n.call(t,t[u],u)<e?r=u+1:i=u}return r},right:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var u=r+i>>>1;e<n.call(t,t[u],u)?i=u:r=u+1}return r}}};var ro=Xu.bisector(function(n){return n});Xu.bisectLeft=ro.left,Xu.bisect=Xu.bisectRight=ro.right,Xu.shuffle=function(n){for(var t,e,r=n.length;r;)e=0|Math.random()*r--,t=n[r],n[r]=n[e],n[e]=t;return n},Xu.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},Xu.pairs=function(n){for(var t,e=0,r=n.length-1,i=n[0],u=new Array(0>r?0:r);r>e;)u[e]=[t=i,i=n[++e]];return u},Xu.zip=function(){if(!(i=arguments.length))return[];for(var n=-1,e=Xu.min(arguments,t),r=new Array(e);++n<e;)for(var i,u=-1,o=r[n]=new Array(i);++u<i;)o[u]=arguments[u][n];return r},Xu.transpose=function(n){return Xu.zip.apply(Xu,n)},Xu.keys=function(n){var t=[];for(var e in n)t.push(e);return t},Xu.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},Xu.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},Xu.merge=function(n){for(var t,e,r,i=n.length,u=-1,o=0;++u<i;)o+=n[u].length;for(e=new Array(o);--i>=0;)for(r=n[i],t=r.length;--t>=0;)e[--o]=r[t];return e};var io=Math.abs;Xu.range=function(n,t,r){if(arguments.length<3&&(r=1,arguments.length<2&&(t=n,n=0)),1/0==(t-n)/r)throw new Error("infinite range");var i,u=[],o=e(io(r)),a=-1;if(n*=o,t*=o,0>(r*=o))for(;(i=n+r*++a)>t;)u.push(i/o);else for(;(i=n+r*++a)<t;)u.push(i/o);return u},Xu.map=function(n){var t=new i;if(n instanceof i)n.forEach(function(n,e){t.set(n,e)});else for(var e in n)t.set(e,n[e]);return t},r(i,{has:u,get:function(n){return this[uo+n]},set:function(n,t){return this[uo+n]=t},remove:o,keys:a,values:function(){var n=[];return this.forEach(function(t,e){n.push(e)}),n},entries:function(){var n=[];return this.forEach(function(t,e){n.push({key:t,value:e})}),n},size:c,empty:l,forEach:function(n){for(var t in this)t.charCodeAt(0)===oo&&n.call(this,t.substring(1),this[t])}});var uo="\0",oo=uo.charCodeAt(0);Xu.nest=function(){function n(t,a,c){if(c>=o.length)return r?r.call(u,a):e?a.sort(e):a;for(var l,f,s,h,g=-1,p=a.length,v=o[c++],d=new i;++g<p;)(h=d.get(l=v(f=a[g])))?h.push(f):d.set(l,[f]);return t?(f=t(),s=function(e,r){f.set(e,n(t,r,c))}):(f={},s=function(e,r){f[e]=n(t,r,c)}),d.forEach(s),f}function t(n,e){if(e>=o.length)return n;var r=[],i=a[e++];return n.forEach(function(n,i){r.push({key:n,values:t(i,e)})}),i?r.sort(function(n,t){return i(n.key,t.key)}):r}var e,r,u={},o=[],a=[];return u.map=function(t,e){return n(e,t,0)},u.entries=function(e){return t(n(Xu.map,e,0),0)},u.key=function(n){return o.push(n),u},u.sortKeys=function(n){return a[o.length-1]=n,u},u.sortValues=function(n){return e=n,u},u.rollup=function(n){return r=n,u},u},Xu.set=function(n){var t=new f;if(n)for(var e=0,r=n.length;r>e;++e)t.add(n[e]);return t},r(f,{has:u,add:function(n){return this[uo+n]=!0,n},remove:function(n){return(n=uo+n)in this&&delete this[n]},values:a,size:c,empty:l,forEach:function(n){for(var t in this)t.charCodeAt(0)===oo&&n.call(this,t.substring(1))}}),Xu.behavior={},Xu.rebind=function(n,t){for(var e,r=1,i=arguments.length;++r<i;)n[e=arguments[r]]=s(n,t,t[e]);return n};var ao=["webkit","ms","moz","Moz","o","O"];Xu.dispatch=function(){for(var n=new p,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=v(n);return n},p.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.substring(e+1),n=n.substring(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},Xu.event=null,Xu.requote=function(n){return n.replace(co,"\\$&")};var co=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,lo={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},fo=function(n,t){return t.querySelector(n)},so=function(n,t){return t.querySelectorAll(n)},ho=Ju[h(Ju,"matchesSelector")],go=function(n,t){return ho.call(n,t)};"function"==typeof Sizzle&&(fo=function(n,t){return Sizzle(n,t)[0]||null},so=function(n,t){return Sizzle.uniqueSort(Sizzle(n,t))},go=Sizzle.matchesSelector),Xu.selection=function(){return mo};var po=Xu.selection.prototype=[];po.select=function(n){var t,e,r,i,u=[];n=M(n);for(var o=-1,a=this.length;++o<a;){u.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var c=-1,l=r.length;++c<l;)(i=r[c])?(t.push(e=n.call(i,i.__data__,c,o)),e&&"__data__"in i&&(e.__data__=i.__data__)):t.push(null)}return x(u)},po.selectAll=function(n){var t,e,r=[];n=_(n);for(var i=-1,u=this.length;++i<u;)for(var o=this[i],a=-1,c=o.length;++a<c;)(e=o[a])&&(r.push(t=Bu(n.call(e,e.__data__,a,i))),t.parentNode=e);return x(r)};var vo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Xu.ns={prefix:vo,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&(e=n.substring(0,t),n=n.substring(t+1)),vo.hasOwnProperty(e)?{space:vo[e],local:n}:n}},po.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return(n=Xu.ns.qualify(n)).local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(b(t,n[t]));return this}return this.each(b(n,t))},po.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=k(n)).length,i=-1;if(t=e.classList){for(;++i<r;)if(!t.contains(n[i]))return!1}else for(t=e.getAttribute("class");++i<r;)if(!S(n[i]).test(t))return!1;return!0}for(t in n)this.each(N(t,n[t]));return this}return this.each(N(n,t))},po.style=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t="");for(e in n)this.each(A(e,n[e],t));return this}if(2>r)return Gu.getComputedStyle(this.node(),null).getPropertyValue(n);e=""}return this.each(A(n,t,e))},po.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(C(t,n[t]));return this}return this.each(C(n,t))},po.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},po.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},po.append=function(n){return n=L(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},po.insert=function(n,t){return n=L(n),t=M(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},po.remove=function(){return this.each(function(){var n=this.parentNode;n&&n.removeChild(this)})},po.data=function(n,t){function e(n,e){var r,u,o,a=n.length,s=e.length,h=Math.min(a,s),g=new Array(s),p=new Array(s),v=new Array(a);if(t){var d,y=new i,m=new i,x=[];for(r=-1;++r<a;)d=t.call(u=n[r],u.__data__,r),y.has(d)?v[r]=u:y.set(d,u),x.push(d);for(r=-1;++r<s;)d=t.call(e,o=e[r],r),(u=y.get(d))?(g[r]=u,u.__data__=o):m.has(d)||(p[r]=z(o)),m.set(d,o),y.remove(d);for(r=-1;++r<a;)y.has(x[r])&&(v[r]=n[r])}else{for(r=-1;++r<h;)u=n[r],o=e[r],u?(u.__data__=o,g[r]=u):p[r]=z(o);for(;s>r;++r)p[r]=z(e[r]);for(;a>r;++r)v[r]=n[r]}p.update=g,p.parentNode=g.parentNode=v.parentNode=n.parentNode,c.push(p),l.push(g),f.push(v)}var r,u,o=-1,a=this.length;if(!arguments.length){for(n=new Array(a=(r=this[0]).length);++o<a;)(u=r[o])&&(n[o]=u.__data__);return n}var c=D([]),l=x([]),f=x([]);if("function"==typeof n)for(;++o<a;)e(r=this[o],n.call(r,r.parentNode.__data__,o));else for(;++o<a;)e(r=this[o],n);return l.enter=function(){return c},l.exit=function(){return f},l},po.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},po.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=q(n));for(var u=0,o=this.length;o>u;u++){i.push(t=[]),t.parentNode=(e=this[u]).parentNode;for(var a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,u)&&t.push(r)}return x(i)},po.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],i=r.length-1,u=r[i];--i>=0;)(e=r[i])&&(u&&u!==e.nextSibling&&u.parentNode.insertBefore(e,u),u=e);return this},po.sort=function(n){n=T.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},po.each=function(n){return R(this,function(t,e,r){n.call(t,t.__data__,e,r)})},po.call=function(n){var t=Bu(arguments);return n.apply(t[0]=this,t),this},po.empty=function(){return!this.node()},po.node=function(){for(var n=0,t=this.length;t>n;n++)for(var e=this[n],r=0,i=e.length;i>r;r++){var u=e[r];if(u)return u}return null},po.size=function(){var n=0;return this.each(function(){++n}),n};var yo=[];Xu.selection.enter=D,Xu.selection.enter.prototype=yo,yo.append=po.append,yo.empty=po.empty,yo.node=po.node,yo.call=po.call,yo.size=po.size,yo.select=function(n){for(var t,e,r,i,u,o=[],a=-1,c=this.length;++a<c;){r=(i=this[a]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var l=-1,f=i.length;++l<f;)(u=i[l])?(t.push(r[l]=e=n.call(i.parentNode,u.__data__,l,a)),e.__data__=u.__data__):t.push(null)}return x(o)},yo.insert=function(n,t){return arguments.length<2&&(t=P(this)),po.insert.call(this,n,t)},po.transition=function(){for(var n,t,e=Sc||++Cc,r=[],i=kc||{time:Date.now(),ease:xr,delay:0,duration:250},u=-1,o=this.length;++u<o;){r.push(n=[]);for(var a=this[u],c=-1,l=a.length;++c<l;)(t=a[c])&&ju(t,c,e,i),n.push(t)}return Du(r,e)},po.interrupt=function(){return this.each(U)},Xu.select=function(n){var t=["string"==typeof n?fo(n,Wu):n];return t.parentNode=Ju,x([t])},Xu.selectAll=function(n){var t=Bu("string"==typeof n?so(n,Wu):n);return t.parentNode=Ju,x([t])};var mo=Xu.select(Ju);po.on=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(e in n)this.each(j(e,n[e],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(j(n,t,e))};var xo=Xu.map({mouseenter:"mouseover",mouseleave:"mouseout"});xo.forEach(function(n){"on"+n in Wu&&xo.remove(n)});var Mo="onselectstart"in Wu?null:h(Ju.style,"userSelect"),_o=0;Xu.mouse=function(n){return Y(n,y())};var bo=/WebKit/.test(Gu.navigator.userAgent)?-1:0;Xu.touches=function(n,t){return arguments.length<2&&(t=y().touches),t?Bu(t).map(function(t){var e=Y(n,t);return e.identifier=t.identifier,e}):[]},Xu.behavior.drag=function(){function n(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function t(){return Xu.event.changedTouches[0].identifier}function e(n,t){return Xu.touches(n).filter(function(n){return n.identifier===t})[0]}function r(n,t,e,r){return function(){function o(){var n=t(f,g),e=n[0]-v[0],r=n[1]-v[1];d|=e|r,v=n,s({type:"drag",x:n[0]+c[0],y:n[1]+c[1],dx:e,dy:r})}function a(){y.on(e+"."+p,null).on(r+"."+p,null),m(d&&Xu.event.target===h),s({type:"dragend"})}var c,l=this,f=l.parentNode,s=i.of(l,arguments),h=Xu.event.target,g=n(),p=null==g?"drag":"drag-"+g,v=t(f,g),d=0,y=Xu.select(Gu).on(e+"."+p,o).on(r+"."+p,a),m=O();u?(c=u.apply(l,arguments),c=[c.x-v[0],c.y-v[1]]):c=[0,0],s({type:"dragstart"})}}var i=m(n,"drag","dragstart","dragend"),u=null,o=r(g,Xu.mouse,"mousemove","mouseup"),a=r(t,e,"touchmove","touchend");return n.origin=function(t){return arguments.length?(u=t,n):u},Xu.rebind(n,i,"on")};var wo=Math.PI,So=2*wo,ko=wo/2,No=1e-6,Eo=No*No,Ao=wo/180,Co=180/wo,Lo=Math.SQRT2,zo=2,qo=4;Xu.interpolateZoom=function(n,t){function e(n){var t=n*y;if(d){var e=B(v),o=u/(zo*h)*(e*W(Lo*t+v)-$(v));return[r+o*l,i+o*f,u*e/B(Lo*t+v)]}return[r+n*l,i+n*f,u*Math.exp(Lo*t)]}var r=n[0],i=n[1],u=n[2],o=t[0],a=t[1],c=t[2],l=o-r,f=a-i,s=l*l+f*f,h=Math.sqrt(s),g=(c*c-u*u+4*s)/(2*u*zo*h),p=(c*c-u*u-4*s)/(2*c*zo*h),v=Math.log(Math.sqrt(g*g+1)-g),d=Math.log(Math.sqrt(p*p+1)-p)-v,y=(d||Math.log(c/u))/Lo;return e.duration=1e3*y,e},Xu.behavior.zoom=function(){function n(n){n.on(E,l).on(Do+".zoom",s).on(A,h).on("dblclick.zoom",g).on(L,f)}function t(n){return[(n[0]-S.x)/S.k,(n[1]-S.y)/S.k]}function e(n){return[n[0]*S.k+S.x,n[1]*S.k+S.y]}function r(n){S.k=Math.max(N[0],Math.min(N[1],n))}function i(n,t){t=e(t),S.x+=n[0]-t[0],S.y+=n[1]-t[1]}function u(){_&&_.domain(M.range().map(function(n){return(n-S.x)/S.k}).map(M.invert)),w&&w.domain(b.range().map(function(n){return(n-S.y)/S.k}).map(b.invert))}function o(n){n({type:"zoomstart"})}function a(n){u(),n({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function c(n){n({type:"zoomend"})}function l(){function n(){f=1,i(Xu.mouse(r),g),a(u)}function e(){s.on(A,Gu===r?h:null).on(C,null),p(f&&Xu.event.target===l),c(u)}var r=this,u=z.of(r,arguments),l=Xu.event.target,f=0,s=Xu.select(Gu).on(A,n).on(C,e),g=t(Xu.mouse(r)),p=O();U.call(r),o(u)}function f(){function n(){var n=Xu.touches(g);return h=S.k,n.forEach(function(n){n.identifier in v&&(v[n.identifier]=t(n))}),n}function e(){for(var t=Xu.event.changedTouches,e=0,u=t.length;u>e;++e)v[t[e].identifier]=null;var o=n(),c=Date.now();if(1===o.length){if(500>c-x){var l=o[0],f=v[l.identifier];r(2*S.k),i(l,f),d(),a(p)}x=c}else if(o.length>1){var l=o[0],s=o[1],h=l[0]-s[0],g=l[1]-s[1];y=h*h+g*g}}function u(){for(var n,t,e,u,o=Xu.touches(g),c=0,l=o.length;l>c;++c,u=null)if(e=o[c],u=v[e.identifier]){if(t)break;n=e,t=u}if(u){var f=(f=e[0]-n[0])*f+(f=e[1]-n[1])*f,s=y&&Math.sqrt(f/y);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+u[0])/2,(t[1]+u[1])/2],r(s*h)}x=null,i(n,t),a(p)}function s(){if(Xu.event.touches.length){for(var t=Xu.event.changedTouches,e=0,r=t.length;r>e;++e)delete v[t[e].identifier];for(var i in v)return void n()}b.on(M,null).on(_,null),w.on(E,l).on(L,f),k(),c(p)}var h,g=this,p=z.of(g,arguments),v={},y=0,m=Xu.event.changedTouches[0].identifier,M="touchmove.zoom-"+m,_="touchend.zoom-"+m,b=Xu.select(Gu).on(M,u).on(_,s),w=Xu.select(g).on(E,null).on(L,e),k=O();U.call(g),e(),o(p)}function s(){var n=z.of(this,arguments);y?clearTimeout(y):(U.call(this),o(n)),y=setTimeout(function(){y=null,c(n)},50),d();var e=v||Xu.mouse(this);p||(p=t(e)),r(Math.pow(2,.002*To())*S.k),i(e,p),a(n)}function h(){p=null}function g(){var n=z.of(this,arguments),e=Xu.mouse(this),u=t(e),l=Math.log(S.k)/Math.LN2;o(n),r(Math.pow(2,Xu.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1)),i(e,u),a(n),c(n)}var p,v,y,x,M,_,b,w,S={x:0,y:0,k:1},k=[960,500],N=Ro,E="mousedown.zoom",A="mousemove.zoom",C="mouseup.zoom",L="touchstart.zoom",z=m(n,"zoomstart","zoom","zoomend");return n.event=function(n){n.each(function(){var n=z.of(this,arguments),t=S;Sc?Xu.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},o(n)}).tween("zoom:zoom",function(){var e=k[0],r=k[1],i=e/2,u=r/2,o=Xu.interpolateZoom([(i-S.x)/S.k,(u-S.y)/S.k,e/S.k],[(i-t.x)/t.k,(u-t.y)/t.k,e/t.k]);return function(t){var r=o(t),c=e/r[2];this.__chart__=S={x:i-r[0]*c,y:u-r[1]*c,k:c},a(n)}}).each("end.zoom",function(){c(n)}):(this.__chart__=S,o(n),a(n),c(n))})},n.translate=function(t){return arguments.length?(S={x:+t[0],y:+t[1],k:S.k},u(),n):[S.x,S.y]},n.scale=function(t){return arguments.length?(S={x:S.x,y:S.y,k:+t},u(),n):S.k},n.scaleExtent=function(t){return arguments.length?(N=null==t?Ro:[+t[0],+t[1]],n):N},n.center=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],n):v},n.size=function(t){return arguments.length?(k=t&&[+t[0],+t[1]],n):k},n.x=function(t){return arguments.length?(_=t,M=t.copy(),S={x:0,y:0,k:1},n):_},n.y=function(t){return arguments.length?(w=t,b=t.copy(),S={x:0,y:0,k:1},n):w},Xu.rebind(n,z,"on")};var To,Ro=[0,1/0],Do="onwheel"in Wu?(To=function(){return-Xu.event.deltaY*(Xu.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Wu?(To=function(){return Xu.event.wheelDelta},"mousewheel"):(To=function(){return-Xu.event.detail},"MozMousePixelScroll");G.prototype.toString=function(){return this.rgb()+""},Xu.hsl=function(n,t,e){return 1===arguments.length?n instanceof Q?K(n.h,n.s,n.l):yn(""+n,mn,K):K(+n,+t,+e)};var Po=Q.prototype=new G;Po.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),K(this.h,this.s,this.l/n)},Po.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),K(this.h,this.s,n*this.l)},Po.rgb=function(){return nn(this.h,this.s,this.l)},Xu.hcl=function(n,t,e){return 1===arguments.length?n instanceof en?tn(n.h,n.c,n.l):n instanceof on?cn(n.l,n.a,n.b):cn((n=xn((n=Xu.rgb(n)).r,n.g,n.b)).l,n.a,n.b):tn(+n,+t,+e)};var Uo=en.prototype=new G;Uo.brighter=function(n){return tn(this.h,this.c,Math.min(100,this.l+jo*(arguments.length?n:1)))},Uo.darker=function(n){return tn(this.h,this.c,Math.max(0,this.l-jo*(arguments.length?n:1)))},Uo.rgb=function(){return rn(this.h,this.c,this.l).rgb()},Xu.lab=function(n,t,e){return 1===arguments.length?n instanceof on?un(n.l,n.a,n.b):n instanceof en?rn(n.l,n.c,n.h):xn((n=Xu.rgb(n)).r,n.g,n.b):un(+n,+t,+e)};var jo=18,Ho=.95047,Fo=1,Oo=1.08883,Yo=on.prototype=new G;Yo.brighter=function(n){return un(Math.min(100,this.l+jo*(arguments.length?n:1)),this.a,this.b)},Yo.darker=function(n){return un(Math.max(0,this.l-jo*(arguments.length?n:1)),this.a,this.b)},Yo.rgb=function(){return an(this.l,this.a,this.b)},Xu.rgb=function(n,t,e){return 1===arguments.length?n instanceof vn?pn(n.r,n.g,n.b):yn(""+n,pn,nn):pn(~~n,~~t,~~e)};var Io=vn.prototype=new G;Io.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,i=30;return t||e||r?(t&&i>t&&(t=i),e&&i>e&&(e=i),r&&i>r&&(r=i),pn(Math.min(255,~~(t/n)),Math.min(255,~~(e/n)),Math.min(255,~~(r/n)))):pn(i,i,i)},Io.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),pn(~~(n*this.r),~~(n*this.g),~~(n*this.b))},Io.hsl=function(){return mn(this.r,this.g,this.b)},Io.toString=function(){return"#"+dn(this.r)+dn(this.g)+dn(this.b)};var Zo=Xu.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Zo.forEach(function(n,t){Zo.set(n,hn(t))}),Xu.functor=bn,Xu.xhr=Sn(wn),Xu.dsv=function(n,t){function e(n,e,u){arguments.length<3&&(u=e,e=null);var o=kn(n,t,null==e?r:i(e),u);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:i(n)):e},o}function r(n){return e.parse(n.responseText)}function i(n){return function(t){return e.parse(t.responseText,n)}}function u(t){return t.map(o).join(n)}function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n]"),c=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var i=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(i(n),e)}:i})},e.parseRows=function(n,t){function e(){if(f>=l)return o;if(i)return i=!1,u;var t=f;if(34===n.charCodeAt(t)){for(var e=t;e++<l;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}return f=e+2,13===(r=n.charCodeAt(e+1))?(i=!0,10===n.charCodeAt(e+2)&&++f):10===r&&(i=!0),n.substring(t+1,e).replace(/""/g,'"')}for(;l>f;){var r=n.charCodeAt(f++),a=1;if(10===r)i=!0;else if(13===r)i=!0,10===n.charCodeAt(f)&&(++f,++a);else if(r!==c)continue;return n.substring(t,f-a)}return n.substring(t)}for(var r,i,u={},o={},a=[],l=n.length,f=0,s=0;(r=e())!==o;){for(var h=[];r!==u&&r!==o;)h.push(r),r=e();(!t||(h=t(h,s++)))&&a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new f,i=[];return t.forEach(function(n){for(var t in n)r.has(t)||i.push(r.add(t))}),[i.map(o).join(n)].concat(t.map(function(t){return i.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(u).join("\n")},e},Xu.csv=Xu.dsv(",","text/csv"),Xu.tsv=Xu.dsv("\t","text/tab-separated-values");var Vo,Xo,$o,Bo,Wo,Jo=Gu[h(Gu,"requestAnimationFrame")]||function(n){setTimeout(n,17)};Xu.timer=function(n,t,e){var r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now());var i={c:n,t:e+t,f:!1,n:null};Xo?Xo.n=i:Vo=i,Xo=i,$o||(Bo=clearTimeout(Bo),$o=1,Jo(En))},Xu.timer.flush=function(){An(),Cn()},Xu.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var Go=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(zn);Xu.formatPrefix=function(n,t){var e=0;return n&&(0>n&&(n*=-1),t&&(n=Xu.round(n,Ln(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((0>=e?e+1:e-1)/3)))),Go[8+e/3]};var Ko=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Qo=Xu.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=Xu.round(n,Ln(n,t))).toFixed(Math.max(0,Math.min(20,Ln(n*(1+1e-15),t))))}}),na=Xu.time={},ta=Date;Rn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ea.setUTCDate.apply(this._,arguments)},setDay:function(){ea.setUTCDay.apply(this._,arguments)},setFullYear:function(){ea.setUTCFullYear.apply(this._,arguments)},setHours:function(){ea.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ea.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ea.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ea.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ea.setUTCSeconds.apply(this._,arguments)},setTime:function(){ea.setTime.apply(this._,arguments)}};var ea=Date.prototype;na.year=Dn(function(n){return(n=na.day(n)).setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),na.years=na.year.range,na.years.utc=na.year.utc.range,na.day=Dn(function(n){var t=new ta(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),na.days=na.day.range,na.days.utc=na.day.utc.range,na.dayOfYear=function(n){var t=na.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=na[n]=Dn(function(n){return(n=na.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=na.year(n).getDay();return Math.floor((na.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});na[n+"s"]=e.range,na[n+"s"].utc=e.utc.range,na[n+"OfYear"]=function(n){var e=na.year(n).getDay();return Math.floor((na.dayOfYear(n)+(e+t)%7)/7)}}),na.week=na.sunday,na.weeks=na.sunday.range,na.weeks.utc=na.sunday.utc.range,na.weekOfYear=na.sundayOfYear;var ra={"-":"",_:" ",0:"0"},ia=/^\s*\d+/,ua=/^%/;Xu.locale=function(n){return{numberFormat:qn(n),timeFormat:Un(n)}};var oa=Xu.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Xu.format=oa.numberFormat,Xu.geo={},it.prototype={s:0,t:0,add:function(n){ut(n,this.t,aa),ut(aa.s,this.s,this),this.s?this.t+=aa.t:this.s=aa.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var aa=new it;Xu.geo.stream=function(n,t){n&&ca.hasOwnProperty(n.type)?ca[n.type](n,t):ot(n,t)};var ca={Feature:function(n,t){ot(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)ot(e[r].geometry,t)}},la={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){at(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)at(e[r],t,0)},Polygon:function(n,t){ct(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)ct(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)ot(e[r],t)}};Xu.geo.area=function(n){return fa=0,Xu.geo.stream(n,ha),fa};var fa,sa=new it,ha={sphere:function(){fa+=4*wo},point:g,lineStart:g,lineEnd:g,polygonStart:function(){sa.reset(),ha.lineStart=lt},polygonEnd:function(){var n=2*sa;fa+=0>n?4*wo+n:n,ha.lineStart=ha.lineEnd=ha.point=g}};Xu.geo.bounds=function(){function n(n,t){x.push(M=[f=n,h=n]),s>t&&(s=t),t>g&&(g=t)}function t(t,e){var r=ft([t*Ao,e*Ao]);if(y){var i=ht(y,r),u=ht([i[1],-i[0],0],i);vt(u),u=dt(u);var o=t-p,c=o>0?1:-1,l=u[0]*Co*c,v=io(o)>180;if(v^(l>c*p&&c*t>l))(d=u[1]*Co)>g&&(g=d);else if(l=(l+360)%360-180,v^(l>c*p&&c*t>l)){var d=-u[1]*Co;s>d&&(s=d)}else s>e&&(s=e),e>g&&(g=e);v?p>t?a(f,t)>a(f,h)&&(h=t):a(t,h)>a(f,h)&&(f=t):h>=f?(f>t&&(f=t),t>h&&(h=t)):t>p?a(f,t)>a(f,h)&&(h=t):a(t,h)>a(f,h)&&(f=t)}else n(t,e);y=r,p=t}function e(){_.point=t}function r(){M[0]=f,M[1]=h,_.point=n,y=null}function i(n,e){if(y){var r=n-p;m+=io(r)>180?r+(r>0?360:-360):r}else v=n,d=e;ha.point(n,e),t(n,e)}function u(){ha.lineStart()}function o(){i(v,d),ha.lineEnd(),io(m)>No&&(f=-(h=180)),M[0]=f,M[1]=h,y=null}function a(n,t){return(t-=n)<0?t+360:t}function c(n,t){return n[0]-t[0]}function l(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var f,s,h,g,p,v,d,y,m,x,M,_={point:n,lineStart:e,lineEnd:r,polygonStart:function(){_.point=i,_.lineStart=u,_.lineEnd=o,m=0,ha.polygonStart()},polygonEnd:function(){ha.polygonEnd(),_.point=n,_.lineStart=e,_.lineEnd=r,0>sa?(f=-(h=180),s=-(g=90)):m>No?g=90:-No>m&&(s=-90),M[0]=f,M[1]=h}};return function(n){g=h=-(f=s=1/0),x=[],Xu.geo.stream(n,_);var t=x.length;if(t){x.sort(c);for(var e,r=1,i=[p=x[0]];t>r;++r)e=x[r],l(e[0],p)||l(e[1],p)?(a(p[0],e[1])>a(p[0],p[1])&&(p[1]=e[1]),a(e[0],p[1])>a(p[0],p[1])&&(p[0]=e[0])):i.push(p=e);for(var u,e,o=-1/0,r=0,p=i[t=i.length-1];t>=r;p=e,++r)e=i[r],(u=a(p[1],e[0]))>o&&(o=u,f=e[0],h=p[1])}return x=M=null,1/0===f||1/0===s?[[NaN,NaN],[NaN,NaN]]:[[f,s],[h,g]]}}(),Xu.geo.centroid=function(n){ga=pa=va=da=ya=ma=xa=Ma=_a=ba=wa=0,Xu.geo.stream(n,Sa);var t=_a,e=ba,r=wa,i=t*t+e*e+r*r;return Eo>i&&(t=ma,e=xa,r=Ma,No>pa&&(t=va,e=da,r=ya),i=t*t+e*e+r*r,Eo>i)?[NaN,NaN]:[Math.atan2(e,t)*Co,X(r/Math.sqrt(i))*Co]};var ga,pa,va,da,ya,ma,xa,Ma,_a,ba,wa,Sa={sphere:g,point:mt,lineStart:Mt,lineEnd:_t,polygonStart:function(){Sa.lineStart=bt},polygonEnd:function(){Sa.lineStart=Mt}},ka=Et(wt,qt,Rt,[-wo,-wo/2]),Na=1e9;Xu.geo.clipExtent=function(){var n,t,e,r,i,u,o={stream:function(n){return i&&(i.valid=!1),i=u(n),i.valid=!0,i},extent:function(a){return arguments.length?(u=Ut(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(Xu.geo.conicEqualArea=function(){return Ht(Ft)}).raw=Ft,Xu.geo.albers=function(){return Xu.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Xu.geo.albersUsa=function(){function n(n){var u=n[0],o=n[1];return t=null,e(u,o),t||(r(u,o),t)||i(u,o),t}var t,e,r,i,u=Xu.geo.albers(),o=Xu.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=Xu.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=u.scale(),e=u.translate(),r=(n[0]-e[0])/t,i=(n[1]-e[1])/t;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?o:i>=.166&&.234>i&&r>=-.214&&-.115>r?a:u).invert(n)},n.stream=function(n){var t=u.stream(n),e=o.stream(n),r=a.stream(n);return{point:function(n,i){t.point(n,i),e.point(n,i),r.point(n,i)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(u.precision(t),o.precision(t),a.precision(t),n):u.precision()},n.scale=function(t){return arguments.length?(u.scale(t),o.scale(.35*t),a.scale(t),n.translate(u.translate())):u.scale()},n.translate=function(t){if(!arguments.length)return u.translate();var l=u.scale(),f=+t[0],s=+t[1];return e=u.translate(t).clipExtent([[f-.455*l,s-.238*l],[f+.455*l,s+.238*l]]).stream(c).point,r=o.translate([f-.307*l,s+.201*l]).clipExtent([[f-.425*l+No,s+.12*l+No],[f-.214*l-No,s+.234*l-No]]).stream(c).point,i=a.translate([f-.205*l,s+.212*l]).clipExtent([[f-.214*l+No,s+.166*l+No],[f-.115*l-No,s+.234*l-No]]).stream(c).point,n},n.scale(1070)};var Ea,Aa,Ca,La,za,qa,Ta={point:g,lineStart:g,lineEnd:g,polygonStart:function(){Aa=0,Ta.lineStart=Ot},polygonEnd:function(){Ta.lineStart=Ta.lineEnd=Ta.point=g,Ea+=io(Aa/2)}},Ra={point:Yt,lineStart:g,lineEnd:g,polygonStart:g,polygonEnd:g},Da={point:Vt,lineStart:Xt,lineEnd:$t,polygonStart:function(){Da.lineStart=Bt},polygonEnd:function(){Da.point=Vt,Da.lineStart=Xt,Da.lineEnd=$t}};Xu.geo.path=function(){function n(n){return n&&("function"==typeof a&&u.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=i(u)),Xu.geo.stream(n,o)),u.result()}function t(){return o=null,n}var e,r,i,u,o,a=4.5;return n.area=function(n){return Ea=0,Xu.geo.stream(n,i(Ta)),Ea},n.centroid=function(n){return va=da=ya=ma=xa=Ma=_a=ba=wa=0,Xu.geo.stream(n,i(Da)),wa?[_a/wa,ba/wa]:Ma?[ma/Ma,xa/Ma]:ya?[va/ya,da/ya]:[NaN,NaN]},n.bounds=function(n){return za=qa=-(Ca=La=1/0),Xu.geo.stream(n,i(Ra)),[[Ca,La],[za,qa]]},n.projection=function(n){return arguments.length?(i=(e=n)?n.stream||Gt(n):wn,t()):e},n.context=function(n){return arguments.length?(u=null==(r=n)?new It:new Wt(n),"function"!=typeof a&&u.pointRadius(a),t()):r},n.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(u.pointRadius(+t),+t),n):a},n.projection(Xu.geo.albersUsa()).context(null)},Xu.geo.transform=function(n){return{stream:function(t){var e=new Kt(t);for(var r in n)e[r]=n[r];return e}}},Kt.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Xu.geo.projection=ne,Xu.geo.projectionMutator=te,(Xu.geo.equirectangular=function(){return ne(re)}).raw=re.invert=re,Xu.geo.rotation=function(n){function t(t){return t=n(t[0]*Ao,t[1]*Ao),t[0]*=Co,t[1]*=Co,t}return n=ue(n[0]%360*Ao,n[1]*Ao,n.length>2?n[2]*Ao:0),t.invert=function(t){return t=n.invert(t[0]*Ao,t[1]*Ao),t[0]*=Co,t[1]*=Co,t},t},ie.invert=re,Xu.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=ue(-n[0]*Ao,-n[1]*Ao,0).invert,i=[];return e(null,null,1,{point:function(n,e){i.push(n=t(n,e)),n[0]*=Co,n[1]*=Co}}),{type:"Polygon",coordinates:[i]}}var t,e,r=[0,0],i=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=le((t=+r)*Ao,i*Ao),n):t},n.precision=function(r){return arguments.length?(e=le(t*Ao,(i=+r)*Ao),n):i},n.angle(90)},Xu.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Ao,i=n[1]*Ao,u=t[1]*Ao,o=Math.sin(r),a=Math.cos(r),c=Math.sin(i),l=Math.cos(i),f=Math.sin(u),s=Math.cos(u);return Math.atan2(Math.sqrt((e=s*o)*e+(e=l*f-c*s*a)*e),c*f+l*s*a)},Xu.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return Xu.range(Math.ceil(u/d)*d,i,d).map(h).concat(Xu.range(Math.ceil(l/y)*y,c,y).map(g)).concat(Xu.range(Math.ceil(r/p)*p,e,p).filter(function(n){return io(n%d)>No}).map(f)).concat(Xu.range(Math.ceil(a/v)*v,o,v).filter(function(n){return io(n%y)>No}).map(s))}var e,r,i,u,o,a,c,l,f,s,h,g,p=10,v=p,d=90,y=360,m=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(u).concat(g(c).slice(1),h(i).reverse().slice(1),g(l).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(u=+t[0][0],i=+t[1][0],l=+t[0][1],c=+t[1][1],u>i&&(t=u,u=i,i=t),l>c&&(t=l,l=c,c=t),n.precision(m)):[[u,l],[i,c]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(m)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],y=+t[1],n):[d,y]},n.minorStep=function(t){return arguments.length?(p=+t[0],v=+t[1],n):[p,v]},n.precision=function(t){return arguments.length?(m=+t,f=se(a,o,90),s=he(r,e,m),h=se(l,c,90),g=he(u,i,m),n):m},n.majorExtent([[-180,-90+No],[180,90-No]]).minorExtent([[-180,-80-No],[180,80+No]])},Xu.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||i.apply(this,arguments)]}}var t,e,r=ge,i=pe;return n.distance=function(){return Xu.geo.distance(t||r.apply(this,arguments),e||i.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(i=t,e="function"==typeof t?null:t,n):i},n.precision=function(){return arguments.length?n:0},n},Xu.geo.interpolate=function(n,t){return ve(n[0]*Ao,n[1]*Ao,t[0]*Ao,t[1]*Ao)},Xu.geo.length=function(n){return Pa=0,Xu.geo.stream(n,Ua),Pa};var Pa,Ua={sphere:g,point:g,lineStart:de,lineEnd:g,polygonStart:g,polygonEnd:g},ja=ye(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(Xu.geo.azimuthalEqualArea=function(){return ne(ja)}).raw=ja;var Ha=ye(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},wn);(Xu.geo.azimuthalEquidistant=function(){return ne(Ha)}).raw=Ha,(Xu.geo.conicConformal=function(){return Ht(me)}).raw=me,(Xu.geo.conicEquidistant=function(){return Ht(xe)}).raw=xe;var Fa=ye(function(n){return 1/n},Math.atan);(Xu.geo.gnomonic=function(){return ne(Fa)}).raw=Fa,Me.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-ko]},(Xu.geo.mercator=function(){return _e(Me)}).raw=Me;var Oa=ye(function(){return 1},Math.asin);(Xu.geo.orthographic=function(){return ne(Oa)}).raw=Oa;var Ya=ye(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(Xu.geo.stereographic=function(){return ne(Ya)}).raw=Ya,be.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-ko]},(Xu.geo.transverseMercator=function(){var n=_e(be),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[-n[1],n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},n.rotate([0,0])}).raw=be,Xu.geom={},Xu.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,i=bn(e),u=bn(r),o=n.length,a=[],c=[];for(t=0;o>t;t++)a.push([+i.call(this,n[t],t),+u.call(this,n[t],t),t]);for(a.sort(Ne),t=0;o>t;t++)c.push([a[t][0],-a[t][1]]);var l=ke(a),f=ke(c),s=f[0]===l[0],h=f[f.length-1]===l[l.length-1],g=[];for(t=l.length-1;t>=0;--t)g.push(n[a[l[t]][2]]);for(t=+s;t<f.length-h;++t)g.push(n[a[f[t]][2]]);return g}var e=we,r=Se;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},Xu.geom.polygon=function(n){return lo(n,Ia),n};var Ia=Xu.geom.polygon.prototype=[];Ia.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],i=0;++t<e;)n=r,r=this[t],i+=n[1]*r[0]-n[0]*r[1];return.5*i},Ia.centroid=function(n){var t,e,r=-1,i=this.length,u=0,o=0,a=this[i-1];for(arguments.length||(n=-1/(6*this.area()));++r<i;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],u+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[u*n,o*n]},Ia.clip=function(n){for(var t,e,r,i,u,o,a=Ce(n),c=-1,l=this.length-Ce(this),f=this[l-1];++c<l;){for(t=n.slice(),n.length=0,i=this[c],u=t[(r=t.length-a)-1],e=-1;++e<r;)o=t[e],Ee(o,f,i)?(Ee(u,f,i)||n.push(Ae(u,o,f,i)),n.push(o)):Ee(u,f,i)&&n.push(Ae(u,o,f,i)),u=o;a&&n.push(n[0]),f=i}return n};var Za,Va,Xa,$a,Ba,Wa=[],Ja=[];Ue.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)(n=t[e].edge).b&&n.a||t.splice(e,1);return t.sort(He),t.length},We.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Je.prototype={insert:function(n,t){var e,r,i;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=nr(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.R&&(Ke(this,e),n=e,e=n.U),e.C=!1,r.C=!0,Qe(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.L&&(Qe(this,e),n=e,e=n.U),e.C=!1,r.C=!0,Ke(this,r)),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,i=n.U,u=n.L,o=n.R;if(e=u?o?nr(o):u:o,i?i.L===n?i.L=e:i.R=e:this._=e,u&&o?(r=e.C,e.C=n.C,e.L=u,u.U=e,e!==o?(i=e.U,e.U=n.U,n=e.R,i.L=n,e.R=o,o.U=e):(e.U=i,i=e,n=e.R)):(r=n.C,n=e),n&&(n.U=i),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,Ke(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Qe(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Ke(this,i),n=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Qe(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Ke(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Qe(this,i),n=this._;break}t.C=!0,n=i,i=i.U}while(!n.C);n&&(n.C=!1)}}},Xu.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],i=a[0][1],u=a[1][0],o=a[1][1];return tr(e(n),a).cells.forEach(function(e,a){var c=e.edges,l=e.site;(t[a]=c.length?c.map(function(n){var t=n.start();return[t.x,t.y]}):l.x>=r&&l.x<=u&&l.y>=i&&l.y<=o?[[r,o],[u,o],[u,i],[r,i]]:[]).point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(u(n,t)/No)*No,y:Math.round(o(n,t)/No)*No,i:t}})}var r=we,i=Se,u=r,o=i,a=Ga;return n?t(n):(t.links=function(n){return tr(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return tr(e(n)).cells.forEach(function(e,r){for(var i,u,o=e.site,a=e.edges.sort(He),c=-1,l=a.length,f=a[l-1].edge,s=f.l===o?f.r:f.l;++c<l;)i=f,u=s,f=a[c].edge,s=f.l===o?f.r:f.l,r<u.i&&r<s.i&&rr(o,u,s)<0&&t.push([n[r],n[u.i],n[s.i]])}),t},t.x=function(n){return arguments.length?(u=bn(r=n),t):r},t.y=function(n){return arguments.length?(o=bn(i=n),t):i},t.clipExtent=function(n){return arguments.length?(a=null==n?Ga:n,t):a===Ga?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===Ga?null:a&&a[1]},t)};var Ga=[[-1e6,-1e6],[1e6,1e6]];Xu.geom.delaunay=function(n){return Xu.geom.voronoi().triangles(n)},Xu.geom.quadtree=function(n,t,e,r,i){function u(n){function u(n,t,e,r,i,u,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var c=n.x,f=n.y;if(null!=c)if(io(c-e)+io(f-r)<.01)l(n,t,e,r,i,u,o,a);else{var s=n.point;n.x=n.y=n.point=null,l(n,s,c,f,i,u,o,a),l(n,t,e,r,i,u,o,a)}else n.x=e,n.y=r,n.point=t}else l(n,t,e,r,i,u,o,a)}function l(n,t,e,r,i,o,a,c){var l=.5*(i+a),f=.5*(o+c),s=e>=l,h=r>=f,g=(h<<1)+s;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=or()),s?i=l:a=l,h?o=f:c=f,u(n,t,e,r,i,o,a,c)}var f,s,h,g,p,v,d,y,m,x=bn(a),M=bn(c);if(null!=t)v=t,d=e,y=r,m=i;else if(y=m=-(v=d=1/0),s=[],h=[],p=n.length,o)for(g=0;p>g;++g)(f=n[g]).x<v&&(v=f.x),f.y<d&&(d=f.y),f.x>y&&(y=f.x),f.y>m&&(m=f.y),s.push(f.x),h.push(f.y);else for(g=0;p>g;++g){var _=+x(f=n[g],g),b=+M(f,g);v>_&&(v=_),d>b&&(d=b),_>y&&(y=_),b>m&&(m=b),s.push(_),h.push(b)}var w=y-v,S=m-d;w>S?m=d+w:y=v+S;var k=or();if(k.add=function(n){u(k,n,+x(n,++g),+M(n,g),v,d,y,m)},k.visit=function(n){ar(n,k,v,d,y,m)},g=-1,null==t){for(;++g<p;)u(k,n[g],s[g],h[g],v,d,y,m);--g}else n.forEach(k.add);return s=h=n=f=null,k}var o,a=we,c=Se;return(o=arguments.length)?(a=ir,c=ur,3===o&&(i=e,r=t,e=t=0),u(n)):(u.x=function(n){return arguments.length?(a=n,u):a},u.y=function(n){return arguments.length?(c=n,u):c},u.extent=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],i=+n[1][1]),u):null==t?null:[[t,e],[r,i]]},u.size=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=e=0,r=+n[0],i=+n[1]),u):null==t?null:[r-t,i-e]},u)},Xu.interpolateRgb=cr,Xu.interpolateObject=lr,Xu.interpolateNumber=fr,Xu.interpolateString=sr;var Ka=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Xu.interpolate=hr,Xu.interpolators=[function(n,t){var e=typeof t;return("string"===e?Zo.has(t)||/^(#|rgb\(|hsl\()/.test(t)?cr:sr:t instanceof G?cr:"object"===e?Array.isArray(t)?gr:lr:fr)(n,t)}],Xu.interpolateArray=gr;var Qa=function(){return wn},nc=Xu.map({linear:Qa,poly:Mr,quad:function(){return yr},cubic:function(){return mr},sin:function(){return _r},exp:function(){return br},circle:function(){return wr},elastic:Sr,back:kr,bounce:function(){return Nr}}),tc=Xu.map({in:wn,out:vr,"in-out":dr,"out-in":function(n){return dr(vr(n))}});Xu.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.substring(0,t):n,r=t>=0?n.substring(t+1):"in";return e=nc.get(e)||Qa,r=tc.get(r)||wn,pr(r(e.apply(null,$u.call(arguments,1))))},Xu.interpolateHcl=Er,Xu.interpolateHsl=Ar,Xu.interpolateLab=Cr,Xu.interpolateRound=Lr,Xu.transform=function(n){var t=Wu.createElementNS(Xu.ns.prefix.svg,"g");return(Xu.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new zr(e?e.matrix:ec)})(n)},zr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ec={a:1,b:0,c:0,d:1,e:0,f:0};Xu.interpolateTransform=Dr,Xu.layout={},Xu.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(jr(n[e]));return t}},Xu.layout.chord=function(){function n(){var n,l,s,h,g,p={},v=[],d=Xu.range(u),y=[];for(e=[],r=[],n=0,h=-1;++h<u;){for(l=0,g=-1;++g<u;)l+=i[h][g];v.push(l),y.push(Xu.range(u)),n+=l}for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&y.forEach(function(n,t){n.sort(function(n,e){return a(i[t][n],i[t][e])})}),n=(So-f*u)/n,l=0,h=-1;++h<u;){for(s=l,g=-1;++g<u;){var m=d[h],x=y[m][g],M=i[m][x],_=l,b=l+=M*n;p[m+"-"+x]={index:m,subindex:x,startAngle:_,endAngle:b,value:M}}r[m]={index:m,startAngle:s,endAngle:l,value:(l-s)/n},l+=f}for(h=-1;++h<u;)for(g=h-1;++g<u;){var w=p[h+"-"+g],S=p[g+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}c&&t()}function t(){e.sort(function(n,t){return c((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,i,u,o,a,c,l={},f=0;return l.matrix=function(n){return arguments.length?(u=(i=n)&&i.length,e=r=null,l):i},l.padding=function(n){return arguments.length?(f=n,e=r=null,l):f},l.sortGroups=function(n){return arguments.length?(o=n,e=r=null,l):o},l.sortSubgroups=function(n){return arguments.length?(a=n,e=null,l):a},l.sortChords=function(n){return arguments.length?(c=n,e&&t(),l):c},l.chords=function(){return e||n(),e},l.groups=function(){return r||n(),r},l},Xu.layout.force=function(){function n(n){return function(t,e,r,i){if(t.point!==n){var u=t.cx-n.x,o=t.cy-n.y,a=i-e,c=u*u+o*o;if(c>a*a/d){if(p>c){var l=t.charge/c;n.px-=u*l,n.py-=o*l}return!0}if(t.point&&c&&p>c){var l=t.pointCharge/c;n.px-=u*l,n.py-=o*l}}return!t.charge}}function t(n){n.px=Xu.event.x,n.py=Xu.event.y,a.resume()}var e,r,i,u,o,a={},c=Xu.dispatch("start","tick","end"),l=[1,1],f=.9,s=rc,h=ic,g=-30,p=uc,v=.1,d=.64,y=[],m=[];return a.tick=function(){if((r*=.99)<.005)return c.end({type:"end",alpha:r=0}),!0;var t,e,a,s,h,p,d,x,M,_=y.length,b=m.length;for(e=0;b>e;++e)a=m[e],s=a.source,h=a.target,x=h.x-s.x,M=h.y-s.y,(p=x*x+M*M)&&(p=r*u[e]*((p=Math.sqrt(p))-i[e])/p,x*=p,M*=p,h.x-=x*(d=s.weight/(h.weight+s.weight)),h.y-=M*d,s.x+=x*(d=1-d),s.y+=M*d);if((d=r*v)&&(x=l[0]/2,M=l[1]/2,e=-1,d))for(;++e<_;)a=y[e],a.x+=(x-a.x)*d,a.y+=(M-a.y)*d;if(g)for(Vr(t=Xu.geom.quadtree(y),r,o),e=-1;++e<_;)(a=y[e]).fixed||t.visit(n(a));for(e=-1;++e<_;)(a=y[e]).fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*f,a.y-=(a.py-(a.py=a.y))*f);c.tick({type:"tick",alpha:r})},a.nodes=function(n){return arguments.length?(y=n,a):y},a.links=function(n){return arguments.length?(m=n,a):m},a.size=function(n){return arguments.length?(l=n,a):l},a.linkDistance=function(n){return arguments.length?(s="function"==typeof n?n:+n,a):s},a.distance=a.linkDistance,a.linkStrength=function(n){return arguments.length?(h="function"==typeof n?n:+n,a):h},a.friction=function(n){return arguments.length?(f=+n,a):f},a.charge=function(n){return arguments.length?(g="function"==typeof n?n:+n,a):g},a.chargeDistance=function(n){return arguments.length?(p=n*n,a):Math.sqrt(p)},a.gravity=function(n){return arguments.length?(v=+n,a):v},a.theta=function(n){return arguments.length?(d=n*n,a):Math.sqrt(d)},a.alpha=function(n){return arguments.length?(n=+n,r?r=n>0?n:0:n>0&&(c.start({type:"start",alpha:r=n}),Xu.timer(a.tick)),a):r},a.start=function(){function n(n,r){if(!e){for(e=new Array(c),a=0;c>a;++a)e[a]=[];for(a=0;l>a;++a){var i=m[a];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var u,o=e[t],a=-1,l=o.length;++a<l;)if(!isNaN(u=o[a][n]))return u;return Math.random()*r}var t,e,r,c=y.length,f=m.length,p=l[0],v=l[1];for(t=0;c>t;++t)(r=y[t]).index=t,r.weight=0;for(t=0;f>t;++t)"number"==typeof(r=m[t]).source&&(r.source=y[r.source]),"number"==typeof r.target&&(r.target=y[r.target]),++r.source.weight,++r.target.weight;for(t=0;c>t;++t)r=y[t],isNaN(r.x)&&(r.x=n("x",p)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof s)for(t=0;f>t;++t)i[t]=+s.call(this,m[t],t);else for(t=0;f>t;++t)i[t]=s;if(u=[],"function"==typeof h)for(t=0;f>t;++t)u[t]=+h.call(this,m[t],t);else for(t=0;f>t;++t)u[t]=h;if(o=[],"function"==typeof g)for(t=0;c>t;++t)o[t]=+g.call(this,y[t],t);else for(t=0;c>t;++t)o[t]=g;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=Xu.behavior.drag().origin(wn).on("dragstart.force",Or).on("drag.force",t).on("dragend.force",Yr)),arguments.length?void this.on("mouseover.force",Ir).on("mouseout.force",Zr).call(e):e},Xu.rebind(a,c,"on")};var rc=20,ic=1,uc=1/0;Xu.layout.hierarchy=function(){function n(t,o,a){var c=i.call(e,t,o);if(t.depth=o,a.push(t),c&&(l=c.length)){for(var l,f,s=-1,h=t.children=new Array(l),g=0,p=o+1;++s<l;)f=h[s]=n(c[s],p,a),f.parent=t,g+=f.value;r&&h.sort(r),u&&(t.value=g)}else delete t.children,u&&(t.value=+u.call(e,t,o)||0);return t}function t(n,r){var i=n.children,o=0;if(i&&(a=i.length))for(var a,c=-1,l=r+1;++c<a;)o+=t(i[c],l);else u&&(o=+u.call(e,n,r)||0);return u&&(n.value=o),o}function e(t){var e=[];return n(t,0,e),e}var r=Wr,i=$r,u=Br;return e.sort=function(n){return arguments.length?(r=n,e):r},e.children=function(n){return arguments.length?(i=n,e):i},e.value=function(n){return arguments.length?(u=n,e):u},e.revalue=function(n){return t(n,0),n},e},Xu.layout.partition=function(){function n(t,e,r,i){var u=t.children;if(t.x=e,t.y=t.depth*i,t.dx=r,t.dy=i,u&&(o=u.length)){var o,a,c,l=-1;for(r=t.value?r/t.value:0;++l<o;)n(a=u[l],e,c=a.value*r,i),e+=c}}function t(n){var e=n.children,r=0;if(e&&(i=e.length))for(var i,u=-1;++u<i;)r=Math.max(r,t(e[u]));return 1+r}function e(e,u){var o=r.call(this,e,u);return n(o[0],0,i[0],i[1]/t(o[0])),o}var r=Xu.layout.hierarchy(),i=[1,1];return e.size=function(n){return arguments.length?(i=n,e):i},Xr(e,r)},Xu.layout.pie=function(){function n(u){var o=u.map(function(e,r){return+t.call(n,e,r)}),a=+("function"==typeof r?r.apply(this,arguments):r),c=(("function"==typeof i?i.apply(this,arguments):i)-a)/Xu.sum(o),l=Xu.range(u.length);null!=e&&l.sort(e===oc?function(n,t){return o[t]-o[n]}:function(n,t){return e(u[n],u[t])});var f=[];return l.forEach(function(n){var t;f[n]={data:u[n],value:t=o[n],startAngle:a,endAngle:a+=t*c}}),f}var t=Number,e=oc,r=0,i=So;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(i=t,n):i},n};var oc={};Xu.layout.stack=function(){function n(a,c){var l=a.map(function(e,r){return t.call(n,e,r)}),f=l.map(function(t){return t.map(function(t,e){return[u.call(n,t,e),o.call(n,t,e)]})}),s=e.call(n,f,c);l=Xu.permute(l,s),f=Xu.permute(f,s);var h,g,p,v=r.call(n,f,c),d=l.length,y=l[0].length;for(g=0;y>g;++g)for(i.call(n,l[0][g],p=v[g],f[0][g][1]),h=1;d>h;++h)i.call(n,l[h][g],p+=f[h-1][g][1],f[h][g][1]);return a}var t=wn,e=ni,r=ti,i=Qr,u=Gr,o=Kr;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:ac.get(t)||ni,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:cc.get(t)||ti,n):r},n.x=function(t){return arguments.length?(u=t,n):u},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(i=t,n):i},n};var ac=Xu.map({"inside-out":function(n){var t,e,r=n.length,i=n.map(ei),u=n.map(ri),o=Xu.range(r).sort(function(n,t){return i[n]-i[t]}),a=0,c=0,l=[],f=[];for(t=0;r>t;++t)e=o[t],c>a?(a+=u[e],l.push(e)):(c+=u[e],f.push(e));return f.reverse().concat(l)},reverse:function(n){return Xu.range(n.length).reverse()},default:ni}),cc=Xu.map({silhouette:function(n){var t,e,r,i=n.length,u=n[0].length,o=[],a=0,c=[];for(e=0;u>e;++e){for(t=0,r=0;i>t;t++)r+=n[t][e][1];r>a&&(a=r),o.push(r)}for(e=0;u>e;++e)c[e]=(a-o[e])/2;return c},wiggle:function(n){var t,e,r,i,u,o,a,c,l,f=n.length,s=n[0],h=s.length,g=[];for(g[0]=c=l=0,e=1;h>e;++e){for(t=0,i=0;f>t;++t)i+=n[t][e][1];for(t=0,u=0,a=s[e][0]-s[e-1][0];f>t;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);t>r;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;u+=o*n[t][e][1]}g[e]=c-=i?u/i*a:0,l>c&&(l=c)}for(e=0;h>e;++e)g[e]-=l;return g},expand:function(n){var t,e,r,i=n.length,u=n[0].length,o=1/i,a=[];for(e=0;u>e;++e){for(t=0,r=0;i>t;t++)r+=n[t][e][1];if(r)for(t=0;i>t;t++)n[t][e][1]/=r;else for(t=0;i>t;t++)n[t][e][1]=o}for(e=0;u>e;++e)a[e]=0;return a},zero:ti});Xu.layout.histogram=function(){function n(n,u){for(var o,a,c=[],l=n.map(e,this),f=r.call(this,l,u),s=i.call(this,f,l,u),u=-1,h=l.length,g=s.length-1,p=t?1:1/h;++u<g;)o=c[u]=[],o.dx=s[u+1]-(o.x=s[u]),o.y=0;if(g>0)for(u=-1;++u<h;)(a=l[u])>=f[0]&&a<=f[1]&&(o=c[Xu.bisect(s,a,1,g)-1],o.y+=p,o.push(n[u]));return c}var t=!0,e=Number,r=ai,i=ui;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=bn(t),n):r},n.bins=function(t){return arguments.length?(i="number"==typeof t?function(n){return oi(n,t)}:bn(t),n):i},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},Xu.layout.tree=function(){function n(n,u){function o(n,t){var r=n.children,i=n._tree;if(r&&(u=r.length)){for(var u,a,l,f=r[0],s=f,h=-1;++h<u;)l=r[h],o(l,a),s=c(l,a,s),a=l;di(n);var g=.5*(f._tree.prelim+l._tree.prelim);t?(i.prelim=t._tree.prelim+e(n,t),i.mod=i.prelim-g):i.prelim=g}else t&&(i.prelim=t._tree.prelim+e(n,t))}function a(n,t){n.x=n._tree.prelim+t;var e=n.children;if(e&&(r=e.length)){var r,i=-1;for(t+=n._tree.mod;++i<r;)a(e[i],t)}}function c(n,t,r){if(t){for(var i,u=n,o=n,a=t,c=n.parent.children[0],l=u._tree.mod,f=o._tree.mod,s=a._tree.mod,h=c._tree.mod;a=fi(a),u=li(u),a&&u;)c=li(c),o=fi(o),o._tree.ancestor=n,(i=a._tree.prelim+s-u._tree.prelim-l+e(a,u))>0&&(yi(mi(a,n,r),n,i),l+=i,f+=i),s+=a._tree.mod,l+=u._tree.mod,h+=c._tree.mod,f+=o._tree.mod;a&&!fi(o)&&(o._tree.thread=a,o._tree.mod+=s-f),u&&!li(c)&&(c._tree.thread=u,c._tree.mod+=l-h,r=n)}return r}var l=t.call(this,n,u),f=l[0];vi(f,function(n,t){n._tree={ancestor:n,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),o(f),a(f,-f._tree.prelim);var s=si(f,gi),h=si(f,hi),g=si(f,pi),p=s.x-e(s,h)/2,v=h.x+e(h,s)/2,d=g.depth||1;return vi(f,i?function(n){n.x*=r[0],n.y=n.depth*r[1],delete n._tree}:function(n){n.x=(n.x-p)/(v-p)*r[0],n.y=n.depth/d*r[1],delete n._tree}),l}var t=Xu.layout.hierarchy().sort(null).value(null),e=ci,r=[1,1],i=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(i=null==(r=t),n):i?null:r},n.nodeSize=function(t){return arguments.length?(i=null!=(r=t),n):i?r:null},Xr(n,t)},Xu.layout.pack=function(){function n(n,u){var o=e.call(this,n,u),a=o[0],c=i[0],l=i[1],f=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,vi(a,function(n){n.r=+f(n.value)}),vi(a,wi),r){var s=r*(t?1:Math.max(2*a.r/c,2*a.r/l))/2;vi(a,function(n){n.r+=s}),vi(a,wi),vi(a,function(n){n.r-=s})}return Ni(a,c/2,l/2,t?1:1/Math.max(2*a.r/c,2*a.r/l)),o}var t,e=Xu.layout.hierarchy().sort(xi),r=0,i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},Xr(n,e)},Xu.layout.cluster=function(){function n(n,u){var o,a=t.call(this,n,u),c=a[0],l=0;vi(c,function(n){var t=n.children;t&&t.length?(n.x=Ci(t),n.y=Ai(t)):(n.x=o?l+=e(n,o):0,n.y=0,o=n)});var f=Li(c),s=zi(c),h=f.x-e(f,s)/2,g=s.x+e(s,f)/2;return vi(c,i?function(n){n.x=(n.x-c.x)*r[0],n.y=(c.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(c.y?n.y/c.y:1))*r[1]}),a}var t=Xu.layout.hierarchy().sort(null).value(null),e=ci,r=[1,1],i=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(i=null==(r=t),n):i?null:r},n.nodeSize=function(t){return arguments.length?(i=null!=(r=t),n):i?r:null},Xr(n,t)},Xu.layout.treemap=function(){function n(n,t){for(var e,r,i=-1,u=n.length;++i<u;)r=(e=n[i]).value*(0>t?0:t),e.area=isNaN(r)||0>=r?0:r}function t(e){var u=e.children;if(u&&u.length){var o,a,c,l=s(e),f=[],h=u.slice(),p=1/0,v="slice"===g?l.dx:"dice"===g?l.dy:"slice-dice"===g?1&e.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(n(h,l.dx*l.dy/e.value),f.area=0;(c=h.length)>0;)f.push(o=h[c-1]),f.area+=o.area,"squarify"!==g||(a=r(f,v))<=p?(h.pop(),p=a):(f.area-=f.pop().area,i(f,v,l,!1),v=Math.min(l.dx,l.dy),f.length=f.area=0,p=1/0);f.length&&(i(f,v,l,!0),f.length=f.area=0),u.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var u,o=s(t),a=r.slice(),c=[];for(n(a,o.dx*o.dy/t.value),c.area=0;u=a.pop();)c.push(u),c.area+=u.area,null!=u.z&&(i(c,u.z?o.dx:o.dy,o,!a.length),c.length=c.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,i=0,u=1/0,o=-1,a=n.length;++o<a;)(e=n[o].area)&&(u>e&&(u=e),e>i&&(i=e));return r*=r,t*=t,r?Math.max(t*i*p/r,r/(t*u*p)):1/0}function i(n,t,e,r){var i,u=-1,o=n.length,a=e.x,l=e.y,f=t?c(n.area/t):0;if(t==e.dx){for((r||f>e.dy)&&(f=e.dy);++u<o;)i=n[u],i.x=a,i.y=l,i.dy=f,a+=i.dx=Math.min(e.x+e.dx-a,f?c(i.area/f):0);i.z=!0,i.dx+=e.x+e.dx-a,e.y+=f,e.dy-=f}else{for((r||f>e.dx)&&(f=e.dx);++u<o;)i=n[u],i.x=a,i.y=l,i.dx=f,l+=i.dy=Math.min(e.y+e.dy-l,f?c(i.area/f):0);i.z=!1,i.dy+=e.y+e.dy-l,e.x+=f,e.dx-=f}}function u(r){var i=o||a(r),u=i[0];return u.x=0,u.y=0,u.dx=l[0],u.dy=l[1],o&&a.revalue(u),n([u],u.dx*u.dy/u.value),(o?e:t)(u),h&&(o=i),i}var o,a=Xu.layout.hierarchy(),c=Math.round,l=[1,1],f=null,s=qi,h=!1,g="squarify",p=.5*(1+Math.sqrt(5));return u.size=function(n){return arguments.length?(l=n,u):l},u.padding=function(n){function t(t){var e=n.call(u,t,t.depth);return null==e?qi(t):Ti(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Ti(t,n)}if(!arguments.length)return f;var r;return s=null==(f=n)?qi:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,u},u.round=function(n){return arguments.length?(c=n?Math.round:Number,u):c!=Number},u.sticky=function(n){return arguments.length?(h=n,o=null,u):h},u.ratio=function(n){return arguments.length?(p=n,u):p},u.mode=function(n){return arguments.length?(g=n+"",u):g},Xr(u,a)},Xu.random={normal:function(n,t){var e=arguments.length;return 2>e&&(t=1),1>e&&(n=0),function(){var e,r,i;do{e=2*Math.random()-1,r=2*Math.random()-1,i=e*e+r*r}while(!i||i>1);return n+t*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var n=Xu.random.normal.apply(Xu,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=Xu.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;n>e;e++)t+=Math.random();return t}}},Xu.scale={};var lc={floor:wn,ceil:wn};Xu.scale.linear=function(){return Fi([0,1],[0,1],hr,!1)};var fc={s:1,g:1,p:1,r:1,e:1};Xu.scale.log=function(){return Bi(Xu.scale.linear().domain([0,1]),10,!0,[1,10])};var sc=Xu.format(".0e"),hc={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};Xu.scale.pow=function(){return Wi(Xu.scale.linear(),1,[0,1])},Xu.scale.sqrt=function(){return Xu.scale.pow().exponent(.5)},Xu.scale.ordinal=function(){return Gi([],{t:"range",a:[[]]})},Xu.scale.category10=function(){return Xu.scale.ordinal().range(gc)},Xu.scale.category20=function(){return Xu.scale.ordinal().range(pc)},Xu.scale.category20b=function(){return Xu.scale.ordinal().range(vc)},Xu.scale.category20c=function(){return Xu.scale.ordinal().range(dc)};var gc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(gn),pc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(gn),vc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(gn),dc=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(gn);Xu.scale.quantile=function(){return Ki([],[])},Xu.scale.quantize=function(){return Qi(0,1,[0,1])},Xu.scale.threshold=function(){return nu([.5],[0,1])},Xu.scale.identity=function(){return tu([0,1])},Xu.svg={},Xu.svg.arc=function(){function n(){var n=t.apply(this,arguments),u=e.apply(this,arguments),o=r.apply(this,arguments)+yc,a=i.apply(this,arguments)+yc,c=(o>a&&(c=o,o=a,a=c),a-o),l=wo>c?"0":"1",f=Math.cos(o),s=Math.sin(o),h=Math.cos(a),g=Math.sin(a);return c>=mc?n?"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"M0,"+n+"A"+n+","+n+" 0 1,0 0,"+-n+"A"+n+","+n+" 0 1,0 0,"+n+"Z":"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"Z":n?"M"+u*f+","+u*s+"A"+u+","+u+" 0 "+l+",1 "+u*h+","+u*g+"L"+n*h+","+n*g+"A"+n+","+n+" 0 "+l+",0 "+n*f+","+n*s+"Z":"M"+u*f+","+u*s+"A"+u+","+u+" 0 "+l+",1 "+u*h+","+u*g+"L0,0Z"}var t=eu,e=ru,r=iu,i=uu;return n.innerRadius=function(e){return arguments.length?(t=bn(e),n):t},n.outerRadius=function(t){return arguments.length?(e=bn(t),n):e},n.startAngle=function(t){return arguments.length?(r=bn(t),n):r},n.endAngle=function(t){return arguments.length?(i=bn(t),n):i},n.centroid=function(){var n=(t.apply(this,arguments)+e.apply(this,arguments))/2,u=(r.apply(this,arguments)+i.apply(this,arguments))/2+yc;return[Math.cos(u)*n,Math.sin(u)*n]},n};var yc=-ko,mc=So-No;Xu.svg.line=function(){return ou(wn)};var xc=Xu.map({linear:au,"linear-closed":cu,step:lu,"step-before":fu,"step-after":su,basis:yu,"basis-open":mu,"basis-closed":xu,bundle:Mu,cardinal:pu,"cardinal-open":hu,"cardinal-closed":gu,monotone:Nu});xc.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Mc=[0,2/3,1/3,0],_c=[0,1/3,2/3,0],bc=[0,1/6,2/3,1/6];Xu.svg.line.radial=function(){var n=ou(Eu);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},fu.reverse=su,su.reverse=fu,Xu.svg.area=function(){return Au(wn)},Xu.svg.area.radial=function(){var n=Au(Eu);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},Xu.svg.chord=function(){function n(n,a){var c=t(this,u,n,a),l=t(this,o,n,a);return"M"+c.p0+r(c.r,c.p1,c.a1-c.a0)+(e(c,l)?i(c.r,c.p1,c.r,c.p0):i(c.r,c.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,c.r,c.p0))+"Z"}function t(n,t,e,r){var i=t.call(n,e,r),u=a.call(n,i,r),o=c.call(n,i,r)+yc,f=l.call(n,i,r)+yc;return{r:u,a0:o,a1:f,p0:[u*Math.cos(o),u*Math.sin(o)],p1:[u*Math.cos(f),u*Math.sin(f)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>wo)+",1 "+t}function i(n,t,e,r){return"Q 0,0 "+r}var u=ge,o=pe,a=Cu,c=iu,l=uu;return n.radius=function(t){return arguments.length?(a=bn(t),n):a},n.source=function(t){return arguments.length?(u=bn(t),n):u},n.target=function(t){return arguments.length?(o=bn(t),n):o},n.startAngle=function(t){return arguments.length?(c=bn(t),n):c},n.endAngle=function(t){return arguments.length?(l=bn(t),n):l},n},Xu.svg.diagonal=function(){function n(n,i){var u=t.call(this,n,i),o=e.call(this,n,i),a=(u.y+o.y)/2,c=[u,{x:u.x,y:a},{x:o.x,y:a},o];return"M"+(c=c.map(r))[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var t=ge,e=pe,r=Lu;return n.source=function(e){return arguments.length?(t=bn(e),n):t},n.target=function(t){return arguments.length?(e=bn(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},Xu.svg.diagonal.radial=function(){var n=Xu.svg.diagonal(),t=Lu,e=n.projection;return n.projection=function(n){return arguments.length?e(zu(t=n)):t},n},Xu.svg.symbol=function(){function n(n,r){return(wc.get(t.call(this,n,r))||Ru)(e.call(this,n,r))}var t=Tu,e=qu;return n.type=function(e){return arguments.length?(t=bn(e),n):t},n.size=function(t){return arguments.length?(e=bn(t),n):e},n};var wc=Xu.map({circle:Ru,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Ec)),e=t*Ec;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/Nc),e=t*Nc/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/Nc),e=t*Nc/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});Xu.svg.symbolTypes=wc.keys();var Sc,kc,Nc=Math.sqrt(3),Ec=Math.tan(30*Ao),Ac=[],Cc=0;Ac.call=po.call,Ac.empty=po.empty,Ac.node=po.node,Ac.size=po.size,Xu.transition=function(n){return arguments.length?Sc?n.transition():n:mo.transition()},Xu.transition.prototype=Ac,Ac.select=function(n){var t,e,r,i=this.id,u=[];n=M(n);for(var o=-1,a=this.length;++o<a;){u.push(t=[]);for(var c=this[o],l=-1,f=c.length;++l<f;)(r=c[l])&&(e=n.call(r,r.__data__,l,o))?("__data__"in r&&(e.__data__=r.__data__),ju(e,l,i,r.__transition__[i]),t.push(e)):t.push(null)}return Du(u,i)},Ac.selectAll=function(n){var t,e,r,i,u,o=this.id,a=[];n=_(n);for(var c=-1,l=this.length;++c<l;)for(var f=this[c],s=-1,h=f.length;++s<h;)if(r=f[s]){u=r.__transition__[o],e=n.call(r,r.__data__,s,c),a.push(t=[]);for(var g=-1,p=e.length;++g<p;)(i=e[g])&&ju(i,g,o,u),t.push(i)}return Du(a,o)},Ac.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=q(n));for(var u=0,o=this.length;o>u;u++){i.push(t=[]);for(var a=0,c=(e=this[u]).length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,u)&&t.push(r)}return Du(i,this.id)},Ac.tween=function(n,t){var e=this.id;return arguments.length<2?this.node().__transition__[e].tween.get(n):R(this,null==t?function(t){t.__transition__[e].tween.remove(n)}:function(r){r.__transition__[e].tween.set(n,t)})},Ac.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function i(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(a);return e!==n&&(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function u(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?Dr:hr,a=Xu.ns.qualify(n);return Pu(this,"attr."+n,t,a.local?u:i)},Ac.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(i));return r&&function(n){this.setAttribute(i,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(i.space,i.local));return r&&function(n){this.setAttributeNS(i.space,i.local,r(n))}}var i=Xu.ns.qualify(n);return this.tween("attr."+n,i.local?r:e)},Ac.style=function(n,t,e){function r(){this.style.removeProperty(n)}function i(t){return null==t?r:(t+="",function(){var r,i=Gu.getComputedStyle(this,null).getPropertyValue(n);return i!==t&&(r=hr(i,t),function(t){this.style.setProperty(n,r(t),e)})})}var u=arguments.length;if(3>u){if("string"!=typeof n){2>u&&(t="");for(e in n)this.style(e,n[e],t);return this}e=""}return Pu(this,"style."+n,t,i)},Ac.styleTween=function(n,t,e){function r(r,i){var u=t.call(this,r,i,Gu.getComputedStyle(this,null).getPropertyValue(n));return u&&function(t){this.style.setProperty(n,u(t),e)}}return arguments.length<3&&(e=""),this.tween("style."+n,r)},Ac.text=function(n){return Pu(this,"text",n,Uu)},Ac.remove=function(){return this.each("end.transition",function(){var n;this.__transition__.count<2&&(n=this.parentNode)&&n.removeChild(this)})},Ac.ease=function(n){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof n&&(n=Xu.ease.apply(Xu,arguments)),R(this,function(e){e.__transition__[t].ease=n}))},Ac.delay=function(n){var t=this.id;return R(this,"function"==typeof n?function(e,r,i){e.__transition__[t].delay=+n.call(e,e.__data__,r,i)}:(n=+n,function(e){e.__transition__[t].delay=n}))},Ac.duration=function(n){var t=this.id;return R(this,"function"==typeof n?function(e,r,i){e.__transition__[t].duration=Math.max(1,n.call(e,e.__data__,r,i))}:(n=Math.max(1,n),function(e){e.__transition__[t].duration=n}))},Ac.each=function(n,t){var e=this.id;if(arguments.length<2){var r=kc,i=Sc;Sc=e,R(this,function(t,r,i){kc=t.__transition__[e],n.call(t,t.__data__,r,i)}),kc=r,Sc=i}else R(this,function(r){var i=r.__transition__[e];(i.event||(i.event=Xu.dispatch("start","end"))).on(n,t)});return this},Ac.transition=function(){for(var n,t,e,r,i=this.id,u=++Cc,o=[],a=0,c=this.length;c>a;a++){o.push(n=[]);for(var l=0,f=(t=this[a]).length;f>l;l++)(e=t[l])&&(r=Object.create(e.__transition__[i]),r.delay+=r.duration,ju(e,l,u,r)),n.push(e)}return Du(o,u)},Xu.svg.axis=function(){function n(n){n.each(function(){var n,l=Xu.select(this),f=this.__chart__||e,s=this.__chart__=e.copy(),h=null==c?s.ticks?s.ticks.apply(s,a):s.domain():c,g=null==t?s.tickFormat?s.tickFormat.apply(s,a):wn:t,p=l.selectAll(".tick").data(h,s),v=p.enter().insert("g",".domain").attr("class","tick").style("opacity",No),d=Xu.transition(p.exit()).style("opacity",No).remove(),y=Xu.transition(p).style("opacity",1),m=Di(s),x=l.selectAll(".domain").data([0]),M=(x.enter().append("path").attr("class","domain"),Xu.transition(x));v.append("line"),v.append("text");var _=v.select("line"),b=y.select("line"),w=p.select("text").text(g),S=v.select("text"),k=y.select("text");switch(r){case"bottom":n=Hu,_.attr("y2",i),S.attr("y",Math.max(i,0)+o),b.attr("x2",0).attr("y2",i),k.attr("x",0).attr("y",Math.max(i,0)+o),w.attr("dy",".71em").style("text-anchor","middle"),M.attr("d","M"+m[0]+","+u+"V0H"+m[1]+"V"+u);break;case"top":n=Hu,_.attr("y2",-i),S.attr("y",-(Math.max(i,0)+o)),b.attr("x2",0).attr("y2",-i),k.attr("x",0).attr("y",-(Math.max(i,0)+o)),w.attr("dy","0em").style("text-anchor","middle"),M.attr("d","M"+m[0]+","+-u+"V0H"+m[1]+"V"+-u);break;case"left":n=Fu,_.attr("x2",-i),S.attr("x",-(Math.max(i,0)+o)),b.attr("x2",-i).attr("y2",0),k.attr("x",-(Math.max(i,0)+o)).attr("y",0),w.attr("dy",".32em").style("text-anchor","end"),M.attr("d","M"+-u+","+m[0]+"H0V"+m[1]+"H"+-u);break;case"right":n=Fu,_.attr("x2",i),S.attr("x",Math.max(i,0)+o),b.attr("x2",i).attr("y2",0),k.attr("x",Math.max(i,0)+o).attr("y",0),w.attr("dy",".32em").style("text-anchor","start"),M.attr("d","M"+u+","+m[0]+"H0V"+m[1]+"H"+u)}if(s.rangeBand){var N=s,E=N.rangeBand()/2;f=s=function(n){return N(n)+E}}else f.rangeBand?f=s:d.call(n,s);v.call(n,f),y.call(n,s)})}var t,e=Xu.scale.linear(),r=Lc,i=6,u=6,o=3,a=[10],c=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in zc?t+"":Lc,n):r},n.ticks=function(){return arguments.length?(a=arguments,n):a},n.tickValues=function(t){return arguments.length?(c=t,n):c},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(i=+t,u=+arguments[e-1],n):i},n.innerTickSize=function(t){return arguments.length?(i=+t,n):i},n.outerTickSize=function(t){return arguments.length?(u=+t,n):u},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&&n},n};var Lc="bottom",zc={top:1,right:1,bottom:1,left:1};Xu.svg.brush=function(){function n(u){u.each(function(){var u=Xu.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=u.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),u.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=u.selectAll(".resize").data(p,wn);a.exit().remove(),a.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return qc[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",n.empty()?"none":null);var f,s=Xu.transition(u),h=Xu.transition(o);c&&(f=Di(c),h.attr("x",f[0]).attr("width",f[1]-f[0]),e(s)),l&&(f=Di(l),h.attr("y",f[0]).attr("height",f[1]-f[0]),r(s)),t(s)})}function t(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+f[+/e$/.test(n)]+","+s[+/^s/.test(n)]+")"})}function e(n){n.select(".extent").attr("x",f[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function r(n){n.select(".extent").attr("y",s[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function i(){function i(){32==Xu.event.keyCode&&(A||(x=null,L[0]-=f[1],L[1]-=s[1],A=2),d())}function p(){32==Xu.event.keyCode&&2==A&&(L[0]+=f[1],L[1]+=s[1],A=0,d())}function v(){var n=Xu.mouse(_),i=!1;M&&(n[0]+=M[0],n[1]+=M[1]),A||(Xu.event.altKey?(x||(x=[(f[0]+f[1])/2,(s[0]+s[1])/2]),L[0]=f[+(n[0]<x[0])],L[1]=s[+(n[1]<x[1])]):x=null),N&&y(n,c,0)&&(e(S),i=!0),E&&y(n,l,1)&&(r(S),i=!0),i&&(t(S),w({type:"brush",mode:A?"move":"resize"}))}function y(n,t,e){var r,i,a=Di(t),c=a[0],l=a[1],p=L[e],v=e?s:f,d=v[1]-v[0];return A&&(c-=p,l-=d+p),r=(e?g:h)?Math.max(c,Math.min(l,n[e])):n[e],A?i=(r+=p)+d:(x&&(p=Math.max(c,Math.min(l,2*x[e]-r))),r>p?(i=r,r=p):i=p),v[0]!=r||v[1]!=i?(e?o=null:u=null,v[0]=r,v[1]=i,!0):void 0}function m(){v(),S.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),Xu.select("body").style("cursor",null),z.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),C(),w({type:"brushend"})}var x,M,_=this,b=Xu.select(Xu.event.target),w=a.of(_,arguments),S=Xu.select(_),k=b.datum(),N=!/^(n|s)$/.test(k)&&c,E=!/^(e|w)$/.test(k)&&l,A=b.classed("extent"),C=O(),L=Xu.mouse(_),z=Xu.select(Gu).on("keydown.brush",i).on("keyup.brush",p);if(Xu.event.changedTouches?z.on("touchmove.brush",v).on("touchend.brush",m):z.on("mousemove.brush",v).on("mouseup.brush",m),S.interrupt().selectAll("*").interrupt(),A)L[0]=f[0]-L[0],L[1]=s[0]-L[1];else if(k){var q=+/w$/.test(k),T=+/^n/.test(k);M=[f[1-q]-L[0],s[1-T]-L[1]],L[0]=f[q],L[1]=s[T]}else Xu.event.altKey&&(x=L.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),Xu.select("body").style("cursor",b.style("cursor")),w({type:"brushstart"}),v()}var u,o,a=m(n,"brushstart","brush","brushend"),c=null,l=null,f=[0,0],s=[0,0],h=!0,g=!0,p=Tc[0];return n.event=function(n){n.each(function(){var n=a.of(this,arguments),t={x:f,y:s,i:u,j:o},e=this.__chart__||t;this.__chart__=t,Sc?Xu.select(this).transition().each("start.brush",function(){u=e.i,o=e.j,f=e.x,s=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=gr(f,t.x),r=gr(s,t.y);return u=o=null,function(i){f=t.x=e(i),s=t.y=r(i),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){u=t.i,o=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(c=t,p=Tc[!c<<1|!l],n):c},n.y=function(t){return arguments.length?(l=t,p=Tc[!c<<1|!l],n):l},n.clamp=function(t){return arguments.length?(c&&l?(h=!!t[0],g=!!t[1]):c?h=!!t:l&&(g=!!t),n):c&&l?[h,g]:c?h:l?g:null},n.extent=function(t){var e,r,i,a,h;return arguments.length?(c&&(e=t[0],r=t[1],l&&(e=e[0],r=r[0]),u=[e,r],c.invert&&(e=c(e),r=c(r)),e>r&&(h=e,e=r,r=h),(e!=f[0]||r!=f[1])&&(f=[e,r])),l&&(i=t[0],a=t[1],c&&(i=i[1],a=a[1]),o=[i,a],l.invert&&(i=l(i),a=l(a)),i>a&&(h=i,i=a,a=h),(i!=s[0]||a!=s[1])&&(s=[i,a])),n):(c&&(u?(e=u[0],r=u[1]):(e=f[0],r=f[1],c.invert&&(e=c.invert(e),r=c.invert(r)),e>r&&(h=e,e=r,r=h))),l&&(o?(i=o[0],a=o[1]):(i=s[0],a=s[1],l.invert&&(i=l.invert(i),a=l.invert(a)),i>a&&(h=i,i=a,a=h))),c&&l?[[e,i],[r,a]]:c?[e,r]:l&&[i,a])},n.clear=function(){return n.empty()||(f=[0,0],s=[0,0],u=o=null),n},n.empty=function(){return!!c&&f[0]==f[1]||!!l&&s[0]==s[1]},Xu.rebind(n,a,"on")};var qc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Tc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Rc=na.format=oa.timeFormat,Dc=Rc.utc,Pc=Dc("%Y-%m-%dT%H:%M:%S.%LZ");Rc.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ou:Pc,Ou.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},Ou.toString=Pc.toString,na.second=Dn(function(n){return new ta(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),na.seconds=na.second.range,na.seconds.utc=na.second.utc.range,na.minute=Dn(function(n){return new ta(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),na.minutes=na.minute.range,na.minutes.utc=na.minute.utc.range,na.hour=Dn(function(n){var t=n.getTimezoneOffset()/60;return new ta(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),na.hours=na.hour.range,na.hours.utc=na.hour.utc.range,na.month=Dn(function(n){return(n=na.day(n)).setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),na.months=na.month.range,na.months.utc=na.month.utc.range;var Uc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],jc=[[na.second,1],[na.second,5],[na.second,15],[na.second,30],[na.minute,1],[na.minute,5],[na.minute,15],[na.minute,30],[na.hour,1],[na.hour,3],[na.hour,6],[na.hour,12],[na.day,1],[na.day,2],[na.week,1],[na.month,1],[na.month,3],[na.year,1]],Hc=Rc.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",wt]]),Fc={range:function(n,t,e){return Xu.range(+n,+t,e).map(Iu)},floor:wn,ceil:wn};jc.year=na.year,na.scale=function(){return Yu(Xu.scale.linear(),jc,Hc)};var Oc=jc.map(function(n){return[n[0].utc,n[1]]}),Yc=Dc.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",wt]]);Oc.year=na.year.utc,na.scale.utc=function(){return Yu(Xu.scale.linear(),Oc,Yc)},Xu.text=Sn(function(n){return n.responseText}),Xu.json=function(n,t){return kn(n,"application/json",Zu,t)},Xu.html=function(n,t){return kn(n,"text/html",Vu,t)},Xu.xml=Sn(function(n){return n.responseXML}),"function"==typeof define&&define.amd?define(Xu):"object"==typeof module&&module.exports?module.exports=Xu:this.d3=Xu}()}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["sergeyt:d3"]={}}();

!function(){var Meteor=Package.meteor.Meteor,global=Package.meteor.global,meteorEnv=Package.meteor.meteorEnv,$=Package.jquery.$,jQuery=Package.jquery.jQuery;(function(){(function(){!function(e){e.fn.drag=function(t,o,n){var l="string"==typeof t?t:"",i=e.isFunction(t)?t:e.isFunction(o)?o:null;return 0!==l.indexOf("drag")&&(l="drag"+l),n=(t==i?o:n)||{},i?this.bind(l,n,i):this.trigger(l)};var t=e.event,o=t.special,n=o.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(t){var o=e.data(this,n.datakey),l=t.data||{};o.related+=1,e.each(n.defaults,function(e,t){void 0!==l[e]&&(o[e]=l[e])})},remove:function(){e.data(this,n.datakey).related-=1},setup:function(){if(!e.data(this,n.datakey)){var o=e.extend({related:0},n.defaults);e.data(this,n.datakey,o),t.add(this,"touchstart mousedown",n.init,o),this.attachEvent&&this.attachEvent("ondragstart",n.dontstart)}},teardown:function(){(e.data(this,n.datakey)||{}).related||(e.removeData(this,n.datakey),t.remove(this,"touchstart mousedown",n.init),n.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",n.dontstart))},init:function(l){if(!n.touched){var i=l.data,r;if(!(0!=l.which&&i.which>0&&l.which!=i.which)&&!e(l.target).is(i.not)&&(!i.handle||e(l.target).closest(i.handle,l.currentTarget).length)&&(n.touched="touchstart"==l.type?this:null,i.propagates=1,i.mousedown=this,i.interactions=[n.interaction(this,i)],i.target=l.target,i.pageX=l.pageX,i.pageY=l.pageY,i.dragging=null,r=n.hijack(l,"draginit",i),i.propagates))return(r=n.flatten(r))&&r.length&&(i.interactions=[],e.each(r,function(){i.interactions.push(n.interaction(this,i))})),i.propagates=i.interactions.length,!1!==i.drop&&o.drop&&o.drop.handler(l,i),n.textselect(!1),n.touched?t.add(n.touched,"touchmove touchend",n.handler,i):t.add(document,"mousemove mouseup",n.handler,i),!(!n.touched||i.live)&&void 0}},interaction:function(t,o){var l=e(t)[o.relative?"position":"offset"]()||{top:0,left:0};return{drag:t,callback:new n.callback,droppable:[],offset:l}},handler:function(l){var i=l.data;switch(l.type){case!i.dragging&&"touchmove":l.preventDefault();case!i.dragging&&"mousemove":if(Math.pow(l.pageX-i.pageX,2)+Math.pow(l.pageY-i.pageY,2)<Math.pow(i.distance,2))break;l.target=i.target,n.hijack(l,"dragstart",i),i.propagates&&(i.dragging=!0);case"touchmove":l.preventDefault();case"mousemove":if(i.dragging){if(n.hijack(l,"drag",i),i.propagates){!1!==i.drop&&o.drop&&o.drop.handler(l,i);break}l.type="mouseup"}case"touchend":case"mouseup":default:n.touched?t.remove(n.touched,"touchmove touchend",n.handler):t.remove(document,"mousemove mouseup",n.handler),i.dragging&&(!1!==i.drop&&o.drop&&o.drop.handler(l,i),n.hijack(l,"dragend",i)),n.textselect(!0),!1===i.click&&i.dragging&&e.data(i.mousedown,"suppress.click",(new Date).getTime()+5),i.dragging=n.touched=!1;break}},hijack:function(o,l,i,r,a){if(i){var s={event:o.originalEvent,type:o.type},c=l.indexOf("drop")?"drag":"drop",d,u=r||0,h,g,f,p=isNaN(r)?i.interactions.length:r;o.type=l,o.originalEvent=null,i.results=[];do{if(h=i.interactions[u]){if("dragend"!==l&&h.cancelled)continue;f=n.properties(o,i,h),h.results=[],e(a||h[c]||i.droppable).each(function(r,a){if(f.target=a,o.isPropagationStopped=function(){return!1},!1===(d=a?t.dispatch.call(a,o,f):null)?("drag"==c&&(h.cancelled=!0,i.propagates-=1),"drop"==l&&(h[c][r]=null)):"dropinit"==l&&h.droppable.push(n.element(d)||a),"dragstart"==l&&(h.proxy=e(n.element(d)||h.drag)[0]),h.results.push(d),delete o.result,"dropinit"!==l)return d}),i.results[u]=n.flatten(h.results),"dropinit"==l&&(h.droppable=n.flatten(h.droppable)),"dragstart"!=l||h.cancelled||f.update()}}while(++u<p);return o.type=s.type,o.originalEvent=s.event,n.flatten(i.results)}},properties:function(e,t,o){var l=o.callback;return l.drag=o.drag,l.proxy=o.proxy||o.drag,l.startX=t.pageX,l.startY=t.pageY,l.deltaX=e.pageX-t.pageX,l.deltaY=e.pageY-t.pageY,l.originalX=o.offset.left,l.originalY=o.offset.top,l.offsetX=l.originalX+l.deltaX,l.offsetY=l.originalY+l.deltaY,l.drop=n.flatten((o.drop||[]).slice()),l.available=n.flatten((o.droppable||[]).slice()),l},element:function(e){if(e&&(e.jquery||1==e.nodeType))return e},flatten:function(t){return e.map(t,function(t){return t&&t.jquery?e.makeArray(t):t&&t.length?n.flatten(t):t})},textselect:function(t){e(document)[t?"unbind":"bind"]("selectstart",n.dontstart).css("MozUserSelect",t?"":"none"),document.unselectable=t?"off":"on"},dontstart:function(){return!1},callback:function(){}};n.callback.prototype={update:function(){o.drop&&this.available.length&&e.each(this.available,function(e){o.drop.locate(this,e)})}};var l=t.dispatch;t.dispatch=function(t){if(!(e.data(this,"suppress."+t.type)-(new Date).getTime()>0))return l.apply(this,arguments);e.removeData(this,"suppress."+t.type)};var i=t.fixHooks.touchstart=t.fixHooks.touchmove=t.fixHooks.touchend=t.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(t,o){if(o){var n=o.touches&&o.touches[0]||o.changedTouches&&o.changedTouches[0]||null;n&&e.each(i.props,function(e,o){t[o]=n[o]})}return t}};o.draginit=o.dragstart=o.dragend=n}(jQuery)}).call(this),function(){!function(e){e.fn.drop=function(t,o,n){var l="string"==typeof t?t:"",i=e.isFunction(t)?t:e.isFunction(o)?o:null;return 0!==l.indexOf("drop")&&(l="drop"+l),n=(t==i?o:n)||{},i?this.bind(l,n,i):this.trigger(l)},e.drop=function(t){t=t||{},o.multi=!0===t.multi?1/0:!1===t.multi?1:isNaN(t.multi)?o.multi:t.multi,o.delay=t.delay||o.delay,o.tolerance=e.isFunction(t.tolerance)?t.tolerance:null===t.tolerance?null:o.tolerance,o.mode=t.mode||o.mode||"intersect"};var t=e.event.special,o=e.event.special.drop={multi:1,delay:20,mode:"overlap",targets:[],datakey:"dropdata",noBubble:!0,add:function(t){e.data(this,o.datakey).related+=1},remove:function(){e.data(this,o.datakey).related-=1},setup:function(){if(!e.data(this,o.datakey)){var t={related:0,active:[],anyactive:0,winner:0,location:{}};e.data(this,o.datakey,t),o.targets.push(this)}},teardown:function(){if(!(e.data(this,o.datakey)||{}).related){e.removeData(this,o.datakey);var t=this;o.targets=e.grep(o.targets,function(e){return e!==t})}},handler:function(n,l){var i,r;if(l)switch(n.type){case"mousedown":case"touchstart":r=e(o.targets),"string"==typeof l.drop&&(r=r.filter(l.drop)),r.each(function(){var t=e.data(this,o.datakey);t.active=[],t.anyactive=0,t.winner=0}),l.droppable=r,t.drag.hijack(n,"dropinit",l);break;case"mousemove":case"touchmove":o.event=n,o.timer||o.tolerate(l);break;case"mouseup":case"touchend":o.timer=clearTimeout(o.timer),l.propagates&&(t.drag.hijack(n,"drop",l),t.drag.hijack(n,"dropend",l));break}},locate:function(t,n){var l=e.data(t,o.datakey),i=e(t),r=i.offset()||{},a=i.outerHeight(),s=i.outerWidth(),c={elem:t,width:s,height:a,top:r.top,left:r.left,right:r.left+s,bottom:r.top+a};return l&&(l.location=c,l.index=n,l.elem=t),c},contains:function(e,t){return(t[0]||t.left)>=e.left&&(t[0]||t.right)<=e.right&&(t[1]||t.top)>=e.top&&(t[1]||t.bottom)<=e.bottom},modes:{intersect:function(e,t,o){return this.contains(o,[e.pageX,e.pageY])?1e9:this.modes.overlap.apply(this,arguments)},overlap:function(e,t,o){return Math.max(0,Math.min(o.bottom,t.bottom)-Math.max(o.top,t.top))*Math.max(0,Math.min(o.right,t.right)-Math.max(o.left,t.left))},fit:function(e,t,o){return this.contains(o,t)?1:0},middle:function(e,t,o){return this.contains(o,[t.left+.5*t.width,t.top+.5*t.height])?1:0}},sort:function(e,t){return t.winner-e.winner||e.index-t.index},tolerate:function(n){var l,i,r,a,s,c,d,u=0,h,g=n.interactions.length,f=[o.event.pageX,o.event.pageY],p=o.tolerance||o.modes[o.mode];do{if(h=n.interactions[u]){if(!h)return;h.drop=[],s=[],c=h.droppable.length,p&&(r=o.locate(h.proxy)),l=0;do{if(d=h.droppable[l]){if(a=e.data(d,o.datakey),!(i=a.location))continue;a.winner=p?p.call(o,o.event,r,i):o.contains(i,f)?1:0,s.push(a)}}while(++l<c);s.sort(o.sort),l=0;do{(a=s[l])&&(a.winner&&h.drop.length<o.multi?(a.active[u]||a.anyactive||(!1!==t.drag.hijack(o.event,"dropstart",n,u,a.elem)[0]?(a.active[u]=1,a.anyactive+=1):a.winner=0),a.winner&&h.drop.push(a.elem)):a.active[u]&&1==a.anyactive&&(t.drag.hijack(o.event,"dropend",n,u,a.elem),a.active[u]=0,a.anyactive-=1))}while(++l<c)}}while(++u<g);o.last&&f[0]==o.last.pageX&&f[1]==o.last.pageY?delete o.timer:o.timer=setTimeout(function(){o.tolerate(n)},o.delay),o.last=o.event}};t.dropinit=t.dropstart=t.dropend=o}(jQuery)}.call(this),function(){!function(e){function t(){var e=!1,t=!1;this.stopPropagation=function(){e=!0},this.isPropagationStopped=function(){return e},this.stopImmediatePropagation=function(){t=!0},this.isImmediatePropagationStopped=function(){return t}}function o(){var e=[];this.subscribe=function(t){e.push(t)},this.unsubscribe=function(t){for(var o=e.length-1;o>=0;o--)e[o]===t&&e.splice(o,1)},this.notify=function(o,n,l){n=n||new t,l=l||this;for(var i,r=0;r<e.length&&!n.isPropagationStopped()&&!n.isImmediatePropagationStopped();r++)i=e[r].call(l,n,o);return i}}function n(){var e=[];this.subscribe=function(t,o){return e.push({event:t,handler:o}),t.subscribe(o),this},this.unsubscribe=function(t,o){for(var n=e.length;n--;)if(e[n].event===t&&e[n].handler===o)return e.splice(n,1),void t.unsubscribe(o);return this},this.unsubscribeAll=function(){for(var t=e.length;t--;)e[t].event.unsubscribe(e[t].handler);return e=[],this}}function l(e,t,o,n){void 0===o&&void 0===n&&(o=e,n=t),this.fromRow=Math.min(e,o),this.fromCell=Math.min(t,n),this.toRow=Math.max(e,o),this.toCell=Math.max(t,n),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(e,t){return e>=this.fromRow&&e<=this.toRow&&t>=this.fromCell&&t<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}}function i(){this.__nonDataRow=!0}function r(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function a(){this.__groupTotals=!0,this.group=null}function s(){var e=null;this.isActive=function(t){return t?e===t:null!==e},this.activate=function(t){if(t!==e){if(null!==e)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!t.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!t.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";e=t}},this.deactivate=function(t){if(e!==t)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";e=null},this.commitCurrentEdit=function(){return!e||e.commitCurrentEdit()},this.cancelCurrentEdit=function t(){return!e||e.cancelCurrentEdit()}}e.extend(!0,window,{Slick:{Event:o,EventData:t,EventHandler:n,Range:l,NonDataRow:i,Group:r,GroupTotals:a,EditorLock:s,GlobalEditorLock:new s}}),(r.prototype=new i).equals=function(e){return this.value===e.value&&this.count===e.count&&this.collapsed===e.collapsed&&this.title===e.title},a.prototype=new i}(jQuery)}.call(this),function(){!function(e){function t(t){function o(){ge=!0}function n(){ge=!1,te()}function l(e){me=e}function i(e){we=e}function r(e){for(var t,o=e=e||0,n=ae.length;o<n;o++){if(void 0===(t=ae[o][re]))throw"Each data element must implement a unique 'id' property";ce[t]=o}}function a(){for(var e,t=0,o=ae.length;t<o;t++)if(void 0===(e=ae[t][re])||ce[e]!==t)throw"Each data element must implement a unique 'id' property"}function s(){return ae}function c(e,t){void 0!==t&&(re=t),ae=be=e,ce={},r(),a(),te()}function d(e){void 0!=e.pageSize&&(De=e.pageSize,Te=De?Math.min(Te,Math.max(0,Math.ceil(Ie/De)-1)):0),void 0!=e.pageNum&&(Te=Math.min(e.pageNum,Math.max(0,Math.ceil(Ie/De)-1))),Ae.notify(u(),null,le),te()}function u(){var e=De?Math.max(1,Math.ceil(Ie/De)):1;return{pageSize:De,pageNum:Te,totalRows:Ie,totalPages:e}}function h(e,t){fe=t,ve=e,pe=null,!1===t&&ae.reverse(),ae.sort(e),!1===t&&ae.reverse(),ce={},r(),te()}function g(e,t){fe=t,pe=e,ve=null;var o=Object.prototype.toString;Object.prototype.toString="function"==typeof e?e:function(){return this[e]},!1===t&&ae.reverse(),ae.sort(),Object.prototype.toString=o,!1===t&&ae.reverse(),ce={},r(),te()}function f(){ve?h(ve,fe):pe&&g(pe,fe)}function p(e){ue=e,t.inlineFilters&&(Re=U(),ye=q()),te()}function v(){return $e}function m(o){t.groupItemMetadataProvider||(t.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),xe=[],Ee=[],$e=(o=o||[])instanceof Array?o:[o];for(var n=0;n<$e.length;n++){var l=$e[n]=e.extend(!0,{},ke,$e[n]);l.getterIsAFn="function"==typeof l.getter,l.compiledAccumulators=[];for(var i=l.aggregators.length;i--;)l.compiledAccumulators[i]=K(l.aggregators[i]);Ee[n]={}}te()}function C(e,t,o){m(null!=e?{getter:e,formatter:t,comparer:o}:[])}function w(e,t){if(!$e.length)throw new Error("At least one grouping must be specified before calling setAggregators().");$e[0].aggregators=e,$e[0].aggregateCollapsed=t,m($e)}function b(e){return ae[e]}function R(e){return ce[e]}function y(){if(!de){de={};for(var e=0,t=se.length;e<t;e++)de[se[e][re]]=e}}function S(e){return y(),de[e]}function k(e){return ae[ce[e]]}function $(e){var t=[];y();for(var o=0;o<e.length;o++){var n=de[e[o]];null!=n&&(t[t.length]=n)}return t}function x(e){for(var t=[],o=0;o<e.length;o++)e[o]<se.length&&(t[t.length]=se[e[o]][re]);return t}function E(e,t){if(void 0===ce[e]||e!==t[re])throw"Invalid or non-matching id";ae[ce[e]]=t,he||(he={}),he[e]=!0,te()}function P(e,t){ae.splice(e,0,t),r(e),te()}function D(e){ae.push(e),r(ae.length-1),te()}function T(e){var t=ce[e];if(void 0===t)throw"Invalid id";delete ce[e],ae.splice(t,1),r(t),te()}function I(){return se.length}function N(e){return se[e]}function M(e){var o=se[e];return void 0===o?null:o.__group?t.groupItemMetadataProvider.getGroupRowMetadata(o):o.__groupTotals?t.groupItemMetadataProvider.getTotalsRowMetadata(o):null}function A(e,t){if(null==e)for(var o=0;o<$e.length;o++)Ee[o]={},$e[o].collapsed=t;else Ee[e]={},$e[e].collapsed=t;te()}function H(e){A(e,!0)}function _(e){A(e,!1)}function L(e,t,o){Ee[e][t]=$e[e].collapsed^o,te()}function F(e){var t=Array.prototype.slice.call(arguments),o=t[0];1==t.length&&-1!=o.indexOf(Pe)?L(o.split(Pe).length-1,o,!0):L(t.length-1,t.join(Pe),!0)}function W(e){var t=Array.prototype.slice.call(arguments),o=t[0];1==t.length&&-1!=o.indexOf(Pe)?L(o.split(Pe).length-1,o,!1):L(t.length-1,t.join(Pe),!1)}function V(){return xe}function B(e,t){for(var o,n,l=[],i=[],r,a=t?t.level+1:0,s=$e[a],c=0,d=s.predefinedValues.length;c<d;c++)(o=i[n=s.predefinedValues[c]])||((o=new Slick.Group).value=n,o.level=a,o.groupingKey=(t?t.groupingKey+Pe:"")+n,l[l.length]=o,i[n]=o);for(var c=0,d=e.length;c<d;c++)r=e[c],(o=i[n=s.getterIsAFn?s.getter(r):r[s.getter]])||((o=new Slick.Group).value=n,o.level=a,o.groupingKey=(t?t.groupingKey+Pe:"")+n,l[l.length]=o,i[n]=o),o.rows[o.count++]=r;if(a<$e.length-1)for(var c=0;c<l.length;c++)(o=l[c]).groups=B(o.rows,o);return l.sort($e[a].comparer),l}function z(e){for(var t=$e[e.level],o=e.level==$e.length,n=new Slick.GroupTotals,l,i=t.aggregators.length;i--;)(l=t.aggregators[i]).init(),t.compiledAccumulators[i].call(l,!o&&t.aggregateChildGroups?e.groups:e.rows),l.storeResult(n);n.group=e,e.totals=n}function j(e,t){for(var o=$e[t=t||0],n=e.length,l;n--;)(l=e[n]).collapsed&&!o.aggregateCollapsed||(l.groups&&j(l.groups,t+1),o.aggregators.length&&(o.aggregateEmpty||l.rows.length||l.groups&&l.groups.length)&&z(l))}function O(e,t){for(var o=$e[t=t||0],n=o.collapsed,l=Ee[t],i=e.length,r;i--;)(r=e[i]).collapsed=n^l[r.groupingKey],r.title=o.formatter?o.formatter(r):r.value,r.groups&&(O(r.groups,t+1),r.rows=[])}function G(e,t){for(var o=$e[t=t||0],n=[],l,i=0,r,a=0,s=e.length;a<s;a++){if(r=e[a],n[i++]=r,!r.collapsed)for(var c=0,d=(l=r.groups?G(r.groups,t+1):r.rows).length;c<d;c++)n[i++]=l[c];r.totals&&o.displayTotalsRow&&(!r.collapsed||o.aggregateCollapsed)&&(n[i++]=r.totals)}return n}function X(e){var t=/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/,o=e.toString().match(t);return{params:o[1].split(","),body:o[2]}}function K(e){var t=X(e.accumulate),o=new Function("_items","for (var "+t.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+t.params[0]+" = _items[_i]; "+t.body+"}");return o.displayName=o.name="compiledAccumulatorLoop",o}function U(){var e=X(ue),t=e.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),o=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");o=(o=(o=o.replace(/\$filter\$/gi,t)).replace(/\$item\$/gi,e.params[0])).replace(/\$args\$/gi,e.params[1]);var n=new Function("_items,_args",o);return n.displayName=n.name="compiledFilter",n}function q(){var e=X(ue),t=e.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),o=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");o=(o=(o=o.replace(/\$filter\$/gi,t)).replace(/\$item\$/gi,e.params[0])).replace(/\$args\$/gi,e.params[1]);var n=new Function("_items,_args,_cache",o);return n.displayName=n.name="compiledFilterWithCaching",n}function Y(e,t){for(var o=[],n=0,l=0,i=e.length;l<i;l++)ue(e[l],t)&&(o[n++]=e[l]);return o}function Q(e,t,o){for(var n=[],l=0,i,r=0,a=e.length;r<a;r++)i=e[r],o[r]?n[l++]=i:ue(i,t)&&(n[l++]=i,o[r]=!0);return n}function Z(e){if(ue){var o=t.inlineFilters?Re:Y,n=t.inlineFilters?ye:Q;me.isFilterNarrowing?be=o(be,we):me.isFilterExpanding?be=n(e,we,Se):me.isFilterUnchanged||(be=o(e,we))}else be=De?e:e.concat();var l;return De?(be.length<Te*De&&(Te=Math.floor(be.length/De)),l=be.slice(De*Te,De*Te+De)):l=be,{totalRows:be.length,rows:l}}function J(e,t){var o,n,l,i=[],r=0,a=t.length;me&&me.ignoreDiffsBefore&&(r=Math.max(0,Math.min(t.length,me.ignoreDiffsBefore))),me&&me.ignoreDiffsAfter&&(a=Math.min(t.length,Math.max(0,me.ignoreDiffsAfter)));for(var s=r,c=e.length;s<a;s++)s>=c?i[i.length]=s:(o=t[s],n=e[s],($e.length&&(l=o.__nonDataRow||n.__nonDataRow)&&o.__group!==n.__group||o.__group&&!o.equals(n)||l&&(o.__groupTotals||n.__groupTotals)||o[re]!=n[re]||he&&he[o[re]])&&(i[i.length]=s));return i}function ee(e){de=null,me.isFilterNarrowing==Ce.isFilterNarrowing&&me.isFilterExpanding==Ce.isFilterExpanding||(Se=[]);var t=Z(e);Ie=t.totalRows;var o=t.rows;xe=[],$e.length&&(xe=B(o)).length&&(j(xe),O(xe),o=G(xe));var n=J(se,o);return se=o,n}function te(){if(!ge){var e=se.length,t=Ie,o=ee(ae,ue);De&&Ie<Te*De&&(Te=Math.max(0,Math.ceil(Ie/De)-1),o=ee(ae,ue)),he=null,Ce=me,me={},t!=Ie&&Ae.notify(u(),null,le),e!=se.length&&Ne.notify({previous:e,current:se.length},null,le),o.length>0&&Me.notify({rows:o},null,le)}}function oe(e,t){function o(){if(l.length>0){i=!0;var o=n.mapIdsToRows(l);t||(l=n.mapRowsToIds(o)),e.setSelectedRows(o),i=!1}}var n=this,l=n.mapRowsToIds(e.getSelectedRows()),i;e.onSelectedRowsChanged.subscribe(function(t,o){i||(l=n.mapRowsToIds(e.getSelectedRows()))}),this.onRowsChanged.subscribe(o),this.onRowCountChanged.subscribe(o)}function ne(e,t){function o(e){l={};for(var t in e){var o=se[t][re];l[o]=e[t]}}function n(){if(l){i=!0,y();var o={};for(var n in l){var r=de[n];void 0!=r&&(o[r]=l[n])}e.setCellCssStyles(t,o),i=!1}}var l,i;o(e.getCellCssStyles(t)),e.onCellCssStylesChanged.subscribe(function(e,n){i||t==n.key&&n.hash&&o(n.hash)}),this.onRowsChanged.subscribe(n),this.onRowCountChanged.subscribe(n)}var le=this,ie={groupItemMetadataProvider:null,inlineFilters:!1},re="id",ae=[],se=[],ce={},de=null,ue=null,he=null,ge=!1,fe=!0,pe,ve,me={},Ce={},we,be=[],Re,ye,Se=[],ke={getter:null,formatter:null,comparer:function(e,t){return e.value-t.value},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0},$e=[],xe=[],Ee=[],Pe=":|:",De=0,Te=0,Ie=0,Ne=new Slick.Event,Me=new Slick.Event,Ae=new Slick.Event;t=e.extend(!0,{},ie,t),e.extend(this,{beginUpdate:o,endUpdate:n,setPagingOptions:d,getPagingInfo:u,getItems:s,setItems:c,setFilter:p,sort:h,fastSort:g,reSort:f,setGrouping:m,getGrouping:v,groupBy:C,setAggregators:w,collapseAllGroups:H,expandAllGroups:_,collapseGroup:F,expandGroup:W,getGroups:V,getIdxById:R,getRowById:S,getItemById:k,getItemByIdx:b,mapRowsToIds:x,mapIdsToRows:$,setRefreshHints:l,setFilterArgs:i,refresh:te,updateItem:E,insertItem:P,addItem:D,deleteItem:T,syncGridSelection:oe,syncGridCellCssStyles:ne,getLength:I,getItem:N,getItemMetadata:M,onRowCountChanged:Ne,onRowsChanged:Me,onPagingInfoChanged:Ae})}function o(e){this.field_=e,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(e){var t=e[this.field_];this.count_++,null!=t&&""!==t&&NaN!==t&&(this.nonNullCount_++,this.sum_+=parseFloat(t))},this.storeResult=function(e){e.avg||(e.avg={}),0!=this.nonNullCount_&&(e.avg[this.field_]=this.sum_/this.nonNullCount_)}}function n(e){this.field_=e,this.init=function(){this.min_=null},this.accumulate=function(e){var t=e[this.field_];null!=t&&""!==t&&NaN!==t&&(null==this.min_||t<this.min_)&&(this.min_=t)},this.storeResult=function(e){e.min||(e.min={}),e.min[this.field_]=this.min_}}function l(e){this.field_=e,this.init=function(){this.max_=null},this.accumulate=function(e){var t=e[this.field_];null!=t&&""!==t&&NaN!==t&&(null==this.max_||t>this.max_)&&(this.max_=t)},this.storeResult=function(e){e.max||(e.max={}),e.max[this.field_]=this.max_}}function i(e){this.field_=e,this.init=function(){this.sum_=null},this.accumulate=function(e){var t=e[this.field_];null!=t&&""!==t&&NaN!==t&&(this.sum_+=parseFloat(t))},this.storeResult=function(e){e.sum||(e.sum={}),e.sum[this.field_]=this.sum_}}e.extend(!0,window,{Slick:{Data:{DataView:t,Aggregators:{Avg:o,Min:n,Max:l,Sum:i}}}})}(jQuery)}.call(this),function(){!function(e){function t(t){var o,n,l=this;this.init=function(){o=e("<INPUT type=text class='editor-text' />").appendTo(t.container).bind("keydown.nav",function(t){t.keyCode!==e.ui.keyCode.LEFT&&t.keyCode!==e.ui.keyCode.RIGHT||t.stopImmediatePropagation()}).focus().select()},this.destroy=function(){o.remove()},this.focus=function(){o.focus()},this.getValue=function(){return o.val()},this.setValue=function(e){o.val(e)},this.loadValue=function(e){n=e[t.column.field]||"",o.val(n),o[0].defaultValue=n,o.select()},this.serializeValue=function(){return o.val()},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return!(""==o.val()&&null==n)&&o.val()!=n},this.validate=function(){if(t.column.validator){var e=t.column.validator(o.val());if(!e.valid)return e}return{valid:!0,msg:null}},this.init()}function o(t){var o,n,l=this;this.init=function(){(o=e("<INPUT type=text class='editor-text' />")).bind("keydown.nav",function(t){t.keyCode!==e.ui.keyCode.LEFT&&t.keyCode!==e.ui.keyCode.RIGHT||t.stopImmediatePropagation()}),o.appendTo(t.container),o.focus().select()},this.destroy=function(){o.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){n=e[t.column.field],o.val(n),o[0].defaultValue=n,o.select()},this.serializeValue=function(){return parseInt(o.val(),10)||0},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return!(""==o.val()&&null==n)&&o.val()!=n},this.validate=function(){return isNaN(o.val())?{valid:!1,msg:"Please enter a valid integer"}:{valid:!0,msg:null}},this.init()}function n(t){var o,n,l=this,i=!1;this.init=function(){(o=e("<INPUT type=text class='editor-text' />")).appendTo(t.container),o.focus().select(),o.datepicker({showOn:"button",buttonImageOnly:!0,buttonImage:"../images/calendar.gif",beforeShow:function(){i=!0},onClose:function(){i=!1}}),o.width(o.width()-18)},this.destroy=function(){e.datepicker.dpDiv.stop(!0,!0),o.datepicker("hide"),o.datepicker("destroy"),o.remove()},this.show=function(){i&&e.datepicker.dpDiv.stop(!0,!0).show()},this.hide=function(){i&&e.datepicker.dpDiv.stop(!0,!0).hide()},this.position=function(t){i&&e.datepicker.dpDiv.css("top",t.top+30).css("left",t.left)},this.focus=function(){o.focus()},this.loadValue=function(e){n=e[t.column.field],o.val(n),o[0].defaultValue=n,o.select()},this.serializeValue=function(){return o.val()},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return!(""==o.val()&&null==n)&&o.val()!=n},this.validate=function(){return{valid:!0,msg:null}},this.init()}function l(t){var o,n,l=this;this.init=function(){(o=e("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>")).appendTo(t.container),o.focus()},this.destroy=function(){o.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){o.val((n=e[t.column.field])?"yes":"no"),o.select()},this.serializeValue=function(){return"yes"==o.val()},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return o.val()!=n},this.validate=function(){return{valid:!0,msg:null}},this.init()}function i(t){var o,n,l=this;this.init=function(){(o=e("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>")).appendTo(t.container),o.focus()},this.destroy=function(){o.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){(n=!!e[t.column.field])?o.prop("checked",!0):o.prop("checked",!1)},this.serializeValue=function(){return o.prop("checked")},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return this.serializeValue()!==n},this.validate=function(){return{valid:!0,msg:null}},this.init()}function r(t){var o,n,l,i=this;this.init=function(){(o=e("<INPUT type=text class='editor-percentcomplete' />")).width(e(t.container).innerWidth()-25),o.appendTo(t.container),(n=e("<div class='editor-percentcomplete-picker' />").appendTo(t.container)).append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>"),n.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>"),o.focus().select(),n.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:l,slide:function(e,t){o.val(t.value)}}),n.find(".editor-percentcomplete-buttons button").bind("click",function(t){o.val(e(this).attr("val")),n.find(".editor-percentcomplete-slider").slider("value",e(this).attr("val"))})},this.destroy=function(){o.remove(),n.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){o.val(l=e[t.column.field]),o.select()},this.serializeValue=function(){return parseInt(o.val(),10)||0},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return!(""==o.val()&&null==l)&&(parseInt(o.val(),10)||0)!=l},this.validate=function(){return isNaN(parseInt(o.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()}function a(t){var o,n,l,i=this;this.init=function(){var l=e("body");n=e("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(l),o=e("<TEXTAREA hidefocus rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(n),e("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(n),n.find("button:first").bind("click",this.save),n.find("button:last").bind("click",this.cancel),o.bind("keydown",this.handleKeyDown),i.position(t.position),o.focus().select()},this.handleKeyDown=function(o){o.which==e.ui.keyCode.ENTER&&o.ctrlKey?i.save():o.which==e.ui.keyCode.ESCAPE?(o.preventDefault(),i.cancel()):o.which==e.ui.keyCode.TAB&&o.shiftKey?(o.preventDefault(),t.grid.navigatePrev()):o.which==e.ui.keyCode.TAB&&(o.preventDefault(),t.grid.navigateNext())},this.save=function(){t.commitChanges()},this.cancel=function(){o.val(l),t.cancelChanges()},this.hide=function(){n.hide()},this.show=function(){n.show()},this.position=function(e){n.css("top",e.top-5).css("left",e.left-5)},this.destroy=function(){n.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){o.val(l=e[t.column.field]),o.select()},this.serializeValue=function(){return o.val()},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return!(""==o.val()&&null==l)&&o.val()!=l},this.validate=function(){return{valid:!0,msg:null}},this.init()}e.extend(!0,window,{Slick:{Editors:{Text:t,Integer:o,Date:n,YesNoSelect:l,Checkbox:i,PercentComplete:r,LongText:a}}})}(jQuery)}.call(this),function(){!function(e){function t(e,t,o,n,l){return null==o||""===o?"-":o<50?"<span style='color:red;font-weight:bold;'>"+o+"%</span>":"<span style='color:green'>"+o+"%</span>"}function o(e,t,o,n,l){if(null==o||""===o)return"";var i;return"<span class='percent-complete-bar' style='background:"+(i=o<30?"red":o<70?"silver":"green")+";width:"+o+"%'></span>"}function n(e,t,o,n,l){return o?"Yes":"No"}function l(e,t,o,n,l){return o?"<img src='../images/tick.png'>":""}e.extend(!0,window,{Slick:{Formatters:{PercentComplete:t,PercentCompleteBar:o,YesNo:n,Checkmark:l}}})}(jQuery)}.call(this),function(){!function(e){function t(t){function o(e,o,n,l,i){if(!t.enableExpandCollapse)return i.title;var r=15*i.level+"px";return"<span class='"+t.toggleCssClass+" "+(i.collapsed?t.toggleCollapsedCssClass:t.toggleExpandedCssClass)+"' style='margin-left:"+r+"'></span><span class='"+t.groupTitleCssClass+"' level='"+i.level+"'>"+i.title+"</span>"}function n(e,t,o,n,l){return n.groupTotalsFormatter&&n.groupTotalsFormatter(l,n)||""}function l(e){(d=e).onClick.subscribe(r),d.onKeyDown.subscribe(a)}function i(){d&&(d.onClick.unsubscribe(r),d.onKeyDown.unsubscribe(a))}function r(o,n){var l=this.getDataItem(n.row);l&&l instanceof Slick.Group&&e(o.target).hasClass(t.toggleCssClass)&&(l.collapsed?this.getData().expandGroup(l.groupingKey):this.getData().collapseGroup(l.groupingKey),o.stopImmediatePropagation(),o.preventDefault())}function a(o,n){if(t.enableExpandCollapse&&o.which==e.ui.keyCode.SPACE){var l=this.getActiveCell();if(l){var i=this.getDataItem(l.row);i&&i instanceof Slick.Group&&(i.collapsed?this.getData().expandGroup(i.groupingKey):this.getData().collapseGroup(i.groupingKey),o.stopImmediatePropagation(),o.preventDefault())}}}function s(e){return{selectable:!1,focusable:t.groupFocusable,cssClasses:t.groupCssClass,columns:{0:{colspan:"*",formatter:t.groupFormatter,editor:null}}}}function c(e){return{selectable:!1,focusable:t.totalsFocusable,cssClasses:t.totalsCssClass,formatter:t.totalsFormatter,editor:null}}var d,u={groupCssClass:"slick-group",groupTitleCssClass:"slick-group-title",totalsCssClass:"slick-group-totals",groupFocusable:!0,totalsFocusable:!1,toggleCssClass:"slick-group-toggle",toggleExpandedCssClass:"expanded",toggleCollapsedCssClass:"collapsed",enableExpandCollapse:!0,groupFormatter:o,totalsFormatter:n};return t=e.extend(!0,{},u,t),{init:l,destroy:i,getGroupRowMetadata:s,getTotalsRowMetadata:c}}e.extend(!0,window,{Slick:{Data:{GroupItemMetadataProvider:t}}})}(jQuery)}.call(this),function(){if(void 0===jQuery)throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"==typeof Slick)throw"slick.core.js not loaded";!function($){function SlickGrid(container,data,columns,options){function init(){if(($container=$(container)).length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),options=$.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,columnsById={};for(var e=0;e<columns.length;e++){var t=columns[e]=$.extend({},columnDefaults,columns[e]);columnsById[t.id]=e,t.minWidth&&t.width<t.minWidth&&(t.width=t.minWidth),t.maxWidth&&t.width>t.maxWidth&&(t.width=t.maxWidth)}if(options.enableColumnReorder&&!$.fn.sortable)throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($container),$headerScroller=$("<div class='slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),($headers=$("<div class='slick-header-columns' style='left:-1000px' />").appendTo($headerScroller)).width(getHeadersWidth()),$headerRowScroller=$("<div class='slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$headerRow=$("<div class='slick-headerrow-columns' />").appendTo($headerRowScroller),$headerRowSpacer=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($headerRowScroller),$topPanelScroller=$("<div class='slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$topPanel=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),($viewport=$("<div class='slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;;'>").appendTo($container)).css("overflow-y",options.autoHeight?"hidden":"auto"),$canvas=$("<div class='grid-canvas' />").appendTo($viewport),$focusSink2=$focusSink.clone().appendTo($container),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,viewportW=parseFloat($.css($container[0],"width",!0)),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.bind("selectstart.ui",function(e){return $(e.target).is("input,textarea")}),updateColumnCaches(),createColumnHeaders(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$container.bind("resize.slickgrid",resizeCanvas),$viewport.bind("click",handleClick).bind("scroll",handleScroll),$headerScroller.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller.bind("scroll",handleHeaderRowScroll),$focusSink.add($focusSink2).bind("keydown",handleKeyDown),$canvas.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",{distance:3},handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave))}function registerPlugin(e){plugins.unshift(e),e.init(self)}function unregisterPlugin(e){for(var t=plugins.length;t>=0;t--)if(plugins[t]===e){plugins[t].destroy&&plugins[t].destroy(),plugins.splice(t,1);break}}function setSelectionModel(e){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),(selectionModel=e)&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){return $canvas[0]}function measureScrollbar(){var e=$("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t}function getHeadersWidth(){for(var e=0,t=0,o=columns.length;t<o;t++)e+=columns[t].width;return e+=scrollbarDimensions.width,Math.max(e,viewportW)+1e3}function getCanvasWidth(){for(var e=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,t=0,o=columns.length;o--;)t+=columns[o].width;return options.fullWidthRows?Math.max(t,e):t}function updateCanvasWidth(e){var t=canvasWidth;(canvasWidth=getCanvasWidth())!=t&&($canvas.width(canvasWidth),$headerRow.width(canvasWidth),$headers.width(getHeadersWidth()),viewportHasHScroll=canvasWidth>viewportW-scrollbarDimensions.width),$headerRowSpacer.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),(canvasWidth!=t||e)&&applyColumnWidths()}function disableSelection(e){e&&e.jquery&&e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){for(var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,o=$("<div style='display:none' />").appendTo(document.body);;){var n=2*e;if(o.css("height",n),n>t||o.height()!==n)break;e=n}return o.remove(),e}function bindAncestorScrollEvents(){for(var e=$canvas[0];(e=e.parentNode)!=document.body&&null!=e;)if(e==$viewport[0]||e.scrollWidth!=e.clientWidth||e.scrollHeight!=e.clientHeight){var t=$(e);$boundAncestors=$boundAncestors?$boundAncestors.add(t):t,t.bind("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.unbind("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(e,t,o){if(initialized){var n=getColumnIndex(e);if(null!=n){var l=columns[n],i=$headers.children().eq(n);i&&(void 0!==t&&(columns[n].name=t),void 0!==o&&(columns[n].toolTip=o),trigger(self.onBeforeHeaderCellDestroy,{node:i[0],column:l}),i.attr("title",o||"").children().eq(0).html(t),trigger(self.onHeaderCellRendered,{node:i[0],column:l}))}}}function getHeaderRow(){return $headerRow[0]}function getHeaderRowColumn(e){var t=getColumnIndex(e),o=$headerRow.children().eq(t);return o&&o[0]}function createColumnHeaders(){function e(){$(this).addClass("ui-state-hover")}function t(){$(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each(function(){var e=$(this).data("column");e&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:e})}),$headers.empty(),$headers.width(getHeadersWidth()),$headerRow.find(".slick-headerrow-column").each(function(){var e=$(this).data("column");e&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:e})}),$headerRow.empty();for(var o=0;o<columns.length;o++){var n=columns[o],l=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+n.name+"</span>").width(n.width-headerColumnWidthDiff).attr("id",""+uid+n.id).attr("title",n.toolTip||"").data("column",n).addClass(n.headerCssClass||"").appendTo($headers);if((options.enableColumnReorder||n.sortable)&&l.on("mouseenter",e).on("mouseleave",t),n.sortable&&(l.addClass("slick-header-sortable"),l.append("<span class='slick-sort-indicator' />")),trigger(self.onHeaderCellRendered,{node:l[0],column:n}),options.showHeaderRow){var i=$("<div class='ui-state-default slick-headerrow-column l"+o+" r"+o+"'></div>").data("column",n).appendTo($headerRow);trigger(self.onHeaderRowCellRendered,{node:i[0],column:n})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&setupColumnReorder()}function setupColumnSort(){$headers.click(function(e){if(e.metaKey=e.metaKey||e.ctrlKey,!$(e.target).hasClass("slick-resizable-handle")){var t=$(e.target).closest(".slick-header-column");if(t.length){var o=t.data("column");if(o.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var n=null,l=0;l<sortColumns.length;l++)if(sortColumns[l].columnId==o.id){(n=sortColumns[l]).sortAsc=!n.sortAsc;break}e.metaKey&&options.multiColumnSort?n&&sortColumns.splice(l,1):((e.shiftKey||e.metaKey)&&options.multiColumnSort||(sortColumns=[]),n?0==sortColumns.length&&sortColumns.push(n):(n={columnId:o.id,sortAsc:o.defaultSortAsc},sortColumns.push(n))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:$.map(sortColumns,function(e){return{sortCol:columns[getColumnIndex(e.columnId)],sortAsc:e.sortAsc}})},e):trigger(self.onSort,{multiColumnSort:!1,sortCol:o,sortAsc:n.sortAsc},e)}}}})}function setupColumnReorder(){$headers.filter(":ui-sortable").sortable("destroy"),$headers.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(e,t){$(t.helper).addClass("slick-header-column-active")},beforeStop:function(e,t){$(t.helper).removeClass("slick-header-column-active")},stop:function(e){if(getEditorLock().commitCurrentEdit()){for(var t=$headers.sortable("toArray"),o=[],n=0;n<t.length;n++)o.push(columns[getColumnIndex(t[n].replace(uid,""))]);setColumns(o),trigger(self.onColumnsReordered,{}),e.stopPropagation(),setupColumnResize()}else $(this).sortable("cancel")}})}function setupColumnResize(){var e,t,o,n,l,i,r,a,s;(l=$headers.children()).find(".slick-resizable-handle").remove(),l.each(function(e,t){columns[e].resizable&&(void 0===a&&(a=e),s=e)}),void 0!==a&&l.each(function(c,d){c<a||options.forceFitColumns&&c>=s||(e=$(d),$("<div class='slick-resizable-handle' />").appendTo(d).bind("dragstart",function(e,a){if(!getEditorLock().commitCurrentEdit())return!1;n=e.pageX,$(this).parent().addClass("slick-header-column-active");var s=null,d=null;if(l.each(function(e,t){columns[e].previousWidth=$(t).outerWidth()}),options.forceFitColumns)for(s=0,d=0,t=c+1;t<l.length;t++)(o=columns[t]).resizable&&(null!==d&&(o.maxWidth?d+=o.maxWidth-o.previousWidth:d=null),s+=o.previousWidth-Math.max(o.minWidth||0,absoluteColumnMinWidth));var u=0,h=0;for(t=0;t<=c;t++)(o=columns[t]).resizable&&(null!==h&&(o.maxWidth?h+=o.maxWidth-o.previousWidth:h=null),u+=o.previousWidth-Math.max(o.minWidth||0,absoluteColumnMinWidth));null===s&&(s=1e5),null===u&&(u=1e5),null===d&&(d=1e5),null===h&&(h=1e5),r=n+Math.min(s,h),i=n-Math.min(u,d)}).bind("drag",function(e,a){var s,d=Math.min(r,Math.max(i,e.pageX))-n,u;if(d<0){for(u=d,t=c;t>=0;t--)(o=columns[t]).resizable&&(s=Math.max(o.minWidth||0,absoluteColumnMinWidth),u&&o.previousWidth+u<s?(u+=o.previousWidth-s,o.width=s):(o.width=o.previousWidth+u,u=0));if(options.forceFitColumns)for(u=-d,t=c+1;t<l.length;t++)(o=columns[t]).resizable&&(u&&o.maxWidth&&o.maxWidth-o.previousWidth<u?(u-=o.maxWidth-o.previousWidth,o.width=o.maxWidth):(o.width=o.previousWidth+u,u=0))}else{for(u=d,t=c;t>=0;t--)(o=columns[t]).resizable&&(u&&o.maxWidth&&o.maxWidth-o.previousWidth<u?(u-=o.maxWidth-o.previousWidth,o.width=o.maxWidth):(o.width=o.previousWidth+u,u=0));if(options.forceFitColumns)for(u=-d,t=c+1;t<l.length;t++)(o=columns[t]).resizable&&(s=Math.max(o.minWidth||0,absoluteColumnMinWidth),u&&o.previousWidth+u<s?(u+=o.previousWidth-s,o.width=s):(o.width=o.previousWidth+u,u=0))}applyColumnHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths()}).bind("dragend",function(e,n){var i;for($(this).parent().removeClass("slick-header-column-active"),t=0;t<l.length;t++)o=columns[t],i=$(l[t]).outerWidth(),o.previousWidth!==i&&o.rerenderOnResize&&invalidateAllRows();updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{})}))})}function getVBoxDelta(e){var t=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=0;return $.each(t,function(t,n){o+=parseFloat(e.css(n))||0}),o}function measureCellPaddingAndBorder(){var e,t=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],o=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];e=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,$.each(t,function(t,o){headerColumnWidthDiff+=parseFloat(e.css(o))||0}),$.each(o,function(t,o){headerColumnHeightDiff+=parseFloat(e.css(o))||0}),e.remove();var n=$("<div class='slick-row' />").appendTo($canvas);e=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(n),cellWidthDiff=cellHeightDiff=0,$.each(t,function(t,o){cellWidthDiff+=parseFloat(e.css(o))||0}),$.each(o,function(t,o){cellHeightDiff+=parseFloat(e.css(o))||0}),n.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));for(var e=options.rowHeight-cellHeightDiff,t=["."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-cell { height:"+e+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"],o=0;o<columns.length;o++)t.push("."+uid+" .l"+o+" { }"),t.push("."+uid+" .r"+o+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=t.join(" "):$style[0].appendChild(document.createTextNode(t.join(" ")))}function getColumnCssRules(e){if(!stylesheet){for(var t=document.styleSheets,o=0;o<t.length;o++)if((t[o].ownerNode||t[o].owningElement)==$style[0]){stylesheet=t[o];break}if(!stylesheet)throw new Error("Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];for(var n=stylesheet.cssRules||stylesheet.rules,l,i,o=0;o<n.length;o++){var r=n[o].selectorText;(l=/\.l\d+/.exec(r))?(i=parseInt(l[0].substr(2,l[0].length-2),10),columnCssRulesL[i]=n[o]):(l=/\.r\d+/.exec(r))&&(i=parseInt(l[0].substr(2,l[0].length-2),10),columnCssRulesR[i]=n[o])}}return{left:columnCssRulesL[e],right:columnCssRulesR[e]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var e=plugins.length;e--;)unregisterPlugin(plugins[e]);options.enableColumnReorder&&$headers.filter(":ui-sortable").sortable("destroy"),unbindAncestorScrollEvents(),$container.unbind(".slickgrid"),removeCssRules(),$canvas.unbind("draginit dragstart dragend drag"),$container.empty().removeClass(uid)}function trigger(e,t,o){return o=o||new Slick.EventData,t=t||{},t.grid=self,e.notify(t,o,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(e){return columnsById[e]}function autosizeColumns(){var e,t,o=[],n=0,l=0,i,r=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;for(e=0;e<columns.length;e++)t=columns[e],o.push(t.width),l+=t.width,t.resizable&&(n+=t.width-Math.max(t.minWidth,absoluteColumnMinWidth));for(i=l;l>r&&n;){var a=(l-r)/n;for(e=0;e<columns.length&&l>r;e++){t=columns[e];var s=o[e];if(!(!t.resizable||s<=t.minWidth||s<=absoluteColumnMinWidth)){var c=Math.max(t.minWidth,absoluteColumnMinWidth),d=Math.floor(a*(s-c))||1;l-=d=Math.min(d,s-c),n-=d,o[e]-=d}}if(i==l)break;i=l}for(i=l;l<r;){var u=r/l;for(e=0;e<columns.length&&l<r;e++)if((t=columns[e]).resizable&&!(t.maxWidth<=t.width)){var h=Math.min(Math.floor(u*t.width)-t.width,t.maxWidth-t.width||1e6)||1;l+=h,o[e]+=h}if(i==l)break;i=l}var g=!1;for(e=0;e<columns.length;e++)columns[e].rerenderOnResize&&columns[e].width!=o[e]&&(g=!0),columns[e].width=o[e];applyColumnHeaderWidths(),updateCanvasWidth(!0),g&&(invalidateAllRows(),render())}function applyColumnHeaderWidths(){if(initialized){for(var e,t=0,o=$headers.children(),n=o.length;t<n;t++)(e=$(o[t])).width()!==columns[t].width-headerColumnWidthDiff&&e.width(columns[t].width-headerColumnWidthDiff);updateColumnCaches()}}function applyColumnWidths(){for(var e=0,t,o,n=0;n<columns.length;n++)t=columns[n].width,(o=getColumnCssRules(n)).left.style.left=e+"px",o.right.style.right=canvasWidth-e-t+"px",e+=columns[n].width}function setSortColumn(e,t){setSortColumns([{columnId:e,sortAsc:t}])}function setSortColumns(e){sortColumns=e;var t=$headers.children();t.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),$.each(sortColumns,function(e,o){null==o.sortAsc&&(o.sortAsc=!0);var n=getColumnIndex(o.columnId);null!=n&&t.eq(n).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(o.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(e,t){selectedRows=[];for(var o={},n=0;n<t.length;n++)for(var l=t[n].fromRow;l<=t[n].toRow;l++){o[l]||(selectedRows.push(l),o[l]={});for(var i=t[n].fromCell;i<=t[n].toCell;i++)canCellBeSelected(l,i)&&(o[l][columns[i].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,o),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows()},e)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var e=0,t=0,o=columns.length;t<o;t++)columnPosLeft[t]=e,columnPosRight[t]=e+columns[t].width,e+=columns[t].width}function setColumns(e){columns=e,columnsById={};for(var t=0;t<columns.length;t++){var o=columns[t]=$.extend({},columnDefaults,columns[t]);columnsById[o.id]=t,o.minWidth&&o.width<o.minWidth&&(o.width=o.minWidth),o.maxWidth&&o.width>o.maxWidth&&(o.width=o.maxWidth)}updateColumnCaches(),initialized&&(invalidateAllRows(),createColumnHeaders(),removeCssRules(),createCssRules(),resizeCanvas(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(e){getEditorLock().commitCurrentEdit()&&(makeActiveCellNormal(),options.enableAddRow!==e.enableAddRow&&invalidateRow(getDataLength()),options=$.extend(options,e),validateAndEnforceOptions(),$viewport.css("overflow-y",options.autoHeight?"hidden":"auto"),render())}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1)}function setData(e,t){data=e,invalidateAllRows(),updateRowCount(),t&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataLengthIncludingAddNew(){return getDataLength()+(options.enableAddRow?1:0)}function getDataItem(e){return data.getItem?data.getItem(e):data[e]}function getTopPanel(){return $topPanel[0]}function setTopPanelVisibility(e){options.showTopPanel!=e&&(options.showTopPanel=e,e?$topPanelScroller.slideDown("fast",resizeCanvas):$topPanelScroller.slideUp("fast",resizeCanvas))}function setHeaderRowVisibility(e){options.showHeaderRow!=e&&(options.showHeaderRow=e,e?$headerRowScroller.slideDown("fast",resizeCanvas):$headerRowScroller.slideUp("fast",resizeCanvas))}function getContainerNode(){return $container.get(0)}function getRowTop(e){return options.rowHeight*e-offset}function getRowFromPosition(e){return Math.floor((e+offset)/options.rowHeight)}function scrollTo(e){e=Math.max(e,0),e=Math.min(e,th-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0));var t=offset;page=Math.min(n-1,Math.floor(e/ph));var o=e-(offset=Math.round(page*cj));offset!=t&&(cleanupRows(getVisibleRange(o)),updateRowPositions()),prevScrollTop!=o&&(vScrollDir=prevScrollTop+t<o+offset?1:-1,$viewport[0].scrollTop=lastRenderedScrollTop=scrollTop=prevScrollTop=o,trigger(self.onViewportChanged,{}))}function defaultFormatter(e,t,o,n,l){return null==o?"":(o+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(e,t){var o=data.getItemMetadata&&data.getItemMetadata(e),n=o&&o.columns&&(o.columns[t.id]||o.columns[getColumnIndex(t.id)]);return n&&n.formatter||o&&o.formatter||t.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(t)||options.defaultFormatter}function getEditor(e,t){var o=columns[t],n=data.getItemMetadata&&data.getItemMetadata(e),l=n&&n.columns;return l&&l[o.id]&&void 0!==l[o.id].editor?l[o.id].editor:l&&l[t]&&void 0!==l[t].editor?l[t].editor:o.editor||options.editorFactory&&options.editorFactory.getEditor(o)}function getDataItemValueForColumn(e,t){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(e,t):e[t.field]}function appendRowHtml(e,t,o,n){var l=getDataItem(t),i="slick-row"+(t<n&&!l?" loading":"")+(t===activeRow?" active":"")+(t%2==1?" odd":" even"),r=data.getItemMetadata&&data.getItemMetadata(t);r&&r.cssClasses&&(i+=" "+r.cssClasses),e.push("<div class='ui-widget-content "+i+"' style='top:"+getRowTop(t)+"px'>");for(var a,s,c=0,d=columns.length;c<d;c++){if(s=columns[c],a=1,r&&r.columns){var u=r.columns[s.id]||r.columns[c];"*"===(a=u&&u.colspan||1)&&(a=d-c)}if(columnPosRight[Math.min(d-1,c+a-1)]>o.leftPx){if(columnPosLeft[c]>o.rightPx)break;appendCellHtml(e,t,c,a,l)}a>1&&(c+=a-1)}e.push("</div>")}function appendCellHtml(e,t,o,n,l){var i=columns[o],r="slick-cell l"+o+" r"+Math.min(columns.length-1,o+n-1)+(i.cssClass?" "+i.cssClass:"");t===activeRow&&o===activeCell&&(r+=" active");for(var a in cellCssClasses)cellCssClasses[a][t]&&cellCssClasses[a][t][i.id]&&(r+=" "+cellCssClasses[a][t][i.id]);if(e.push("<div class='"+r+"'>"),l){var s=getDataItemValueForColumn(l,i);e.push(getFormatter(t,i)(t,o,s,i,l))}e.push("</div>"),rowsCache[t].cellRenderQueue.push(o),rowsCache[t].cellColSpans[o]=n}function cleanupRows(e){for(var t in rowsCache)(t=parseInt(t,10))!==activeRow&&(t<e.top||t>e.bottom)&&removeRowFromCache(t)}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){currentEditor&&makeActiveCellNormal();for(var e in rowsCache)removeRowFromCache(e)}function removeRowFromCache(e){var t=rowsCache[e];t&&($canvas[0].removeChild(t.rowNode),delete rowsCache[e],delete postProcessedRows[e],renderedRows--,counter_rows_removed++)}function invalidateRows(e){var t,o;if(e&&e.length)for(vScrollDir=0,t=0,o=e.length;t<o;t++)currentEditor&&activeRow===e[t]&&makeActiveCellNormal(),rowsCache[e[t]]&&removeRowFromCache(e[t])}function invalidateRow(e){invalidateRows([e])}function updateCell(e,t){var o=getCellNode(e,t);if(o){var n=columns[t],l=getDataItem(e);currentEditor&&activeRow===e&&activeCell===t?currentEditor.loadValue(l):(o.innerHTML=l?getFormatter(e,n)(e,t,getDataItemValueForColumn(l,n),n,l):"",invalidatePostProcessingResults(e))}}function updateRow(e){var t=rowsCache[e];if(t){ensureCellNodesInRowsCache(e);var o=getDataItem(e);for(var n in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(n)){var l=columns[n|=0],i=t.cellNodesByColumnIdx[n];e===activeRow&&n===activeCell&&currentEditor?currentEditor.loadValue(o):i.innerHTML=o?getFormatter(e,l)(e,n,getDataItemValueForColumn(o,l),l,o):""}invalidatePostProcessingResults(e)}}function getViewportHeight(){return parseFloat($.css($container[0],"height",!0))-parseFloat($.css($container[0],"paddingTop",!0))-parseFloat($.css($container[0],"paddingBottom",!0))-parseFloat($.css($headerScroller[0],"height"))-getVBoxDelta($headerScroller)-(options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0)-(options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0)}function resizeCanvas(){initialized&&(viewportH=options.autoHeight?options.rowHeight*getDataLengthIncludingAddNew():getViewportHeight(),numVisibleRows=Math.ceil(viewportH/options.rowHeight),viewportW=parseFloat($.css($container[0],"width",!0)),options.autoHeight||$viewport.height(viewportH),options.forceFitColumns&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render())}function updateRowCount(){var e=getDataLength();if(initialized){numberOfRows=getDataLengthIncludingAddNew()+(options.leaveSpaceForNewRows?numVisibleRows-1:0);var t=viewportHasVScroll;viewportHasVScroll=!options.autoHeight&&numberOfRows*options.rowHeight>viewportH;var o=getDataLengthIncludingAddNew()-1;for(var l in rowsCache)l>=o&&removeRowFromCache(l);activeCellNode&&activeRow>o&&resetActiveCell();var i=h;(th=Math.max(options.rowHeight*numberOfRows,viewportH-scrollbarDimensions.height))<maxSupportedCssHeight?(h=ph=th,n=1,cj=0):(ph=(h=maxSupportedCssHeight)/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==i&&($canvas.css("height",h),scrollTop=$viewport[0].scrollTop);var r=scrollTop+offset<=th-viewportH;0==th||0==scrollTop?page=offset=0:scrollTo(r?scrollTop+offset:th-viewportH),h!=i&&options.autoHeight&&resizeCanvas(),options.forceFitColumns&&t!=viewportHasVScroll&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(e,t){return null==e&&(e=scrollTop),null==t&&(t=scrollLeft),{top:getRowFromPosition(e),bottom:getRowFromPosition(e+viewportH)+1,leftPx:t,rightPx:t+viewportW}}function getRenderedRange(e,t){var o=getVisibleRange(e,t),n=Math.round(viewportH/options.rowHeight),l=3;return-1==vScrollDir?(o.top-=n,o.bottom+=3):1==vScrollDir?(o.top-=3,o.bottom+=n):(o.top-=3,o.bottom+=3),o.top=Math.max(0,o.top),o.bottom=Math.min(getDataLengthIncludingAddNew()-1,o.bottom),o.leftPx-=viewportW,o.rightPx+=viewportW,o.leftPx=Math.max(0,o.leftPx),o.rightPx=Math.min(canvasWidth,o.rightPx),o}function ensureCellNodesInRowsCache(e){var t=rowsCache[e];if(t&&t.cellRenderQueue.length)for(var o=t.rowNode.lastChild;t.cellRenderQueue.length;){var n=t.cellRenderQueue.pop();t.cellNodesByColumnIdx[n]=o,o=o.previousSibling}}function cleanUpCells(e,t){var o=0,n=rowsCache[t],l=[];for(var i in n.cellNodesByColumnIdx)if(n.cellNodesByColumnIdx.hasOwnProperty(i)){i|=0;var r=n.cellColSpans[i];(columnPosLeft[i]>e.rightPx||columnPosRight[Math.min(columns.length-1,i+r-1)]<e.leftPx)&&(t==activeRow&&i==activeCell||l.push(i))}for(var a;null!=(a=l.pop());)n.rowNode.removeChild(n.cellNodesByColumnIdx[a]),delete n.cellColSpans[a],delete n.cellNodesByColumnIdx[a],postProcessedRows[t]&&delete postProcessedRows[t][a],o++}function cleanUpAndRenderCells(e){for(var t,o=[],n=[],l,i=0,r,a=e.top,s=e.bottom;a<=s;a++)if(t=rowsCache[a]){ensureCellNodesInRowsCache(a),cleanUpCells(e,a),l=0;var c=data.getItemMetadata&&data.getItemMetadata(a);c=c&&c.columns;for(var d=getDataItem(a),u=0,h=columns.length;u<h&&!(columnPosLeft[u]>e.rightPx);u++)if(null==(r=t.cellColSpans[u])){if(r=1,c){var g=c[columns[u].id]||c[u];"*"===(r=g&&g.colspan||1)&&(r=h-u)}columnPosRight[Math.min(h-1,u+r-1)]>e.leftPx&&(appendCellHtml(o,a,u,r,d),l++),u+=r>1?r-1:0}else u+=r>1?r-1:0;l&&(i+=l,n.push(a))}if(o.length){var f=document.createElement("div");f.innerHTML=o.join("");for(var p,v;null!=(p=n.pop());){t=rowsCache[p];for(var m;null!=(m=t.cellRenderQueue.pop());)v=f.lastChild,t.rowNode.appendChild(v),t.cellNodesByColumnIdx[m]=v}}}function renderRows(e){for(var t=$canvas[0],o=[],n=[],l=!1,i=getDataLength(),r=e.top,a=e.bottom;r<=a;r++)rowsCache[r]||(renderedRows++,n.push(r),rowsCache[r]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(o,r,e,i),activeCellNode&&activeRow===r&&(l=!0),counter_rows_rendered++);if(n.length){var s=document.createElement("div");s.innerHTML=o.join("");for(var r=0,a=n.length;r<a;r++)rowsCache[n[r]].rowNode=t.appendChild(s.firstChild);l&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function invalidatePostProcessingResults(e){delete postProcessedRows[e],postProcessFromRow=Math.min(postProcessFromRow,e),postProcessToRow=Math.max(postProcessToRow,e),startPostProcessing()}function updateRowPositions(){for(var e in rowsCache)rowsCache[e].rowNode.style.top=getRowTop(e)+"px"}function render(){if(initialized){var e=getVisibleRange(),t=getRenderedRange();cleanupRows(t),lastRenderedScrollLeft!=scrollLeft&&cleanUpAndRenderCells(t),renderRows(t),postProcessFromRow=e.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,e.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null}}function handleHeaderRowScroll(){var e=$headerRowScroller[0].scrollLeft;e!=$viewport[0].scrollLeft&&($viewport[0].scrollLeft=e)}function handleScroll(){scrollTop=$viewport[0].scrollTop,scrollLeft=$viewport[0].scrollLeft;var e=Math.abs(scrollTop-prevScrollTop),t=Math.abs(scrollLeft-prevScrollLeft);if(t&&(prevScrollLeft=scrollLeft,$headerScroller[0].scrollLeft=scrollLeft,$topPanelScroller[0].scrollLeft=scrollLeft,$headerRowScroller[0].scrollLeft=scrollLeft),e)if(vScrollDir=prevScrollTop<scrollTop?1:-1,prevScrollTop=scrollTop,e<viewportH)scrollTo(scrollTop+offset);else{var o=offset;page=h==viewportH?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),o!=(offset=Math.round(page*cj))&&invalidateAllRows()}(t||e)&&(h_render&&clearTimeout(h_render),(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20)&&(options.forceSyncScrolling||Math.abs(lastRenderedScrollTop-scrollTop)<viewportH&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW?render():h_render=setTimeout(render,50),trigger(self.onViewportChanged,{}))),trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop})}function asyncPostProcessRows(){for(;postProcessFromRow<=postProcessToRow;){var e=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,t=rowsCache[e];if(t&&!(e>=getDataLength())){postProcessedRows[e]||(postProcessedRows[e]={}),ensureCellNodesInRowsCache(e);for(var o in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(o)){var n=columns[o|=0];if(n.asyncPostRender&&!postProcessedRows[e][o]){var l=t.cellNodesByColumnIdx[o];l&&n.asyncPostRender(l,e,getDataItem(e),n),postProcessedRows[e][o]=!0}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function updateCellCssStylesOnRenderedRows(e,t){var o,n,l,i;for(var r in rowsCache){if(i=t&&t[r],l=e&&e[r],i)for(n in i)l&&i[n]==l[n]||(o=getCellNode(r,getColumnIndex(n)))&&$(o).removeClass(i[n]);if(l)for(n in l)i&&i[n]==l[n]||(o=getCellNode(r,getColumnIndex(n)))&&$(o).addClass(l[n])}}function addCellCssStyles(e,t){if(cellCssClasses[e])throw"addCellCssStyles: cell CSS hash with key '"+e+"' already exists.";cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,null),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function removeCellCssStyles(e){cellCssClasses[e]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[e]),delete cellCssClasses[e],trigger(self.onCellCssStylesChanged,{key:e,hash:null}))}function setCellCssStyles(e,t){var o=cellCssClasses[e];cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,o),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function getCellCssStyles(e){return cellCssClasses[e]}function flashCell(e,t,o){function n(e){e&&setTimeout(function(){l.queue(function(){l.toggleClass(options.cellFlashingCssClass).dequeue(),n(e-1)})},o)}if(o=o||100,rowsCache[e]){var l=$(getCellNode(e,t));n(4)}}function handleDragInit(e,t){var o=getCellFromEvent(e);if(!o||!cellExists(o.row,o.cell))return!1;var n=trigger(self.onDragInit,t,e);return!!e.isImmediatePropagationStopped()&&n}function handleDragStart(e,t){var o=getCellFromEvent(e);if(!o||!cellExists(o.row,o.cell))return!1;var n=trigger(self.onDragStart,t,e);return!!e.isImmediatePropagationStopped()&&n}function handleDrag(e,t){return trigger(self.onDrag,t,e)}function handleDragEnd(e,t){trigger(self.onDragEnd,t,e)}function handleKeyDown(e){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},e);var t=e.isImmediatePropagationStopped();if(!t)if(e.shiftKey||e.altKey||e.ctrlKey)9!=e.which||!e.shiftKey||e.ctrlKey||e.altKey||(t=navigatePrev());else if(27==e.which){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else 34==e.which?(navigatePageDown(),t=!0):33==e.which?(navigatePageUp(),t=!0):37==e.which?t=navigateLeft():39==e.which?t=navigateRight():38==e.which?t=navigateUp():40==e.which?t=navigateDown():9==e.which?t=navigateNext():13==e.which&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable()),t=!0);if(t){e.stopPropagation(),e.preventDefault();try{e.originalEvent.keyCode=0}catch(e){}}}function handleClick(e){currentEditor||(e.target!=document.activeElement||$(e.target).hasClass("slick-cell"))&&setFocus();var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||activeCell==t.cell&&activeRow==t.row||!canCellBeActive(t.row,t.cell)||getEditorLock().isActive()&&!getEditorLock().commitCurrentEdit()||(scrollRowIntoView(t.row,!1),setActiveCellInternal(getCellNode(t.row,t.cell))))}function handleContextMenu(e){var t=$(e.target).closest(".slick-cell",$canvas);0!==t.length&&(activeCellNode===t[0]&&null!==currentEditor||trigger(self.onContextMenu,{},e))}function handleDblClick(e){var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onDblClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||options.editable&&gotoCell(t.row,t.cell,!0))}function handleHeaderMouseEnter(e){trigger(self.onHeaderMouseEnter,{column:$(this).data("column")},e)}function handleHeaderMouseLeave(e){trigger(self.onHeaderMouseLeave,{column:$(this).data("column")},e)}function handleHeaderContextMenu(e){var t=$(e.target).closest(".slick-header-column",".slick-header-columns"),o=t&&t.data("column");trigger(self.onHeaderContextMenu,{column:o},e)}function handleHeaderClick(e){var t=$(e.target).closest(".slick-header-column",".slick-header-columns"),o=t&&t.data("column");o&&trigger(self.onHeaderClick,{column:o},e)}function handleMouseEnter(e){trigger(self.onMouseEnter,{},e)}function handleMouseLeave(e){trigger(self.onMouseLeave,{},e)}function cellExists(e,t){return!(e<0||e>=getDataLength()||t<0||t>=columns.length)}function getCellFromPoint(e,t){for(var o=getRowFromPosition(t),n=0,l=0,i=0;i<columns.length&&l<e;i++)l+=columns[i].width,n++;return n<0&&(n=0),{row:o,cell:n-1}}function getCellFromNode(e){var t=/l\d+/.exec(e.className);if(!t)throw"getCellFromNode: cannot get cell - "+e.className;return parseInt(t[0].substr(1,t[0].length-1),10)}function getRowFromNode(e){for(var t in rowsCache)if(rowsCache[t].rowNode===e)return 0|t;return null}function getCellFromEvent(e){var t=$(e.target).closest(".slick-cell",$canvas);if(!t.length)return null;var o=getRowFromNode(t[0].parentNode),n=getCellFromNode(t[0]);return null==o||null==n?null:{row:o,cell:n}}function getCellNodeBox(e,t){if(!cellExists(e,t))return null;for(var o=getRowTop(e),n=o+options.rowHeight-1,l=0,i=0;i<t;i++)l+=columns[i].width;return{top:o,left:l,bottom:n,right:l+columns[t].width}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(e,t,o){scrollRowIntoView(e,o);var n=getColspan(e,t),l=columnPosLeft[t],i=columnPosRight[t+(n>1?n-1:0)],r=scrollLeft+viewportW;l<scrollLeft?($viewport.scrollLeft(l),handleScroll(),render()):i>r&&($viewport.scrollLeft(Math.min(l,i-$viewport[0].clientWidth)),handleScroll(),render())}function setActiveCellInternal(e,t){null!==activeCellNode&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"),rowsCache[activeRow]&&$(rowsCache[activeRow].rowNode).removeClass("active"));var o=activeCellNode!==e;null!=(activeCellNode=e)?(activeRow=getRowFromNode(activeCellNode.parentNode),activeCell=activePosX=getCellFromNode(activeCellNode),null==t&&(t=activeRow==getDataLength()||options.autoEdit),$(activeCellNode).addClass("active"),$(rowsCache[activeRow].rowNode).addClass("active"),options.editable&&t&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable()},options.asyncEditorLoadDelay):makeActiveCellEditable())):activeRow=activeCell=null,o&&trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}else if(window.getSelection){var e=window.getSelection();e&&e.removeAllRanges&&e.removeAllRanges()}}function isCellPotentiallyEditable(e,t){return!(e<getDataLength()&&!getDataItem(e))&&(!(columns[t].cannotTriggerInsert&&e>=getDataLength())&&!!getEditor(e,t))}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var e=getDataItem(activeRow);if($(activeCellNode).removeClass("editable invalid"),e){var t=columns[activeCell],o=getFormatter(activeRow,t);activeCellNode.innerHTML=o(activeRow,activeCell,getDataItemValueForColumn(e,t),t,e),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(e){if(activeCellNode){if(!options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var t=columns[activeCell],o=getDataItem(activeRow);!1!==trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:o,column:t})?(getEditorLock().activate(editController),$(activeCellNode).addClass("editable"),e||(activeCellNode.innerHTML=""),currentEditor=new(e||getEditor(activeRow,activeCell))({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode),container:activeCellNode,column:t,item:o||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),o&&currentEditor.loadValue(o),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()):setFocus()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(e){var t={top:e.offsetTop,left:e.offsetLeft,bottom:0,right:0,width:$(e).outerWidth(),height:$(e).outerHeight(),visible:!0};t.bottom=t.top+t.height,t.right=t.left+t.width;for(var o=e.offsetParent;(e=e.parentNode)!=document.body;)t.visible&&e.scrollHeight!=e.offsetHeight&&"visible"!=$(e).css("overflowY")&&(t.visible=t.bottom>e.scrollTop&&t.top<e.scrollTop+e.clientHeight),t.visible&&e.scrollWidth!=e.offsetWidth&&"visible"!=$(e).css("overflowX")&&(t.visible=t.right>e.scrollLeft&&t.left<e.scrollLeft+e.clientWidth),t.left-=e.scrollLeft,t.top-=e.scrollTop,e===o&&(t.left+=e.offsetLeft,t.top+=e.offsetTop,o=e.offsetParent),t.bottom=t.top+t.height,t.right=t.left+t.width;return t}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var e=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(e.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(e)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollRowIntoView(e,t){var o=e*options.rowHeight,n=(e+1)*options.rowHeight-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0);(e+1)*options.rowHeight>scrollTop+viewportH+offset?(scrollTo(t?o:n),render()):e*options.rowHeight<scrollTop+offset&&(scrollTo(t?n:o),render())}function scrollRowToTop(e){scrollTo(e*options.rowHeight),render()}function scrollPage(e){var t=e*numVisibleRows;if(scrollTo((getRowFromPosition(scrollTop)+t)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var o=activeRow+t;o>=getDataLengthIncludingAddNew()&&(o=getDataLengthIncludingAddNew()-1),o<0&&(o=0);for(var n=0,l=null,i=activePosX;n<=activePosX;)canCellBeActive(o,n)&&(l=n),n+=getColspan(o,n);null!==l?(setActiveCellInternal(getCellNode(o,l)),activePosX=i):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function getColspan(e,t){var o=data.getItemMetadata&&data.getItemMetadata(e);if(!o||!o.columns)return 1;var n=o.columns[columns[t].id]||o.columns[t],l=n&&n.colspan;return l="*"===l?columns.length-t:l||1}function findFirstFocusableCell(e){for(var t=0;t<columns.length;){if(canCellBeActive(e,t))return t;t+=getColspan(e,t)}return null}function findLastFocusableCell(e){for(var t=0,o=null;t<columns.length;)canCellBeActive(e,t)&&(o=t),t+=getColspan(e,t);return o}function gotoRight(e,t,o){if(t>=columns.length)return null;do{t+=getColspan(e,t)}while(t<columns.length&&!canCellBeActive(e,t));return t<columns.length?{row:e,cell:t,posX:t}:null}function gotoLeft(e,t,o){if(t<=0)return null;var n=findFirstFocusableCell(e);if(null===n||n>=t)return null;for(var l={row:e,cell:n,posX:n},i;;){if(!(i=gotoRight(l.row,l.cell,l.posX)))return null;if(i.cell>=t)return l;l=i}}function gotoDown(e,t,o){for(var n;;){if(++e>=getDataLengthIncludingAddNew())return null;for(n=t=0;t<=o;)n=t,t+=getColspan(e,t);if(canCellBeActive(e,n))return{row:e,cell:n,posX:o}}}function gotoUp(e,t,o){for(var n;;){if(--e<0)return null;for(n=t=0;t<=o;)n=t,t+=getColspan(e,t);if(canCellBeActive(e,n))return{row:e,cell:n,posX:o}}}function gotoNext(e,t,o){if(null==e&&null==t&&(e=t=o=0,canCellBeActive(e,t)))return{row:e,cell:t,posX:t};var n=gotoRight(e,t,o);if(n)return n;for(var l=null;++e<getDataLengthIncludingAddNew();)if(null!==(l=findFirstFocusableCell(e)))return{row:e,cell:l,posX:l};return null}function gotoPrev(e,t,o){if(null==e&&null==t&&(e=getDataLengthIncludingAddNew()-1,t=o=columns.length-1,canCellBeActive(e,t)))return{row:e,cell:t,posX:t};for(var n,l;!n&&!(n=gotoLeft(e,t,o));){if(--e<0)return null;t=0,null!==(l=findLastFocusableCell(e))&&(n={row:e,cell:l,posX:l})}return n}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigate(e){if(!options.enableCellNavigation)return!1;if(!activeCellNode&&"prev"!=e&&"next"!=e)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus(),tabbingDirection={up:-1,down:1,left:-1,right:1,prev:-1,next:1}[e];var t=(0,{up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext}[e])(activeRow,activeCell,activePosX);if(t){var o=t.row==getDataLength();return scrollCellIntoView(t.row,t.cell,!o),setActiveCellInternal(getCellNode(t.row,t.cell)),activePosX=t.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(e,t){return rowsCache[e]?(ensureCellNodesInRowsCache(e),rowsCache[e].cellNodesByColumnIdx[t]):null}function setActiveCell(e,t){initialized&&(e>getDataLength()||e<0||t>=columns.length||t<0||options.enableCellNavigation&&(scrollCellIntoView(e,t,!1),setActiveCellInternal(getCellNode(e,t),!1)))}function canCellBeActive(e,t){if(!options.enableCellNavigation||e>=getDataLengthIncludingAddNew()||e<0||t>=columns.length||t<0)return!1;var o=data.getItemMetadata&&data.getItemMetadata(e);if(o&&"boolean"==typeof o.focusable)return o.focusable;var n=o&&o.columns;return n&&n[columns[t].id]&&"boolean"==typeof n[columns[t].id].focusable?n[columns[t].id].focusable:n&&n[t]&&"boolean"==typeof n[t].focusable?n[t].focusable:columns[t].focusable}function canCellBeSelected(e,t){if(e>=getDataLength()||e<0||t>=columns.length||t<0)return!1;var o=data.getItemMetadata&&data.getItemMetadata(e);if(o&&"boolean"==typeof o.selectable)return o.selectable;var n=o&&o.columns&&(o.columns[columns[t].id]||o.columns[t]);return n&&"boolean"==typeof n.selectable?n.selectable:columns[t].selectable}function gotoCell(e,t,o){initialized&&canCellBeActive(e,t)&&getEditorLock().commitCurrentEdit()&&(scrollCellIntoView(e,t,!1),setActiveCellInternal(getCellNode(e,t),o||e===getDataLength()||options.autoEdit),currentEditor||setFocus())}function commitCurrentEdit(){var e=getDataItem(activeRow),t=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var o=currentEditor.validate();if(o.valid){if(activeRow<getDataLength()){var n={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(e,this.serializedValue),updateRow(this.row)},undo:function(){this.editor.applyValue(e,this.prevSerializedValue),updateRow(this.row)}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(e,t,n)):(n.execute(),makeActiveCellNormal()),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:e})}else{var l={};currentEditor.applyValue(l,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:l,column:t})}return!getEditorLock().isActive()}return $(activeCellNode).removeClass("invalid"),$(activeCellNode).width(),$(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:o,row:activeRow,cell:activeCell,column:t}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(e){for(var t=[],o=columns.length-1,n=0;n<e.length;n++)t.push(new Slick.Range(e[n],0,e[n],o));return t}function getSelectedRows(){if(!selectionModel)throw"Selection model is not set";return selectedRows}function setSelectedRows(e){if(!selectionModel)throw"Selection model is not set";selectionModel.setSelectedRanges(rowsToRanges(e))}var defaults={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:defaultFormatter,forceSyncScrolling:!1},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,$container,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$headerScroller,$headers,$headerRow,$headerRowScroller,$headerRowSpacer,$topPanelScroller,$topPanel,$viewport,$canvas,$style,$boundAncestors,stylesheet,columnCssRulesL,columnCssRulesR,viewportH,viewportW,canvasWidth,viewportHasHScroll,viewportHasVScroll,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,absoluteColumnMinWidth,numberOfRows=0,tabbingDirection=1,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],h_editorLoader=null,h_render=null,h_postrender=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,counter_rows_rendered=0,counter_rows_removed=0;this.debug=function(){var e="";e+="\ncounter_rows_rendered:  "+counter_rows_rendered,e+="\ncounter_rows_removed:  "+counter_rows_removed,e+="\nrenderedRows:  "+renderedRows,e+="\nnumVisibleRows:  "+numVisibleRows,e+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,e+="\nn(umber of pages):  "+n,e+="\n(current) page:  "+page,e+="\npage height (ph):  "+ph,e+="\nvScrollDir:  "+vScrollDir,alert(e)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,getCanvasNode:getCanvasNode,focus:setFocus,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,navigatePageUp:navigatePageUp,navigatePageDown:navigatePageDown,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}$.extend(!0,window,{Slick:{Grid:SlickGrid}});var scrollbarDimensions,maxSupportedCssHeight}(jQuery)}.call(this),function(){!function(e){function t(){function t(){}function o(e,t){for(var o=e;o<=t;o++)if(void 0==u[o]||null==u[o])return!1;return!0}function n(){for(var e in u)delete u[e];u.length=0}function l(t,o){if(v){v.abort();for(var n=v.fromPage;n<=v.toPage;n++)u[n*d]=void 0}t<0&&(t=0),u.length>0&&(o=Math.min(o,u.length-1));for(var l=Math.floor(t/d),a=Math.floor(o/d);void 0!==u[l*d]&&l<a;)l++;for(;void 0!==u[a*d]&&l<a;)a--;if(l>a||l==a&&void 0!==u[l*d])C.notify({from:t,to:o});else{var s="http://api.thriftdb.com/api.hnsearch.com/items/_search?filter[fields][type][]=submission&q="+h+"&start="+l*d+"&limit="+((a-l)*d+d);null!=g&&(s+="&sortby="+g+(f>0?"+asc":"+desc")),null!=p&&clearTimeout(p),p=setTimeout(function(){for(var n=l;n<=a;n++)u[n*d]=null;m.notify({from:t,to:o}),(v=e.jsonp({url:s,callbackParameter:"callback",cache:!0,success:r,error:function(){i(l,a)}})).fromPage=l,v.toPage=a},50)}}function i(e,t){alert("error loading pages "+e+" to "+t)}function r(e){var t=e.request.start,o=t+e.results.length;u.length=Math.min(parseInt(e.hits),1e3);for(var n=0;n<e.results.length;n++){var l=e.results[n].item;l.create_ts=l.create_ts.replace(/^(\d+)-(\d+)-(\d+)T(\d+:\d+:\d+)Z$/,"$2/$3/$1 $4 UTC"),l.create_ts=new Date(l.create_ts),u[t+n]=l,u[t+n].index=t+n}v=null,C.notify({from:t,to:o})}function a(e,t){for(var o=e;o<=t;o++)delete u[o];l(e,t)}function s(e,t){g=e,f=t,n()}function c(e){h=e,n()}var d=50,u={length:0},h="",g=null,f=1,p=null,v=null,m=new Slick.Event,C=new Slick.Event;return t(),{data:u,clear:n,isDataLoaded:o,ensureData:l,reloadData:a,setSort:s,setSearch:c,onDataLoading:m,onDataLoaded:C}}e.extend(!0,window,{Slick:{Data:{RemoteModel:t}}})}(jQuery)}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["phuocd:slickgrid"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),Package["meteorhacks:npm"]={}}();

"undefined"==typeof Package&&(Package={}),Package["ddp-rate-limiter"]={};

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,a=Package.random.Random;(function(){var t="_localstorage_test_"+a.id(),o;try{window.localStorage&&(window.localStorage.setItem(t,t),o=window.localStorage.getItem(t),window.localStorage.removeItem(t))}catch(e){}t===o&&(e._localStorage={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){window.localStorage.setItem(e,t)},removeItem:function(e){window.localStorage.removeItem(e)}}),e._localStorage||(e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage={_data:{},setItem:function(e,t){this._data[e]=t},removeItem:function(e){delete this._data[e]},getItem:function(e){var t=this._data[e];return void 0===t?null:t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.localstorage={}}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,a=Package.underscore._,r;(function(){r=function(n){var e=this;if(n=n||{},e.nextCallbackId=0,e.callbacks={},e.bindEnvironment=!0,!1===n.bindEnvironment&&(e.bindEnvironment=!1),n.exceptionHandler)e.exceptionHandler=n.exceptionHandler;else if(n.debugPrintExceptions){if(!a.isString(n.debugPrintExceptions))throw new Error("Hook option debugPrintExceptions should be a string");e.exceptionHandler=n.debugPrintExceptions}},a.extend(r.prototype,{register:function(t){var a=this,r=a.exceptionHandler||function(n){throw n};t=a.bindEnvironment?n.bindEnvironment(t,r):e(t,r);var o=a.nextCallbackId++;return a.callbacks[o]=t,{stop:function(){delete a.callbacks[o]}}},each:function(e){var t=this;n._nodeCodeMustBeInFiber();for(var r=a.keys(t.callbacks),o=0;o<r.length;++o){var i=r[o];if(a.has(t.callbacks,i)&&!e(t.callbacks[i]))break}}});var e=function(e,t,r){if(!t||"string"==typeof t){var o=t||"callback of async function";t=function(e){n._debug("Exception in "+o+":",e&&e.stack||e)}}return function(){var n=a.toArray(arguments);return function(){try{var a=e.apply(r,n)}catch(n){t(n)}return a}()}}}).call(this),"undefined"==typeof Package&&(Package={}),function(n,e){for(var t in e)t in n||(n[t]=e[t])}(Package["callback-hook"]={},{Hook:r})}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,o=Package.meteor.meteorEnv,t=Package.underscore._,i=Package.tracker.Tracker,r=Package.tracker.Deps,c=Package.random.Random,a=Package["callback-hook"].Hook,s=Package["ddp-client"].DDP,u=Package.mongo.Mongo,l=Package.modules.meteorInstall,g=Package.modules.process,_=Package["babel-runtime"].meteorBabelHelpers,h=Package.promise.Promise,f=Package["ecmascript-runtime-client"].Symbol,d=Package["ecmascript-runtime-client"].Map,p=Package["ecmascript-runtime-client"].Set,k,m,L,E=l({node_modules:{meteor:{"accounts-base":{"client_main.js":["./accounts_client.js","./url_client.js","./localstorage_token.js",function(e,o,t){var i=t;i.export({AccountsClient:function(){return r},AccountsTest:function(){return c}});var r=void 0;i.watch(e("./accounts_client.js"),{AccountsClient:function(n){r=n}},0);var c=void 0;i.watch(e("./url_client.js"),{AccountsTest:function(n){c=n}},1),i.watch(e("./localstorage_token.js")),k=new r,n.users=k.users}],"accounts_client.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits","./accounts_common.js",function(e,o,r){function c(n){return n&&n.__esModule?n:{default:n}}var a=c(e("babel-runtime/helpers/classCallCheck")),s=c(e("babel-runtime/helpers/possibleConstructorReturn")),u=c(e("babel-runtime/helpers/inherits"));r.export({AccountsClient:function(){return g}});var l=void 0;r.watch(e("./accounts_common.js"),{AccountsCommon:function(n){l=n}},0);var g=function(n){function e(o){(0,a.default)(this,e);var t=(0,s.default)(this,n.call(this,o));return t._loggingIn=!1,t._loggingInDeps=new i.Dependency,t._loginServicesHandle=t.connection.subscribe("meteor.loginServiceConfiguration"),t._pageLoadLoginCallbacks=[],t._pageLoadLoginAttemptInfo=null,t._initUrlMatching(),t._initLocalStorage(),t}return(0,u.default)(e,n),e.prototype.userId=function(){function n(){return this.connection.userId()}return n}(),e.prototype._setLoggingIn=function(){function n(n){this._loggingIn!==n&&(this._loggingIn=n,this._loggingInDeps.changed())}return n}(),e.prototype.loggingIn=function(){function n(){return this._loggingInDeps.depend(),this._loggingIn}return n}(),e.prototype.logout=function(){function n(n){var e=this;e.connection.apply("logout",[],{wait:!0},function(o,t){o?n&&n(o):(e.makeClientLoggedOut(),n&&n())})}return n}(),e.prototype.logoutOtherClients=function(){function n(n){var e=this;e.connection.apply("getNewToken",[],{wait:!0},function(n,o){n||e._storeLoginToken(e.userId(),o.token,o.tokenExpires)}),e.connection.apply("removeOtherTokens",[],{wait:!0},function(e){n&&n(e)})}return n}(),e}(l),_=g.prototype;n.loggingIn=function(){return k.loggingIn()},_.callLoginMethod=function(n){var e=this;n=t.extend({methodName:"login",methodArguments:[{}],_suppressLoggingIn:!1},n),t.each(["validateResult","userCallback"],function(e){n[e]||(n[e]=function(){})});var o=t.once(function(o){o?e._onLoginFailureHook.each(function(n){return n({error:o}),!0}):e._onLoginHook.each(function(n){return n(),!0}),n.userCallback.apply(this,arguments)}),i=!1,r=function(n,t){!n&&t&&t.token&&(e.connection.onReconnect=function(){i=!0;var n=e._storedLoginToken();n&&(t={token:n,tokenExpires:e._storedLoginTokenExpires()}),t.tokenExpires||(t.tokenExpires=e._tokenExpiration(new Date)),e._tokenExpiresSoon(t.tokenExpires)?e.makeClientLoggedOut():e.callLoginMethod({methodArguments:[{resume:t.token}],_suppressLoggingIn:!0,userCallback:function(n){var i=e._storedLoginToken();n&&i&&i===t.token&&e.makeClientLoggedOut(),o(n)}})})},c=function(t,r){if(!i){if(e._setLoggingIn(!1),t||!r)return t=t||new Error("No result from call to "+n.methodName),void o(t);try{n.validateResult(r)}catch(n){return void o(n)}e.makeClientLoggedIn(r.id,r.token,r.tokenExpires),o()}};n._suppressLoggingIn||e._setLoggingIn(!0),e.connection.apply(n.methodName,n.methodArguments,{wait:!0,onResultReceived:r},c)},_.makeClientLoggedOut=function(){this.connection._userId&&this._onLogoutHook.each(function(n){return n(),!0}),this._unstoreLoginToken(),this.connection.setUserId(null),this.connection.onReconnect=null},_.makeClientLoggedIn=function(n,e,o){this._storeLoginToken(n,e,o),this.connection.setUserId(n)},n.logout=function(n){return k.logout(n)},n.logoutOtherClients=function(n){return k.logoutOtherClients(n)},_.loginServicesConfigured=function(){return this._loginServicesHandle.ready()},_.onPageLoadLogin=function(n){this._pageLoadLoginAttemptInfo?n(this._pageLoadLoginAttemptInfo):this._pageLoadLoginCallbacks.push(n)},_._pageLoadLogin=function(e){this._pageLoadLoginAttemptInfo?n._debug("Ignoring unexpected duplicate page load login attempt info"):(t.each(this._pageLoadLoginCallbacks,function(n){n(e)}),this._pageLoadLoginCallbacks=[],this._pageLoadLoginAttemptInfo=e)},Package.blaze&&(Package.blaze.Blaze.Template.registerHelper("currentUser",function(){return n.user()}),Package.blaze.Blaze.Template.registerHelper("loggingIn",function(){return n.loggingIn()}))}],"accounts_common.js":["babel-runtime/helpers/classCallCheck",function(e,o,i){function r(n){return n&&n.__esModule?n:{default:n}}var c=r(e("babel-runtime/helpers/classCallCheck"));i.export({AccountsCommon:function(){return l}});var l=function(){function e(n){(0,c.default)(this,e),this._options={},this.connection=void 0,this._initConnection(n||{}),this.users=new u.Collection("users",{_preventAutopublish:!0,connection:this.connection}),this._onLoginHook=new a({bindEnvironment:!1,debugPrintExceptions:"onLogin callback"}),this._onLoginFailureHook=new a({bindEnvironment:!1,debugPrintExceptions:"onLoginFailure callback"}),this._onLogoutHook=new a({bindEnvironment:!1,debugPrintExceptions:"onLogout callback"})}return e.prototype.userId=function(){function n(){throw new Error("userId method not implemented")}return n}(),e.prototype.user=function(){function n(){var n=this.userId();return n?this.users.findOne(n):null}return n}(),e.prototype.config=function(){function e(e){var o=this;if(n.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||n._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect."),t.has(e,"oauthSecretKey")){if(n.isClient)throw new Error("The oauthSecretKey option may only be specified on the server");if(!Package["oauth-encryption"])throw new Error("The oauth-encryption package must be loaded to set oauthSecretKey");Package["oauth-encryption"].OAuthEncryption.loadKey(e.oauthSecretKey),e=t.omit(e,"oauthSecretKey")}var i=["sendVerificationEmail","forbidClientAccountCreation","passwordEnrollTokenExpirationInDays","restrictCreationByEmailDomain","loginExpirationInDays","passwordResetTokenExpirationInDays"];t.each(t.keys(e),function(n){if(!t.contains(i,n))throw new Error("Accounts.config: Invalid key: "+n)}),t.each(i,function(n){if(n in e){if(n in o._options)throw new Error("Can't set `"+n+"` more than once");o._options[n]=e[n]}})}return e}(),e.prototype.onLogin=function(){function n(n){return this._onLoginHook.register(n)}return n}(),e.prototype.onLoginFailure=function(){function n(n){return this._onLoginFailureHook.register(n)}return n}(),e.prototype.onLogout=function(){function n(n){return this._onLogoutHook.register(n)}return n}(),e.prototype._initConnection=function(){function e(e){n.isClient&&(e.connection?this.connection=e.connection:e.ddpUrl?this.connection=s.connect(e.ddpUrl):"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL?this.connection=s.connect(__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL):this.connection=n.connection)}return e}(),e.prototype._getTokenLifetimeMs=function(){function n(){return 24*(this._options.loginExpirationInDays||_)*60*60*1e3}return n}(),e.prototype._getPasswordResetTokenLifetimeMs=function(){function n(){return 24*(this._options.passwordResetTokenExpirationInDays||h)*60*60*1e3}return n}(),e.prototype._getPasswordEnrollTokenLifetimeMs=function(){function n(){return 24*(this._options.passwordEnrollTokenExpirationInDays||f)*60*60*1e3}return n}(),e.prototype._tokenExpiration=function(){function n(n){return new Date(new Date(n).getTime()+this._getTokenLifetimeMs())}return n}(),e.prototype._tokenExpiresSoon=function(){function n(n){var e=.1*this._getTokenLifetimeMs(),o=1e3*d;return e>o&&(e=o),new Date>new Date(n)-e}return n}(),e}(),g=l.prototype;n.userId=function(){return k.userId()},n.user=function(){return k.user()};var _=90,h=3,f=30,d=3600;m=6e5,L=1e4,n.startup(function(){var n=Package["service-configuration"].ServiceConfiguration;g.loginServiceConfiguration=n.configurations,g.ConfigError=n.ConfigError});var p="Accounts.LoginCancelledError";g.LoginCancelledError=n.makeErrorType(p,function(n){this.message=n}),g.LoginCancelledError.prototype.name=p,g.LoginCancelledError.numericError=145546287}],"localstorage_token.js":["./accounts_client.js",function(e,o,t){var i=void 0;t.watch(e("./accounts_client.js"),{AccountsClient:function(n){i=n}},0);var r=i.prototype;n.loginWithToken=function(n,e){return k.loginWithToken(n,e)},r.loginWithToken=function(n,e){this.callLoginMethod({methodArguments:[{resume:n}],userCallback:e})},r._enableAutoLogin=function(){this._autoLoginEnabled=!0,this._pollStoredLoginToken()},r._isolateLoginTokenForTest=function(){this.LOGIN_TOKEN_KEY=this.LOGIN_TOKEN_KEY+c.id(),this.USER_ID_KEY=this.USER_ID_KEY+c.id()},r._storeLoginToken=function(e,o,t){n._localStorage.setItem(this.USER_ID_KEY,e),n._localStorage.setItem(this.LOGIN_TOKEN_KEY,o),t||(t=this._tokenExpiration(new Date)),n._localStorage.setItem(this.LOGIN_TOKEN_EXPIRES_KEY,t),this._lastLoginTokenWhenPolled=o},r._unstoreLoginToken=function(){n._localStorage.removeItem(this.USER_ID_KEY),n._localStorage.removeItem(this.LOGIN_TOKEN_KEY),n._localStorage.removeItem(this.LOGIN_TOKEN_EXPIRES_KEY),this._lastLoginTokenWhenPolled=null},r._storedLoginToken=function(){return n._localStorage.getItem(this.LOGIN_TOKEN_KEY)},r._storedLoginTokenExpires=function(){return n._localStorage.getItem(this.LOGIN_TOKEN_EXPIRES_KEY)},r._storedUserId=function(){return n._localStorage.getItem(this.USER_ID_KEY)},r._unstoreLoginTokenIfExpiresSoon=function(){var n=this._storedLoginTokenExpires();n&&this._tokenExpiresSoon(new Date(n))&&this._unstoreLoginToken()},r._initLocalStorage=function(){var e=this;e.LOGIN_TOKEN_KEY="Meteor.loginToken",e.LOGIN_TOKEN_EXPIRES_KEY="Meteor.loginTokenExpires",e.USER_ID_KEY="Meteor.userId";var o=__meteor_runtime_config__.ROOT_URL_PATH_PREFIX;if(o||this.connection!==n.connection){var t=":"+this.connection._stream.rawUrl;o&&(t+=":"+o),e.LOGIN_TOKEN_KEY+=t,e.LOGIN_TOKEN_EXPIRES_KEY+=t,e.USER_ID_KEY+=t}if(e._autoLoginEnabled){e._unstoreLoginTokenIfExpiresSoon();var i=e._storedLoginToken();if(i){var r=e._storedUserId();r&&e.connection.setUserId(r),e.loginWithToken(i,function(o){o&&(n._debug("Error logging in with token: "+o),e.makeClientLoggedOut()),e._pageLoadLogin({type:"resume",allowed:!o,error:o,methodName:"login",methodArguments:[{resume:i}]})})}}e._lastLoginTokenWhenPolled=i,e._pollIntervalTimer&&clearInterval(e._pollIntervalTimer),e._pollIntervalTimer=setInterval(function(){e._pollStoredLoginToken()},3e3)},r._pollStoredLoginToken=function(){var n=this;if(n._autoLoginEnabled){var e=n._storedLoginToken();n._lastLoginTokenWhenPolled!=e&&(e?n.loginWithToken(e,function(e){e&&n.makeClientLoggedOut()}):n.logout()),n._lastLoginTokenWhenPolled=e}}}],"url_client.js":["./accounts_client.js",function(e,o,i){function r(n,e,o){t.each(u,function(t){var i,r=new RegExp("^\\#\\/"+t+"\\/(.*)$"),c=e.match(r);c&&(i=c[1],"reset-password"===t?n._resetPasswordToken=i:"verify-email"===t?n._verifyEmailToken=i:"enroll-account"===t&&(n._enrollAccountToken=i),window.location.hash="",o.call(n,i,t))})}function c(e,o){var t=this;t._autoLoginEnabled=!1,n.startup(function(){t._accountsCallbacks[o]&&t._accountsCallbacks[o](e,function(){t._enableAutoLogin()})})}i.export({AccountsTest:function(){return g}});var a=void 0;i.watch(e("./accounts_client.js"),{AccountsClient:function(n){a=n}},0);var s=a.prototype,u=["reset-password","verify-email","enroll-account"],l=window.location.hash;s._initUrlMatching=function(){this._autoLoginEnabled=!0,this._accountsCallbacks={},this._attemptToMatchHash()},s._attemptToMatchHash=function(){r(this,l,c)};var g={attemptToMatchHash:function(n,e){return r(k,n,e)}};s.onResetPasswordLink=function(e){this._accountsCallbacks["reset-password"]&&n._debug("Accounts.onResetPasswordLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["reset-password"]=e},s.onEmailVerificationLink=function(e){this._accountsCallbacks["verify-email"]&&n._debug("Accounts.onEmailVerificationLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["verify-email"]=e},s.onEnrollmentLink=function(e){this._accountsCallbacks["enroll-account"]&&n._debug("Accounts.onEnrollmentLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["enroll-account"]=e}}]}}}},{extensions:[".js",".json"]})("./node_modules/meteor/accounts-base/client_main.js");"undefined"==typeof Package&&(Package={}),function(n,e){for(var o in e)o in n||(n[o]=e[o])}(Package["accounts-base"]=E,{Accounts:k})}();

!function(){var o=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,i=Package["accounts-base"].Accounts,r=Package.mongo.Mongo,c;(function(){void 0===c&&(c={}),c.configurations=new r.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0,connection:o.isClient?i.connection:o.connection}),c.ConfigError=function(e){o.isClient&&!i.loginServicesConfigured()?this.message="Login service configuration not yet loaded":this.message=e?"Service "+e+" not configured":"Service not configured"},c.ConfigError.prototype=new Error,c.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),"undefined"==typeof Package&&(Package={}),function(o,e){for(var n in e)n in o||(o[n]=e[n])}(Package["service-configuration"]={},{ServiceConfiguration:c})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,n=Package.underscore._,o=Package["reactive-dict"].ReactiveDict,i=Package.ejson.EJSON,t;(function(){t=new o("session")}).call(this),"undefined"==typeof Package&&(Package={}),function(e,a){for(var c in a)c in e||(e[c]=a[c])}(Package.session={},{Session:t})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,r=Package.check.check,n=Package.check.Match,i=Package.underscore._,a=Package.reload.Reload,c=Package.base64.Base64,l=Package.url.URL,d,u;(function(){var t={};(d={}).showPopup=function(e,t,o){throw new Error("OAuth.showPopup must be implemented on this arch.")},d._loginStyle=function(t,o,r){if(e.isCordova)return"popup";var n=r&&r.loginStyle||o.loginStyle||"popup";if(!i.contains(["popup","redirect"],n))throw new Error("Invalid login style: "+n);if("redirect"===n)try{sessionStorage.setItem("Meteor.oauth.test","test"),sessionStorage.removeItem("Meteor.oauth.test")}catch(e){n="popup"}return n},d._stateParam=function(t,o,r){var n={loginStyle:t,credentialToken:o,isCordova:e.isCordova};return"redirect"===t&&(n.redirectUrl=r||""+window.location),c.encode(JSON.stringify(n))},d.saveDataForRedirect=function(e,t){a._onMigrate("oauth",function(){return[!0,{loginService:e,credentialToken:t}]}),a._migrate(null,{immediateMigration:!0})},d.getDataAfterRedirect=function(){var t=a._migrationData("oauth");if(!t||!t.credentialToken)return null;var o=t.credentialToken,r=d._storageTokenPrefix+o,n;try{n=sessionStorage.getItem(r),sessionStorage.removeItem(r)}catch(t){e._debug("error retrieving credentialSecret",t)}return{loginService:t.loginService,credentialToken:o,credentialSecret:n}},d.launchLogin=function(e){if(!e.loginService)throw new Error("loginService required");if("popup"===e.loginStyle)d.showPopup(e.loginUrl,i.bind(e.credentialRequestCompleteCallback,null,e.credentialToken),e.popupOptions);else{if("redirect"!==e.loginStyle)throw new Error("invalid login style");d.saveDataForRedirect(e.loginService,e.credentialToken),window.location=e.loginUrl}},d.initiateLogin=function(e,t,o,r){d.showPopup(t,i.bind(o,null,e),r)},d._handleCredentialSecret=function(e,o){if(r(e,String),r(o,String),i.has(t,e))throw new Error("Duplicate credential token from OAuth login");t[e]=o},d._retrieveCredentialSecret=function(o){var r=t[o];if(r)delete t[o];else{var n=d._storageTokenPrefix+o;r=e._localStorage.getItem(n),e._localStorage.removeItem(n)}return r}}).call(this),function(){d.showPopup=function(t,o,r){var n=e(t,r&&r.width||650,r&&r.height||331),i=setInterval(function(){try{var e=n.closed||void 0===n.closed}catch(e){return}e&&(clearInterval(i),o())},100)};var e=function(e,t,o){var r=void 0!==window.screenX?window.screenX:window.screenLeft,n=void 0!==window.screenY?window.screenY:window.screenTop,i="width="+t+",height="+o+",left="+(r+((void 0!==window.outerWidth?window.outerWidth:document.body.clientWidth)-t)/2)+",top="+(n+((void 0!==window.outerHeight?window.outerHeight:document.body.clientHeight-22)-o)/2)+",scrollbars=yes",a=window.open(e,"Login",i);if(void 0===a){var c=new Error("The login popup was blocked by the browser");throw c.attemptedUrl=e,c}return a.focus&&a.focus(),a}}.call(this),function(){d._storageTokenPrefix="Meteor.oauth.credentialSecret-",d._redirectUri=function(t,o,r,n){var a=o.loginStyle?null:"close",c=!1,d=!1;if(r&&(c=(r=i.clone(r)).cordova,d=r.android,delete r.cordova,delete r.android,i.isEmpty(r)&&(r=void 0)),e.isServer&&c){var u=process.env.MOBILE_ROOT_URL||__meteor_runtime_config__.ROOT_URL;if(d){var s=Npm.require("url"),g=s.parse(u);"localhost"===g.hostname&&(g.hostname="10.0.2.2",delete g.host),u=s.format(g)}n=i.extend({},n,{rootUrl:u})}return l._constructUrl(e.absoluteUrl("_oauth/"+t,n),a,r)}}.call(this),function(){u=d}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package.oauth={},{OAuth:d,Oauth:u})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,a=Package.meteor.meteorEnv,t=Package.underscore._,o=Package.random.Random,n=Package.check.check,c=Package.check.Match,i=Package["accounts-base"].Accounts,u=Package.oauth.OAuth,l=Package.oauth.Oauth;(function(){i.oauth={};var r={};i.oauth.registerService=function(a){if(t.has(r,a))throw new Error("Duplicate service: "+a);r[a]=!0,e.server&&e.users._ensureIndex("services."+a+".id",{unique:1,sparse:1})},i.oauth.unregisterService=function(e){if(!t.has(r,e))throw new Error("Service not found: "+e);delete r[e]},i.oauth.serviceNames=function(){return t.keys(r)}}).call(this),function(){var r=function(r){return r&&r instanceof e.Error&&r.error===i.LoginCancelledError.numericError?new i.LoginCancelledError(r.reason):r};e.startup(function(){var e=u.getDataAfterRedirect();if(e){var a="login",o=[{oauth:t.pick(e,"credentialToken","credentialSecret")}];i.callLoginMethod({methodArguments:o,userCallback:function(a){a=r(a),i._pageLoadLogin({type:e.loginService,allowed:!a,error:a,methodName:"login",methodArguments:o})}})}}),i.oauth.tryLoginAfterPopupClosed=function(e,a){var t=u._retrieveCredentialSecret(e)||null;i.callLoginMethod({methodArguments:[{oauth:{credentialToken:e,credentialSecret:t}}],userCallback:a&&function(e){a(r(e))}})},i.oauth.credentialRequestCompleteHandler=function(e){return function(r){r&&r instanceof Error?e&&e(r):i.oauth.tryLoginAfterPopupClosed(r,e)}}}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-oauth"]={}}();

!function(){var r=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,e;(function(){e=function(){function r(r){function n(r,n){var t=(65535&r)+(65535&n);return(r>>16)+(n>>16)+(t>>16)<<16|65535&t}function t(r,n){return r>>>n|r<<32-n}function e(r,n){return r>>>n}function o(r,n,t){return r&n^~r&t}function a(r,n,t){return r&n^r&t^n&t}function u(r){return t(r,2)^t(r,13)^t(r,22)}function f(r){return t(r,6)^t(r,11)^t(r,25)}function c(r){return t(r,7)^t(r,18)^e(r,3)}function i(r){return t(r,17)^t(r,19)^e(r,10)}function g(r,t){var e=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),g=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),h=new Array(64),C,v,d,m,A,l,S,k,P,y,w,b;r[t>>5]|=128<<24-t%32,r[15+(t+64>>9<<4)]=t;for(var P=0;P<r.length;P+=16){C=g[0],v=g[1],d=g[2],m=g[3],A=g[4],l=g[5],S=g[6],k=g[7];for(var y=0;y<64;y++)h[y]=y<16?r[y+P]:n(n(n(i(h[y-2]),h[y-7]),c(h[y-15])),h[y-16]),w=n(n(n(n(k,f(A)),o(A,l,S)),e[y]),h[y]),b=n(u(C),a(C,v,d)),k=S,S=l,l=A,A=n(m,w),m=d,d=v,v=C,C=n(w,b);g[0]=n(C,g[0]),g[1]=n(v,g[1]),g[2]=n(d,g[2]),g[3]=n(m,g[3]),g[4]=n(A,g[4]),g[5]=n(l,g[5]),g[6]=n(S,g[6]),g[7]=n(k,g[7])}return g}function h(r){for(var n=Array(),t=(1<<d)-1,e=0;e<r.length*d;e+=d)n[e>>5]|=(r.charCodeAt(e/d)&t)<<24-e%32;return n}function C(r){for(var n="",t=0;t<r.length;t++){var e=r.charCodeAt(t);e<128?n+=String.fromCharCode(e):e>127&&e<2048?(n+=String.fromCharCode(e>>6|192),n+=String.fromCharCode(63&e|128)):(n+=String.fromCharCode(e>>12|224),n+=String.fromCharCode(e>>6&63|128),n+=String.fromCharCode(63&e|128))}return n}function v(r){for(var n=m?"0123456789ABCDEF":"0123456789abcdef",t="",e=0;e<4*r.length;e++)t+=n.charAt(r[e>>2]>>8*(3-e%4)+4&15)+n.charAt(r[e>>2]>>8*(3-e%4)&15);return t}var d=8,m=0;return r=C(r),v(g(h(r),r.length*d))}return r}()}).call(this),"undefined"==typeof Package&&(Package={}),function(r,n){for(var t in n)t in r||(r[t]=n[t])}(Package.sha={},{SHA256:e})}();

!function(){var t=Package.meteor.Meteor,i=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package.random.Random,s=Package.check.check,e=Package.check.Match,h=Package.sha.SHA256,n=Package.underscore._,f,u;(function(){f=function(){function t(t,i,r){null!=t&&("number"==typeof t?this.fromNumber(t,i,r):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function i(){return new t(null)}function r(t,i,r,o,s,e){for(;--e>=0;){var h=i*this[t++]+r[o]+s;s=Math.floor(h/67108864),r[o++]=67108863&h}return s}function o(t,i,r,o,s,e){for(var h=32767&i,n=i>>15;--e>=0;){var f=32767&this[t],u=this[t++]>>15,a=n*f+u*h;s=((f=h*f+((32767&a)<<15)+r[o]+(1073741823&s))>>>30)+(a>>>15)+n*u+(s>>>30),r[o++]=1073741823&f}return s}function s(t,i,r,o,s,e){for(var h=16383&i,n=i>>14;--e>=0;){var f=16383&this[t],u=this[t++]>>14,a=n*f+u*h;s=((f=h*f+((16383&a)<<14)+r[o]+s)>>28)+(a>>14)+n*u,r[o++]=268435455&f}return s}function e(t){return ii.charAt(t)}function h(t,i){var r=ri[t.charCodeAt(i)];return null==r?-1:r}function n(t){for(var i=this.t-1;i>=0;--i)t[i]=this[i];t.t=this.t,t.s=this.s}function f(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+DV:this.t=0}function u(t){var r=i();return r.fromInt(t),r}function a(i,r){var o;if(16==r)o=4;else if(8==r)o=3;else if(256==r)o=8;else if(2==r)o=1;else if(32==r)o=5;else{if(4!=r)return void this.fromRadix(i,r);o=2}this.t=0,this.s=0;for(var s=i.length,e=!1,n=0;--s>=0;){var f=8==o?255&i[s]:h(i,s);f<0?"-"==i.charAt(s)&&(e=!0):(e=!1,0==n?this[this.t++]=f:n+o>this.DB?(this[this.t-1]|=(f&(1<<this.DB-n)-1)<<n,this[this.t++]=f>>this.DB-n):this[this.t-1]|=f<<n,(n+=o)>=this.DB&&(n-=this.DB))}8==o&&0!=(128&i[0])&&(this.s=-1,n>0&&(this[this.t-1]|=(1<<this.DB-n)-1<<n)),this.clamp(),e&&t.ZERO.subTo(this,this)}function p(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function c(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var r=(1<<i)-1,o,s=!1,h="",n=this.t,f=this.DB-n*this.DB%i;if(n-- >0)for(f<this.DB&&(o=this[n]>>f)>0&&(s=!0,h=e(o));n>=0;)f<i?(o=(this[n]&(1<<f)-1)<<i-f,o|=this[--n]>>(f+=this.DB-i)):(o=this[n]>>(f-=i)&r,f<=0&&(f+=this.DB,--n)),o>0&&(s=!0),s&&(h+=e(o));return s?h:"0"}function m(){var r=i();return t.ZERO.subTo(this,r),r}function l(){return this.s<0?this.negate():this}function v(t){var i=this.s-t.s;if(0!=i)return i;var r=this.t;if(0!=(i=r-t.t))return i;for(;--r>=0;)if(0!=(i=this[r]-t[r]))return i;return 0}function T(t){var i=1,r;return 0!=(r=t>>>16)&&(t=r,i+=16),0!=(r=t>>8)&&(t=r,i+=8),0!=(r=t>>4)&&(t=r,i+=4),0!=(r=t>>2)&&(t=r,i+=2),0!=(r=t>>1)&&(t=r,i+=1),i}function y(){return this.t<=0?0:this.DB*(this.t-1)+T(this[this.t-1]^this.s&this.DM)}function d(t,i){var r;for(r=this.t-1;r>=0;--r)i[r+t]=this[r];for(r=t-1;r>=0;--r)i[r]=0;i.t=this.t+t,i.s=this.s}function D(t,i){for(var r=t;r<this.t;++r)i[r-t]=this[r];i.t=Math.max(this.t-t,0),i.s=this.s}function g(t,i){var r=t%this.DB,o=this.DB-r,s=(1<<o)-1,e=Math.floor(t/this.DB),h=this.s<<r&this.DM,n;for(n=this.t-1;n>=0;--n)i[n+e+1]=this[n]>>o|h,h=(this[n]&s)<<r;for(n=e-1;n>=0;--n)i[n]=0;i[e]=h,i.t=this.t+e+1,i.s=this.s,i.clamp()}function B(t,i){i.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)i.t=0;else{var o=t%this.DB,s=this.DB-o,e=(1<<o)-1;i[0]=this[r]>>o;for(var h=r+1;h<this.t;++h)i[h-r-1]|=(this[h]&e)<<s,i[h-r]=this[h]>>o;o>0&&(i[this.t-r-1]|=(this.s&e)<<s),i.t=this.t-r,i.clamp()}}function b(t,i){for(var r=0,o=0,s=Math.min(t.t,this.t);r<s;)o+=this[r]-t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o-=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o-=t[r],i[r++]=o&this.DM,o>>=this.DB;o-=t.s}i.s=o<0?-1:0,o<-1?i[r++]=this.DV+o:o>0&&(i[r++]=o),i.t=r,i.clamp()}function S(i,r){var o=this.abs(),s=i.abs(),e=o.t;for(r.t=e+s.t;--e>=0;)r[e]=0;for(e=0;e<s.t;++e)r[e+o.t]=o.am(0,s[e],r,e,0,o.t);r.s=0,r.clamp(),this.s!=i.s&&t.ZERO.subTo(r,r)}function E(t){for(var i=this.abs(),r=t.t=2*i.t;--r>=0;)t[r]=0;for(r=0;r<i.t-1;++r){var o=i.am(r,i[r],t,2*r,0,1);(t[r+i.t]+=i.am(r+1,2*i[r],t,2*r+1,o,i.t-r-1))>=i.DV&&(t[r+i.t]-=i.DV,t[r+i.t+1]=1)}t.t>0&&(t[t.t-1]+=i.am(r,i[r],t,2*r,0,1)),t.s=0,t.clamp()}function w(r,o,s){var e=r.abs();if(!(e.t<=0)){var h=this.abs();if(h.t<e.t)return null!=o&&o.fromInt(0),void(null!=s&&this.copyTo(s));null==s&&(s=i());var n=i(),f=this.s,u=r.s,a=this.DB-T(e[e.t-1]);a>0?(e.lShiftTo(a,n),h.lShiftTo(a,s)):(e.copyTo(n),h.copyTo(s));var p=n.t,c=n[p-1];if(0!=c){var m=c*(1<<this.F1)+(p>1?n[p-2]>>this.F2:0),l=this.FV/m,v=(1<<this.F1)/m,y=1<<this.F2,d=s.t,D=d-p,g=null==o?i():o;for(n.dlShiftTo(D,g),s.compareTo(g)>=0&&(s[s.t++]=1,s.subTo(g,s)),t.ONE.dlShiftTo(p,g),g.subTo(n,n);n.t<p;)n[n.t++]=0;for(;--D>=0;){var B=s[--d]==c?this.DM:Math.floor(s[d]*l+(s[d-1]+y)*v);if((s[d]+=n.am(0,B,s,D,0,p))<B)for(n.dlShiftTo(D,g),s.subTo(g,s);s[d]<--B;)s.subTo(g,s)}null!=o&&(s.drShiftTo(p,o),f!=u&&t.ZERO.subTo(o,o)),s.t=p,s.clamp(),a>0&&s.rShiftTo(a,s),f<0&&t.ZERO.subTo(s,s)}}}function M(r){var o=i();return this.abs().divRemTo(r,null,o),this.s<0&&o.compareTo(t.ZERO)>0&&r.subTo(o,o),o}function A(t){this.m=t}function R(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function O(t){return t}function C(t){t.divRemTo(this.m,null,t)}function F(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function V(t,i){t.squareTo(i),this.reduce(i)}function k(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var i=3&t;return i=i*(2-(15&t)*i)&15,i=i*(2-(255&t)*i)&255,i=i*(2-((65535&t)*i&65535))&65535,(i=i*(2-t*i%this.DV)%this.DV)>0?this.DV-i:-i}function N(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function P(r){var o=i();return r.abs().dlShiftTo(this.m.t,o),o.divRemTo(this.m,null,o),r.s<0&&o.compareTo(t.ZERO)>0&&this.m.subTo(o,o),o}function q(t){var r=i();return t.copyTo(r),this.reduce(r),r}function L(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var i=0;i<this.m.t;++i){var r=32767&t[i],o=r*this.mpl+((r*this.mph+(t[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=i+this.m.t]+=this.m.am(0,o,t,i,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function x(t,i){t.squareTo(i),this.reduce(i)}function I(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function Z(){return 0==(this.t>0?1&this[0]:this.s)}function z(r,o){if(r>4294967295||r<1)return t.ONE;var s=i(),e=i(),h=o.convert(this),n=T(r)-1;for(h.copyTo(s);--n>=0;)if(o.sqrTo(s,e),(r&1<<n)>0)o.mulTo(e,h,s);else{var f=s;s=e,e=f}return o.revert(s)}function U(t,i){var r;return r=t<256||i.isEven()?new A(i):new N(i),this.exp(t,r)}function j(){var t=i();return this.copyTo(t),t}function H(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function _(){return 0==this.t?this.s:this[0]<<24>>24}function G(){return 0==this.t?this.s:this[0]<<16>>16}function J(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function K(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Q(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var r=this.chunkSize(t),o=Math.pow(t,r),s=u(o),e=i(),h=i(),n="";for(this.divRemTo(s,e,h);e.signum()>0;)n=(o+h.intValue()).toString(t).substr(1)+n,e.divRemTo(s,e,h);return h.intValue().toString(t)+n}function W(i,r){this.fromInt(0),null==r&&(r=10);for(var o=this.chunkSize(r),s=Math.pow(r,o),e=!1,n=0,f=0,u=0;u<i.length;++u){var a=h(i,u);a<0?"-"==i.charAt(u)&&0==this.signum()&&(e=!0):(f=r*f+a,++n>=o&&(this.dMultiply(s),this.dAddOffset(f,0),n=0,f=0))}n>0&&(this.dMultiply(Math.pow(r,n)),this.dAddOffset(f,0)),e&&t.ZERO.subTo(this,this)}function X(i,r,o){if("number"==typeof r)if(i<2)this.fromInt(1);else for(this.fromNumber(i,o),this.testBit(i-1)||this.bitwiseTo(t.ONE.shiftLeft(i-1),et,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>i&&this.subTo(t.ONE.shiftLeft(i-1),this);else{var s=new Array,e=7&i;s.length=1+(i>>3),r.nextBytes(s),e>0?s[0]&=(1<<e)-1:s[0]=0,this.fromString(s,256)}}function Y(){var t=this.t,i=new Array;i[0]=this.s;var r=this.DB-t*this.DB%8,o,s=0;if(t-- >0)for(r<this.DB&&(o=this[t]>>r)!=(this.s&this.DM)>>r&&(i[s++]=o|this.s<<this.DB-r);t>=0;)r<8?(o=(this[t]&(1<<r)-1)<<8-r,o|=this[--t]>>(r+=this.DB-8)):(o=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==s&&(128&this.s)!=(128&o)&&++s,(s>0||o!=this.s)&&(i[s++]=o);return i}function $(t){return 0==this.compareTo(t)}function tt(t){return this.compareTo(t)<0?this:t}function it(t){return this.compareTo(t)>0?this:t}function rt(t,i,r){var o,s,e=Math.min(t.t,this.t);for(o=0;o<e;++o)r[o]=i(this[o],t[o]);if(t.t<this.t){for(s=t.s&this.DM,o=e;o<this.t;++o)r[o]=i(this[o],s);r.t=this.t}else{for(s=this.s&this.DM,o=e;o<t.t;++o)r[o]=i(s,t[o]);r.t=t.t}r.s=i(this.s,t.s),r.clamp()}function ot(t,i){return t&i}function st(t){var r=i();return this.bitwiseTo(t,ot,r),r}function et(t,i){return t|i}function ht(t){var r=i();return this.bitwiseTo(t,et,r),r}function nt(t,i){return t^i}function ft(t){var r=i();return this.bitwiseTo(t,nt,r),r}function ut(t,i){return t&~i}function at(t){var r=i();return this.bitwiseTo(t,ut,r),r}function pt(){for(var t=i(),r=0;r<this.t;++r)t[r]=this.DM&~this[r];return t.t=this.t,t.s=~this.s,t}function ct(t){var r=i();return t<0?this.rShiftTo(-t,r):this.lShiftTo(t,r),r}function mt(t){var r=i();return t<0?this.lShiftTo(-t,r):this.rShiftTo(t,r),r}function lt(t){if(0==t)return-1;var i=0;return 0==(65535&t)&&(t>>=16,i+=16),0==(255&t)&&(t>>=8,i+=8),0==(15&t)&&(t>>=4,i+=4),0==(3&t)&&(t>>=2,i+=2),0==(1&t)&&++i,i}function vt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+lt(this[t]);return this.s<0?this.t*this.DB:-1}function Tt(t){for(var i=0;0!=t;)t&=t-1,++i;return i}function yt(){for(var t=0,i=this.s&this.DM,r=0;r<this.t;++r)t+=Tt(this[r]^i);return t}function dt(t){var i=Math.floor(t/this.DB);return i>=this.t?0!=this.s:0!=(this[i]&1<<t%this.DB)}function Dt(i,r){var o=t.ONE.shiftLeft(i);return this.bitwiseTo(o,r,o),o}function gt(t){return this.changeBit(t,et)}function Bt(t){return this.changeBit(t,ut)}function bt(t){return this.changeBit(t,nt)}function St(t,i){for(var r=0,o=0,s=Math.min(t.t,this.t);r<s;)o+=this[r]+t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o+=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o+=t[r],i[r++]=o&this.DM,o>>=this.DB;o+=t.s}i.s=o<0?-1:0,o>0?i[r++]=o:o<-1&&(i[r++]=this.DV+o),i.t=r,i.clamp()}function Et(t){var r=i();return this.addTo(t,r),r}function wt(t){var r=i();return this.subTo(t,r),r}function Mt(t){var r=i();return this.multiplyTo(t,r),r}function At(t){var r=i();return this.divRemTo(t,r,null),r}function Rt(t){var r=i();return this.divRemTo(t,null,r),r}function Ot(t){var r=i(),o=i();return this.divRemTo(t,r,o),new Array(r,o)}function Ct(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Ft(t,i){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=t;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}function Vt(){}function kt(t){return t}function Nt(t,i,r){t.multiplyTo(i,r)}function Pt(t,i){t.squareTo(i)}function qt(t){return this.exp(t,new Vt)}function Lt(t,i,r){var o=Math.min(this.t+t.t,i);for(r.s=0,r.t=o;o>0;)r[--o]=0;var s;for(s=r.t-this.t;o<s;++o)r[o+this.t]=this.am(0,t[o],r,o,0,this.t);for(s=Math.min(t.t,i);o<s;++o)this.am(0,t[o],r,o,0,i-o);r.clamp()}function xt(t,i,r){--i;var o=r.t=this.t+t.t-i;for(r.s=0;--o>=0;)r[o]=0;for(o=Math.max(i-this.t,0);o<t.t;++o)r[this.t+o-i]=this.am(i-o,t[o],r,0,0,this.t+o-i);r.clamp(),r.drShiftTo(1,r)}function It(r){this.r2=i(),this.q3=i(),t.ONE.dlShiftTo(2*r.t,this.r2),this.mu=this.r2.divide(r),this.m=r}function Zt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var r=i();return t.copyTo(r),this.reduce(r),r}function zt(t){return t}function Ut(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function jt(t,i){t.squareTo(i),this.reduce(i)}function Ht(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function _t(t,r){var o=t.bitLength(),s,e=u(1),h;if(o<=0)return e;s=o<18?1:o<48?3:o<144?4:o<768?5:6,h=o<8?new A(r):r.isEven()?new It(r):new N(r);var n=new Array,f=3,a=s-1,p=(1<<s)-1;if(n[1]=h.convert(this),s>1){var c=i();for(h.sqrTo(n[1],c);f<=p;)n[f]=i(),h.mulTo(c,n[f-2],n[f]),f+=2}var m=t.t-1,l,v=!0,y=i(),d;for(o=T(t[m])-1;m>=0;){for(o>=a?l=t[m]>>o-a&p:(l=(t[m]&(1<<o+1)-1)<<a-o,m>0&&(l|=t[m-1]>>this.DB+o-a)),f=s;0==(1&l);)l>>=1,--f;if((o-=f)<0&&(o+=this.DB,--m),v)n[l].copyTo(e),v=!1;else{for(;f>1;)h.sqrTo(e,y),h.sqrTo(y,e),f-=2;f>0?h.sqrTo(e,y):(d=e,e=y,y=d),h.mulTo(y,n[l],e)}for(;m>=0&&0==(t[m]&1<<o);)h.sqrTo(e,y),d=e,e=y,y=d,--o<0&&(o=this.DB-1,--m)}return h.revert(e)}function Gt(t){var i=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(i.compareTo(r)<0){var o=i;i=r,r=o}var s=i.getLowestSetBit(),e=r.getLowestSetBit();if(e<0)return i;for(s<e&&(e=s),e>0&&(i.rShiftTo(e,i),r.rShiftTo(e,r));i.signum()>0;)(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),i.compareTo(r)>=0?(i.subTo(r,i),i.rShiftTo(1,i)):(r.subTo(i,r),r.rShiftTo(1,r));return e>0&&r.lShiftTo(e,r),r}function Jt(t){if(t<=0)return 0;var i=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==i)r=this[0]%t;else for(var o=this.t-1;o>=0;--o)r=(i*r+this[o])%t;return r}function Kt(i){var r=i.isEven();if(this.isEven()&&r||0==i.signum())return t.ZERO;for(var o=i.clone(),s=this.clone(),e=u(1),h=u(0),n=u(0),f=u(1);0!=o.signum();){for(;o.isEven();)o.rShiftTo(1,o),r?(e.isEven()&&h.isEven()||(e.addTo(this,e),h.subTo(i,h)),e.rShiftTo(1,e)):h.isEven()||h.subTo(i,h),h.rShiftTo(1,h);for(;s.isEven();)s.rShiftTo(1,s),r?(n.isEven()&&f.isEven()||(n.addTo(this,n),f.subTo(i,f)),n.rShiftTo(1,n)):f.isEven()||f.subTo(i,f),f.rShiftTo(1,f);o.compareTo(s)>=0?(o.subTo(s,o),r&&e.subTo(n,e),h.subTo(f,h)):(s.subTo(o,s),r&&n.subTo(e,n),f.subTo(h,f))}return 0!=s.compareTo(t.ONE)?t.ZERO:f.compareTo(i)>=0?f.subtract(i):f.signum()<0?(f.addTo(i,f),f.signum()<0?f.add(i):f):f}function Qt(t){var i,r=this.abs();if(1==r.t&&r[0]<=ei[ei.length-1]){for(i=0;i<ei.length;++i)if(r[0]==ei[i])return!0;return!1}if(r.isEven())return!1;for(i=1;i<ei.length;){for(var o=ei[i],s=i+1;s<ei.length&&o<hi;)o*=ei[s++];for(o=r.modInt(o);i<s;)if(o%ei[i++]==0)return!1}return r.millerRabin(t)}function Wt(r){var o=this.subtract(t.ONE),s=o.getLowestSetBit();if(s<=0)return!1;var e=o.shiftRight(s);(r=r+1>>1)>ei.length&&(r=ei.length);for(var h=i(),n=0;n<r;++n){h.fromInt(ei[n]);var f=h.modPow(e,this);if(0!=f.compareTo(t.ONE)&&0!=f.compareTo(o)){for(var u=1;u++<s&&0!=f.compareTo(o);)if(0==(f=f.modPowInt(2,this)).compareTo(t.ONE))return!1;if(0!=f.compareTo(o))return!1}}return!0}var Xt,Yt=0xdeadbeefcafe,$t=!0;t.prototype.am=s,Xt=28,t.prototype.DB=28,t.prototype.DM=268435455,t.prototype.DV=1<<28;var ti=52;t.prototype.FV=Math.pow(2,52),t.prototype.F1=24,t.prototype.F2=4;var ii="0123456789abcdefghijklmnopqrstuvwxyz",ri=new Array,oi,si;for(oi="0".charCodeAt(0),si=0;si<=9;++si)ri[oi++]=si;for(oi="a".charCodeAt(0),si=10;si<36;++si)ri[oi++]=si;for(oi="A".charCodeAt(0),si=10;si<36;++si)ri[oi++]=si;A.prototype.convert=R,A.prototype.revert=O,A.prototype.reduce=C,A.prototype.mulTo=F,A.prototype.sqrTo=V,N.prototype.convert=P,N.prototype.revert=q,N.prototype.reduce=L,N.prototype.mulTo=I,N.prototype.sqrTo=x,t.prototype.copyTo=n,t.prototype.fromInt=f,t.prototype.fromString=a,t.prototype.clamp=p,t.prototype.dlShiftTo=d,t.prototype.drShiftTo=D,t.prototype.lShiftTo=g,t.prototype.rShiftTo=B,t.prototype.subTo=b,t.prototype.multiplyTo=S,t.prototype.squareTo=E,t.prototype.divRemTo=w,t.prototype.invDigit=k,t.prototype.isEven=Z,t.prototype.exp=z,t.prototype.toString=c,t.prototype.negate=m,t.prototype.abs=l,t.prototype.compareTo=v,t.prototype.bitLength=y,t.prototype.mod=M,t.prototype.modPowInt=U,t.ZERO=u(0),t.ONE=u(1),Vt.prototype.convert=kt,Vt.prototype.revert=kt,Vt.prototype.mulTo=Nt,Vt.prototype.sqrTo=Pt,It.prototype.convert=Zt,It.prototype.revert=zt,It.prototype.reduce=Ut,It.prototype.mulTo=Ht,It.prototype.sqrTo=jt;var ei=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],hi=(1<<26)/ei[ei.length-1];return t.prototype.chunkSize=J,t.prototype.toRadix=Q,t.prototype.fromRadix=W,t.prototype.fromNumber=X,t.prototype.bitwiseTo=rt,t.prototype.changeBit=Dt,t.prototype.addTo=St,t.prototype.dMultiply=Ct,t.prototype.dAddOffset=Ft,t.prototype.multiplyLowerTo=Lt,t.prototype.multiplyUpperTo=xt,t.prototype.modInt=Jt,t.prototype.millerRabin=Wt,t.prototype.clone=j,t.prototype.intValue=H,t.prototype.byteValue=_,t.prototype.shortValue=G,t.prototype.signum=K,t.prototype.toByteArray=Y,t.prototype.equals=$,t.prototype.min=tt,t.prototype.max=it,t.prototype.and=st,t.prototype.or=ht,t.prototype.xor=ft,t.prototype.andNot=at,t.prototype.not=pt,t.prototype.shiftLeft=ct,t.prototype.shiftRight=mt,t.prototype.getLowestSetBit=vt,t.prototype.bitCount=yt,t.prototype.testBit=dt,t.prototype.setBit=gt,t.prototype.clearBit=Bt,t.prototype.flipBit=bt,t.prototype.add=Et,t.prototype.subtract=wt,t.prototype.multiply=Mt,t.prototype.divide=At,t.prototype.remainder=Rt,t.prototype.divideAndRemainder=Ot,t.prototype.modPow=_t,t.prototype.modInverse=Kt,t.prototype.pow=qt,t.prototype.gcd=Gt,t.prototype.isProbablePrime=Qt,t}()}).call(this),function(){(u={}).generateVerifier=function(t,r){var s=i(r),e=r&&r.salt||o.secret(),h,n=r&&r.hashedIdentityAndPassword;n||(h=r&&r.identity||o.secret(),n=s.hash(h+":"+t));var u=s.hash(e+n),a=new f(u,16);return{identity:h,salt:e,verifier:s.g.modPow(a,s.N).toString(16)}},u.matchVerifier={identity:String,salt:String,verifier:String};var t={hash:function(t){return h(t).toLowerCase()},N:new f("EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",16),g:new f("2")};t.k=new f(t.hash(t.N.toString(16)+t.g.toString(16)),16);var i=function(i){if(!i)return t;var r=n.extend({},t);return n.each(["N","g","k"],function(t){if(i[t])if("string"==typeof i[t])r[t]=new f(i[t],16);else{if(!(i[t]instanceof f))throw new Error("Invalid parameter: "+t);r[t]=i[t]}}),i.hash&&(r.hash=function(t){return i.hash(t).toLowerCase()}),!i.k&&(i.N||i.g||i.hash)&&(r.k=r.hash(r.N.toString(16)+r.g.toString(16))),r}}.call(this),"undefined"==typeof Package&&(Package={}),function(t,i){for(var r in i)r in t||(t[r]=i[r])}(Package.srp={},{SRP:u})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,a=Package.meteor.meteorEnv,s=Package["accounts-base"].Accounts,o=Package.srp.SRP,t=Package.sha.SHA256,n=Package.ejson.EJSON,c=Package["ddp-client"].DDP,d=Package.check.check,i=Package.check.Match,l=Package.underscore._,u=Package.modules.meteorInstall,m=Package.modules.process,g=Package["babel-runtime"].meteorBabelHelpers,w=Package.promise.Promise,P=Package["ecmascript-runtime-client"].Symbol,p=Package["ecmascript-runtime-client"].Map,h=Package["ecmascript-runtime-client"].Set;u({node_modules:{meteor:{"accounts-password":{"password_client.js":function(){function r(e,r){if(!r)throw e;r(e)}e.loginWithPassword=function(e,o,t){"string"==typeof e&&(e=-1===e.indexOf("@")?{username:e}:{email:e}),s.callLoginMethod({methodArguments:[{user:e,password:s._hashPassword(o)}],userCallback:function(s,n){s&&400===s.error&&"old password format"===s.reason?a({upgradeError:s,userSelector:e,plaintextPassword:o},t):s?r(s,t):t&&t()}})},s._hashPassword=function(e){return{digest:t(e),algorithm:"sha-256"}};var a=function(a,o){var c;try{c=n.parse(a.upgradeError.details)}catch(e){}c&&"srp"===c.format?s.callLoginMethod({methodArguments:[{user:a.userSelector,srp:t(c.identity+":"+a.plaintextPassword),password:s._hashPassword(a.plaintextPassword)}],userCallback:o}):r(new e.Error(400,"Password is old. Please reset your password."),o)};s.createUser=function(a,o){if("string"!=typeof(a=l.clone(a)).password)throw new Error("options.password must be a string");if(!a.password)return r(new e.Error(400,"Password may not be empty"),o);a.password=s._hashPassword(a.password),s.callLoginMethod({methodName:"createUser",methodArguments:[a],userCallback:o})},s.changePassword=function(o,t,n){return e.user()?(d(t,String),t?void s.connection.apply("changePassword",[o?s._hashPassword(o):null,s._hashPassword(t)],function(c,d){c||!d?c&&400===c.error&&"old password format"===c.reason?a({upgradeError:c,userSelector:{id:e.userId()},plaintextPassword:o},function(e){e?r(e,n):s.changePassword(o,t,n)}):r(c||new Error("No result from changePassword."),n):n&&n()}):r(new e.Error(400,"Password may not be empty"),n)):r(new Error("Must be logged in to change password."),n)},s.forgotPassword=function(a,o){if(!a.email)return r(new e.Error(400,"Must pass options.email"),o);o?s.connection.call("forgotPassword",a,o):s.connection.call("forgotPassword",a)},s.resetPassword=function(a,o,t){if(d(a,String),d(o,String),!o)return r(new e.Error(400,"Password may not be empty"),t);s.callLoginMethod({methodName:"resetPassword",methodArguments:[a,s._hashPassword(o)],userCallback:t})},s.verifyEmail=function(a,o){if(!a)return r(new e.Error(400,"Need to pass token"),o);s.callLoginMethod({methodName:"verifyEmail",methodArguments:[a],userCallback:o})}}}}}},{extensions:[".js",".json"]})("./node_modules/meteor/accounts-password/password_client.js"),"undefined"==typeof Package&&(Package={}),Package["accounts-password"]={}}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,o=Package.meteor.meteorEnv,i=Package.tracker.Tracker,t=Package.tracker.Deps,s=Package["service-configuration"].ServiceConfiguration,r=Package["accounts-base"].Accounts,l=Package.underscore._,u=Package["templating-runtime"].Template,a=Package.session.Session,c=Package.jquery.$,g=Package.jquery.jQuery,d=Package.blaze.Blaze,f=Package.blaze.UI,p=Package.blaze.Handlebars,m=Package.spacebars.Spacebars,w=Package.htmljs.HTML,k,_,v,h,b,L,I,B;(function(){r.ui={},r.ui._options={requestPermissions:{},requestOfflineToken:{},forceApprovalPrompt:{}},r.ui.config=function(n){var e=["passwordSignupFields","requestPermissions","requestOfflineToken","forceApprovalPrompt"];if(l.each(l.keys(n),function(n){if(!l.contains(e,n))throw new Error("Accounts.ui.config: Invalid key: "+n)}),n.passwordSignupFields){if(!l.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY","EMAIL_ONLY"],n.passwordSignupFields))throw new Error("Accounts.ui.config: Invalid option for `passwordSignupFields`: "+n.passwordSignupFields);if(r.ui._options.passwordSignupFields)throw new Error("Accounts.ui.config: Can't set `passwordSignupFields` more than once");r.ui._options.passwordSignupFields=n.passwordSignupFields}n.requestPermissions&&l.each(n.requestPermissions,function(n,e){if(r.ui._options.requestPermissions[e])throw new Error("Accounts.ui.config: Can't set `requestPermissions` more than once for "+e);if(!(n instanceof Array))throw new Error("Accounts.ui.config: Value for `requestPermissions` must be an array");r.ui._options.requestPermissions[e]=n}),n.requestOfflineToken&&l.each(n.requestOfflineToken,function(n,e){if("google"!==e)throw new Error("Accounts.ui.config: `requestOfflineToken` only supported for Google login at the moment.");if(r.ui._options.requestOfflineToken[e])throw new Error("Accounts.ui.config: Can't set `requestOfflineToken` more than once for "+e);r.ui._options.requestOfflineToken[e]=n}),n.forceApprovalPrompt&&l.each(n.forceApprovalPrompt,function(n,e){if("google"!==e)throw new Error("Accounts.ui.config: `forceApprovalPrompt` only supported for Google login at the moment.");if(r.ui._options.forceApprovalPrompt[e])throw new Error("Accounts.ui.config: Can't set `forceApprovalPrompt` more than once for "+e);r.ui._options.forceApprovalPrompt[e]=n})},k=function(){return r.ui._options.passwordSignupFields||"EMAIL_ONLY"}}).call(this),function(){u.__checkName("loginButtons"),u.loginButtons=new u("Template.loginButtons",function(){var n=this;return w.DIV({id:"login-buttons",class:function(){return["login-buttons-dropdown-align-",m.mustache(n.lookup("align"))]}},"\n    ",d.If(function(){return m.call(n.lookup("currentUser"))},function(){return["\n      ",d.If(function(){return m.call(n.lookup("loggingIn"))},function(){return["\n        \n        ",d.If(function(){return m.call(n.lookup("dropdown"))},function(){return["\n          ",m.include(n.lookupTemplate("_loginButtonsLoggingIn")),"\n        "]},function(){return["\n          ",w.DIV({class:"login-buttons-with-only-one-button"},"\n            ",m.include(n.lookupTemplate("_loginButtonsLoggingInSingleLoginButton")),"\n          "),"\n        "]}),"\n      "]},function(){return["\n        ",m.include(n.lookupTemplate("_loginButtonsLoggedIn")),"\n      "]}),"\n    "]},function(){return["\n      ",m.include(n.lookupTemplate("_loginButtonsLoggedOut")),"\n    "]}),"\n  ")}),u.__checkName("_loginButtonsLoggedIn"),u._loginButtonsLoggedIn=new u("Template._loginButtonsLoggedIn",function(){var n=this;return d.If(function(){return m.call(n.lookup("dropdown"))},function(){return["\n    ",m.include(n.lookupTemplate("_loginButtonsLoggedInDropdown")),"\n  "]},function(){return["\n    ",w.DIV({class:"login-buttons-with-only-one-button"},"\n      ",m.include(n.lookupTemplate("_loginButtonsLoggedInSingleLogoutButton")),"\n    "),"\n  "]})}),u.__checkName("_loginButtonsLoggedOut"),u._loginButtonsLoggedOut=new u("Template._loginButtonsLoggedOut",function(){var n=this;return d.If(function(){return m.call(n.lookup("services"))},function(){return[" \n    ",d.If(function(){return m.call(n.lookup("configurationLoaded"))},function(){return["\n      ",d.If(function(){return m.call(n.lookup("dropdown"))},function(){return[" \n        ",m.include(n.lookupTemplate("_loginButtonsLoggedOutDropdown")),"\n      "]},function(){return["\n        ",m.With(function(){return m.call(n.lookup("singleService"))},function(){return[" \n          ",w.DIV({class:"login-buttons-with-only-one-button"},"\n            ",d.If(function(){return m.call(n.lookup("loggingIn"))},function(){return["\n              ",m.include(n.lookupTemplate("_loginButtonsLoggingInSingleLoginButton")),"\n            "]},function(){return["\n              ",m.include(n.lookupTemplate("_loginButtonsLoggedOutSingleLoginButton")),"\n            "]}),"\n          "),"\n        "]}),"\n      "]}),"\n    "]}),"\n  "]},function(){return["\n    ",w.DIV({class:"no-services"},"No login services configured"),"\n  "]})}),u.__checkName("_loginButtonsMessages"),u._loginButtonsMessages=new u("Template._loginButtonsMessages",function(){var n=this;return[d.If(function(){return m.call(n.lookup("errorMessage"))},function(){return["\n    ",w.DIV({class:"message error-message"},d.View("lookup:errorMessage",function(){return m.mustache(n.lookup("errorMessage"))})),"\n  "]}),"\n  ",d.If(function(){return m.call(n.lookup("infoMessage"))},function(){return["\n    ",w.DIV({class:"message info-message"},d.View("lookup:infoMessage",function(){return m.mustache(n.lookup("infoMessage"))})),"\n  "]})]}),u.__checkName("_loginButtonsLoggingIn"),u._loginButtonsLoggingIn=new u("Template._loginButtonsLoggingIn",function(){var n=this;return[m.include(n.lookupTemplate("_loginButtonsLoggingInPadding")),w.Raw('\n  <div class="loading">&nbsp;</div>\n  '),m.include(n.lookupTemplate("_loginButtonsLoggingInPadding"))]}),u.__checkName("_loginButtonsLoggingInPadding"),u._loginButtonsLoggingInPadding=new u("Template._loginButtonsLoggingInPadding",function(){var n=this;return d.Unless(function(){return m.call(n.lookup("dropdown"))},function(){return["\n    \n    ",w.DIV({class:"login-buttons-padding"},"\n      ",w.DIV({class:"login-button single-login-button",style:"visibility: hidden;",id:"login-buttons-logout"},w.CharRef({html:"&nbsp;",str:""})),"\n    "),"\n  "]},function(){return["\n    \n    ",w.DIV({class:"login-buttons-padding"}),"\n  "]})})}.call(this),function(){u.__checkName("_loginButtonsLoggedOutSingleLoginButton"),u._loginButtonsLoggedOutSingleLoginButton=new u("Template._loginButtonsLoggedOutSingleLoginButton",function(){var n=this;return w.DIV({class:"login-text-and-button"},"\n    ",w.DIV({class:function(){return["login-button single-login-button ",d.Unless(function(){return m.call(n.lookup("configured"))},function(){return"configure-button"})]},id:function(){return["login-buttons-",m.mustache(n.lookup("name"))]}},"\n      ",w.DIV({class:"login-image",id:function(){return["login-buttons-image-",m.mustache(n.lookup("name"))]}}),"\n      ",d.If(function(){return m.call(n.lookup("configured"))},function(){return["\n        ",w.SPAN({class:function(){return["text-besides-image sign-in-text-",m.mustache(n.lookup("name"))]}},"Sign in with ",d.View("lookup:capitalizedName",function(){return m.mustache(n.lookup("capitalizedName"))})),"\n      "]},function(){return["\n        ",w.SPAN({class:function(){return["text-besides-image configure-text-",m.mustache(n.lookup("name"))]}},"Configure ",d.View("lookup:capitalizedName",function(){return m.mustache(n.lookup("capitalizedName"))})," Login"),"\n      "]}),"\n    "),"\n  ")}),u.__checkName("_loginButtonsLoggingInSingleLoginButton"),u._loginButtonsLoggingInSingleLoginButton=new u("Template._loginButtonsLoggingInSingleLoginButton",function(){var n=this;return w.DIV({class:"login-text-and-button"},"\n    ",m.include(n.lookupTemplate("_loginButtonsLoggingIn")),"\n  ")}),u.__checkName("_loginButtonsLoggedInSingleLogoutButton"),u._loginButtonsLoggedInSingleLogoutButton=new u("Template._loginButtonsLoggedInSingleLogoutButton",function(){var n=this;return w.DIV({class:"login-text-and-button"},"\n    ",w.DIV({class:"login-display-name"},"\n      ",d.View("lookup:displayName",function(){return m.mustache(n.lookup("displayName"))}),"\n    "),w.Raw('\n    <div class="login-button single-login-button" id="login-buttons-logout">Sign Out</div>\n  '))})}.call(this),function(){u.__checkName("_loginButtonsLoggedInDropdown"),u._loginButtonsLoggedInDropdown=new u("Template._loginButtonsLoggedInDropdown",function(){var n=this;return w.DIV({class:"login-link-and-dropdown-list"},"\n    ",w.A({class:"login-link-text",id:"login-name-link"},"\n      ",d.View("lookup:displayName",function(){return m.mustache(n.lookup("displayName"))})," \n    "),"\n\n    ",d.If(function(){return m.call(n.lookup("dropdownVisible"))},function(){return["\n      ",w.DIV({id:"login-dropdown-list",class:"accounts-dialog"},"\n        ",w.A({class:"login-close-text"},"Close"),"\n        ",w.DIV({class:"login-close-text-clear"}),"\n\n        ",d.If(function(){return m.call(n.lookup("inMessageOnlyFlow"))},function(){return["\n          ",m.include(n.lookupTemplate("_loginButtonsMessages")),"\n        "]},function(){return["\n          ",d.If(function(){return m.call(n.lookup("inChangePasswordFlow"))},function(){return["\n            ",m.include(n.lookupTemplate("_loginButtonsChangePassword")),"\n          "]},function(){return["\n            ",m.include(n.lookupTemplate("_loginButtonsLoggedInDropdownActions")),"\n          "]}),"\n        "]}),"\n      "),"\n    "]}),"\n  ")}),u.__checkName("_loginButtonsLoggedInDropdownActions"),u._loginButtonsLoggedInDropdownActions=new u("Template._loginButtonsLoggedInDropdownActions",function(){var n=this;return[d.If(function(){return m.call(n.lookup("allowChangingPassword"))},function(){return["\n    ",w.DIV({class:"login-button",id:"login-buttons-open-change-password"},"\n      Change password\n    "),"\n  "]}),w.Raw('\n\n  <div class="login-button" id="login-buttons-logout">\n    Sign out\n  </div>\n\n  '),m.include(n.lookupTemplate("_loginButtonsMessages"))]}),u.__checkName("_loginButtonsLoggedOutDropdown"),u._loginButtonsLoggedOutDropdown=new u("Template._loginButtonsLoggedOutDropdown",function(){var n=this;return w.DIV({class:function(){return["login-link-and-dropdown-list ",m.mustache(n.lookup("additionalClasses"))]}},"\n    ",d.If(function(){return m.call(n.lookup("dropdownVisible"))},function(){return["\n      \n      ",w.A({class:"login-link-text",id:"login-sign-in-link"},"Sign in "),"\n      ",w.DIV({id:"login-dropdown-list",class:"accounts-dialog"},"\n        ",w.A({class:"login-close-text"},"Close"),"\n        ",d.If(function(){return m.call(n.lookup("loggingIn"))},function(){return["\n          ",m.include(n.lookupTemplate("_loginButtonsLoggingIn")),"\n        "]}),"\n        ",w.DIV({class:"login-close-text-clear"}),"\n        ",m.include(n.lookupTemplate("_loginButtonsLoggedOutAllServices")),"\n      "),"\n    "]},function(){return["\n      ",d.If(function(){return m.call(n.lookup("loggingIn"))},function(){return["\n        \n        ",m.include(n.lookupTemplate("_loginButtonsLoggingIn")),"\n      "]},function(){return["\n        ",w.A({class:"login-link-text",id:"login-sign-in-link"},"Sign in "),"\n      "]}),"\n    "]}),"\n  ")}),u.__checkName("_loginButtonsLoggedOutAllServices"),u._loginButtonsLoggedOutAllServices=new u("Template._loginButtonsLoggedOutAllServices",function(){var n=this;return[d.Each(function(){return m.call(n.lookup("services"))},function(){return["\n    ",d.If(function(){return m.call(n.lookup("isPasswordService"))},function(){return["\n      ",d.If(function(){return m.call(n.lookup("hasOtherServices"))},function(){return[" \n        ",m.include(n.lookupTemplate("_loginButtonsLoggedOutPasswordServiceSeparator")),"\n      "]}),"\n      ",m.include(n.lookupTemplate("_loginButtonsLoggedOutPasswordService")),"\n    "]},function(){return["\n      ",m.include(n.lookupTemplate("_loginButtonsLoggedOutSingleLoginButton")),"\n    "]}),"\n  "]}),"\n\n  ",d.Unless(function(){return m.call(n.lookup("hasPasswordService"))},function(){return["\n    ",m.include(n.lookupTemplate("_loginButtonsMessages")),"\n  "]})]}),u.__checkName("_loginButtonsLoggedOutPasswordServiceSeparator"),u._loginButtonsLoggedOutPasswordServiceSeparator=new u("Template._loginButtonsLoggedOutPasswordServiceSeparator",function(){var n=this;return w.Raw('<div class="or">\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n    <span class="or-text">or</span>\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n  </div>')}),u.__checkName("_loginButtonsLoggedOutPasswordService"),u._loginButtonsLoggedOutPasswordService=new u("Template._loginButtonsLoggedOutPasswordService",function(){var n=this;return d.If(function(){return m.call(n.lookup("inForgotPasswordFlow"))},function(){return["\n    ",m.include(n.lookupTemplate("_forgotPasswordForm")),"\n  "]},function(){return["\n    ",w.DIV({class:"login-form login-password-form"},"\n      ",d.Each(function(){return m.call(n.lookup("fields"))},function(){return["\n        ",m.include(n.lookupTemplate("_loginButtonsFormField")),"\n      "]}),"\n\n      ",m.include(n.lookupTemplate("_loginButtonsMessages")),"\n\n      ",w.DIV({class:"login-button login-button-form-submit",id:"login-buttons-password"},"\n        ",d.If(function(){return m.call(n.lookup("inSignupFlow"))},function(){return"\n          Create account\n        "},function(){return"\n          Sign in\n        "}),"\n      "),"\n\n      ",d.If(function(){return m.call(n.lookup("inLoginFlow"))},function(){return["\n        ",d.If(function(){return m.call(n.lookup("showCreateAccountLink"))},function(){return["\n          ",w.DIV({class:"additional-link-container"},"\n            ",w.A({id:"signup-link",class:"additional-link"},"Create account"),"\n          "),"\n        "]}),"\n\n        ",d.If(function(){return m.call(n.lookup("showForgotPasswordLink"))},function(){return["\n          ",w.DIV({class:"additional-link-container"},"\n            ",w.A({id:"forgot-password-link",class:"additional-link"},"Forgot password"),"\n          "),"\n        "]}),"\n      "]}),"\n\n      ",d.If(function(){return m.call(n.lookup("inSignupFlow"))},function(){return["\n        ",m.include(n.lookupTemplate("_loginButtonsBackToLoginLink")),"\n      "]}),"\n    "),"\n  "]})}),u.__checkName("_forgotPasswordForm"),u._forgotPasswordForm=new u("Template._forgotPasswordForm",function(){var n=this;return w.DIV({class:"login-form"},w.Raw('\n    <div id="forgot-password-email-label-and-input"> \n      <label id="forgot-password-email-label" for="forgot-password-email">Email</label>\n      <input id="forgot-password-email" type="email">\n    </div>\n\n    '),m.include(n.lookupTemplate("_loginButtonsMessages")),w.Raw('\n\n    <div class="login-button login-button-form-submit" id="login-buttons-forgot-password">\n      Reset password\n    </div>\n\n    '),m.include(n.lookupTemplate("_loginButtonsBackToLoginLink")),"\n  ")}),u.__checkName("_loginButtonsBackToLoginLink"),u._loginButtonsBackToLoginLink=new u("Template._loginButtonsBackToLoginLink",function(){var n=this;return w.Raw('<div class="additional-link-container">\n    <a id="back-to-login-link" class="additional-link">Sign in</a>\n  </div>')}),u.__checkName("_loginButtonsFormField"),u._loginButtonsFormField=new u("Template._loginButtonsFormField",function(){var n=this;return d.If(function(){return m.call(n.lookup("visible"))},function(){return["\n    ",w.DIV({id:function(){return["login-",m.mustache(n.lookup("fieldName")),"-label-and-input"]}},"\n      ",w.LABEL({id:function(){return["login-",m.mustache(n.lookup("fieldName")),"-label"]},for:function(){return["login-",m.mustache(n.lookup("fieldName"))]}},"\n        ",d.View("lookup:fieldLabel",function(){return m.mustache(n.lookup("fieldLabel"))}),"\n      "),"\n      ",w.INPUT({id:function(){return["login-",m.mustache(n.lookup("fieldName"))]},type:function(){return m.mustache(n.lookup("inputType"))}}),"\n    "),"\n  "]})}),u.__checkName("_loginButtonsChangePassword"),u._loginButtonsChangePassword=new u("Template._loginButtonsChangePassword",function(){var n=this;return[d.Each(function(){return m.call(n.lookup("fields"))},function(){return["\n    ",m.include(n.lookupTemplate("_loginButtonsFormField")),"\n  "]}),"\n\n  ",m.include(n.lookupTemplate("_loginButtonsMessages")),w.Raw('\n\n  <div class="login-button login-button-form-submit" id="login-buttons-do-change-password">\n    Change password\n  </div>')]})}.call(this),function(){u.body.addContent(function(){var n=this;return[m.include(n.lookupTemplate("_resetPasswordDialog")),"\n  ",m.include(n.lookupTemplate("_justResetPasswordDialog")),"\n  ",m.include(n.lookupTemplate("_enrollAccountDialog")),"\n  ",m.include(n.lookupTemplate("_justVerifiedEmailDialog")),"\n  ",m.include(n.lookupTemplate("_configureLoginServiceDialog")),"\n  ",m.include(n.lookupTemplate("_configureLoginOnDesktopDialog")),"\n\n  \n  ",m.include(n.lookupTemplate("_loginButtonsMessagesDialog"))]}),n.startup(u.body.renderToDocument),u.__checkName("_resetPasswordDialog"),u._resetPasswordDialog=new u("Template._resetPasswordDialog",function(){var n=this;return d.If(function(){return m.call(n.lookup("inResetPasswordFlow"))},function(){return["\n    ",w.DIV({class:"hide-background"}),"\n\n    ",w.DIV({class:"accounts-dialog accounts-centered-dialog"},"\n      ",w.LABEL({id:"reset-password-new-password-label",for:"reset-password-new-password"},"\n        New password\n      "),"\n\n      ",w.DIV({class:"reset-password-new-password-wrapper"},"\n        ",w.INPUT({id:"reset-password-new-password",type:"password"}),"\n      "),"\n\n      ",m.include(n.lookupTemplate("_loginButtonsMessages")),"\n\n      ",w.DIV({class:"login-button login-button-form-submit",id:"login-buttons-reset-password-button"},"\n        Set password\n      "),"\n\n      ",w.A({class:"accounts-close",id:"login-buttons-cancel-reset-password"},w.CharRef({html:"&times;",str:""})),"\n    "),"\n  "]})}),u.__checkName("_justResetPasswordDialog"),u._justResetPasswordDialog=new u("Template._justResetPasswordDialog",function(){var n=this;return d.If(function(){return m.call(n.lookup("visible"))},function(){return["\n    ",w.DIV({class:"accounts-dialog accounts-centered-dialog"},"\n      Password reset.\n      You are now logged in as ",d.View("lookup:displayName",function(){return m.mustache(n.lookup("displayName"))}),".\n      ",w.DIV({class:"login-button",id:"just-verified-dismiss-button"},"Dismiss"),"\n    "),"\n  "]})}),u.__checkName("_enrollAccountDialog"),u._enrollAccountDialog=new u("Template._enrollAccountDialog",function(){var n=this;return d.If(function(){return m.call(n.lookup("inEnrollAccountFlow"))},function(){return["\n    ",w.DIV({class:"hide-background"}),"\n\n    ",w.DIV({class:"accounts-dialog accounts-centered-dialog"},"\n      ",w.LABEL({id:"enroll-account-password-label",for:"enroll-account-password"},"\n        Choose a password\n      "),"\n\n      ",w.DIV({class:"enroll-account-password-wrapper"},"\n        ",w.INPUT({id:"enroll-account-password",type:"password"}),"\n      "),"\n\n      ",m.include(n.lookupTemplate("_loginButtonsMessages")),"\n\n      ",w.DIV({class:"login-button login-button-form-submit",id:"login-buttons-enroll-account-button"},"\n        Create account\n      "),"\n\n      ",w.A({class:"accounts-close",id:"login-buttons-cancel-enroll-account"},w.CharRef({html:"&times;",str:""})),"\n    "),"\n  "]})}),u.__checkName("_justVerifiedEmailDialog"),u._justVerifiedEmailDialog=new u("Template._justVerifiedEmailDialog",function(){var n=this;return d.If(function(){return m.call(n.lookup("visible"))},function(){return["\n    ",w.DIV({class:"accounts-dialog accounts-centered-dialog"},"\n      Email verified.\n      You are now logged in as ",d.View("lookup:displayName",function(){return m.mustache(n.lookup("displayName"))}),".\n      ",w.DIV({class:"login-button",id:"just-verified-dismiss-button"},"Dismiss"),"\n    "),"\n  "]})}),u.__checkName("_configureLoginServiceDialog"),u._configureLoginServiceDialog=new u("Template._configureLoginServiceDialog",function(){var n=this;return d.If(function(){return m.call(n.lookup("visible"))},function(){return["\n    ",w.DIV({id:"configure-login-service-dialog",class:"accounts-dialog accounts-centered-dialog"},"\n      ",m.include(n.lookupTemplate("configurationSteps")),"\n\n      ",w.P("\n        Now, copy over some details.\n      "),"\n      ",w.P("\n        ",w.TABLE("\n          ",w.COLGROUP("\n            ",w.COL({span:"1",class:"configuration_labels"}),"\n            ",w.COL({span:"1",class:"configuration_inputs"}),"\n          "),"\n          ",d.Each(function(){return m.call(n.lookup("configurationFields"))},function(){return["\n            ",w.TR("\n              ",w.TD("\n                ",w.LABEL({for:function(){return["configure-login-service-dialog-",m.mustache(n.lookup("property"))]}},d.View("lookup:label",function(){return m.mustache(n.lookup("label"))})),"\n              "),"\n              ",w.TD("\n                ",w.INPUT({id:function(){return["configure-login-service-dialog-",m.mustache(n.lookup("property"))]},type:"text"}),"\n              "),"\n            "),"\n          "]}),"\n        "),"\n      "),"\n      ",w.P({class:"new-section"},"\n        Choose the login style:\n      "),"\n      ",w.P("\n        ",w.CharRef({html:"&emsp;",str:""}),w.INPUT({id:"configure-login-service-dialog-popupBasedLogin",type:"radio",checked:"checked",name:"loginStyle",value:"popup"}),"\n        ",w.LABEL({for:"configure-login-service-dialog-popupBasedLogin"},"Popup-based login (recommended for most applications)"),"\n\n        ",w.BR(),w.CharRef({html:"&emsp;",str:""}),w.INPUT({id:"configure-login-service-dialog-redirectBasedLogin",type:"radio",name:"loginStyle",value:"redirect"}),"\n        ",w.LABEL({for:"configure-login-service-dialog-redirectBasedLogin"},"\n          Redirect-based login (special cases explained\n          ",w.A({href:"https://github.com/meteor/meteor/wiki/OAuth-for-mobile-Meteor-clients#popup-versus-redirect-flow",target:"_blank"},"here"),")\n        "),"\n      "),"\n      ",w.DIV({class:"new-section"},"\n        ",w.DIV({class:"login-button configure-login-service-dismiss-button"},"\n          I'll do this later\n        "),"\n        ",w.A({class:"accounts-close configure-login-service-dismiss-button"},w.CharRef({html:"&times;",str:""})),"\n\n        ",w.DIV({class:function(){return["login-button login-button-configure ",d.If(function(){return m.call(n.lookup("saveDisabled"))},function(){return"login-button-disabled"})]},id:"configure-login-service-dialog-save-configuration"},"\n          Save Configuration\n        "),"\n      "),"\n    "),"\n  "]})}),u.__checkName("_loginButtonsMessagesDialog"),u._loginButtonsMessagesDialog=new u("Template._loginButtonsMessagesDialog",function(){var n=this;return d.If(function(){return m.call(n.lookup("visible"))},function(){return["\n    ",w.DIV({class:"accounts-dialog accounts-centered-dialog",id:"login-buttons-message-dialog"},"\n      ",m.include(n.lookupTemplate("_loginButtonsMessages")),"\n      ",w.DIV({class:"login-button",id:"messages-dialog-dismiss-button"},"Dismiss"),"\n    "),"\n  "]})}),u.__checkName("_configureLoginOnDesktopDialog"),u._configureLoginOnDesktopDialog=new u("Template._configureLoginOnDesktopDialog",function(){var n=this;return d.If(function(){return m.call(n.lookup("visible"))},function(){return["\n    ",w.DIV({class:"accounts-dialog accounts-centered-dialog",id:"configure-on-desktop-dialog"},"\n      ",w.P("\n        Please configure login on a desktop browser.\n      "),"\n      ",w.DIV({class:"login-button",id:"configure-on-desktop-dismiss-button"},"Dismiss"),"\n    "),"\n  "]})})}.call(this),function(){var e=["dropdownVisible","inSignupFlow","inForgotPasswordFlow","inChangePasswordFlow","inMessageOnlyFlow","errorMessage","infoMessage","resetPasswordToken","enrollAccountToken","justVerifiedEmail","justResetPassword","configureLoginServiceDialogVisible","configureLoginServiceDialogServiceName","configureLoginServiceDialogSaveDisabled","configureOnDesktopVisible"],o=function(n){if(!l.contains(e,n))throw new Error("Invalid key in loginButtonsSession: "+n)},i="Meteor.loginButtons.";r._loginButtonsSession={set:function(n,e){if(o(n),l.contains(["errorMessage","infoMessage"],n))throw new Error("Don't set errorMessage or infoMessage directly. Instead, use errorMessage() or infoMessage().");this._set(n,e)},_set:function(n,e){a.set(i+n,e)},get:function(n){return o(n),a.get(i+n)},closeDropdown:function(){this.set("inSignupFlow",!1),this.set("inForgotPasswordFlow",!1),this.set("inChangePasswordFlow",!1),this.set("inMessageOnlyFlow",!1),this.set("dropdownVisible",!1),this.resetMessages()},infoMessage:function(n){this._set("errorMessage",null),this._set("infoMessage",n),this.ensureMessageVisible()},errorMessage:function(n){this._set("errorMessage",n),this._set("infoMessage",null),this.ensureMessageVisible()},isMessageDialogVisible:function(){return this.get("resetPasswordToken")||this.get("enrollAccountToken")||this.get("justVerifiedEmail")},ensureMessageVisible:function(){this.isMessageDialogVisible()||this.set("dropdownVisible",!0)},resetMessages:function(){this._set("errorMessage",null),this._set("infoMessage",null)},configureService:function(e){n.isCordova?this.set("configureOnDesktopVisible",!0):(this.set("configureLoginServiceDialogVisible",!0),this.set("configureLoginServiceDialogServiceName",e),this.set("configureLoginServiceDialogSaveDisabled",!0))}}}.call(this),function(){var e=r._loginButtonsSession;u.loginButtons.events({"click #login-buttons-logout":function(){n.logout(function(){e.closeDropdown()})}}),u.registerHelper("loginButtons",function(){throw new Error("Use {{> loginButtons}} instead of {{loginButtons}}")}),_=function(){var e=n.user();return e?e.profile&&e.profile.name?e.profile.name:e.username?e.username:e.emails&&e.emails[0]&&e.emails[0].address?e.emails[0].address:"":""},v=function(){var n=this,e=Package["accounts-oauth"]?r.oauth.serviceNames():[];return e.sort(),h()&&e.push("password"),l.map(e,function(n){return{name:n}})},h=function(){return!!Package["accounts-password"]},b=function(){return h()||v().length>1},L=function(n){return n.length>=3||(e.errorMessage("Username must be at least 3 characters long"),!1)},I=function(n){return"USERNAME_AND_OPTIONAL_EMAIL"===k()&&""===n||(-1!==n.indexOf("@")||(e.errorMessage("Invalid email"),!1))},B=function(n){return n.length>=6||(e.errorMessage("Password must be at least 6 characters long"),!1)},u._loginButtonsLoggedOut.helpers({dropdown:b,services:v,singleService:function(){var n=v();if(1!==n.length)throw new Error("Shouldn't be rendering this template with more than one configured service");return n[0]},configurationLoaded:function(){return r.loginServicesConfigured()}}),u._loginButtonsLoggedIn.helpers({dropdown:b}),u._loginButtonsLoggedInSingleLogoutButton.helpers({displayName:_}),u._loginButtonsMessages.helpers({errorMessage:function(){return e.get("errorMessage")}}),u._loginButtonsMessages.helpers({infoMessage:function(){return e.get("infoMessage")}}),u._loginButtonsLoggingInPadding.helpers({dropdown:b})}.call(this),function(){var e=r._loginButtonsSession,o=function(n,o){o?o instanceof r.LoginCancelledError||(o instanceof s.ConfigError?e.configureService(n):e.errorMessage(o.reason||"Unknown error")):e.closeDropdown()};r.onPageLoadLogin(function(n){l.contains(l.pluck(v(),"name"),n.type)&&o(n.type,n.error)}),u._loginButtonsLoggedOutSingleLoginButton.events({"click .login-button":function(){var t=this.name;e.resetMessages();var s=n["loginWith"+("meteor-developer"===t?"MeteorDeveloperAccount":i(t))],l={};r.ui._options.requestPermissions[t]&&(l.requestPermissions=r.ui._options.requestPermissions[t]),r.ui._options.requestOfflineToken[t]&&(l.requestOfflineToken=r.ui._options.requestOfflineToken[t]),r.ui._options.forceApprovalPrompt[t]&&(l.forceApprovalPrompt=r.ui._options.forceApprovalPrompt[t]),s(l,function(n){o(t,n)})}}),u._loginButtonsLoggedOutSingleLoginButton.helpers({configured:function(){return!!s.configurations.findOne({service:this.name})},capitalizedName:function(){return"github"===this.name?"GitHub":"meteor-developer"===this.name?"Meteor":i(this.name)}});var i=function(n){return(n=null==n?"":String(n)).charAt(0).toUpperCase()+n.slice(1)}}.call(this),function(){var e=r._loginButtonsSession;u.loginButtons.events({"click #login-name-link, click #login-sign-in-link":function(){e.set("dropdownVisible",!0)},"click .login-close-text":function(){e.closeDropdown()}}),u._loginButtonsLoggedInDropdown.events({"click #login-buttons-open-change-password":function(){e.resetMessages(),e.set("inChangePasswordFlow",!0)}}),u._loginButtonsLoggedInDropdown.helpers({displayName:_,inChangePasswordFlow:function(){return e.get("inChangePasswordFlow")},inMessageOnlyFlow:function(){return e.get("inMessageOnlyFlow")},dropdownVisible:function(){return e.get("dropdownVisible")}}),u._loginButtonsLoggedInDropdownActions.helpers({allowChangingPassword:function(){var e=n.user();return e.username||e.emails&&e.emails[0]&&e.emails[0].address}}),u._loginButtonsLoggedOutDropdown.events({"click #login-buttons-password":function(){s()},"keypress #forgot-password-email":function(n){13===n.keyCode&&g()},"click #login-buttons-forgot-password":function(){g()},"click #signup-link":function(){e.resetMessages();var n=t("login-username"),s=t("login-email"),r=t("login-username-or-email"),l=o("login-password");e.set("inSignupFlow",!0),e.set("inForgotPasswordFlow",!1),i.flush(),null!==n?document.getElementById("login-username").value=n:null!==s?document.getElementById("login-email").value=s:null!==r&&(-1===r.indexOf("@")?document.getElementById("login-username").value=r:document.getElementById("login-email").value=r),null!==l&&(document.getElementById("login-password").value=l);var u=document.getElementById("login-dropdown-list");u.style.display="none",u.offsetHeight,u.style.display="block"},"click #forgot-password-link":function(){e.resetMessages();var n=t("login-email"),o=t("login-username-or-email");e.set("inSignupFlow",!1),e.set("inForgotPasswordFlow",!0),i.flush(),null!==n?document.getElementById("forgot-password-email").value=n:null!==o&&-1!==o.indexOf("@")&&(document.getElementById("forgot-password-email").value=o)},"click #back-to-login-link":function(){e.resetMessages();var n=t("login-username"),s=t("login-email")||t("forgot-password-email"),r=o("login-password");e.set("inSignupFlow",!1),e.set("inForgotPasswordFlow",!1),i.flush(),document.getElementById("login-username")&&null!==n&&(document.getElementById("login-username").value=n),document.getElementById("login-email")&&null!==s&&(document.getElementById("login-email").value=s);var l=document.getElementById("login-username-or-email");l&&(null!==s&&(l.value=s),null!==n&&(l.value=n)),null!==r&&(document.getElementById("login-password").value=r)},"keypress #login-username, keypress #login-email, keypress #login-username-or-email, keypress #login-password, keypress #login-password-again":function(n){13===n.keyCode&&s()}}),u._loginButtonsLoggedOutDropdown.helpers({additionalClasses:function(){return!!h()&&(e.get("inSignupFlow")?"login-form-create-account":e.get("inForgotPasswordFlow")?"login-form-forgot-password":"login-form-sign-in")},dropdownVisible:function(){return e.get("dropdownVisible")},hasPasswordService:h}),u._loginButtonsLoggedOutAllServices.helpers({services:v,isPasswordService:function(){return"password"===this.name},hasOtherServices:function(){return v().length>1},hasPasswordService:h}),u._loginButtonsLoggedOutPasswordService.helpers({fields:function(){var n=[{fieldName:"username-or-email",fieldLabel:"Username or Email",visible:function(){return l.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL"],k())}},{fieldName:"username",fieldLabel:"Username",visible:function(){return"USERNAME_ONLY"===k()}},{fieldName:"email",fieldLabel:"Email",inputType:"email",visible:function(){return"EMAIL_ONLY"===k()}},{fieldName:"password",fieldLabel:"Password",inputType:"password",visible:function(){return!0}}],o=[{fieldName:"username",fieldLabel:"Username",visible:function(){return l.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],k())}},{fieldName:"email",fieldLabel:"Email",inputType:"email",visible:function(){return l.contains(["USERNAME_AND_EMAIL","EMAIL_ONLY"],k())}},{fieldName:"email",fieldLabel:"Email (optional)",inputType:"email",visible:function(){return"USERNAME_AND_OPTIONAL_EMAIL"===k()}},{fieldName:"password",fieldLabel:"Password",inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:"Password (again)",inputType:"password",visible:function(){return l.contains(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],k())}}];return e.get("inSignupFlow")?o:n},inForgotPasswordFlow:function(){return e.get("inForgotPasswordFlow")},inLoginFlow:function(){return!e.get("inSignupFlow")&&!e.get("inForgotPasswordFlow")},inSignupFlow:function(){return e.get("inSignupFlow")},showCreateAccountLink:function(){return!r._options.forbidClientAccountCreation},showForgotPasswordLink:function(){return l.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","EMAIL_ONLY"],k())}}),u._loginButtonsFormField.helpers({inputType:function(){return this.inputType||"text"}}),u._loginButtonsChangePassword.events({"keypress #login-old-password, keypress #login-password, keypress #login-password-again":function(n){13===n.keyCode&&d()},"click #login-buttons-do-change-password":function(){d()}}),u._loginButtonsChangePassword.helpers({fields:function(){return[{fieldName:"old-password",fieldLabel:"Current Password",inputType:"password",visible:function(){return!0}},{fieldName:"password",fieldLabel:"New Password",inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:"New Password (again)",inputType:"password",visible:function(){return l.contains(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],k())}}]}});var o=function(n){var e=document.getElementById(n);return e?e.value:null},t=function(n){var e=document.getElementById(n);return e?e.value.replace(/^\s*|\s*$/g,""):null},s=function(){e.get("inSignupFlow")?c():a()},a=function(){e.resetMessages();var i=t("login-username"),s=t("login-email"),r=t("login-username-or-email"),l=o("login-password"),u;if(null!==i){if(!L(i))return;u={username:i}}else if(null!==s){if(!I(s))return;u={email:s}}else{if(null===r)throw new Error("Unexpected -- no element to use as a login user selector");if(!L(r))return;u=r}n.loginWithPassword(u,l,function(n,o){n?e.errorMessage(n.reason||"Unknown error"):e.closeDropdown()})},c=function(){e.resetMessages();var n={},i=t("login-username");if(null!==i){if(!L(i))return;n.username=i}var s=t("login-email");if(null!==s){if(!I(s))return;n.email=s}var l=o("login-password");B(l)&&(n.password=l,f()&&r.createUser(n,function(n){n?e.errorMessage(n.reason||"Unknown error"):e.closeDropdown()}))},g=function(){e.resetMessages();var n=t("forgot-password-email");-1!==n.indexOf("@")?r.forgotPassword({email:n},function(n){n?e.errorMessage(n.reason||"Unknown error"):e.infoMessage("Email sent")}):e.errorMessage("Invalid email")},d=function(){e.resetMessages();var n=o("login-old-password"),i=o("login-password");B(i)&&f()&&r.changePassword(n,i,function(n){n?e.errorMessage(n.reason||"Unknown error"):(e.set("inChangePasswordFlow",!1),e.set("inMessageOnlyFlow",!0),e.infoMessage("Password changed"))})},f=function(){var n=o("login-password-again");return null===n||o("login-password")===n||(e.errorMessage("Passwords don't match"),!1)}}.call(this),function(){var e=r._loginButtonsSession,o;r.onResetPasswordLink(function(n,i){e.set("resetPasswordToken",n),o=i}),r.onEnrollmentLink(function(n,i){e.set("enrollAccountToken",n),o=i}),r.onEmailVerificationLink(function(n,o){r.verifyEmail(n,function(n){n||e.set("justVerifiedEmail",!0),o()})}),u._resetPasswordDialog.events({"click #login-buttons-reset-password-button":function(){i()},"keypress #reset-password-new-password":function(n){13===n.keyCode&&i()},"click #login-buttons-cancel-reset-password":function(){e.set("resetPasswordToken",null),o&&o()}});var i=function(){e.resetMessages();var n=document.getElementById("reset-password-new-password").value;B(n)&&r.resetPassword(e.get("resetPasswordToken"),n,function(n){n?e.errorMessage(n.reason||"Unknown error"):(e.set("resetPasswordToken",null),e.set("justResetPassword",!0),o&&o())})};u._resetPasswordDialog.helpers({inResetPasswordFlow:function(){return e.get("resetPasswordToken")}}),u._justResetPasswordDialog.events({"click #just-verified-dismiss-button":function(){e.set("justResetPassword",!1)}}),u._justResetPasswordDialog.helpers({visible:function(){return e.get("justResetPassword")},displayName:_}),u._enrollAccountDialog.events({"click #login-buttons-enroll-account-button":function(){t()},"keypress #enroll-account-password":function(n){13===n.keyCode&&t()},"click #login-buttons-cancel-enroll-account":function(){e.set("enrollAccountToken",null),o&&o()}});var t=function(){e.resetMessages();var n=document.getElementById("enroll-account-password").value;B(n)&&r.resetPassword(e.get("enrollAccountToken"),n,function(n){n?e.errorMessage(n.reason||"Unknown error"):(e.set("enrollAccountToken",null),o&&o())})};u._enrollAccountDialog.helpers({inEnrollAccountFlow:function(){return e.get("enrollAccountToken")}}),u._justVerifiedEmailDialog.events({"click #just-verified-dismiss-button":function(){e.set("justVerifiedEmail",!1)}}),u._justVerifiedEmailDialog.helpers({visible:function(){return e.get("justVerifiedEmail")},displayName:_}),u._loginButtonsMessagesDialog.events({"click #messages-dialog-dismiss-button":function(){e.resetMessages()}}),u._loginButtonsMessagesDialog.helpers({visible:function(){var n=e.get("infoMessage")||e.get("errorMessage");return!b()&&n}}),u._configureLoginServiceDialog.events({"click .configure-login-service-dismiss-button":function(){e.set("configureLoginServiceDialogVisible",!1)},"click #configure-login-service-dialog-save-configuration":function(){if(e.get("configureLoginServiceDialogVisible")&&!e.get("configureLoginServiceDialogSaveDisabled")){var o=e.get("configureLoginServiceDialogServiceName"),i={service:o};l.each(g(),function(n){i[n.property]=document.getElementById("configure-login-service-dialog-"+n.property).value.replace(/^\s*|\s*$/g,"")}),i.loginStyle=c('#configure-login-service-dialog input[name="loginStyle"]:checked').val(),r.connection.call("configureLoginService",i,function(i,t){i?n._debug("Error configuring login service "+o,i):e.set("configureLoginServiceDialogVisible",!1)})}},"input, keyup input":function(n){0===n.target.id.indexOf("configure-login-service-dialog")&&s()}});var s=function(){var n=l.any(g(),function(n){return""===document.getElementById("configure-login-service-dialog-"+n.property).value});e.set("configureLoginServiceDialogSaveDisabled",n)},a=function(){var n=e.get("configureLoginServiceDialogServiceName");return u["configureLoginServiceDialogFor"+("meteor-developer"===n?"MeteorDeveloper":d(n))]},g=function(){return a().fields()};u._configureLoginServiceDialog.helpers({configurationFields:function(){return g()},visible:function(){return e.get("configureLoginServiceDialogVisible")},configurationSteps:function(){return a()},saveDisabled:function(){return e.get("configureLoginServiceDialogSaveDisabled")}});var d=function(n){return(n=null==n?"":String(n)).charAt(0).toUpperCase()+n.slice(1)};u._configureLoginOnDesktopDialog.helpers({visible:function(){return e.get("configureOnDesktopVisible")}}),u._configureLoginOnDesktopDialog.events({"click #configure-on-desktop-dismiss-button":function(){e.set("configureOnDesktopVisible",!1)}})}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-ui-unstyled"]={}}();

"undefined"==typeof Package&&(Package={}),Package["accounts-ui"]={};

!function(){var a;"undefined"==typeof Package&&(Package={}),function(a,n){for(var e in n)e in a||(a[e]=n[e])}(Package["mrgalaxy:stripe"]={},{STRIPEMETEOR:void 0})}();

"undefined"==typeof Package&&(Package={}),Package.oauth2={};

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,i=Package.meteor.meteorEnv,a=Package.oauth.OAuth,n=Package.oauth.Oauth,o=Package.underscore._,r=Package["templating-runtime"].Template,c=Package.random.Random,l=Package["service-configuration"].ServiceConfiguration,u=Package.blaze.Blaze,g=Package.blaze.UI,s=Package.blaze.Handlebars,h=Package.spacebars.Spacebars,p=Package.htmljs.HTML,b;(function(){r.__checkName("configureLoginServiceDialogForGithub"),r.configureLoginServiceDialogForGithub=new r("Template.configureLoginServiceDialogForGithub",function(){var e=this;return[p.Raw("<p>\n    First, you'll need to get a Github Client ID. Follow these steps:\n  </p>\n  "),p.OL("\n    ",p.Raw('<li>\n      Visit <a href="https://github.com/settings/applications/new" target="blank">https://github.com/settings/applications/new</a>\n    </li>'),"\n    ",p.LI("\n      Set Homepage URL to: ",p.SPAN({class:"url"},u.View("lookup:siteUrl",function(){return h.mustache(e.lookup("siteUrl"))})),"\n    "),"\n    ",p.LI("\n      Set Authorization callback URL to: ",p.SPAN({class:"url"},u.View("lookup:siteUrl",function(){return h.mustache(e.lookup("siteUrl"))}),"_oauth/github"),"\n    "),"\n  ")]})}).call(this),function(){r.configureLoginServiceDialogForGithub.helpers({siteUrl:function(){return e.absoluteUrl()}}),r.configureLoginServiceDialogForGithub.fields=function(){return[{property:"clientId",label:"Client ID"},{property:"secret",label:"Client Secret"}]}}.call(this),function(){(b={}).requestCredential=function(e,t){t||"function"!=typeof e||(t=e,e={});var i=l.configurations.findOne({service:"github"});if(i){var n=c.secret(),r=e&&e.requestPermissions||["user:email"],u=o.map(r,encodeURIComponent).join("+"),g=a._loginStyle("github",i,e),s="https://github.com/login/oauth/authorize?client_id="+i.clientId+"&scope="+u+"&redirect_uri="+a._redirectUri("github",i)+"&state="+a._stateParam(g,n,e&&e.redirectUrl);a.launchLogin({loginService:"github",loginStyle:g,loginUrl:s,credentialRequestCompleteCallback:t,credentialToken:n,popupOptions:{width:900,height:450}})}else t&&t(new l.ConfigError)}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var i in t)i in e||(e[i]=t[i])}(Package.github={},{Github:b})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,i=Package["accounts-base"].Accounts,c=Package.github.Github;(function(){i.oauth.registerService("github"),e.isClient?e.loginWithGithub=function(e,t){t||"function"!=typeof e||(t=e,e=null);var a=i.oauth.credentialRequestCompleteHandler(t);c.requestCredential(e,a)}:i.addAutopublishFields({forLoggedInUser:["services.github"],forOtherUsers:["services.github.username"]})}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-github"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package.underscore._,a=Package.check.check,i=Package.check.Match,l=Package.oauth.OAuth,r=Package.oauth.Oauth,c=Package["accounts-base"].Accounts;(function(){c.oauth.tryLinkAfterPopupClosed=function(n,t){var o=l._retrieveCredentialSecret(n);c.callLoginMethod({methodArguments:[{link:{credentialToken:n,credentialSecret:o}}],userCallback:t&&function(n){t(n&&n instanceof e.Error&&n.error===c.LoginCancelledError.numericError?new c.LoginCancelledError(n.details):n)}})},c.oauth.linkCredentialRequestCompleteHandler=function(e){return function(n){n&&n instanceof Error?e&&e(n):c.oauth.tryLinkAfterPopupClosed(n,e)}}}).call(this),function(){e.isClient&&(e.linkWithMeteorDeveloperAccount=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["accounts-meteor-developer"]&&!Package["meteor-developer"])throw new e.Error(403,"Please include accounts-meteor-developer and meteor-developer package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Package["meteor-developer"].MeteorDeveloperAccounts.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithFacebook=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(e.isCordova){if(!Package["btafel:accounts-facebook-cordova"])throw new e.Error(403,"Please include btafel:accounts-facebook-cordova package or cordova-fb package")}else if(!Package["accounts-facebook"]||!Package.facebook)throw new e.Error(403,"Please include accounts-facebook and facebook package or cordova-fb package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Package.facebook.Facebook.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithGithub=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["accounts-github"]&&!Package.github)throw new e.Error(403,"Please include accounts-github and github package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Package.github.Github.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithGoogle=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["accounts-google"]&&!Package.google)throw new e.Error(403,"Please include accounts-google and google package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Package.google.Google.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithMeetup=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["accounts-meetup"]&&!Package.meetup)throw new e.Error(403,"Please include accounts-meetup and meetup package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Package.meetup.Meetup.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithTwitter=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["accounts-twitter"]&&!Package.twitter)throw new e.Error(403,"Please include accounts-twitter and twitter package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Package.twitter.Twitter.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithWeibo=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["accounts-weibo"]&&!Package.weibo)throw new e.Error(403,"Please include accounts-weibo and weibo package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Package.weibo.Weibo.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithAngelList=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["nicolaiwadstrom:meteor-angellist"]||!Package["nicolaiwadstrom:meteor-accounts-angellist"])throw new e.Error(403,"Please include nicolaiwadstrom:meteor-angellist package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);AngelList.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithDropbox=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["gcampax:dropbox-oauth"])throw new e.Error(403,"Please include gcampax:dropbox-oauth package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);DropboxOAuth.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithEdmodo=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["merlin:accounts-edmodo"]&&!Package["merlin:edmodo"])throw new e.Error(403,"Please include merlin:accounts-edmodo and merlin:edmodo package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Edmodo.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithInstagram=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["bozhao:accounts-instagram"])throw new e.Error(403,"Please include bozhao:accounts-instagram package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Instagram.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithLinkedIn=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["jonperl:linkedin"])throw new e.Error(403,"Please include jonperl:linkedin package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);LinkedIn.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithMailru=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["mikepol:accounts-mailru"])throw new e.Error(403,"Please include mikepol:accounts-mailru package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Package["mikepol:accounts-mailru"].Mailru.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithQq=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["leonzhang1109:accounts-qq"])throw new e.Error(403,"Please include leonzhang1109:accounts-qq package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Qq.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithOk=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["mikepol:accounts-ok"])throw new e.Error(403,"Please include mikepol:accounts-ok package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Package["mikepol:accounts-ok"].OK.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithSlack=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["acemtp:accounts-slack"])throw new e.Error(403,"Please include acemtp:accounts-slack package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Slack.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithSpotify=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["xinranxiao:spotify"]||!Package["xinranxiao:accounts-spotify"])throw new e.Error(403,"Please include xinranxiao:meteor-spotify package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Spotify.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithSoundcloud=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["garbolino:accounts-soundcloud"])throw new e.Error(403,"Please include garbolino:accounts-soundcloud package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Soundcloud.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithTwitch=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["alexbeauchemin:accounts-twitch"])throw new e.Error(403,"Please include lexbeauchemin:accounts-twitch packages");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Package["alexbeauchemin:accounts-twitch"].TwitchAccounts.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithVenmo=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["pcooney10:accounts-venmo"])throw new e.Error(403,"Please include pcooney10:accounts-venmo package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Venmo.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithVk=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["mrt:accounts-vk"])throw new e.Error(403,"Please include mrt:accounts-vk package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Package["mrt:accounts-vk"].VK.requestCredential(n,o)})}.call(this),function(){e.isClient&&(e.linkWithWechat=function(n,t){if(!e.userId())throw new e.Error(402,"Please login to an existing account before link.");if(!Package["leonzhang1109:accounts-wechat"])throw new e.Error(403,"Please include leonzhang1109:accounts-wechat package");t||"function"!=typeof n||(t=n,n=null);var o=c.oauth.linkCredentialRequestCompleteHandler(t);Wechat.requestCredential(n,o)})}.call(this),"undefined"==typeof Package&&(Package={}),Package["bozhao:link-accounts"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv,c=Package.underscore._,n;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),function(e,a){for(var o in a)o in e||(e[o]=a[o])}(Package["bruz:github-api"]={},{GitHub:void 0})}();

"undefined"==typeof Package&&(Package={}),Package["phuocd:ace"]={};

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,t=Package.meteor.meteorEnv;(function(){var e=document.getElementsByTagName("head")[0],a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css",e.appendChild(a)}).call(this),"undefined"==typeof Package&&(Package={}),Package["natestrauser:font-awesome"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,o=Package.underscore._;(function(){o.extend(e.absoluteUrl.defaultOptions,{secure:!0})}).call(this),"undefined"==typeof Package&&(Package={}),Package["force-ssl"]={}}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,n=Package.meteor.meteorEnv,t=Package.oauth.OAuth,i=Package.oauth.Oauth,r=Package.underscore._,a=Package["service-configuration"].ServiceConfiguration,l=Package.random.Random,c=Package["templating-runtime"].Template,s=Package.blaze.Blaze,g=Package.blaze.UI,u=Package.blaze.Handlebars,p=Package.spacebars.Spacebars,d=Package.htmljs.HTML,f;(function(){c.__checkName("configureLoginServiceDialogForGoogle"),c.configureLoginServiceDialogForGoogle=new c("Template.configureLoginServiceDialogForGoogle",function(){var e=this;return[d.Raw("<p>\n    First, you'll need to get a Google Client ID. Follow these steps:\n  </p>\n  "),d.OL("\n    ",d.Raw('<li>\n      Visit <a href="https://console.developers.google.com/" target="blank">https://console.developers.google.com/</a>\n    </li>'),"\n    ",d.Raw('<li>\n      "Create Project", if needed. Wait for Google to finish provisioning.\n    </li>'),"\n    ",d.Raw('<li>\n      On the left sidebar, go to "Credentials" and, on the right, "OAuth consent screen". Make sure to enter an email address and a product name, and save.\n    </li>'),"\n    ",d.Raw('<li>\n      On the left sidebar, go to "Credentials". Click the "Create credentials" button, then select "OAuth client ID" as the type.\n    </li>'),"\n    ",d.Raw('<li>\n      Select "Web application" as your application type.\n    </li>'),"\n    ",d.LI("\n     Set Authorized Javascript Origins to: ",d.SPAN({class:"url"},s.View("lookup:siteUrl",function(){return p.mustache(e.lookup("siteUrl"))})),"\n    "),"\n    ",d.LI("\n      Set Authorized Redirect URI to: ",d.SPAN({class:"url"},s.View("lookup:siteUrl",function(){return p.mustache(e.lookup("siteUrl"))}),"_oauth/google"),"\n    "),"\n    ",d.Raw('<li>\n      Finish by clicking "Create".\n    </li>'),"\n  ")]})}).call(this),function(){c.configureLoginServiceDialogForGoogle.helpers({siteUrl:function(){return e.absoluteUrl()}}),c.configureLoginServiceDialogForGoogle.fields=function(){return[{property:"clientId",label:"Client ID"},{property:"secret",label:"Client secret"}]}}.call(this),function(){(f={}).requestCredential=function(e,o){o||"function"!=typeof e?e||(e={}):(o=e,e={});var n=a.configurations.findOne({service:"google"});if(n){var i=l.secret(),c=["email"],s=["profile"];e.requestPermissions&&(s=e.requestPermissions),s=r.union(s,c);var g={};n.loginUrlParameters&&r.extend(g,n.loginUrlParameters),e.loginUrlParameters&&r.extend(g,e.loginUrlParameters);var u=["response_type","client_id","scope","redirect_uri","state"];r.each(r.keys(g),function(e){if(r.contains(u,e))throw new Error("Google.requestCredential: Invalid loginUrlParameter: "+e)}),null!=e.requestOfflineToken&&(g.access_type=e.requestOfflineToken?"offline":"online"),null!=e.prompt?g.prompt=e.prompt:e.forceApprovalPrompt&&(g.prompt="consent"),e.loginHint&&(g.login_hint=e.loginHint);var p=t._loginStyle("google",n,e);r.extend(g,{response_type:"code",client_id:n.clientId,scope:s.join(" "),redirect_uri:t._redirectUri("google",n),state:t._stateParam(p,i,e.redirectUrl)});var d="https://accounts.google.com/o/oauth2/auth?"+r.map(g,function(e,o){return encodeURIComponent(o)+"="+encodeURIComponent(e)}).join("&");t.launchLogin({loginService:"google",loginStyle:p,loginUrl:d,credentialRequestCompleteCallback:o,credentialToken:i,popupOptions:{height:600}})}else o&&o(new a.ConfigError)}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,o){for(var n in o)n in e||(e[n]=o[n])}(Package.google={},{Google:f})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,t=Package.meteor.meteorEnv,a=Package.underscore._,i=Package.random.Random,r=Package["accounts-base"].Accounts,n=Package.google.Google;(function(){r.oauth.registerService("google"),e.isClient?e.loginWithGoogle=function(e,o){o||"function"!=typeof e||(o=e,e=null),"string"==typeof r._options.restrictCreationByEmailDomain&&((e=a.extend({},e||{})).loginUrlParameters=a.extend({},e.loginUrlParameters||{}),e.loginUrlParameters.hd=r._options.restrictCreationByEmailDomain);var t=r.oauth.credentialRequestCompleteHandler(o);n.requestCredential(e,t)}:r.addAutopublishFields({forLoggedInUser:a.map(n.whitelistedFields.concat(["accessToken","expiresAt"]),function(e){return"services.google."+e}),forOtherUsers:a.map(a.without(n.whitelistedFields,"email","verified_email"),function(e){return"services.google."+e})})}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-google"]={}}();

!function(){var r=Package.meteor.Meteor,n=Package.meteor.global,e=Package.meteor.meteorEnv;(function(){(function(){!function(r){function n(r){return r}function e(r,n){for(var e=0,t=n.length,u=new Array(t);e<t;++e)u[e]=r[n[e]];return u}function t(r){function n(n,e,t,u){for(;t<u;){var f=t+u>>>1;r(n[f])<e?t=f+1:u=f}return t}function e(n,e,t,u){for(;t<u;){var f=t+u>>>1;e<r(n[f])?u=f:t=f+1}return t}return e.right=e,e.left=n,e}function u(r){function n(r,n,e){for(var u=e-n,f=1+(u>>>1);--f>0;)t(r,f,u,n);return r}function e(r,n,e){for(var u=e-n,f;--u>0;)f=r[n],r[n]=r[n+u],r[n+u]=f,t(r,1,u,n);return r}function t(n,e,t,u){for(var f=n[--u+e],o=r(f),i;(i=e<<1)<=t&&(i<t&&r(n[u+i])>r(n[u+i+1])&&i++,!(o<=r(n[u+i])));)n[u+e]=n[u+i],e=i;n[u+e]=f}return n.sort=e,n}function f(r){function n(n,t,u,f){var o=new Array(f=Math.min(u-t,f)),i,a,c,l;for(a=0;a<f;++a)o[a]=n[t++];if(e(o,0,f),t<u){i=r(o[0]);do{(c=r(l=n[t])>i)&&(o[0]=l,i=r(e(o,0,f)[0]))}while(++t<u)}return o}var e=u(r);return n}function o(r){function n(n,e,t){for(var u=e+1;u<t;++u){for(var f=u,o=n[u],i=r(o);f>e&&r(n[f-1])>i;--f)n[f]=n[f-1];n[f]=o}return n}return n}function i(r){function n(r,n,u){return(u-n<O?t:e)(r,n,u)}function e(e,t,u){var f=(u-t)/6|0,o=t+f,i=u-1-f,a=t+u-1>>1,c=a-f,l=a+f,v=e[o],s=r(v),h=e[c],d=r(h),p=e[a],g=r(p),y=e[l],k=r(y),m=e[i],w=r(m),b;s>d&&(b=v,v=h,h=b,b=s,s=d,d=b),k>w&&(b=y,y=m,m=b,b=k,k=w,w=b),s>g&&(b=v,v=p,p=b,b=s,s=g,g=b),d>g&&(b=h,h=p,p=b,b=d,d=g,g=b),s>k&&(b=v,v=y,y=b,b=s,s=k,k=b),g>k&&(b=p,p=y,y=b,b=g,g=k,k=b),d>w&&(b=h,h=m,m=b,b=d,d=w,w=b),d>g&&(b=h,h=p,p=b,b=d,d=g,g=b),k>w&&(b=y,y=m,m=b,b=k,k=w,w=b);var x=h,A=d,E=y,O=k;e[o]=v,e[c]=e[t],e[a]=p,e[l]=e[u-1],e[i]=m;var M=t+1,P=u-2,U=A<=O&&A>=O;if(U)for(var z=M;z<=P;++z){var N=e[z];if((q=r(N))<A)z!==M&&(e[z]=e[M],e[M]=N),++M;else if(q>A)for(;;){if(!((S=r(e[P]))>A)){if(S<A){e[z]=e[M],e[M++]=e[P],e[P--]=N;break}e[z]=e[P],e[P--]=N;break}P--}}else for(var z=M;z<=P;z++){var N=e[z];if((q=r(N))<A)z!==M&&(e[z]=e[M],e[M]=N),++M;else if(q>O)for(;;){if(!((S=r(e[P]))>O)){S<A?(e[z]=e[M],e[M++]=e[P],e[P--]=N):(e[z]=e[P],e[P--]=N);break}if(--P<z)break}}if(e[t]=e[M-1],e[M-1]=x,e[u-1]=e[P+1],e[P+1]=E,n(e,t,M-1),n(e,P+2,u),U)return e;if(M<o&&P>i){for(var C,S;(C=r(e[M]))<=A&&C>=A;)++M;for(;(S=r(e[P]))<=O&&S>=O;)--P;for(var z=M;z<=P;z++){var N=e[z],q=r(N);if(q<=A&&q>=A)z!==M&&(e[z]=e[M],e[M]=N),M++;else if(q<=O&&q>=O)for(;;){if(!((S=r(e[P]))<=O&&S>=O)){S<A?(e[z]=e[M],e[M++]=e[P],e[P--]=N):(e[z]=e[P],e[P--]=N);break}if(--P<z)break}}}return n(e,M,P+1)}var t=o(r);return n}function a(r){for(var n=new Array(r),e=-1;++e<r;)n[e]=0;return n}function c(r,n){for(var e=r.length;e<n;)r[e++]=0;return r}function l(r,n){if(n>32)throw new Error("invalid array width!");return r}function v(r,n){return function(e){var t=e.length;return[r.left(e,n,0,t),r.right(e,n,0,t)]}}function s(r,n){var e=n[0],t=n[1];return function(n){var u=n.length;return[r.left(n,e,0,u),r.left(n,t,0,u)]}}function h(r){return[0,r.length]}function d(){return null}function p(){return 0}function g(r){return r+1}function y(r){return r-1}function k(r){return function(n,e){return n+ +r(e)}}function m(r){return function(n,e){return n-r(e)}}function w(){function r(r){var n=O,e=r.length;return e&&(w=w.concat(r),C=z(C,O+=e),q.forEach(function(t){t(r,n,e)})),l}function t(){for(var r=b(O,O),n=[],e=0,t=0;e<O;++e)C[e]?r[e]=t++:n.push(e);S.forEach(function(r){r(0,[],n)}),F.forEach(function(n){n(r)});for(var e=0,t=0,u;e<O;++e)(u=C[e])&&(e!==t&&(C[t]=u,w[t]=w[e]),++t);for(w.length=t;O>t;)C[--O]=0}function o(r){function t(n,t,u){X=n.map(r),Y=Z(x(u),0,u),X=e(X,Y);var f=$(X),o=f[0],i=f[1],a;if(_)for(a=0;a<u;++a)_(X[a],a)||(C[Y[a]+t]|=Q);else{for(a=0;a<o;++a)C[Y[a]+t]|=Q;for(a=i;a<u;++a)C[Y[a]+t]|=Q}if(!t)return V=X,W=Y,er=o,void(tr=i);var c=V,l=W,v=0,s=0;for(V=new Array(O),W=b(O,O),a=0;v<t&&s<u;++a)c[v]<X[s]?(V[a]=c[v],W[a]=l[v++]):(V[a]=X[s],W[a]=Y[s++]+t);for(;v<t;++v,++a)V[a]=c[v],W[a]=l[v];for(;s<u;++s,++a)V[a]=X[s],W[a]=Y[s]+t;f=$(V),er=f[0],tr=f[1]}function o(r,n,e){rr.forEach(function(r){r(X,Y,n,e)}),X=Y=null}function a(r){for(var n=0,e=0,t;n<O;++n)C[t=W[n]]&&(n!==e&&(V[e]=V[n]),W[e]=r[t],++e);for(V.length=e;e<O;)W[e++]=0;var u=$(V);er=u[0],tr=u[1]}function c(r){var n=r[0],e=r[1];if(_)return _=null,D(function(r,t){return n<=t&&t<e}),er=n,tr=e,L;var t,u,f,o=[],i=[];if(n<er)for(t=n,u=Math.min(er,e);t<u;++t)C[f=W[t]]^=Q,o.push(f);else if(n>er)for(t=er,u=Math.min(n,tr);t<u;++t)C[f=W[t]]^=Q,i.push(f);if(e>tr)for(t=Math.max(n,tr),u=e;t<u;++t)C[f=W[t]]^=Q,o.push(f);else if(e<tr)for(t=Math.max(er,e),u=tr;t<u;++t)C[f=W[t]]^=Q,i.push(f);return er=n,tr=e,S.forEach(function(r){r(Q,o,i)}),L}function l(r){return null==r?j():Array.isArray(r)?R(r):"function"==typeof r?B(r):M(r)}function M(r){return c(($=v(E,r))(V))}function R(r){return c(($=s(E,r))(V))}function j(){return c(($=h)(V))}function B(r){return $=h,D(_=r),er=0,tr=O,L}function D(r){var n,e,t,u=[],f=[];for(n=0;n<O;++n)!(C[e=W[n]]&Q)^!!(t=r(V[n],n))&&(t?(C[e]&=T,u.push(e)):(C[e]|=Q,f.push(e)));S.forEach(function(r){r(Q,u,f)})}function G(r){for(var n=[],e=tr,t;--e>=er&&r>0;)C[t=W[e]]||(n.push(w[t]),--r);return n}function H(r){for(var n=[],e=er,t;e<tr&&r>0;)C[t=W[e]]||(n.push(w[t]),--r),e++;return n}function I(r){function e(n,e,t,u){function f(){++G===D&&(v=N(v,B<<=1),j=N(j,B),D=A(B))}var l=R,v=b(G,D),s=J,h=L,p=G,g=0,y=0,k,m,x,E,M,P;for(Z&&(s=h=d),R=new Array(G),G=0,j=p>1?z(j,O):b(O,D),p&&(x=(m=l[0]).key);y<u&&!((E=r(n[y]))>=E);)++y;for(;y<u;){for(m&&x<=E?(M=m,P=x,v[g]=G,(m=l[++g])&&(x=m.key)):(M={key:E,value:h()},P=E),R[G]=M;!(E>P||(j[k=e[y]+t]=G,C[k]&T||(M.value=s(M.value,w[k])),++y>=u));)E=r(n[y]);f()}for(;g<p;)R[v[g]=G]=l[g++],f();if(G>g)for(g=0;g<t;++g)j[g]=v[j[g]];k=S.indexOf(X),G>1?(X=o,Y=a):(!G&&$&&(G=1,R=[{key:null,value:h()}]),1===G?(X=i,Y=c):(X=d,Y=d),j=null),S[k]=X}function t(){if(G>1){for(var r=G,n=R,e=b(r,r),t=0,u=0;t<O;++t)C[t]&&(e[j[u]=j[t]]=1,++u);for(R=[],G=0,t=0;t<r;++t)e[t]&&(e[t]=G++,R.push(n[t]));if(G>1)for(var t=0;t<u;++t)j[t]=e[j[t]];else j=null;S[S.indexOf(X)]=G>1?(Y=a,X=o):1===G?(Y=c,X=i):Y=X=d}else if(1===G){if($)return;for(var t=0;t<O;++t)if(C[t])return;R=[],G=0,S[S.indexOf(X)]=X=Y=d}}function o(r,n,e){if(r!==Q&&!Z){var t,u,f,o;for(t=0,f=n.length;t<f;++t)C[u=n[t]]&T||((o=R[j[u]]).value=J(o.value,w[u]));for(t=0,f=e.length;t<f;++t)(C[u=e[t]]&T)===r&&((o=R[j[u]]).value=K(o.value,w[u]))}}function i(r,n,e){if(r!==Q&&!Z){var t,u,f,o=R[0];for(t=0,f=n.length;t<f;++t)C[u=n[t]]&T||(o.value=J(o.value,w[u]));for(t=0,f=e.length;t<f;++t)(C[u=e[t]]&T)===r&&(o.value=K(o.value,w[u]))}}function a(){var r,n;for(r=0;r<G;++r)R[r].value=L();for(r=0;r<O;++r)C[r]&T||((n=R[j[r]]).value=J(n.value,w[r]))}function c(){var r,n=R[0];for(n.value=L(),r=0;r<O;++r)C[r]&T||(n.value=J(n.value,w[r]))}function l(){return Z&&(Y(),Z=!1),R}function v(r){var n=H(l(),0,R.length,r);return I.sort(n,0,n.length)}function s(r,n,e){return J=r,K=n,L=e,Z=!0,q}function h(){return s(g,y,p)}function x(r){return s(k(r),m(r),p)}function E(r){function n(n){return r(n.value)}return H=f(n),I=u(n),q}function M(){return E(n)}function P(){return G}function U(){var r=S.indexOf(X);return r>=0&&S.splice(r,1),(r=rr.indexOf(e))>=0&&rr.splice(r,1),(r=F.indexOf(t))>=0&&F.splice(r,1),q}var q={top:v,all:l,reduce:s,reduceCount:h,reduceSum:x,order:E,orderNatural:M,size:P,dispose:U,remove:U};nr.push(q);var R,j,B=8,D=A(B),G=0,H,I,J,K,L,X=d,Y=d,Z=!0,$=r===d;return arguments.length<1&&(r=n),S.push(X),rr.push(e),F.push(t),e(V,W,0,O),h().orderNatural()}function J(){var r=I(d),n=r.all;return delete r.all,delete r.top,delete r.order,delete r.orderNatural,delete r.size,r.value=function(){return n()[0].value},r}function K(){nr.forEach(function(r){r.dispose()});var r=q.indexOf(t);return r>=0&&q.splice(r,1),(r=q.indexOf(o))>=0&&q.splice(r,1),(r=F.indexOf(a))>=0&&F.splice(r,1),P&=T,j()}var L={filter:l,filterExact:M,filterRange:R,filterFunction:B,filterAll:j,top:G,bottom:H,group:I,groupAll:J,dispose:K,remove:K},Q=~P&-~P,T=~Q,V,W,X,Y,Z=i(function(r){return X[r]}),$=h,_,rr=[],nr=[],er=0,tr=0;return q.unshift(t),q.push(o),F.push(a),P|=Q,(U>=32?!Q:P&(1<<U)-1)&&(C=N(C,U<<=1)),t(w,0,O),o(w,0,O),L}function a(){function r(r,n){var e;if(!h)for(e=n;e<O;++e)C[e]||(c=l(c,w[e]))}function n(r,n,e){var t,u,f;if(!h){for(t=0,f=n.length;t<f;++t)C[u=n[t]]||(c=l(c,w[u]));for(t=0,f=e.length;t<f;++t)C[u=e[t]]===r&&(c=v(c,w[u]))}}function e(){var r;for(c=s(),r=0;r<O;++r)C[r]||(c=l(c,w[r]))}function t(r,n,e){return l=r,v=n,s=e,h=!0,a}function u(){return t(g,y,p)}function f(r){return t(k(r),m(r),p)}function o(){return h&&(e(),h=!1),c}function i(){var e=S.indexOf(n);return e>=0&&S.splice(e),(e=q.indexOf(r))>=0&&q.splice(e),a}var a={reduce:t,reduceCount:u,reduceSum:f,value:o,dispose:i,remove:i},c,l,v,s,h=!0;return S.push(n),q.push(r),r(w,0,O),u()}function c(){return O}var l={add:r,remove:t,dimension:o,groupAll:a,size:c},w=[],O=0,P=0,U=8,C=M(0),S=[],q=[],F=[];return arguments.length?r(arguments[0]):l}function b(r,n){return(n<257?M:n<65537?P:U)(r)}function x(r){for(var n=b(r,r),e=-1;++e<r;)n[e]=e;return n}function A(r){return 8===r?256:16===r?65536:4294967296}w.version="1.3.11",w.permute=e;var E=w.bisect=t(n);E.by=t,(w.heap=u(n)).by=u,(w.heapselect=f(n)).by=f,(w.insertionsort=o(n)).by=o,(w.quicksort=i(n)).by=i;var O=32,M=a,P=a,U=a,z=c,N=l;"undefined"!=typeof Uint8Array&&(M=function(r){return new Uint8Array(r)},P=function(r){return new Uint16Array(r)},U=function(r){return new Uint32Array(r)},z=function(r,n){if(r.length>=n)return r;var e=new r.constructor(n);return e.set(r),e},N=function(r,n){var e;switch(n){case 16:e=P(r.length);break;case 32:e=U(r.length);break;default:throw new Error("invalid array width!")}return e.set(r),e}),r.crossfilter=w}("undefined"!=typeof exports&&exports||this)}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["enteye:crossfilter"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.oauth.OAuth,o=Package.oauth.Oauth,i=Package.underscore._,r=Package["service-configuration"].ServiceConfiguration,c=Package.random.Random,l=Package["templating-runtime"].Template,s=Package.blaze.Blaze,p=Package.blaze.UI,u=Package.blaze.Handlebars,m=Package.spacebars.Spacebars,g=Package.htmljs.HTML,h;(function(){(function(){l.__checkName("configureLoginServiceDialogForSmartsheet"),l.configureLoginServiceDialogForSmartsheet=new l("Template.configureLoginServiceDialogForSmartsheet",function(){var e=this;return[g.Raw("<p>\n    First, you'll need to get a Smartsheet Client ID. Follow these steps:\n  </p>\n  "),g.OL("\n    ",g.Raw('<li>\n      Visit <a href="https://app.smartsheet.com/b/home" target="blank">https://app.smartsheet.com/b/home</a>\n    </li>'),"\n    ",g.Raw("<li>\n      Click 'Account' on the top left\n    </li>"),"\n    ",g.Raw("<li>\n      Choose Developer Tools\n    </li>"),"\n    ",g.Raw('<li>\n      Click the "Create New App" button\n    </li>'),"\n    ",g.Raw("<li>\n      Fill in 'App name' (ex: Local Meteor Dev), 'App description' (ex: Meteor Smartsheet OAuth), 'App contact/support' (ex: contact@mydomain.com)\n    </li>"),"\n    ",g.LI("\n      Set 'App redirect URL' to: ",g.SPAN({class:"url"},s.View(function(){return m.mustache(e.lookup("siteUrl"))}),"_oauth/smartsheet"),"\n    "),"\n    ",g.Raw("<li>\n      Copy and paste 'App client id' and 'App client secret' to below fields\n    </li>"),"\n    ",g.Raw('<li>\n      Click "Save" button\n    </li>'),"\n  ")]})}).call(this),function(){l.configureLoginServiceDialogForSmartsheet.helpers({siteUrl:function(){return e.absoluteUrl()}}),l.configureLoginServiceDialogForSmartsheet.fields=function(){return[{property:"clientId",label:"Client ID"},{property:"secret",label:"Client secret"}]}}.call(this),function(){(h={}).requestCredential=function(e,t){t||"function"!=typeof e?e||(e={}):(t=e,e={});var n=r.configurations.findOne({service:"smartsheet"});if(n){var o=c.secret(),l=["profile"],s=["email"];e.requestPermissions&&(s=e.requestPermissions),s=i.union(s,l);var p=i.map(s,encodeURIComponent).join("+"),u=e.requestOfflineToken?"offline":"online",m=e.forceApprovalPrompt?"force":"auto",g=a._loginStyle("smartsheet",n,e),h="https://www.smartsheet.com/b/authorize?response_type=code&client_id="+n.clientId+"&scope=READ_SHEETS%20WRITE_SHEETS&redirect_uri="+a._redirectUri("smartsheet",n)+"&state="+a._stateParam(g,o);"string"==typeof Accounts._options.restrictCreationByEmailDomain&&(h+="&hd="+encodeURIComponent(Accounts._options.restrictCreationByEmailDomain)),a.launchLogin({loginService:"smartsheet",loginStyle:g,loginUrl:h,credentialRequestCompleteCallback:t,credentialToken:o,popupOptions:{height:406}})}else t&&t(new r.ConfigError)}}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["sangd:meteor-smartsheet"]={},{Smartsheet:h})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,s=Package.underscore._,r=Package.random.Random,n=Package["accounts-base"].Accounts,c=Package["sangd:meteor-smartsheet"].Smartsheet;(function(){(function(){n.oauth.registerService("smartsheet"),e.isClient?e.loginWithSmartsheet=function(e,t){t||"function"!=typeof e||(t=e,e=null);var a=n.oauth.credentialRequestCompleteHandler(t);c.requestCredential(e,a)}:n.addAutopublishFields({forLoggedInUser:s.map(c.whitelistedFields.concat(["accessToken","expiresAt"]),function(e){return"services.smartsheet."+e}),forOtherUsers:s.map(s.without(c.whitelistedFields,"email","verified_email"),function(e){return"services.smartsheet."+e})})}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["sangd:meteor-accounts-smartsheet"]={}}();

"undefined"==typeof Package&&(Package={}),Package["npm-container"]={};

"undefined"==typeof Package&&(Package={}),Package["standard-minifier-css"]={};

"undefined"==typeof Package&&(Package={}),Package["standard-minifier-js"]={};

"undefined"==typeof Package&&(Package={}),Package["shell-server"]={};

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.tracker.Tracker,r=Package.tracker.Deps,o=Package.retry.Retry,i=Package["ddp-client"].DDP,s=Package.mongo.Mongo,c=Package.underscore._,u,l;(function(){var t=__meteor_runtime_config__.autoupdateVersion||"unknown",n=__meteor_runtime_config__.autoupdateVersionRefreshable||"unknown";u=new s.Collection("meteor_autoupdate_clientVersions"),(l={}).newClientAvailable=function(){return!!u.findOne({_id:"version",version:{$ne:t}})||!!u.findOne({_id:"version-refreshable",version:{$ne:n}})},l._ClientVersions=u;var a=!1,r=new o({minCount:0,baseTimeout:3e4}),i=0;l._retrySubscription=function(){e.subscribe("meteor_autoupdate_clientVersions",{onError:function(t){e._debug("autoupdate subscription failed:",t),i++,r.retryLater(i,function(){l._retrySubscription()})},onReady:function(){if(Package.reload)var r=function(r){var i=this;if("version-refreshable"===r._id&&r.version!==n){n=r.version;var s=r.assets&&r.assets.allCss||[],u=[];c.each(document.getElementsByTagName("link"),function(e){"__meteor-css__"===e.className&&u.push(e)});var l=function(t,n){var r=c.once(n);if(t.onload=function(){a=!0,r()},!a)var o=e.setInterval(function(){t.sheet&&(r(),e.clearInterval(o))},50)},d=c.after(s.length,function(){c.each(u,function(e){e.parentNode.removeChild(e)})}),f=function(t){document.getElementsByTagName("head").item(0).appendChild(t),l(t,function(){e.setTimeout(d,200)})};0!==s.length?c.each(s,function(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("class","__meteor-css__"),t.setAttribute("href",e.url),f(t)}):d()}else"version"===r._id&&r.version!==t&&(o&&o.stop(),Package.reload&&Package.reload.Reload._reload())},o=u.find().observe({added:r,changed:r})}})},l._retrySubscription()}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.autoupdate={},{Autoupdate:l})}();

"undefined"==typeof Package&&(Package={}),Package["meteor-platform"]={};

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,n=Package.meteor.meteorEnv,t;(function(){var e=(t={extensions:{}}).forEach=function(e,r){if("function"==typeof e.forEach)e.forEach(r);else{var n,t=e.length;for(n=0;n<t;n++)r(e[n],n,e)}},r=function(e){return e.replace(/[_-]||\s/g,"").toLowerCase()};t.converter=function(e){var n,a,c,o=0,l=[],i=[];if("undefind"!=typeof module&&"undefined"!=typeof exports&&"undefind"!=typeof require){var u=require("fs");if(u){var p=u.readdirSync((__dirname||".")+"/extensions").filter(function(e){return~e.indexOf(".js")}).map(function(e){return e.replace(/\.js$/,"")});t.forEach(p,function(e){var n=r(e);t.extensions[n]=require("./extensions/"+e)})}}if(this.makeHtml=function(e){return n={},a={},c=[],e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=D(e),e=e.replace(/^[ \t]+$/gm,""),t.forEach(l,function(r){e=g(r,e)}),e=C(e),e=d(e),e=s(e),e=m(e),e=j(e),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),t.forEach(i,function(r){e=g(r,e)}),e},e&&e.extensions){var f=this;t.forEach(e.extensions,function(e){if("string"==typeof e&&(e=t.extensions[r(e)]),"function"!=typeof e)throw"Extension '"+e+"' could not be loaded.  It was either not found or is not a valid extension.";t.forEach(e(f),function(e){e.type?"language"===e.type||"lang"===e.type?l.push(e):"output"!==e.type&&"html"!==e.type||i.push(e):i.push(e)})})}var g=function(e,r){if(e.regex){var n=new RegExp(e.regex,"g");return r.replace(n,e.replace)}if(e.filter)return e.filter(r)},s=function(e){return e+="~0",e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(e,r,t,c,o){return r=r.toLowerCase(),n[r]=A(t),c?c+o:(o&&(a[r]=o.replace(/"/g,"&quot;")),"")}),e=e.replace(/~0/,"")},d=function(e){var r="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del|style|section|header|footer|nav|article|aside",n="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside";return e=(e=e.replace(/\n/g,"\n\n")).replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,h),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,h),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,h),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,h),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,h),e=e.replace(/\n\n/g,"\n")},h=function(e,r){var n=r;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(c.push(n)-1)+"K\n\n"},m=function(e){e=y(e);var r=q("<hr />");return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,r),e=_(e),e=S(e),e=L(e),e=d(e),e=z(e)},v=function(e){return e=K(e),e=$(e),e=B(e),e=x(e),e=w(e),e=M(e),e=A(e),e=T(e),e=e.replace(/  +\n/g," <br />\n")},$=function(e){var r=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(r,function(e){var r=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return r=I(r,"\\`*_")})},w=function(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,k),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,k),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,k)},k=function(e,r,t,c,o,l,i,u){void 0==u&&(u="");var p=r,f=t,g=c.toLowerCase(),s=o,d=u;if(""==s)if(""==g&&(g=f.toLowerCase().replace(/ ?\n/g," ")),s="#"+g,void 0!=n[g])s=n[g],void 0!=a[g]&&(d=a[g]);else{if(!(p.search(/\(\s*\)$/m)>-1))return p;s=""}var h='<a href="'+(s=I(s,"*_"))+'"';return""!=d&&(d=d.replace(/"/g,"&quot;"),h+=' title="'+(d=I(d,"*_"))+'"'),h+=">"+f+"</a>"},x=function(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,E),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,E)},E=function(e,r,t,c,o,l,i,u){var p=r,f=t,g=c.toLowerCase(),s=o,d=u;if(d||(d=""),""==s){if(""==g&&(g=f.toLowerCase().replace(/ ?\n/g," ")),s="#"+g,void 0==n[g])return p;s=n[g],void 0!=a[g]&&(d=a[g])}f=f.replace(/"/g,"&quot;");var h='<img src="'+(s=I(s,"*_"))+'" alt="'+f+'"';return d=d.replace(/"/g,"&quot;"),d=I(d,"*_"),h+=' title="'+d+'"',h+=" />"},y=function(e){function r(e){return e.replace(/[^\w]/g,"").toLowerCase()}return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,n){return q('<h1 id="'+r(n)+'">'+v(n)+"</h1>")}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,n){return q('<h2 id="'+r(n)+'">'+v(n)+"</h2>")}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,n,t){var a=n.length;return q("<h"+a+' id="'+r(t)+'">'+v(t)+"</h"+a+">")})},b,_=function(e){e+="~0";var r=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return o?e=e.replace(r,function(e,r,n){var t=r,a=n.search(/[*+-]/g)>-1?"ul":"ol";t=t.replace(/\n{2,}/g,"\n\n\n");var c=b(t);return c=c.replace(/\s+$/,""),c="<"+a+">"+c+"</"+a+">\n"}):(r=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(r,function(e,r,n,t){var a=r,c=n,o=t.search(/[*+-]/g)>-1?"ul":"ol",c=c.replace(/\n{2,}/g,"\n\n\n"),l=b(c);return l=a+"<"+o+">\n"+l+"</"+o+">\n"})),e=e.replace(/~0/,"")};b=function(e){return o++,e=e.replace(/\n{2,}$/,"\n"),e+="~0",e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,r,n,t,a){var c=a,o=n;return r||c.search(/\n{2,}/)>-1?c=m(H(c)):(c=(c=_(H(c))).replace(/\n$/,""),c=v(c)),"<li>"+c+"</li>\n"}),e=e.replace(/~0/g,""),o--,e};var S=function(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,r,n){var t=r,a=n;return t=P(H(t)),t=D(t),t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,""),t="<pre><code>"+t+"\n</code></pre>",q(t)+a}),e=e.replace(/~0/,"")},C=function(e){return e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,r,n){var t=r,a=n;return a=P(a),a=D(a),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),a="<pre><code"+(t?' class="'+t+'"':"")+">"+a+"\n</code></pre>",q(a)}),e=e.replace(/~0/,"")},q=function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(c.push(e)-1)+"K\n\n"},K=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,r,n,t,a){var c=t;return c=c.replace(/^([ \t]*)/g,""),c=c.replace(/[ \t]*$/g,""),c=P(c),r+"<code>"+c+"</code>"})},P=function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=I(e,"*_{}[]\\",!1)},T=function(e){return e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},L=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,r){var n=r;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=m(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,r){var n=r;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),q("<blockquote>\n"+n+"\n</blockquote>")})},z=function(e){for(var r=(e=(e=e.replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),n=[],t=r.length,a=0;a<t;a++){var o=r[a];o.search(/~K(\d+)K/g)>=0?n.push(o):o.search(/\S/)>=0&&(o=(o=v(o)).replace(/^([ \t]*)/g,"<p>"),o+="</p>",n.push(o))}t=n.length;for(var a=0;a<t;a++)for(;n[a].search(/~K(\d+)K/)>=0;){var l=c[RegExp.$1];l=l.replace(/\$/g,"$$$$"),n[a]=n[a].replace(/~K\d+K/,l)}return n.join("\n\n")},A=function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},B=function(e){return e=e.replace(/\\(\\)/g,O),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,O)},M=function(e){return e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),e=e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(e,r){return R(j(r))})},R=function(e){var r=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"==e)e=r[Math.floor(2*Math.random())](e);else if(":"!=e){var n=Math.random();e=n>.9?r[2](e):n>.45?r[1](e):r[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')},j=function(e){return e=e.replace(/~E(\d+)E/g,function(e,r){var n=parseInt(r);return String.fromCharCode(n)})},H=function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")},D=function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,r,n){for(var t=r,a=4-t.length%4,c=0;c<a;c++)t+=" ";return t}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")},I=function(e,r,n){var t="(["+r.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(t="\\\\"+t);var a=new RegExp(t,"g");return e=e.replace(a,O)},O=function(e,r){return"~E"+r.charCodeAt(0)+"E"}},"undefined"!=typeof module&&(module.exports=t),"function"==typeof define&&define.amd&&define("showdown",function(){return t})}).call(this),function(){if(Package.templating){var e=Package.templating.Template,r=Package.blaze.Blaze,n=Package.htmljs.HTML;r.Template.registerHelper("markdown",new e("markdown",function(){var e=this,a="";e.templateContentBlock&&(a=r._toText(e.templateContentBlock,n.TEXTMODE.STRING));var c=new t.converter;return n.Raw(c.makeHtml(a))}))}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,r){for(var n in r)n in e||(e[n]=r[n])}(Package.markdown={},{Showdown:t})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,n;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),function(e,a){for(var c in a)c in e||(e[c]=a[c])}(Package["meteorhacks:async"]={},{Async:n})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,n=Package.underscore._,c=Package.modules.meteorInstall,o=Package.modules.process,s=Package["babel-runtime"].meteorBabelHelpers,r=Package.promise.Promise,i=Package["ecmascript-runtime-client"].Symbol,m=Package["ecmascript-runtime-client"].Map,u=Package["ecmascript-runtime-client"].Set,l;c({node_modules:{meteor:{webapp:{"webapp_client.js":function(){l={_isCssLoaded:function(){return 0===document.styleSheets.length||n.find(document.styleSheets,function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!n.find(e.cssRules,function(e){return".meteor-css-not-found-error"===e.selectorText})})}}}}}}},{extensions:[".js",".json"]})("./node_modules/meteor/webapp/webapp_client.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var a in t)a in e||(e[a]=t[a])}(Package.webapp={},{WebApp:l})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package.ejson.EJSON,a=Package.modules.meteorInstall,f=Package.modules.process,o,c;a({node_modules:{meteor:{logging:{"logging.js":["cli-color",function(t){var n=0,a=[],f=0;(o=function(){return o.info.apply(this,arguments)})._intercept=function(e){n+=e},o._suppress=function(e){f+=e},o._intercepted=function(){var e=a;return a=[],n=0,e},o.outputFormat="json";var c={debug:"green",warn:"magenta",error:"red"},l="blue",s=["time","timeInexact","level","file","line","program","originApp","satellite","stderr"],u=s.concat(["app","message"]),p=function(t){var n=o.format(t),r=t.level;"undefined"!=typeof console&&console[r]?console[r](n):e._debug(n)};o._getCallerDetails=function(){var e=function(){return(new Error).stack}();if(!e)return{};for(var t=e.split("\n"),n,r=1;r<t.length;++r){if((n=t[r]).match(/^\s*at eval \(eval/))return{file:"eval"};if(!n.match(/packages\/(?:local-test[:_])?logging(?:\/|\.js)/))break}var i={},a=/(?:[@(]| at )([^(]+?):([0-9:]+)(?:\)|$)/.exec(n);return a?(i.line=a[2].split(":")[0],i.file=a[1].split("/").slice(-1)[0].split("?")[0],i):i},r.each(["debug","info","warn","error"],function(t){o[t]=function(c){if(f)f--;else{var l=!1;n&&(n--,l=!0);var u=!r.isObject(c)||r.isRegExp(c)||r.isDate(c)?{message:new String(c).toString()}:c;if(r.each(s,function(e){if(u[e])throw new Error("Can't set '"+e+"' in log message")}),r.has(u,"message")&&!r.isString(u.message))throw new Error("The 'message' field in log objects must be a string");if(u.omitCallerDetails||(u=r.extend(o._getCallerDetails(),u)),u.time=new Date,u.level=t,"debug"!==t)if(l)a.push(i.stringify(u));else if(e.isServer)if("colored-text"===o.outputFormat)console.log(o.format(u,{color:!0}));else{if("json"!==o.outputFormat)throw new Error("Unknown logging output format: "+o.outputFormat);console.log(i.stringify(u))}else p(u)}}}),o.parse=function(e){var t=null;if(e&&"{"===e.charAt(0))try{t=i.parse(e)}catch(e){}return t&&t.time&&t.time instanceof Date?t:null},o.format=function(n,a){n=i.clone(n),a=a||{};var f=n.time;if(!(f instanceof Date))throw new Error("'time' must be a Date object");var o=n.timeInexact,l=n.level||"info",s=n.file,p=n.line,d=n.app||"",b=n.originApp,m=n.message||"",h=n.program||"",v=n.satellite,g=n.stderr||"";r.each(u,function(e){delete n[e]}),r.isEmpty(n)||(m&&(m+=" "),m+=i.stringify(n));var x=function(e){return e<10?"0"+e:e.toString()},y=function(e){return e<100?"0"+x(e):e.toString()},j=f.getFullYear().toString()+x(f.getMonth()+1)+x(f.getDate()),O=x(f.getHours())+":"+x(f.getMinutes())+":"+x(f.getSeconds())+"."+y(f.getMilliseconds()),_="("+-(new Date).getTimezoneOffset()/60+")",w="";d&&(w+=d),b&&b!==d&&(w+=" via "+b),w&&(w="["+w+"] ");var A=[];h&&A.push(h),s&&A.push(s),p&&A.push(p);var N=r.isEmpty(A)?"":"("+A.join(":")+") ";v&&(N+=["[",v,"]"].join(""));var S=g?"(STDERR) ":"",z=function(n,r){return a.color&&e.isServer&&r?t("cli-color")[r](n):n};return z([l.charAt(0).toUpperCase(),j,"-",O,_,o?"? ":" ",w,N,S].join(""),a.metaColor||"blue")+z(m,c[l])},o.objFromText=function(e,t){var n={message:e,level:"info",time:new Date,timeInexact:!0};return r.extend(n,t)}}],node_modules:{"cli-color":{"package.json":function(e,t){t.name="cli-color",t.version="0.2.3",t.main="lib"},lib:{"index.js":["es5-ext/lib/Object/descriptor","es5-ext/lib/Object/extend","es5-ext/lib/Object/map","es5-ext/lib/Object/reduce","es5-ext/lib/String/prototype/repeat","memoizee","tty","./_xterm-match",function(e,t,n){"use strict";var r=e("es5-ext/lib/Object/descriptor"),i=e("es5-ext/lib/Object/extend"),a=e("es5-ext/lib/Object/map"),o=e("es5-ext/lib/Object/reduce"),c=e("es5-ext/lib/String/prototype/repeat"),l=e("memoizee"),s=e("tty"),u=Array.prototype.join,p=Object.defineProperty,d=Object.defineProperties,b=Math.abs,m=Math.floor,h=Math.max,v=Math.min,g,x,y,j,O,_,w,A,N,S,z;g=i({bold:{_bold:[1,22]},italic:{_italic:[3,23]},underline:{_underline:[4,24]},blink:{_blink:[5,25]},inverse:{_inverse:[7,27]},strike:{_strike:[9,29]}},["black","red","green","yellow","blue","magenta","cyan","white"].reduce(function(e,t,n){return e[t]={_fg:[30+n,39]},e[t+"Bright"]={_fg:[90+n,39]},e["bg"+t[0].toUpperCase()+t.slice(1)]={_bg:[40+n,49]},e["bg"+t[0].toUpperCase()+t.slice(1)+"Bright"]={_bg:[100+n,49]},e},{})),z=l(function(e,t){return p(y(),"_cliColorData",r(i({},e._cliColorData,t)))}),x=Object.create(Function.prototype,i(a(g,function(e){return r.gs(function(){return z(this,e)})}),{xterm:r(l(function(e){return e=isNaN(e)?255:v(h(e,0),255),p(y(),"_cliColorData",r(i({},this._cliColorData,{_fg:[O?O[e]:"38;5;"+e,39]})))},{method:"xterm"})),bgXterm:r(l(function(e){return e=isNaN(e)?255:v(h(e,0),255),p(y(),"_cliColorData",r(i({},this._cliColorData,{_bg:[O?O[e]+10:"48;5;"+e,49]})))},{method:"bgXterm"}))})),"win32"===f.platform&&(O=e("./_xterm-match")),y=function(){var e=function(){var t=e._cliColorData,n="";return o(t,function(e,t){return n="["+t[1]+"m"+n,e+"["+t[0]+"m"},"",!0)+u.call(arguments," ")+n};return e.__proto__=x,e},j=function(e){return function(t){return(t=isNaN(t)?0:h(m(t),0))?"["+t+e:""}},n.exports=d(y(),{width:r.gs(f.stdout.getWindowSize?function(){return f.stdout.getWindowSize()[0]}:function(){return s.getWindowSize?s.getWindowSize()[1]:0}),height:r.gs(S=f.stdout.getWindowSize?function(){return f.stdout.getWindowSize()[1]}:function(){return s.getWindowSize?s.getWindowSize()[0]:0}),reset:r.gs(function(){return c.call("\n",S()-1)+"c"}),up:r(_=j("A")),down:r(w=j("B")),right:r(A=j("C")),left:r(N=j("D")),move:r(function(e,t){return e=isNaN(e)?0:m(e),t=isNaN(t)?0:m(t),(e>0?A(e):N(-e))+(t>0?w(t):_(-t))}),moveTo:r(function(e,t){return e=isNaN(e)?1:h(m(e),0)+1,"["+(t=isNaN(t)?1:h(m(t),0)+1)+";"+e+"H"}),bol:r(function(e){var t;return e=isNaN(e)?0:Number(e),t=e>=0?"E":"F",e=m(b(e)),arguments[1]?(e&&"F"!==t?"":"[0EK")+c.call("[1"+t+"[K",e):"["+e+t}),beep:r(""),xtermSupported:r(!O),_cliColorData:r({})})}],"_xterm-match.js":["./_xterm-colors",function(e,t,n){"use strict";var r=Array.prototype.push,i=Array.prototype.reduce,a=Math.abs,f,o,c,l;for(f=e("./_xterm-colors").map(function(e){return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4),16)}}),o=f.slice(0,16),n.exports=c=[],l=0;l<8;)c.push(30+l++);for(l=0;l<8;)c.push(90+l++);r.apply(c,f.slice(16).map(function(e){var t,n=1/0;return o.every(function(r,f){var o=i.call("rgb",function(t,n){return t+=a(r[n]-e[n])},0);return o<n&&(t=f,n=o),o}),c[t]}))}],"_xterm-colors.js":function(e,t,n){"use strict";n.exports=["000000","800000","008000","808000","000080","800080","008080","c0c0c0","808080","ff0000","00ff00","ffff00","0000ff","ff00ff","00ffff","ffffff","000000","00005f","000087","0000af","0000d7","0000ff","005f00","005f5f","005f87","005faf","005fd7","005fff","008700","00875f","008787","0087af","0087d7","0087ff","00af00","00af5f","00af87","00afaf","00afd7","00afff","00d700","00d75f","00d787","00d7af","00d7d7","00d7ff","00ff00","00ff5f","00ff87","00ffaf","00ffd7","00ffff","5f0000","5f005f","5f0087","5f00af","5f00d7","5f00ff","5f5f00","5f5f5f","5f5f87","5f5faf","5f5fd7","5f5fff","5f8700","5f875f","5f8787","5f87af","5f87d7","5f87ff","5faf00","5faf5f","5faf87","5fafaf","5fafd7","5fafff","5fd700","5fd75f","5fd787","5fd7af","5fd7d7","5fd7ff","5fff00","5fff5f","5fff87","5fffaf","5fffd7","5fffff","870000","87005f","870087","8700af","8700d7","8700ff","875f00","875f5f","875f87","875faf","875fd7","875fff","878700","87875f","878787","8787af","8787d7","8787ff","87af00","87af5f","87af87","87afaf","87afd7","87afff","87d700","87d75f","87d787","87d7af","87d7d7","87d7ff","87ff00","87ff5f","87ff87","87ffaf","87ffd7","87ffff","af0000","af005f","af0087","af00af","af00d7","af00ff","af5f00","af5f5f","af5f87","af5faf","af5fd7","af5fff","af8700","af875f","af8787","af87af","af87d7","af87ff","afaf00","afaf5f","afaf87","afafaf","afafd7","afafff","afd700","afd75f","afd787","afd7af","afd7d7","afd7ff","afff00","afff5f","afff87","afffaf","afffd7","afffff","d70000","d7005f","d70087","d700af","d700d7","d700ff","d75f00","d75f5f","d75f87","d75faf","d75fd7","d75fff","d78700","d7875f","d78787","d787af","d787d7","d787ff","d7af00","d7af5f","d7af87","d7afaf","d7afd7","d7afff","d7d700","d7d75f","d7d787","d7d7af","d7d7d7","d7d7ff","d7ff00","d7ff5f","d7ff87","d7ffaf","d7ffd7","d7ffff","ff0000","ff005f","ff0087","ff00af","ff00d7","ff00ff","ff5f00","ff5f5f","ff5f87","ff5faf","ff5fd7","ff5fff","ff8700","ff875f","ff8787","ff87af","ff87d7","ff87ff","ffaf00","ffaf5f","ffaf87","ffafaf","ffafd7","ffafff","ffd700","ffd75f","ffd787","ffd7af","ffd7d7","ffd7ff","ffff00","ffff5f","ffff87","ffffaf","ffffd7","ffffff","080808","121212","1c1c1c","262626","303030","3a3a3a","444444","4e4e4e","585858","626262","6c6c6c","767676","808080","8a8a8a","949494","9e9e9e","a8a8a8","b2b2b2","bcbcbc","c6c6c6","d0d0d0","dadada","e4e4e4","eeeeee"]}},node_modules:{"es5-ext":{lib:{Object:{"descriptor.js":["./is-callable","./valid-callable","./valid-value","./copy","./map","../String/is-string","../String/prototype/contains",function(e,t,n){"use strict";var r=e("./is-callable"),i=e("./valid-callable"),a=e("./valid-value"),f=e("./copy"),o=e("./map"),c=e("../String/is-string"),l=e("../String/prototype/contains"),s=Function.prototype.bind,u=Object.defineProperty,p;(p=n.exports=function(e,t){var n,r,i;return arguments.length<2&&(t=e,e=null),null==e?(n=i=!0,r=!1):(n=l.call(e,"c"),r=l.call(e,"e"),i=l.call(e,"w")),{value:t,configurable:n,enumerable:r,writable:i}}).gs=function(e,t,n){var a,f;return r(e)?(n=null==t?void 0:i(t),t=e,e=null):(t=null==t?void 0:i(t),n=null==n?void 0:i(n)),null==e?(a=!0,f=!1):(a=l.call(e,"c"),f=l.call(e,"e")),{get:t,set:n,configurable:a,enumerable:f}},p.binder=function e(t,n){var r,l;return c(t)?(r=a(n)&&i(n.value),l=f(n),delete l.writable,delete l.value,l.get=function(){return n.value=s.call(r,this),u(this,t,n),this[t]},l):o(t,function(t,n){return e(n,t)})}}],"is-callable.js":function(e,t,n){"use strict";var r=Array.prototype.forEach.bind([]);n.exports=function(e){var t;if(!e)return!1;if("function"==(t=typeof e))return!0;if("object"!==t)return!1;try{return r(e),!0}catch(e){if(e instanceof TypeError)return!1;throw e}}},"valid-callable.js":["./is-callable",function(e,t,n){"use strict";var r=e("./is-callable");n.exports=function(e){if(!r(e))throw new TypeError(e+" is not a function");return e}}],"valid-value.js":function(e,t,n){"use strict";n.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},"copy.js":["./is-plain-object","./for-each","./extend","./valid-value",function(e,t,n){"use strict";var r=e("./is-plain-object"),i=e("./for-each"),a=e("./extend"),f=e("./valid-value"),o;o=function(e,t,n){i(t,function(t,i){var f;r(t)&&(-1===(f=n[0].indexOf(t))?(n[0].push(t),n[1].push(e[i]=a({},t)),o(e[i],t,n)):e[i]=n[1][f])},t)},n.exports=function(e){var t;return(t=Object(f(e)))===e&&(t=a({},e),arguments[1]&&o(t,e,[[e],[t]])),t}}],"is-plain-object.js":function(e,t,n){"use strict";var r=Object.getPrototypeOf,i=Object.prototype,a=i.toString,f={}.toString();n.exports=function(e){var t;return!(!e||"object"!=typeof e||a.call(e)!==f)&&((t=r(e))===i||null===r(t))}},"for-each.js":["./_iterate",function(e,t,n){"use strict";n.exports=e("./_iterate")("forEach")}],"_iterate.js":["./is-callable","./valid-callable","./valid-value",function(e,t,n){"use strict";var r=e("./is-callable"),i=e("./valid-callable"),a=e("./valid-value"),f=Function.prototype.call,o=Object.keys;n.exports=function(e){return function(t,n){var c,l=arguments[2],s=arguments[3];return t=Object(a(t)),i(n),c=o(t),s&&c.sort(r(s)?s.bind(t):void 0),c[e](function(e,r){return f.call(n,l,t[e],e,t,r)})}}}],"extend.js":["./valid-value",function(e,t,n){"use strict";var r=e("./valid-value"),i=Array.prototype.forEach,a=Array.prototype.slice,f=Object.keys,o;o=function(e){f(Object(e)).forEach(function(t){this[t]=e[t]},this)},n.exports=function(e){return i.call(arguments,r),a.call(arguments,1).forEach(o,e),e}}],"map.js":["./valid-callable","./for-each",function(e,t,n){"use strict";var r=e("./valid-callable"),i=e("./for-each"),a=Function.prototype.call;n.exports=function(e,t){var n={},f=arguments[2];return r(t),i(e,function(e,r,i,o){n[r]=a.call(t,f,e,r,i,o)}),n}}],"reduce.js":["./is-callable","./valid-callable","./valid-value",function(e,t,n){"use strict";var r=e("./is-callable"),i=e("./valid-callable"),a=e("./valid-value"),f=Function.prototype.call,o=Object.keys;n.exports=t=function e(t,n){var c,l,s,u,p;return a(t)&&i(n),t=Object(t),s=arguments[2],u=arguments[3],c=o(t),u&&c.sort(r(u)?u.bind(t):void 0),l=function(e,r,i){return p?f.call(n,void 0,e,t[r],r,t,i):(p=!0,f.call(n,void 0,t[e],t[r],r,t,i,e))},arguments.length<3||s===e.NO_INITIAL?c.reduce(l):(p=!0,c.reduce(l,s))},t.NO_INITIAL={}}],"is.js":function(e,t,n){"use strict";n.exports=function(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}},"is-empty.js":["./valid-value",function(e,t,n){"use strict";var r=e("./valid-value");n.exports=function(e){var t;r(e);for(t in e)if(e.propertyIsEnumerable(t))return!1;return!0}}]},String:{"is-string.js":function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call("");n.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||r.call(e)===i)||!1}},prototype:{"contains.js":function(e,t,n){"use strict";var r=String.prototype.indexOf;n.exports=function(e){return r.call(this,e,arguments[1])>-1}},"repeat.js":["../../Object/valid-value","../../Number/to-uint",function(e,t,n){"use strict";var r=e("../../Object/valid-value"),i=e("../../Number/to-uint");n.exports=function(e){return new Array((isNaN(e)?1:i(e))+1).join(String(r(this)))}}]}},Number:{"to-uint.js":["./to-int",function(e,t,n){"use strict";var r=e("./to-int"),i=Math.max;n.exports=function(e){return i(0,r(e))}}],"to-int.js":["../Math/sign",function(e,t,n){"use strict";var r=e("../Math/sign"),i=Math.abs,a=Math.floor;n.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?r(e)*a(i(e)):e}}],"is-nan.js":function(e,t,n){"use strict";n.exports=function(e){return e!==e}},"is-number.js":function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call(1);n.exports=function(e){return"number"==typeof e||e instanceof Number||"object"==typeof e&&r.call(e)===i}}},Math:{"sign.js":function(e,t,n){"use strict";n.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}}},Error:{"custom.js":["../Object/descriptor","../Object/extend",function(e,t,n){"use strict";var r=e("../Object/descriptor"),i=e("../Object/extend"),a=Error.captureStackTrace,f;(f=n.exports=function e(t,n){var r=arguments[2];null!=r&&i(this,r),this.message=String(t),null!=n&&(this.code=String(n)),a&&a(this,e)}).prototype=Object.create(Error.prototype,{constructor:r(f),name:r("CustomError")})}]},Array:{prototype:{"e-index-of.js":["../../Number/is-nan","../../Object/is","../../Object/valid-value",function(e,t,n){"use strict";var r=e("../../Number/is-nan"),i=e("../../Object/is"),a=e("../../Object/valid-value"),f=Array.prototype.indexOf;n.exports=function(e){var t;if(!r(e)&&0!==e)return f.apply(this,arguments);for(t=arguments[1]>>>0;t<a(this).length>>>0;++t)if(this.hasOwnProperty(t)&&i(e,this[t]))return t;return-1}}],"last.js":["./last-index",function(e,t,n){"use strict";var r=e("./last-index");n.exports=function(){var e;if(null!==(e=r.call(this)))return this[e]}}],"last-index.js":["../../Object/valid-value",function(e,t,n){"use strict";var r=e("../../Object/valid-value");n.exports=function(){var e,t;if(!(t=r(this).length>>>0))return null;for(e=t-1;!this.hasOwnProperty(e);)if(-1==--e)return null;return e}}]},"from.js":["../Function/is-arguments",function(e,t,n){"use strict";var r=e("../Function/is-arguments"),i=Array.isArray,a=Array.prototype.slice;n.exports=function(e){return i(e)?e:r(e)?1===e.length?[e[0]]:Array.apply(null,e):a.call(e)}}]},Function:{"is-arguments.js":function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());n.exports=function(e){return r.call(e)===i}}},"global.js":function(e,t,n){"use strict";n.exports=new Function("return this")()}}},memoizee:{"package.json":function(e,t){t.name="memoizee",t.version="0.2.5",t.main="lib"},lib:{"index.js":["./regular","./primitive","./ext/dispose","./ext/resolvers","./ext/async","./ext/ref-counter","./ext/method","./ext/max-age","./ext/max",function(e,t,n){"use strict";var r=e("./regular"),i=e("./primitive"),a=Function.prototype.call;e("./ext/dispose"),e("./ext/resolvers"),e("./ext/async"),e("./ext/ref-counter"),e("./ext/method"),e("./ext/max-age"),e("./ext/max"),n.exports=function(e){var t=Object(arguments[1]);return a.call(t.primitive?i:r,this,e,t)}}],"regular.js":["es5-ext/lib/Error/custom","es5-ext/lib/Array/prototype/e-index-of","event-emitter/lib/has-listeners","./_base",function(e,t,n){"use strict";var r=e("es5-ext/lib/Error/custom"),i=e("es5-ext/lib/Array/prototype/e-index-of"),a=e("event-emitter/lib/has-listeners"),f=Function.prototype.apply;n.exports=e("./_base")(function(e,t){var n,o,c,l,s,u,p,d,b,m,h,v=e.cache={},g;0===t?(n=null,l=e.get=function(){return n},s=function(){return n=1},u=function(){n=null},e.clearAll=function(){n=null,v=e.cache={}}):(p=0,1===t?(o=[],c=[],l=e.get=function(e){var t=i.call(o,e[0]);return-1===t?null:c[t]},s=function(e){return o.push(e[0]),c.push(++p),p},u=function(e){var t=i.call(c,e);-1!==t&&(o.splice(t,1),c.splice(t,1))},e.clearAll=function(){o=[],c=[],v=e.cache={}}):!1===t?(n=[],g={},l=e.get=function(e){var t=0,r=n,a,f=e.length;if(0===f)return r[f]||null;if(r=r[f]){for(;t<f-1;){if(-1===(a=i.call(r[0],e[t])))return null;r=r[1][a],++t}return-1===(a=i.call(r[0],e[t]))?null:r[1][a]||null}return null},s=function(e){var t=0,r=n,a,f=e.length;if(0===f)r[f]=++p;else{for(r[f]||(r[f]=[[],[]]),r=r[f];t<f-1;)-1===(a=i.call(r[0],e[t]))&&(a=r[0].push(e[t])-1,r[1].push([[],[]])),r=r[1][a],++t;-1===(a=i.call(r[0],e[t]))&&(a=r[0].push(e[t])-1),r[1][a]=++p}return g[p]=e,p},u=function(e){var t=0,r=n,a,f=g[e],o=f.length,c=[];if(0===o)delete r[o];else if(r=r[o]){for(;t<o-1;){if(-1===(a=i.call(r[0],f[t])))return;c.push(r,a),r=r[1][a],++t}if(-1===(a=i.call(r[0],f[t])))return;for(e=r[1][a],r[0].splice(a,1),r[1].splice(a,1);!r[0].length&&c.length;)a=c.pop(),(r=c.pop())[0].splice(a,1),r[1].splice(a,1)}delete g[e]},e.clearAll=function(){n=[],v=e.cache={},g={}}):(n=[[],[]],g={},l=e.get=function(e){for(var r=0,a=n,f;r<t-1;){if(-1===(f=i.call(a[0],e[r])))return null;a=a[1][f],++r}return-1===(f=i.call(a[0],e[r]))?null:a[1][f]||null},s=function(e){for(var r=0,a=n,f;r<t-1;)-1===(f=i.call(a[0],e[r]))&&(f=a[0].push(e[r])-1,a[1].push([[],[]])),a=a[1][f],++r;return-1===(f=i.call(a[0],e[r]))&&(f=a[0].push(e[r])-1),a[1][f]=++p,g[p]=e,p},u=function(e){for(var r=0,a=n,f,o=[],c=g[e];r<t-1;){if(-1===(f=i.call(a[0],c[r])))return;o.push(a,f),a=a[1][f],++r}if(-1!==(f=i.call(a[0],c[r]))){for(e=a[1][f],a[0].splice(f,1),a[1].splice(f,1);!a[0].length&&o.length;)f=o.pop(),(a=o.pop())[0].splice(f,1),a[1].splice(f,1);delete g[e]}},e.clearAll=function(){n=[[],[]],v=e.cache={},g={}})),e.memoized=function(){var t=l(arguments),n;if(null!=t)return b&&e.emit("hit",t,arguments,this),v[t];if(n=f.call(d,this,arguments),null!=(t=l(arguments)))throw new r("Circular invocation","CIRCULAR_INVOCATION");return t=s(arguments),v[t]=n,m&&e.emit("init",t),n},e.clear=function(t){v.hasOwnProperty(t)&&(h&&e.emit("purge",t),u(t),delete v[t])},e.once("ready",function(){d=e.fn,b=a(e,"hit"),m=a(e,"init"),h=a(e,"purge")})})}],"_base.js":["es5-ext/lib/Object/valid-callable","es5-ext/lib/Object/for-each","event-emitter/lib/core",function(e,t,n){"use strict";var r=e("es5-ext/lib/Object/valid-callable"),i=e("es5-ext/lib/Object/for-each"),a=e("event-emitter/lib/core"),f;n.exports=t=function(e){return function t(n){var o,c,l,s,u;return r(n),n.memoized?n:(o=Object(arguments[1]),u=a({memoize:t,fn:n}),isNaN(o.length)?(c=n.length,o.async&&f.async&&--c):c=!1!==o.length&&o.length>>>0,e(u,c),i(f,function(e,t){e.force?e(u,o):o[t]&&e(o[t],u,o)}),n=u.fn,l=u.get,s=u.clear,u.memoized.clear=function(){s(l(arguments))},u.memoized.clearAll=function(){u.emit("purgeall"),u.clearAll()},u.memoized.memoized=!0,u.emit("ready"),u.memoized)}},f=t.ext={}}],"primitive.js":["es5-ext/lib/Error/custom","event-emitter/lib/has-listeners","./_base",function(e,t,n){"use strict";var r=e("es5-ext/lib/Error/custom"),i=e("event-emitter/lib/has-listeners"),a=function(){return""},f=function(e){return e[0]},o=Function.prototype.apply,c=Function.prototype.call;n.exports=e("./_base")(function(e,t){var n,l=e.cache={},s,u,p,d;n=e.get=1===t?f:!1===t?function(e){var t="",n,r=e.length;if(r)for(t+=e[n=0];--r;)t+=""+e[++n];else t="";return t}:t?function(e){for(var n=String(e[0]),r=0,i=t;--i;)n+=""+e[++r];return n}:a,e.memoized=1===t?function(t){var n;if(l.hasOwnProperty(t))return u&&e.emit("hit",t,arguments,this),l[t];if(n=1===arguments.length?c.call(s,this,t):o.call(s,this,arguments),l.hasOwnProperty(t))throw new r("Circular invocation","CIRCULAR_INVOCATION");return l[t]=n,p&&e.emit("init",t),n}:function(){var t=n(arguments),i;if(l.hasOwnProperty(t))return u&&e.emit("hit",t,arguments,this),l[t];if(i=o.call(e.fn,this,arguments),l.hasOwnProperty(t))throw new r("Circular invocation","CIRCULAR_INVOCATION");return l[t]=i,p&&e.emit("init",t),i},e.clear=function(t){l.hasOwnProperty(t)&&(d&&e.emit("purge",t),delete l[t])},e.clearAll=function(){l=e.cache={}},e.once("ready",function(){s=e.fn,u=i(e,"hit"),p=i(e,"init"),d=i(e,"purge")})})}],ext:{"dispose.js":["es5-ext/lib/Object/valid-callable","es5-ext/lib/Object/for-each","../_base",function(e){"use strict";var t=e("es5-ext/lib/Object/valid-callable"),n=e("es5-ext/lib/Object/for-each"),r=e("../_base").ext,i=Array.prototype.slice;r.dispose=function(e,a,f){var o,c;t(e),c=f.async&&r.async,a.on("purge"+(c?"async":""),o=c?function(t){var n=a.async[t];delete a.cache[t],e.apply(a.memoized["_memoize:context_"],i.call(n,1))}:function(t){var n=a.cache[t];delete a.cache[t],e.call(a.memoized["_memoize:context_"],n)}),c||a.on("purgeall",function(){n(a.cache,function(e,t){o(t)})})}}],"resolvers.js":["es5-ext/lib/Array/from","es5-ext/lib/Object/for-each","es5-ext/lib/Object/valid-callable","../_base",function(e){"use strict";var t=e("es5-ext/lib/Array/from"),n=e("es5-ext/lib/Object/for-each"),r=e("es5-ext/lib/Object/valid-callable"),i=Array.prototype.slice,a;a=function(e){return this.map(function(t,n){return t?t(e[n]):e[n]}).concat(i.call(e,this.length))},e("../_base").ext.resolvers=function(e,i){var f;(f=t(e)).forEach(function(e){null==e||r(e)}),f=a.bind(f),function(e){i.memoized=function(){var t;return i.memoized.args=arguments,t=e.apply(this,f(arguments)),delete i.memoized.args,t},n(e,function(t,n){i.memoized[n]=function(){return e[n].apply(this,f(arguments))}})}(i.memoized)}}],"async.js":["es5-ext/lib/Array/from","es5-ext/lib/Array/prototype/last","es5-ext/lib/Object/for-each","es5-ext/lib/Object/is-callable","next-tick","../_base",function(e){"use strict";var t=e("es5-ext/lib/Array/from"),n=e("es5-ext/lib/Array/prototype/last"),r=e("es5-ext/lib/Object/for-each"),i=e("es5-ext/lib/Object/is-callable"),a=e("next-tick"),f=Array.isArray,o=Array.prototype.slice,c=Function.prototype.apply;e("../_base").ext.async=function(e,l){var s,u;s=l.async={},function(e){var u,p,d,b,m,h;l.on("init",function(e){u.id=e,s[e]=p?[p]:[]}),l.on("hit",function(e,t,n){p&&(f(s[e])?s[e].push(p):(a(function(e,r,i,a){s[r]?(l.emit("hitasync",r,t,n),c.call(e,this.context,this)):m.apply(i,a)}.bind(s[e],p,e,d,b)),d=b=null))}),l.fn=function(){var n,r;return n=arguments,(r=t(n)).push(u=function e(t){var n,r,i,f;{if(null!=e.id){for(i=s[e.id],l.cache.hasOwnProperty(e.id)?t?(delete s[e.id],l.clear(e.id)):(arguments.context=this,s[e.id]=arguments,l.emit("initasync",e.id,i.length)):delete s[e.id],n=0;r=i[n];++n)f=c.call(r,this,arguments);return f}a(c.bind(e,this,arguments))}}),c.call(e,this,r)},m=l.memoized,h=function(e){return p=n.call(e),i(p)?o.call(e,0,-1):(p=null,e)},l.memoized=function(){return m.apply(d=this,b=h(arguments))},r(m,function(e,t){l.memoized[t]=function(){return m[t].apply(this,h(arguments))}})}(l.fn),l.on("purge",u=function(e){f(s[e])||(l.emit("purgeasync",e),delete s[e])}),l.on("purgeall",function(){r(l.async,function(e,t){u(t)})})}}],"ref-counter.js":["../_base",function(e){"use strict";var t=e("../_base").ext;t.refCounter=function(e,n,r){var i,a;i={},a=r.async&&t.async,n.on("init"+(a?"async":""),a?function(e,t){i[e]=t}:function(e){i[e]=1}),n.on("hit"+(a?"async":""),function(e){++i[e]}),n.on("purge"+(a?"async":""),function(e){delete i[e]}),a||n.on("purgeall",function(){i={}}),n.memoized.clearRef=function(){var e=n.get(arguments);return i.hasOwnProperty(e)?!--i[e]&&(n.clear(e),!0):null}}}],"method.js":["es5-ext/lib/Object/descriptor","es5-ext/lib/global","es5-ext/lib/Object/extend","es5-ext/lib/String/is-string","../_base",function(e){"use strict";var t=e("es5-ext/lib/Object/descriptor"),n=e("es5-ext/lib/global"),r=e("es5-ext/lib/Object/extend"),i=e("es5-ext/lib/String/is-string"),a=Object.create,f=Object.defineProperty;e("../_base").ext.method=function(e,o,c){i(c.method)?e={name:String(c.method),descriptor:{configurable:!0,writable:!0}}:((e=c.method).name=String(e.name),e.descriptor=null==e.descriptor?{configurable:!0,writable:!0}:Object(e.descriptor)),(c=a(c)).method=void 0,function(i){o.memoized=function(){var r;return this&&this!==n?(r=e.descriptor.value=o.memoize(o.fn.bind(this),c),f(this,e.name,e.descriptor),f(r,"_memoize:context_",t(this)),r.apply(this,arguments)):i.apply(this,arguments)},r(o.memoized,i)}(o.memoized)}}],"max-age.js":["es5-ext/lib/Number/is-number","es5-ext/lib/Object/for-each","next-tick","../_base",function(e){"use strict";var t=e("es5-ext/lib/Number/is-number"),n=e("es5-ext/lib/Object/for-each"),r=e("next-tick"),i=e("../_base").ext,a=Math.max,f=Math.min;i.maxAge=function(e,o,c){var l,s,u,p;(e>>>=0)&&(l={},s=c.async&&i.async,o.on("init"+(s?"async":""),function(t){l[t]=setTimeout(function(){o.clear(t)},e),p&&(p[t]=setTimeout(function(){delete p[t]},u))}),o.on("purge"+(s?"async":""),function(e){clearTimeout(l[e]),p&&p[e]&&(clearTimeout(p[e]),delete p[e]),delete l[e]}),c.preFetch&&(u=t(c.preFetch)?a(f(Number(c.preFetch),1),0):.333)&&(p={},u=(1-u)*e,o.on("hit"+(s?"async":""),function(e,t,n){p[e]||(p[e]=!0,r(function(){!0===p[e]&&(delete p[e],o.clear(e),o.memoized.apply(n,t))}))})),s||o.on("purgeall",function(){n(l,function(e){clearTimeout(e)}),l={},p&&(n(p,function(e){clearTimeout(e)}),p={})}))}}],"max.js":["../_base",function(e){"use strict";var t=e("../_base").ext;t.max=function(e,n,r){var i,a,f,o,c,l;(e>>>=0)&&(i=-1,a=f=0,o={},c={},l=r.async&&t.async,n.on("init"+(l?"async":""),function(t){o[++i]=t,c[t]=i,++f>e&&n.clear(o[a])}),n.on("hit"+(l?"async":""),function(e){var t=c[e];if(o[++i]=e,c[e]=i,delete o[t],a===t)for(;!o.hasOwnProperty(++a);)continue}),n.on("purge"+(l?"async":""),function(e){var t=c[e];if(delete o[t],--f,a===t)if(f)for(;!o.hasOwnProperty(++a);)continue;else i=-1,a=0}),l||n.on("purgeall",function(){i=-1,a=f=0,o={},c={}}))}}]}},node_modules:{"event-emitter":{lib:{"has-listeners.js":["es5-ext/lib/Object/is-empty","es5-ext/lib/Object/valid-value","./_id",function(e,t,n){"use strict";var r=e("es5-ext/lib/Object/is-empty"),i=e("es5-ext/lib/Object/valid-value"),a=e("./_id");n.exports=function(e){var t;return i(e),t=arguments[1],arguments.length>1?e.hasOwnProperty(a)&&e[a].hasOwnProperty(t):e.hasOwnProperty(a)&&!r(e[a])}}],"_id.js":function(e,t,n){"use strict";n.exports="_ee2_"},"core.js":["es5-ext/lib/Object/descriptor","es5-ext/lib/Object/valid-callable","./_id",function(e,t,n){"use strict";var r=e("es5-ext/lib/Object/descriptor"),i=e("es5-ext/lib/Object/valid-callable"),a=e("./_id"),f=Function.prototype.apply,o=Function.prototype.call,c=Object.create,l=Object.defineProperty,s=Object.defineProperties,u={configurable:!0,enumerable:!1,writable:!0},p,d,b,m,h,v,g,x;h=a+"l_",v={on:p=function(e,t){var n;return i(t),this.hasOwnProperty(a)?n=this[a]:(n=u.value={},l(this,a,u),u.value=null),n.hasOwnProperty(e)?n[e].hasOwnProperty(h)?n[e].push(t):(n[e]=[n[e],t])[h]=!0:n[e]=t,this},once:d=function(e,t){var n,r;return i(t),r=this,p.call(this,e,n=function(){b.call(r,e,n),f.call(t,this,arguments)}),n._listener=t,this},off:b=function(e,t){var n,r,f,o;if(i(t),!this.hasOwnProperty(a))return this;if(!(n=this[a]).hasOwnProperty(e))return this;if((r=n[e]).hasOwnProperty(h))for(o=0;f=r[o];++o)f!==t&&f._listener!==t||(2===r.length?n[e]=r[o?0:1]:r.splice(o,1));else r!==t&&r._listener!==t||delete n[e];return this},emit:m=function(e){var t,n,r,i,c,l;if(this.hasOwnProperty(a)&&(t=this[a]).hasOwnProperty(e))if((c=t[e]).hasOwnProperty(h)){for(r=arguments.length,l=new Array(r-1),n=1;n<r;++n)l[n-1]=arguments[n];for(c=c.slice(),n=0;i=c[n];++n)f.call(i,this,l)}else switch(arguments.length){case 1:o.call(c,this);break;case 2:o.call(c,this,arguments[1]);break;case 3:o.call(c,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,l=new Array(r-1),n=1;n<r;++n)l[n-1]=arguments[n];f.call(c,this,l)}}},g={on:r(p),once:r(d),off:r(b),emit:r(m)},x=s({},g),n.exports=t=function(e){return null==e?c(x):s(Object(e),g)},t.methods=v}]}},"next-tick":{"package.json":function(e,t){t.name="next-tick",t.version="0.1.0",t.main="lib/next-tick"},lib:{"next-tick.js":function(e,t,n){"use strict";void 0!==f&&f&&"function"==typeof f.nextTick?n.exports=f.nextTick:"function"==typeof setImmediate?n.exports=function(e){setImmediate(e)}:n.exports=function(e){setTimeout(e,0)}}}}}}}}}}}}},{extensions:[".js",".json"]})("./node_modules/meteor/logging/logging.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.logging={},{Log:o})}();

!function(){var a=Package["ddp-client"].DDP,e;"undefined"==typeof Package&&(Package={}),function(a,e){for(var i in e)i in a||(a[i]=e[i])}(Package.livedata={},{DDP:a,LivedataTest:void 0})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,a=Package.meteor.meteorEnv,r;(function(){var n=0,a=!1;r={hold:function(){if(!e.isCordova)return{release:function(){}};if(a)throw new Error("Can't show launch screen once it's hidden");n++;var r=!1;return{release:function(){e.isCordova&&(r||(r=!0,0===--n&&"undefined"!=typeof navigator&&navigator.splashscreen&&(a=!0,navigator.splashscreen.hide())))}}}}}).call(this),function(){var n=r.hold(),a=Package.templating&&Package.templating.Template;e.startup(function(){a?Package["iron:router"]?Package["iron:router"].Router.onAfterAction(function(){n.release()}):(a.body.onRendered(function(){n.release()}),setTimeout(function(){n.release()},6e3)):n.release()})}.call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var a in n)a in e||(e[a]=n[a])}(Package["launch-screen"]={},{LaunchScreen:r})}();

_=Package.underscore._,HTTP=Package.http.HTTP,Async=Package["meteorhacks:async"].Async,Router=Package["iron:router"].Router,RouteController=Package["iron:router"].RouteController,ReactiveVar=Package["reactive-var"].ReactiveVar,STRIPEMETEOR=Package["mrgalaxy:stripe"].STRIPEMETEOR,GitHub=Package["bruz:github-api"].GitHub,Smartsheet=Package["sangd:meteor-smartsheet"].Smartsheet,Showdown=Package.markdown.Showdown,Iron=Package["iron:core"].Iron,Accounts=Package["accounts-base"].Accounts,Meteor=Package.meteor.Meteor,global=Package.meteor.global,meteorEnv=Package.meteor.meteorEnv,WebApp=Package.webapp.WebApp,Log=Package.logging.Log,Tracker=Package.deps.Tracker,Deps=Package.deps.Deps,Session=Package.session.Session,DDP=Package["ddp-client"].DDP,Mongo=Package.mongo.Mongo,Blaze=Package.ui.Blaze,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Spacebars=Package.spacebars.Spacebars,Template=Package["templating-runtime"].Template,check=Package.check.check,Match=Package.check.Match,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Random=Package.random.Random,EJSON=Package.ejson.EJSON,LaunchScreen=Package["launch-screen"].LaunchScreen,HTML=Package.htmljs.HTML;

(function(){Template.__checkName("data_tab"),Template.data_tab=new Template("Template.data_tab",function(){var a=this;return[HTML.DIV({class:"row"},Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(a.lookup("currentDocument"),"extDatasetIds","length"))},function(){return[Blaze.If(function(){return Spacebars.call(a.lookup("currentDataset"))},function(){return HTML.DIV({class:"editable-xs"},HTML.INPUT({id:"dataset-input",class:["editable"," ","editable-xs"],type:"text",value:function(){return Spacebars.mustache(a.lookup("currentDataset"))},placeholder:"Dataset name (non-empty)",title:function(){return Spacebars.mustache(a.lookup("currentDataset"))}}))},function(){return HTML.STRONG("Support Formats: CSV/TSV/JSON")}),HTML.DIV({class:["btn-group"," ","pull-right"],"data-toggle":"buttons"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","active"],href:"#data-editor","data-toggle":"tab"},HTML.INPUT({type:"radio"}),"\n","Editor"),"\n",HTML.A({class:["btn"," ","btn-default"," ","btn-xs"],href:"#data-grid","data-toggle":"tab"},HTML.INPUT({type:"radio"}),"\n","Grid")),HTML.DIV({class:["btn"," ","btn-default"," ","btn-xs"," ","pull-right"," ","file-upload"],style:"padding: 2px 6px; margin-right: 5px;"},HTML.SPAN("Import"),"\n",HTML.INPUT({id:"data-upload",class:"upload",type:"file"}))]}),"\n",HTML.DIV({class:["btn-group"," ","dataset-list"," ","pull-right"]},HTML.Raw('<a class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" href="#"><span>Datasets</span>\n<span class="caret"></span></a>'),"\n",HTML.UL({class:"dropdown-menu"},Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(a.lookup("currentDocument"),"extDatasetIds","length"))},function(){return[Blaze.If(function(){return Spacebars.call(a.lookup("datasetNames"))},function(){return[Blaze.Each(function(){return Spacebars.call(a.lookup("datasetNames"))},function(){return HTML.LI(HTML.A({class:"dataset","data-dataset":function(){return Spacebars.mustache(a.lookup("."))}},Blaze.View("lookup:.",function(){return Spacebars.mustache(a.lookup("."))})))}),HTML.LI({class:"divider"})]}),HTML.LI(HTML.A({class:"new-dataset",href:"#"},"Add new")),Blaze.If(function(){return Spacebars.call(a.lookup("canRemove"))},function(){return HTML.LI(HTML.A({class:"remove-dataset",href:"#"},"Remove current"))}),HTML.LI(HTML.A({id:"link-external",href:"#"},"Link external"))]},function(){return[HTML.LI(HTML.A({id:"unlink-ext-dataset",href:"#"},"Unlink external")),HTML.LI(HTML.A({id:"link-external",href:"#"},"Link external"))]})))),Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(a.lookup("currentDocument"),"extDatasetIds","length"))},function(){return HTML.DIV({class:["tab-content"," ","l2"]},HTML.DIV({id:"data-editor",class:["tab-pane"," ","active"]},HTML.DIV({id:"data-editor-ace",class:"code-editor"})),"\n",HTML.DIV({id:"data-grid",class:"tab-pane"},HTML.DIV({id:"data",class:"code-editor"},"Not Available (Non-serializable data)")))},function(){return[HTML.P("External datasets (click on link to view dataset):"),HTML.UL({class:"ext-dataset-list"},Blaze.Each(function(){return Spacebars.call(a.lookup("extDatasets"))},function(){return HTML.LI(HTML.A({href:function(){return["/datasets/",Spacebars.mustache(a.lookup("_id"))]},target:"_blank"},Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))})))})),Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("dataset"),"bigDataset"))},function(){return[HTML.P("This is a big dataset. 'data' variable is unavailable. Please use 'Vida.Dataset' to retrieve partial dataset."),HTML.STRONG("Processing Functions"),HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-add-processing"," ","open-dialog"],"data-toggle":"modal",href:"#","data-target":"#proc-funcs-modal",style:"margin-right: 5px;",role:"button"},"Add")]})]}),Spacebars.include(a.lookupTemplate("datasets_modal")),Spacebars.include(a.lookupTemplate("proc_funcs_modal"))]})}).call(this);

(function(){Template.__checkName("properties_tab"),Template.properties_tab=new Template("Template.properties_tab",function(){var t=this;return[HTML.DIV({class:"row",style:"margin-bottom: 10px;"},Blaze.Unless(function(){return Spacebars.call(t.lookup("isPartialDocument"))},function(){return[HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","pull-right"," ","btn-edit"," ","edit-toggle"],href:"#",role:"button"},"Edit"),HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-primary"," ","pull-right"," ","btn-done"," ","edit-toggle"],href:"#",role:"button",style:"display: none;"},"Done")]}),"\n",HTML.Raw('<a class="btn btn-default btn-xs pull-right" href="http://userguide.vida.io/#editors" target="_blank" style="margin-right: 5px;">Help</a>'),"\n",HTML.Raw('<button class="btn btn-default btn-xs pull-right btn-delete-all edit-toggle" href="#" role="button" style="display: none; margin-right: 5px;">Delete All</button>')),Blaze.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("currentDocument"),"properties"))},function(){return HTML.DIV({class:["row"," ","prop-entry"]},Spacebars.include(t.lookupTemplate("properties_tab_entry")),"\n",Blaze.If(function(){return Spacebars.call(t.lookup("propEditing"))},function(){return HTML.DIV({class:["col-md-4"," ","property-actions"]},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","prop-remove"," ","pull-right"]},HTML.I({class:["fa"," ","fa-remove"]})),"\n",HTML.SPAN({class:"pull-right",style:"margin-right: 10px;"},"config.",Blaze.View("lookup:name",function(){return Spacebars.mustache(t.lookup("name"))})))}))}),Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(t.lookup("currentDocument"),"properties"))},function(){return HTML.DIV({class:"property-group"},HTML.DIV({class:["pheader"," ","text-center"]},"No property available, click 'Edit' to add"))}),HTML.DIV({class:"edit-toggle",style:"display:none"},HTML.Raw('<div class="property-group"><div class="pheader">Add a new property</div></div>'),"\n",HTML.DIV({class:"row"},HTML.DIV({class:"col-md-6"},HTML.DIV({class:"btn-group"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown",href:"#",style:"width: 100px;"},[Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(t.lookup("toTitleCase"),t.lookup("newPropType"))})," "],"\n",HTML.Raw('<span class="caret"></span>')),"\n",HTML.UL({class:"dropdown-menu"},Blaze.Each(function(){return Spacebars.call(t.lookup("propTypes"))},function(){return HTML.LI(HTML.A({class:"prop-type",href:"#","data-prop-type":function(){return Spacebars.mustache(t.lookup("."))}},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(t.lookup("toTitleCase"),t.lookup("."))})))}))),"\n",HTML.Raw('<input id="label-input" class="pull-right" type="text" placeholder="Label (ex: X Axis)" value="">')),"\n",HTML.Raw('<div class="col-md-3"><input id="var-input" type="text" placeholder="Variable name" value=""></div>'),"\n",HTML.Raw('<div class="col-md-3"><button class="btn btn-default btn-xs btn-add-prop pull-right" data-toggle="tooltip" title=""><i class="fa fa-plus"></i>\nAdd</button></div>')),"\n",HTML.Raw('<div class="spacer-20"></div>'))]})}).call(this);

(function(){Template.__checkName("properties_tab_entry"),Template.properties_tab_entry=new Template("Template.properties_tab_entry",function(){var e=this;return[HTML.DIV({class:["col-md-4"," ","property-label"]},HTML.SPAN({"data-toggle":"tooltip","data-placement":"right",title:function(){return["config.",Spacebars.mustache(e.lookup("name"))]}},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(e.lookup("toTitleCase"),e.lookup("label"))}))),HTML.DIV({class:["col-md-4"," ","property-input"]},Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isProptype"),"color")},function(){return HTML.INPUT({class:["color-picker"," ","new"],type:"text",value:function(){return Spacebars.mustache(e.lookup("value"))},"data-var-name":function(){return Spacebars.mustache(e.lookup("name"))}})},function(){return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isProptype"),"number")},function(){return HTML.INPUT({class:["prop-input"," ","text-prop"," ","number-prop"],type:"text",value:function(){return Spacebars.mustache(e.lookup("value"))},"data-var-name":function(){return Spacebars.mustache(e.lookup("name"))}})},function(){return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isProptype"),"string")},function(){return HTML.INPUT({class:["prop-input"," ","text-prop"," ","string-prop"],type:"text",value:function(){return Spacebars.mustache(e.lookup("value"))},"data-var-name":function(){return Spacebars.mustache(e.lookup("name"))}})},function(){return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isProptype"),"data_column")},function(){return HTML.DIV({class:"btn-group"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown",href:"#","aria-expanded":"true"},Blaze.View("lookup:formatDropdownText",function(){return Spacebars.mustache(e.lookup("formatDropdownText"),e.lookup("value"))}),"\n",HTML.SPAN({class:"caret"})),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("otherColumns"))},function(){return HTML.UL({class:"dropdown-menu","data-var-name":function(){return Spacebars.mustache(e.lookup("name"))},role:"menu","aria-labelledby":"dropdownMenu1"},HTML.LI(HTML.A({class:"data-column",href:"#","data-column":""},"[--]")),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("otherColumns"))},function(){return HTML.LI(HTML.A({class:"data-column",href:"#","data-column":function(){return Spacebars.mustache(e.lookup("."))}},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(e.lookup("toTitleCase"),e.lookup("."))})))}))}))},function(){return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isProptype"),"boolean")},function(){return HTML.INPUT({class:["prop-input"," ","boolean-prop"],type:"checkbox",checked:function(){return Spacebars.mustache(e.lookup("value"))},"data-var-name":function(){return Spacebars.mustache(e.lookup("name"))}})},function(){return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isProptype"),"list")},function(){return HTML.TEXTAREA({class:["prop-input"," ","list-prop"],rows:"4",cols:"50","data-var-name":function(){return Spacebars.mustache(e.lookup("name"))},placeholder:"Use comma or new line to separate values",value:function(){return Spacebars.mustache(e.lookup("value"))}})},function(){return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isProptype"),"text")},function(){return HTML.TEXTAREA({class:["prop-input"," ","text-prop"," ","textarea-prop"],rows:"4",cols:"50","data-var-name":function(){return Spacebars.mustache(e.lookup("name"))},placeholder:"Enter text",value:function(){return Spacebars.mustache(e.lookup("value"))}})})})})})})})}))]})}).call(this);

(function(){Template.__checkName("settings_tab"),Template.settings_tab=new Template("Template.settings_tab",function(){var e=this;return Spacebars.With(function(){return Spacebars.call(e.lookup("currentDocument"))},function(){return[HTML.DIV({class:"s-section"},HTML.DIV({class:"s-header"},"Template (syncs changes to cloned documents)","\n",HTML.DIV({class:"pull-right"},Blaze.If(function(){return Spacebars.call(e.lookup("isTemplateDocument"))},function(){return HTML.A({class:["set-template"," ","btn"," ","btn-default"," ","btn-xs"," ","btn-primary"],href:"#"},HTML.I({class:["fa"," ","fa-toggle-on"]}),"\n","ON")},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("isNormalDocument"))},function(){return HTML.A({class:function(){return["set-template"," ","btn"," ","btn-default"," ","btn-xs"," ","pull-right"," ",Blaze.Unless(function(){return Spacebars.call(e.lookup("isProUnlimitedEnterpriseUser"))},function(){return"disabled"})]},href:"#",title:function(){return Blaze.Unless(function(){return Spacebars.call(e.lookup("isProUnlimitedEnterpriseUser"))},function(){return"Pro users only"},function(){return"Toggle ON"})}},HTML.I({class:["fa"," ","fa-toggle-off"]}),"\n","OFF")})}),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("isPartialDocument"))},function(){return HTML.A({id:"detach-template",class:["btn"," ","btn-default"," ","btn-xs"," ","pull-right"],href:"#","data-toggle":"tooltip","data-placement":"left",title:"Make document independent from its template"},HTML.I({class:["fa"," ","fa-unlink"]}),"\n","Detach")})))),HTML.DIV({class:"s-section"},HTML.DIV({class:"s-header"},"Sharing","\n",Blaze.If(function(){return Spacebars.call(e.lookup("documentTeams"))},function(){return"with teams"}),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("isDocumentOwner"))},function(){return"(limited to owner)"}),"\n","(allows others to view/edit)","\n",HTML.DIV({class:"pull-right"},Blaze.If(function(){return Spacebars.call(e.lookup("canEditDocument"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("privateClone"))},function(){return HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","disabled"," ","pull-right"],"data-toggle":"tooltip","data-placement":"left",title:"Disabled (Private Clone)"},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(e.lookup("toTitleCase"),e.lookup("privacy"))}))},function(){return HTML.DIV({class:["btn-group"," ","pull-right"]},HTML.A({class:["privacy-status"," ","btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],href:"#","data-toggle":"dropdown"},HTML.SPAN({class:"text"},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(e.lookup("toTitleCase"),e.lookup("privacy"))})),"\n",HTML.SPAN({class:"caret"})),"\n",HTML.UL({class:"dropdown-menu"},Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("otherPrivacyStates"),e.lookup("privacy"))},function(){return HTML.LI({class:"privacy-state"},HTML.A(Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(e.lookup("toTitleCase"),e.lookup("."))})))})))})},function(){return HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","pull-right"," ","disabled"]},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(e.lookup("toTitleCase"),e.lookup("privacy"))}))}))),"\n",HTML.DIV({class:["s-content"," ","clearfix"]},Blaze.Each(function(){return Spacebars.call(e.lookup("documentTeams"))},function(){return HTML.A({class:"s-team",href:function(){return["/teams/",Spacebars.mustache(e.lookup("_id")),"/edit"]}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))}),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("sharedEmails"))},function(){return HTML.DIV({class:"share-user-entry"},HTML.SPAN({class:"email"},Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))})),"\n",HTML.DIV({class:["btn-group"," ","pull-right"]},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","disabled"]},Blaze.View("lookup:currentAccess",function(){return Spacebars.mustache(e.lookup("currentAccess"),e.lookup("."))})),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("isDocumentOwner"))},function(){return[HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown"},HTML.SPAN({class:"caret"})),HTML.UL({class:"dropdown-menu"},Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("otherAccesses"),e.lookup("."))},function(){return HTML.LI({class:"change-access","data-email":function(){return Spacebars.mustache(e.lookup("email"))},"data-access":function(){return Spacebars.mustache(e.lookup("access"))}},HTML.A({href:"#"},Blaze.View("lookup:text",function(){return Spacebars.mustache(e.lookup("text"))})))}),"\n",HTML.LI({class:"divider"}),"\n",HTML.LI(HTML.A({class:"resend-email",href:"#","data-email":function(){return Spacebars.mustache(e.lookup("."))}},"Resend Invitation")),"\n",HTML.LI(HTML.A({class:"remove-email",href:"#","data-email":function(){return Spacebars.mustache(e.lookup("."))}},"Remove")))]})))})),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("isDocumentOwner"))},function(){return HTML.DIV({class:"toggle-input"},HTML.DIV({class:"toggle"},Blaze.Unless(function(){return Spacebars.call(e.lookup("documentTeams"))},function(){return HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-toggle"," ","btn-collaborators"]},HTML.I({class:["fa"," ","fa-plus"]}),"\n","Collaborators")}),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","open-dialog"," ","btn-teams"],"data-toggle":"modal",href:"#","data-target":"#modalTeams",role:"button"},HTML.I({class:["fa"," ","fa-plus"]}),"\n","Teams"),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("documentTeams"))},function(){return HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","open-dialog"," ","btn-from-list"],"data-toggle":"modal",href:"#","data-target":"#modalCollabs",role:"button"},HTML.I({class:["fa"," ","fa-list-ul"]}),"\n","From List")})),"\n",HTML.DIV({class:["toggle"," ","hidden"]},HTML.INPUT({id:"doc-share-emails",type:"text",placeholder:"Enter emails to share (comma separated)",value:""}),"\n",HTML.DIV({class:"btn-group"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","add-share"],"data-toggle":"tooltip",title:""},"Share"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-toggle"]},HTML.I({class:["fa"," ","fa-remove"],"data-toggle":"tooltip",title:"Close"})))))})),HTML.DIV({class:"s-section"},HTML.DIV({class:"s-header"},"Resources (Javascript/CSS)"),"\n",HTML.DIV({class:"clearfix"},Blaze.Each(function(){return Spacebars.call(e.lookup("resources"))},function(){return HTML.DIV({class:"tag-xs",title:function(){return Spacebars.mustache(e.lookup("uri"))}},Blaze.If(function(){return Spacebars.call(e.lookup("canEditDocument"))},function(){return HTML.A({class:["remove"," ","remove-resource"],href:"#"},HTML.I({class:["fa"," ","fa-remove"]}))}),"\n",HTML.DIV({class:"text"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n",HTML.A({class:"resource-info",href:"#"},HTML.I({class:["fa"," ","fa-info"]})))})),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("canEditDocument"))},function(){return HTML.DIV({class:"toggle-input"},HTML.DIV({class:"toggle"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-toggle"]},HTML.I({class:["fa"," ","fa-plus"]}),"\n","Add"),"\n",HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","open-dialog"],"data-toggle":"modal",href:"#","data-target":"#modalLibs",role:"button"},HTML.I({class:["fa"," ","fa-list-ul"]}),"\n","From List")),"\n",HTML.DIV({class:["toggle"," ","hidden"]},HTML.INPUT({id:"resource-input",type:"text",placeholder:"JS/CSS URI (example: //cdnjs.cloudflare.com/ajax/libs/topojson/1.1.0/topojson.min.js)",value:""}),"\n",HTML.DIV({class:"btn-group"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","add-resource"]},"Add"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-toggle"]},HTML.I({class:["fa"," ","fa-remove"],"data-toggle":"tooltip",title:"Close"})))))})),HTML.DIV({class:"s-section"},HTML.DIV({class:"s-header"},"Tags"),"\n",Spacebars.include(e.lookupTemplate("tag_w0"))),Blaze.If(function(){return Spacebars.call(e.lookup("isProUnlimitedEnterpriseUser"))},function(){return[HTML.DIV({class:"s-section"},HTML.DIV({class:"s-header"},"Embed Custom Signature"),"\n",HTML.DIV({class:"row"},HTML.DIV({class:"col-md-4"},HTML.SPAN("Text"),"\n",HTML.INPUT({id:"signature-text-input",class:["editable"," ","editable-xs"],type:"text",placeholder:"Enter Created-by text",value:function(){return Spacebars.mustache(e.lookup("signatureText"))}})),"\n",HTML.DIV({class:"col-md-8"},HTML.SPAN("URL"),"\n",HTML.INPUT({id:"signature-url-input",class:["editable"," ","editable-xs"],type:"text",placeholder:"Enter URL, starts with 'http' or 'https'",value:function(){return Spacebars.mustache(e.lookup("signatureURL"))}})))),HTML.DIV({class:"s-section"},HTML.DIV({class:"s-header"},"Embed Widget","\n",HTML.DIV({class:"pull-right"},Blaze.If(function(){return Spacebars.call(e.lookup("showWidget"))},function(){return HTML.A({class:["show-widget"," ","btn"," ","btn-default"," ","btn-xs"],href:"#","data-toggle":"tooltip","data-placement":"left",title:"Toggle OFF"},HTML.I({class:["fa"," ","fa-toggle-on"]}),"\n","ON")},function(){return HTML.A({class:["show-widget"," ","btn"," ","btn-default"," ","btn-xs"," ","pull-right"," ",""],href:"#",title:"Toggle ON","data-toggle":"tooltip","data-placement":"left"},HTML.I({class:["fa"," ","fa-toggle-off"]}),"\n","OFF")}))))]}),HTML.DIV({class:"s-section"},HTML.DIV({class:"s-header"},["General ",Blaze.View("lookup:parent",function(){return Spacebars.mustache(e.lookup("parent"))})],"\n",HTML.DIV({class:"pull-right"},Blaze.If(function(){return Spacebars.call(e.lookup("canEditDocument"))},function(){return HTML.LABEL({class:["label-no-clone"," ","checkbox"]},HTML.INPUT({id:"no-clone",type:"checkbox",checked:function(){return Spacebars.mustache(e.lookup("noClone"))}}),"\n","No Clone")}))),"\n",HTML.DIV({class:["s-content"," ","clearfix"]},HTML.DIV({class:"row"},Blaze.Unless(function(){return Spacebars.call(e.lookup("isDocumentOwner"))},function(){return["Owner:",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("nameUsernameEmail"),e.lookup("currentDocument"))},function(){return[null,Blaze.If(function(){return Spacebars.dataMustache(e.lookup("username"),e.lookup("currentDocument"))},function(){return HTML.A({class:"owner",href:function(){return["/",Spacebars.mustache(e.lookup("username"),e.lookup("currentDocument"))]}},Blaze.View("lookup:nameUsernameEmail",function(){return Spacebars.mustache(e.lookup("nameUsernameEmail"),e.lookup("currentDocument"))}))},function(){return HTML.A({class:"owner"},Blaze.View("lookup:nameUsernameEmail",function(){return Spacebars.mustache(e.lookup("nameUsernameEmail"),e.lookup("currentDocument"))}))})]},function(){return"(unavailable)"})]})),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("parentId"))},function(){return HTML.DIV({class:"row"},"Clone from:","\n",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"document.show",_id:e.lookup("parentId")}))},title:"Parent document"},"this document"))}))),HTML.DIV({class:["s-section"," ","section-thumbnail"]},HTML.DIV({class:"s-header"},"Thumbnail (required for public share)","\n",Blaze.If(function(){return Spacebars.call(e.lookup("canEditDocument"))},function(){return Blaze.Unless(function(){return Spacebars.call(e.lookup("uploadingImage"))},function(){return HTML.DIV({class:["btn"," ","btn-default"," ","btn-xs"," ","file-upload"," ","pull-right"]},HTML.SPAN(HTML.I({class:["fa"," ","fa-upload"]}),"\n","Upload"),"\n",HTML.INPUT({id:"upload-thumbnail",class:"upload",type:"file"}))},function(){return HTML.DIV({class:["btn"," ","btn-default"," ","btn-xs"," ","disabled"," ","pull-right"]},HTML.I({class:["fa"," ","fa-spinner"," ","fa-spin"]}))})})),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("thumbnail"))},function(){return[HTML.DIV({class:["thumbnail"," ","thumbnail-3"," ","pull-left"]},HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("documentThumbnailURL"))}})),Blaze.If(function(){return Spacebars.call(e.lookup("canEditDocument"))},function(){return HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","remove-thumbnail"," ","pull-left"],"data-toggle":"tooltip",title:"Remove"},HTML.I({class:["fa"," ","fa-remove"]}))})]}),"\n",HTML.DIV({class:"clearfix"}))]})})}).call(this);

(function(){Template.__checkName("collabs_modal"),Template.collabs_modal=new Template("Template.collabs_modal",function(){var a=this;return HTML.DIV({id:"modalCollabs",class:"modal","aria-hidden":"true","aria-labelledby":"collabsModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>People in your projects - Click to add</h4></div>'),"\n",HTML.DIV({class:"modal-body"},Blaze.If(function(){return Spacebars.call(a.lookup("collabs"))},function(){return HTML.UL({class:"modal-list"},Blaze.Each(function(){return Spacebars.call(a.lookup("collabs"))},function(){return HTML.LI(HTML.A({class:"add-collab",href:"#","data-user-id":function(){return Spacebars.mustache(a.lookup("collabId"))}},Blaze.View("lookup:collabLabel",function(){return Spacebars.mustache(a.lookup("collabLabel"))})))}))},function(){return HTML.P("No collaborators available from other projects")})),"\n",HTML.Raw('<div class="modal-footer"><button class="btn" data-dismiss="modal" aria-hidden="true">Close</button></div>'))))})}).call(this);

(function(){Template.__checkName("teams_modal"),Template.teams_modal=new Template("Template.teams_modal",function(){var a=this;return HTML.DIV({id:"modalTeams",class:"modal","aria-hidden":"true","aria-labelledby":"teamsModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>Your teams - Select to add/change</h4></div>'),"\n",HTML.DIV({class:"modal-body"},Blaze.If(function(){return Spacebars.call(a.lookup("hasCollabs"))},function(){return HTML.DIV({class:["alert"," ","alert-danger"]},HTML.P("You can only add a team when there's no collaborators. ","\n",HTML.BR(),"\n","Please remove them first."))},function(){return Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("teams"),"count"))},function(){return HTML.UL({class:"modal-list"},Blaze.Each(function(){return Spacebars.call(a.lookup("teams"))},function(){return HTML.LI({class:function(){return Blaze.If(function(){return Spacebars.call(a.lookup("isDocumentTeam"))},function(){return"active"})}},HTML.A({class:"change-team",href:"#","data-team-id":function(){return Spacebars.mustache(a.lookup("teamId"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))}),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("isDocumentTeam"))},function(){return HTML.DIV({class:"pull-right"},HTML.I({class:["fa"," ","fa-check"]}))})))}))},function(){return[HTML.P("No team available. "),HTML.P("You can only set team if you're a team admin. "),HTML.P("You may need to create one first.")]})})),"\n",HTML.DIV({class:"modal-footer"},Blaze.If(function(){return Spacebars.call(a.lookup("hasAnyTeam"))},function(){return HTML.BUTTON({class:["btn"," ","pull-left"," ","remove-team"]},"Remove All")}),"\n",HTML.Raw('<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>')))))})}).call(this);

(function(){Template.__checkName("groups_edit"),Template.groups_edit=new Template("Template.groups_edit",function(){var e=this;return[HTML.Raw('<div class="control-bar"><div class="cb-actions"><a class="btn btn-default btn-xs btn-primary" href="/admin/groups"><i class="fa fa-chevron-left"></i>\nBack</a>\n<h5 class="t0">Group Edit</h5></div></div>'),Spacebars.With(function(){return Spacebars.call(e.lookup("currentGroup"))},function(){return[HTML.H6(HTML.B("Name")),HTML.DIV({class:["group-name"," ","editable-sm"]},HTML.INPUT({id:"name-input",class:["editable"," ","editable-sm"],type:"text",value:function(){return Spacebars.mustache(e.lookup("name"))},placeholder:"Enter Group Name"})),HTML.DIV({class:"spacer-20"}),HTML.H6(HTML.B("Document ID (to be set as home page after login)"),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("documentId"))},function(){return HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","pull-right"],href:function(){return["/embed/",Spacebars.mustache(e.lookup("documentId"))]}},"Test")})),HTML.DIV({class:["group-doc-id"," ","editable-sm"]},HTML.INPUT({id:"doc-id-input",class:["editable"," ","editable-sm"],type:"text",value:function(){return Spacebars.mustache(e.lookup("documentId"))},placeholder:"Enter Home URL"})),HTML.DIV({class:"spacer-20"}),HTML.H6(HTML.B("User emails (",Blaze.View("lookup:emails.length",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("emails"),"length"))}),")")),Blaze.Each(function(){return Spacebars.call(e.lookup("emails"))},function(){return HTML.DIV({class:"tag-xs",title:function(){return Spacebars.mustache(e.lookup("uri"))},style:"clear:both"},HTML.A({class:["remove"," ","remove-email"],href:"#","data-email":function(){return Spacebars.mustache(e.lookup("."))}},HTML.I({class:["fa"," ","fa-remove"]})),"\n",HTML.DIV({class:"text"},Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))})))}),HTML.DIV({class:"clearfix"},"   "),HTML.DIV({class:"toggle-input"},HTML.DIV({class:"toggle"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-toggle"]},HTML.I({class:["fa"," ","fa-plus"]}),"\n","Add emails")),"\n",HTML.DIV({class:["toggle"," ","hidden"]},HTML.INPUT({id:"email-input",type:"text",placeholder:"User emails (comma separated)",value:""}),"\n",HTML.DIV({class:"btn-group"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","add-emails"]},"Add"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-toggle"]},HTML.I({class:["fa"," ","fa-remove"],"data-toggle":"tooltip",title:"Close"}))))),HTML.DIV({class:"spacer-40"}),HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"],id:"delete-group"},HTML.I({class:["fa"," ","fa-trash"]}),"\n","Delete")]})]})}).call(this);

(function(){Template.__checkName("group_entry"),Template.group_entry=new Template("Template.group_entry",function(){var e=this;return HTML.LI(HTML.A({class:"name",href:function(){return["/admin/groups/edit/",Spacebars.mustache(e.lookup("_id"))]}},[Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})," "],"\n",HTML.DIV({class:["entry-info"," ","pull-right"]},HTML.SPAN({class:"created-at"},Blaze.View("lookup:formatEntryTime",function(){return Spacebars.mustache(e.lookup("formatEntryTime"),e.lookup("created"))})))))})}).call(this);

(function(){Template.__checkName("admin_groups"),Template.admin_groups=new Template("Template.admin_groups",function(){var a=this;return[HTML.DIV({class:"control-bar"},HTML.Raw('<div class="cb-actions"><a class="btn btn-default btn-xs btn-primary" id="new-group" href="#" title="Create a group"><i class="fa fa-plus"></i>\nNew Group</a></div>'),"\n",HTML.DIV({class:"cb-stats"},HTML.SPAN({class:"total"},"Total: ",Blaze.View("lookup:groups.count",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("groups"),"count"))})," "))),HTML.UL({class:"document-list"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("groups"),"count"))},function(){return Blaze.Each(function(){return Spacebars.call(a.lookup("groups"))},function(){return Spacebars.include(a.lookupTemplate("group_entry"))})},function(){return HTML.H6({class:"text-center"},"(No group available)")})),HTML.Raw('<div class="spacer-40"></div>')]})}).call(this);

(function(){Template.__checkName("add_document_modal"),Template.add_document_modal=new Template("Template.add_document_modal",function(){var a=this;return[HTML.DIV({id:"modalAddDocument",class:"modal","aria-hidden":"true","aria-labelledby":"addDocumentModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>Documents - Click to select</h4></div>'),"\n",HTML.DIV({class:"modal-body"},HTML.UL({class:["vcards"," ","vcards-md"]},Blaze.Each(function(){return{_sequence:Spacebars.call(a.lookup("vidaDocTypes")),_variable:"key"}},function(){return[HTML.LI({class:"divider"},Blaze.View("lookup:key",function(){return Spacebars.mustache(a.lookup("key"))})),Blaze.Each(function(){return Spacebars.dataMustache(a.lookup("getVidaDocs"),a.lookup("key"))},function(){return HTML.LI({class:"document"},HTML.A({href:"#","data-doc-id":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"id"))}},HTML.DIV({class:"tn"},HTML.SPAN({class:"align-helper"}),"\n",HTML.IMG({src:function(){return["https://vida-production.s3.amazonaws.com/thumbnails/",Spacebars.mustache(Spacebars.dot(a.lookup("."),"id"))]},alt:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))}})),"\n",HTML.DIV({class:"name"},Blaze.View("lookup:..name",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))}))))})]}))),"\n",HTML.Raw('<div class="modal-footer"><button class="btn" data-dismiss="modal" aria-hidden="true">Close</button></div>')))),HTML.DIV({id:"modalAddMyDocument",class:"modal","aria-hidden":"true","aria-labelledby":"addDocumentModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>Documents - Click to select</h4></div>'),"\n",HTML.DIV({class:"modal-body"},HTML.UL({class:["vcards"," ","vcards-md"]},Blaze.Each(function(){return Spacebars.call(a.lookup("documents"))},function(){return HTML.LI({class:"my-document","data-toggle":"tooltip",title:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))}},HTML.A({href:"#","data-doc-id":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"id"))}},HTML.DIV({class:"tn"},HTML.SPAN({class:"align-helper"}),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("thumbnail"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(a.lookup("thumbnailUrl"),a.lookup("."))},alt:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))}})},function(){return HTML.IMG({src:function(){return["/images/charts/",Spacebars.mustache(a.lookup("type")),".png"]},alt:function(){return Spacebars.mustache(a.lookup("type"))}})})),"\n",HTML.DIV({class:"name"},Blaze.View("lookup:..name",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))}))))}))),"\n",HTML.Raw('<div class="modal-footer"><button class="btn" data-dismiss="modal" aria-hidden="true">Close</button></div>'))))]})}).call(this);

(function(){Template.__checkName("change_dataset_modal"),Template.change_dataset_modal=new Template("Template.change_dataset_modal",function(){var a=this;return HTML.DIV({id:"modalChangeDataset",class:"modal","aria-hidden":"true","aria-labelledby":"changeDatasetModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>Dataset - Click to select</h4></div>'),"\n",HTML.DIV({class:"modal-body"},HTML.UL({class:"modal-list"},Blaze.Each(function(){return Spacebars.call(a.lookup("datasets"))},function(){return HTML.LI(HTML.A({class:"dataset",href:"#"},Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))})))}))),"\n",HTML.Raw('<div class="modal-footer"><button class="btn" data-dismiss="modal" aria-hidden="true">Close</button></div>'))))})}).call(this);

(function(){Template.__checkName("dashboard_edit"),Template.dashboard_edit=new Template("Template.dashboard_edit",function(){var a=this;return Blaze.If(function(){return Spacebars.call(a.lookup("dashboardShowReady"))},function(){return Blaze.If(function(){return Spacebars.call(a.lookup("validDashboard"))},function(){return Blaze.If(function(){return Spacebars.call(a.lookup("canEditDashboard"))},function(){return[Spacebars.With(function(){return Spacebars.call(a.lookup("currentDashboard"))},function(){return HTML.DIV({class:"container-fluid"},Blaze.If(function(){return Spacebars.call(a.lookup("dashboardEditMode"))},function(){return[HTML.INPUT({id:"dashboard-name-input",class:["editable"," ","editable-md"],type:"text",value:function(){return Spacebars.mustache(a.lookup("name"))},placeholder:"Name"}),HTML.INPUT({id:"dashboard-description-input",class:["editable"," ","editable-sm"],type:"text",value:function(){return Spacebars.mustache(a.lookup("description"))},placeholder:"Description"})]}),"\n",HTML.SECTION({id:"dashboard-canvas",style:""},HTML.DIV({class:"sec-content"},HTML.DIV({class:"row"},HTML.DIV({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-add-document"," ","open-dialog"],"data-toggle":"modal",href:"#","data-target":"#modalAddMyDocument",role:"button"},HTML.I({class:["fa"," ","fa-plus"]}),"\n","Add My Document"),"\n",HTML.DIV({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-add-vida-document"," ","open-dialog"],"data-toggle":"modal",href:"#","data-target":"#modalAddDocument",role:"button"},HTML.I({class:["fa"," ","fa-plus"]}),"\n","Add VIDA Document"),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("dashboardDatasetReady"))},function(){return HTML.DIV({class:"btn-group"},HTML.DIV({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown",href:"#"},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(a.lookup("toTitleCase"),a.lookup("value"))}),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("dashboardDataset"))},function(){return Blaze.View("lookup:dashboardDataset.name",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("dashboardDataset"),"name"))})},function(){return"Select a Dataset"}),"\n",HTML.SPAN({class:"caret"})),"\n",HTML.UL({class:["dropdown-menu"," ","all-dashboard-dataset-dropdown"],"data-var-name":function(){return Spacebars.mustache(a.lookup("name"))},"data-var-index":function(){return Spacebars.mustache(a.lookup("index"))}},HTML.LI(HTML.A({class:"all-dashboard-dataset",href:"#","data-column":""},"[--]")),"\n",Blaze.Each(function(){return Spacebars.call(a.lookup("dashboardDatasets"))},function(){return HTML.LI(HTML.A({class:"all-dashboard-dataset",href:"#","data-column":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"_id"))}},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(a.lookup("toTitleCase"),Spacebars.dot(a.lookup("."),"name"))})))})))}),"\n",HTML.DIV({class:["btn"," ","btn-default"," ","btn-xs"," ","pull-right"," ","open-dialog"],"data-toggle":"modal",href:"#","data-target":"#modalDashboardSettings",role:"button"},HTML.I({class:["fa"," ","fa-gear"]}),"\n","Settings")),"\n",HTML.DIV({class:"row"},HTML.DIV({id:"canvas"},Spacebars.include(a.lookupTemplate("dashboard_all_canvases")))))),"\n",Spacebars.include(a.lookupTemplate("dashboard_buttons")))}),Spacebars.include(a.lookupTemplate("add_document_modal")),Spacebars.include(a.lookupTemplate("change_dataset_modal")),Spacebars.include(a.lookupTemplate("edit_props_modal")),Spacebars.include(a.lookupTemplate("dashboard_settings_modal"))]},function(){return HTML.DIV({class:["container-fluid"," ","matter"]},Spacebars.include(a.lookupTemplate("invalid_document")))})},function(){return HTML.DIV({class:["container-fluid"," ","matter"]},Spacebars.include(a.lookupTemplate("invalid_document")))})},function(){return HTML.DIV({class:["container-fluid"," ","matter"]},Spacebars.include(a.lookupTemplate("loading")))})})}).call(this);

(function(){Template.__checkName("edit_props_modal"),Template.edit_props_modal=new Template("Template.edit_props_modal",function(){var a=this;return HTML.DIV({id:"modalEditProps",class:"modal","aria-hidden":"true","aria-labelledby":"editPropsModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.DIV({class:"modal-header"},HTML.Raw('<button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>'),"\n",HTML.H4("Edit properties - ",Blaze.View("lookup:dashboardCurrentDocName",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup("dashboardCurrentDocName")))}))),"\n",HTML.DIV({class:"modal-body"},Blaze.If(function(){return Spacebars.call(a.lookup("dashboardProperties"))},function(){return Spacebars.include(a.lookupTemplate("dashboard_edit_properties"))})),"\n",HTML.DIV({class:"modal-footer"},Blaze.If(function(){return Spacebars.call(a.lookup("dashboardProperties"))},function(){return HTML.BUTTON({class:["btn"," ","btn-xs"," ","btn-primary"," ","pull-left"," ","btn-sync-properties"]},"Sync Document Properties")}),"\n",HTML.Raw('<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>')))))}),Template.__checkName("dashboard_edit_properties"),Template.dashboard_edit_properties=new Template("Template.dashboard_edit_properties",function(){var a=this;return[HTML.DIV({class:["row"," ","prop-entry"]},HTML.Raw('<div class="col-md-4 dashboard-prop-name property-label"><span><strong>Dataset</strong></span></div>'),"\n",HTML.DIV({class:"col-md-4"},HTML.DIV({class:"btn-group"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown",href:"#",title:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("docDataset"),"name"))}},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(a.lookup("toTitleCase"),a.lookup("value"))}),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("docDataset"))},function(){return Blaze.View("lookup:docDataset.name",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("docDataset"),"name"))})},function(){return"Select a Dataset"}),"\n",HTML.Raw('<span class="caret"></span>')),"\n",HTML.UL({class:["dropdown-menu"," ","dashboard-dataset-dropdown"],"data-var-name":function(){return Spacebars.mustache(a.lookup("name"))},"data-var-index":function(){return Spacebars.mustache(a.lookup("index"))}},HTML.Raw('<li><a class="dashboard-dataset" href="#" data-column="">[--]</a></li>'),"\n",Blaze.Each(function(){return Spacebars.call(a.lookup("dashboardDatasets"))},function(){return HTML.LI(HTML.A({class:"dashboard-dataset",href:"#","data-column":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"_id"))}},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(a.lookup("toTitleCase"),Spacebars.dot(a.lookup("."),"name"))})))})))),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("docDataset"))},function(){return HTML.DIV({class:"col-md-4"},HTML.A({href:function(){return["/datasets/",Spacebars.mustache(Spacebars.dot(a.lookup("docDataset"),"_id"))]},target:"_blank"},"Go to Dataset"))})),Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("dashboardProperties"),"props"))},function(){return HTML.DIV({class:["row"," ","prop-entry"]},Spacebars.include(a.lookupTemplate("properties_tab_entry")))})]})}).call(this);

(function(){Template.__checkName("dashboard_menu"),Template.dashboard_menu=new Template("Template.dashboard_menu",function(){var a=this;return[HTML.LI({class:"dropdown"},HTML.Raw('<a class="dropdown-toggle" title="" href="#" data-toggle="dropdown" aria-expanded="true">File</a>'),"\n",HTML.UL({class:["dropdown-menu"," ","hn-dropdown"],role:"menu","aria-labelledby":"dropdownMenu1"},HTML.Raw('<li><a id="export-dashboard" href="#"><i class="fa fa-download"></i>\nExport</a></li>'),"\n",HTML.Raw('<li><a class="get-embed-code" data-toggle="modal" href="#" data-target="#modalShare"><i class="fa fa-code"></i>\nGet Embed Code</a></li>'),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("isDashboardOwner"))},function(){return[HTML.LI(HTML.A({id:"btn-dashboard-delete","data-toggle":"tooltip",title:"",href:"#"},HTML.I({class:["fa"," ","fa-trash"]}),"\n","Delete")),HTML.LI({class:"divider"})]}),"\n",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(a.lookup("currentHomePath"))}},"Exit")))),Blaze.If(function(){return Spacebars.call(a.lookup("canEditDashboard"))},function(){return HTML.LI({class:"dropdown"},HTML.A({class:"dropdown-toggle",title:"More",href:"#","data-toggle":"dropdown","aria-expanded":"true"},"Tools     "),"\n",HTML.UL({class:["dropdown-menu"," ","hn-dropdown"],role:"menu","aria-labelledby":"dropdownMenu1"},HTML.LI(HTML.A({id:"btn-dashboard-clone",title:"Clone",href:"#"},HTML.I({class:["fa"," ","fa-copy"]}),"\n","Clone"))))}),HTML.LI({class:"dropdown"},HTML.Raw('<a class="dropdown-toggle" title="More" href="#" data-toggle="dropdown" aria-expanded="true"><i class="fa fa-ellipsis-h"></i></a>'),"\n",HTML.UL({class:["dropdown-menu"," ","hn-dropdown"],role:"menu","aria-labelledby":"dropdownMenu1"},HTML.Raw('<li><a id="toggle-public-view" data-toggle="tooltip" title="" href="#">View public page</a></li>'),"\n",HTML.LI(HTML.A({"data-toggle":"tooltip",title:"",href:function(){return["/embed/",Spacebars.mustache(Spacebars.dot(a.lookup("currentDashboard"),"_id")),"?dashboard=1"]},target:"_blank"},"View standalone page      ")),"\n",HTML.Raw('<li class="divider"></li>'),"\n",HTML.Raw('<li> \n<a href="http://userguide.vida.io/#dashboard" target="_blank">Help</a></li>')))]})}).call(this);

(function(){Template.__checkName("dashboard_settings_modal"),Template.dashboard_settings_modal=new Template("Template.dashboard_settings_modal",function(){var a=this;return Spacebars.With(function(){return Spacebars.call(a.lookup("currentDashboard"))},function(){return HTML.DIV({id:"modalDashboardSettings",class:"modal","aria-hidden":"true","aria-labelledby":"addDashboardModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.DIV({class:"modal-header"},HTML.BUTTON({class:"close",type:"button","data-dismiss":"modal","aria-hidden":"true"},HTML.CharRef({html:"&#215;",str:""})),"\n",HTML.H4("Settings")),"\n",HTML.DIV({class:"modal-body"},HTML.DIV({class:"s-section"},HTML.DIV({class:"s-header"},"Sharing","\n",Blaze.If(function(){return Spacebars.call(a.lookup("dashboardTeams"))},function(){return"with teams"}),"\n",Blaze.Unless(function(){return Spacebars.call(a.lookup("isDashboardOwner"))},function(){return"(limited to owner)"}),"\n","(allows others to view/edit)","\n",HTML.DIV({class:"pull-right"},Blaze.If(function(){return Spacebars.call(a.lookup("canEditDashboard"))},function(){return Blaze.If(function(){return Spacebars.call(a.lookup("privateClone"))},function(){return HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","disabled"," ","pull-right"],"data-toggle":"tooltip","data-placement":"left",title:"Disabled (Private Clone)"},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(a.lookup("toTitleCase"),a.lookup("privacy"))}))},function(){return HTML.DIV({class:["btn-group"," ","pull-right"]},HTML.A({class:["privacy-status"," ","btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],href:"#","data-toggle":"dropdown"},HTML.SPAN({class:"text"},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(a.lookup("toTitleCase"),a.lookup("privacy"))})),"\n",HTML.SPAN({class:"caret"})),"\n",HTML.UL({class:"dropdown-menu"},Blaze.Each(function(){return Spacebars.dataMustache(a.lookup("otherPrivacyStates"),a.lookup("privacy"))},function(){return HTML.LI({class:"privacy-state"},HTML.A(Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(a.lookup("toTitleCase"),a.lookup("."))})))})))})},function(){return HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","pull-right"," ","disabled"]},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(a.lookup("toTitleCase"),a.lookup("privacy"))}))}))),"\n",HTML.DIV({class:["s-content"," ","clearfix"]},Blaze.Each(function(){return Spacebars.call(a.lookup("dashboardTeams"))},function(){return HTML.A({class:"s-team",href:function(){return["/teams/",Spacebars.mustache(a.lookup("_id")),"/edit"]}},Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))}))}),"\n",Blaze.Each(function(){return Spacebars.call(a.lookup("sharedEmails"))},function(){return HTML.DIV({class:"share-user-entry"},HTML.SPAN({class:"email"},Blaze.View("lookup:.",function(){return Spacebars.mustache(a.lookup("."))})),"\n",HTML.DIV({class:["btn-group"," ","pull-right"]},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","disabled"]},Blaze.View("lookup:currentAccess",function(){return Spacebars.mustache(a.lookup("currentAccess"),a.lookup("."))})),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("isDashboardOwner"))},function(){return[HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown"},HTML.SPAN({class:"caret"})),HTML.UL({class:"dropdown-menu"},Blaze.Each(function(){return Spacebars.dataMustache(a.lookup("otherAccesses"),a.lookup("."))},function(){return HTML.LI({class:"change-access","data-email":function(){return Spacebars.mustache(a.lookup("email"))},"data-access":function(){return Spacebars.mustache(a.lookup("access"))}},HTML.A({href:"#"},Blaze.View("lookup:text",function(){return Spacebars.mustache(a.lookup("text"))})))}),"\n",HTML.LI({class:"divider"}),"\n",HTML.LI(HTML.A({class:"resend-email",href:"#","data-email":function(){return Spacebars.mustache(a.lookup("."))}},"Resend Invitation")),"\n",HTML.LI(HTML.A({class:"remove-email",href:"#","data-email":function(){return Spacebars.mustache(a.lookup("."))}},"Remove")))]})))})),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("isDashboardOwner"))},function(){return HTML.DIV({class:"toggle-input"},HTML.DIV({class:"toggle"},Blaze.Unless(function(){return Spacebars.call(a.lookup("dashboardTeams"))},function(){return HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-toggle"," ","btn-collaborators"]},HTML.I({class:["fa"," ","fa-plus"]}),"\n","Collaborators")}),"\n",null,"\n",null,"\n",null),"\n",HTML.DIV({class:["toggle"," ","hidden"]},HTML.INPUT({id:"dashboard-share-emails",type:"text",placeholder:"Enter emails to share (comma separated)",value:""}),"\n",HTML.DIV({class:"btn-group"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","add-share"],"data-toggle":"tooltip",title:""},"Share"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-toggle"]},HTML.I({class:["fa"," ","fa-remove"],"data-toggle":"tooltip",title:"Close"})))))})),"\n",HTML.DIV({class:"s-section"},HTML.DIV({class:"s-header"},"Thumbnail","\n",Blaze.Unless(function(){return Spacebars.call(a.lookup("uploadingImage"))},function(){return HTML.DIV({class:["btn"," ","btn-default"," ","btn-xs"," ","file-upload"," ","pull-right"]},HTML.SPAN({style:""},HTML.I({class:["fa"," ","fa-upload"]}),"\n","Upload"),"\n",HTML.INPUT({id:"upload-thumbnail",class:"upload",type:"file"}))},function(){return HTML.DIV({class:["btn"," ","btn-default"," ","btn-xs"," ","disabled"," ","pull-right"]},HTML.I({class:["fa"," ","fa-spinner"," ","fa-spin"]},"         "))})),"\n",HTML.DIV({class:"s-content"},Blaze.If(function(){return Spacebars.call(a.lookup("thumbnail"))},function(){return[HTML.DIV({class:["thumbnail"," ","thumbnail-3"," ","pull-left"]},HTML.IMG({src:function(){return Spacebars.mustache(a.lookup("dashboardThumbnailURL"))}})),Blaze.If(function(){return Spacebars.call(a.lookup("dashboardEditMode"))},function(){return HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","remove-thumbnail"],"data-toggle":"tooltip",title:"Remove"},HTML.I({class:["fa"," ","fa-remove"]}))})]}))),"\n",HTML.DIV({class:"s-section"},HTML.DIV({class:"s-header"},"Refresh Interval (seconds)"),"\n",HTML.DIV({class:"s-content"},HTML.INPUT({class:"refresh-interval",type:"text",value:function(){return Spacebars.mustache(a.lookup("refreshInterval"))}}))),"\n",HTML.DIV({class:"clearfix"})),"\n",HTML.DIV({class:"modal-footer"},HTML.BUTTON({class:"btn","data-dismiss":"modal","aria-hidden":"true"},"Close")))))})})}).call(this);

(function(){Template.__checkName("dashboard_embed"),Template.dashboard_embed=new Template("Template.dashboard_embed",function(){var a=this;return HTML.DIV({class:"container-fluid"},HTML.DIV({id:"canvas"},Blaze.If(function(){return Spacebars.call(a.lookup("dashboardShowReady"))},function(){return Spacebars.include(a.lookupTemplate("embed_dashboard_all_canvases"))},function(){return HTML.DIV({class:["container-fluid"," ","matter"]},Spacebars.include(a.lookupTemplate("loading")))})),HTML.Raw('\n<div id="poweredby"><a id="poweredby-logo" href="http://vida.io" target="_blank" title="Powered by VIDA.IO"></a></div>'))}),Template.__checkName("embed_dashboard_all_canvases"),Template.embed_dashboard_all_canvases=new Template("Template.embed_dashboard_all_canvases",function(){var a=this;return Blaze.If(function(){return Spacebars.call(a.lookup("dashboardDatasetReady"))},function(){return Blaze.Each(function(){return Spacebars.call(a.lookup("docs"))},function(){return Spacebars.include(a.lookupTemplate("dashboard_canvas"))})},function(){return HTML.DIV({class:["container-fluid"," ","matter"]},Spacebars.include(a.lookupTemplate("loading")))})})}).call(this);

(function(){Template.__checkName("dashboard_all_canvases"),Template.dashboard_all_canvases=new Template("Template.dashboard_all_canvases",function(){var a=this;return Blaze.If(function(){return Spacebars.call(a.lookup("dashboardDatasetReady"))},function(){return Blaze.Each(function(){return Spacebars.call(a.lookup("docs"))},function(){return Spacebars.include(a.lookupTemplate("dashboard_canvas"))})},function(){return HTML.DIV({class:["container-fluid"," ","matter"]},Spacebars.include(a.lookupTemplate("loading")))})})}).call(this);

(function(){Template.__checkName("dashboard_buttons"),Template.dashboard_buttons=new Template("Template.dashboard_buttons",function(){var a=this;return[HTML.Raw('<div id="resize-spacer" style="display: none"><div class="spacer-40"></div>\n<div class="spacer-40"></div>\n<div class="spacer-40"></div>\n<div class="spacer-40"></div></div><div class="clearfix"></div>'),Blaze.If(function(){return Spacebars.call(a.lookup("currentUser"))},function(){return Blaze.Unless(function(){return Spacebars.call(a.lookup("isPermissionView"))},function(){return Blaze.Unless(function(){return Spacebars.call(a.lookup("dashboardEditMode"))},function(){return HTML.A({class:["btn"," ","btn-default"," ","btn-clone"],href:"#",style:"font-weight:bold;","data-toggle":"tooltip",title:"Make a Copy of This Dashboard"},"Clone")})})},function(){return HTML.DIV({class:"row"},HTML.DIV({class:"col-md-3"}),"\n",HTML.DIV({class:["col-md-6"," ","spacer-20"]},HTML.H4({class:"text-center"},HTML.SPAN({class:["label"," ","label-danger"]},"Please sign in to clone."))),"\n",HTML.DIV({class:"spacer-20"}))}),HTML.Raw('<div class="spacer-40"></div><div class="spacer-20"></div>')]})}).call(this);

(function(){Template.__checkName("dashboard_canvas"),Template.dashboard_canvas=new Template("Template.dashboard_canvas",function(){var a=this;return Blaze.If(function(){return Spacebars.call(a.lookup("dashboardEditMode"))},function(){return HTML.DIV({class:["dashboard-canvas"," ","dashboard-canvas-edit"],"data-id":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"id"))},"data-index":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"index"))}},HTML.DIV({class:["btn-group"," ","dashboard-options"," ","pull-right"]},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown",href:"#"},HTML.I({class:["fa"," ","fa-reorder"]})),"\n",HTML.UL({class:"dropdown-menu"},HTML.LI(HTML.A({class:["edit-comp-props"," ","open-dialog"],"data-toggle":"modal",href:"#","data-target":"#modalEditProps"},"Edit properties")),"\n",HTML.LI(HTML.A({href:function(){return["/documents/",Spacebars.mustache(a.lookup("id"))]},target:"_blank"},"Go to document")),"\n",HTML.LI(HTML.A({class:"move-forward",href:"#"},"Move Forward")),"\n",HTML.LI(HTML.A({class:"move-backward",href:"#"},"Move Backward")),"\n",HTML.LI({class:"divider"}),"\n",HTML.LI(HTML.A({class:"remove-dashboard",href:"#"},"Remove")))))},function(){return HTML.DIV({class:"dashboard-canvas","data-id":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"id"))},"data-index":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"index"))}})})})}).call(this);

(function(){Template.__checkName("dashboard_show"),Template.dashboard_show=new Template("Template.dashboard_show",function(){var a=this;return Blaze.If(function(){return Spacebars.call(a.lookup("dashboardShowReady"))},function(){return Blaze.If(function(){return Spacebars.call(a.lookup("validDashboard"))},function(){return HTML.DIV({class:"container-fluid"},HTML.DIV({id:"canvas"},HTML.H4(Blaze.View("lookup:dashboardName",function(){return Spacebars.mustache(a.lookup("dashboardName"))})),"\n",Spacebars.include(a.lookupTemplate("dashboard_all_canvases"))),"\n",Spacebars.include(a.lookupTemplate("dashboard_buttons")))},function(){return HTML.DIV({class:["container-fluid"," ","matter"]},Spacebars.include(a.lookupTemplate("invalid_document")))})},function(){return HTML.DIV({class:["container-fluid"," ","matter"]},Spacebars.include(a.lookupTemplate("loading")))})})}).call(this);

(function(){Template.__checkName("datasets_modal"),Template.datasets_modal=new Template("Template.datasets_modal",function(){var a=this;return HTML.DIV({id:"datasets-modal",class:"modal","aria-hidden":"true","aria-labelledby":"datasetsModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>My datasets - Click to select</h4></div>'),"\n",HTML.DIV({class:"modal-body"},Blaze.If(function(){return Spacebars.call(a.lookup("errorMessage"))},function(){return HTML.DIV({class:["alert"," ","alert-danger"]},HTML.P(Blaze.View("lookup:errorMessage",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup("errorMessage")))})))}),"\n",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("datasets"),"count"))},function(){return HTML.UL({class:"modal-list"},Blaze.Each(function(){return Spacebars.call(a.lookup("datasets"))},function(){return HTML.LI({class:function(){return Blaze.If(function(){return Spacebars.call(a.lookup("isDocumentExtDataset"))},function(){return"active"})}},HTML.A({class:"ext-dataset",href:"#","data-dataset-id":function(){return Spacebars.mustache(a.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))}),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("isDocumentExtDataset"))},function(){return HTML.DIV({class:"pull-right"},HTML.I({class:["fa"," ","fa-check"]}))})))}))},function(){return HTML.P("No datasets available")})),"\n",HTML.Raw('<div class="modal-footer">         \n<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button></div>'))))})}).call(this);

(function(){Template.__checkName("document_edit"),Template.document_edit=new Template("Template.document_edit",function(){var e=this;return[HTML.DIV({class:["container-fluid"," ","matter-fixed"]},Blaze.If(function(){return Spacebars.call(e.lookup("documentShowReady"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("documentValid"))},function(){return HTML.DIV({class:["row"," ","fit-h"]},Blaze.If(function(){return Spacebars.call(e.lookup("canvasOnLeft"))},function(){return[HTML.DIV({id:"document-canvas",class:"col-md-6"},Spacebars.include(e.lookupTemplate("edit_header")),"\n",Spacebars.include(e.lookupTemplate("document_canvas"))),Spacebars.include(e.lookupTemplate("document_editors"))]},function(){return[Spacebars.include(e.lookupTemplate("document_editors")),HTML.DIV({id:"document-canvas",class:"col-md-6"},Spacebars.include(e.lookupTemplate("edit_header")),"\n",Spacebars.include(e.lookupTemplate("document_canvas")))]}))},function(){return Spacebars.include(e.lookupTemplate("invalid_document"))})},function(){return Spacebars.include(e.lookupTemplate("loading"))})),Spacebars.include(e.lookupTemplate("libs_modal")),Spacebars.include(e.lookupTemplate("collabs_modal")),Spacebars.include(e.lookupTemplate("teams_modal"))]})}).call(this);

(function(){Template.__checkName("edit_header"),Template.edit_header=new Template("Template.edit_header",function(){var e=this;return[HTML.INPUT({id:"document-name-input",class:["editable"," ","editable-md"],type:"text",value:function(){return Spacebars.mustache(e.lookup("documentName"))},placeholder:"Document name"}),HTML.INPUT({id:"document-description-input",class:["editable"," ","editable-sm"],type:"text",value:function(){return Spacebars.mustache(e.lookup("documentDescription"))},placeholder:"Description"})]})}).call(this);

(function(){Template.__checkName("document_editors"),Template.document_editors=new Template("Template.document_editors",function(){var t=this;return HTML.DIV({id:"document-editors",class:function(){return Blaze.If(function(){return Spacebars.call(t.lookup("documentEditMode"))},function(){return"col-md-6"},function(){return"col-md-12"})}},HTML.UL({class:["nav"," ","nav-tabs"],"data-tabs":"tabs"},HTML.Raw('<li class="editor-tab active" title="Ctrl+1" data-toggle="tooltip"><a id="settings-tab" class="editor-tab" href="#document-settings" data-tabindex="0" data-toggle="tab">Settings</a></li>'),"\n",HTML.Raw('<li class="editor-tab" title="Ctrl+2" data-toggle="tooltip"><a id="data-tab" class="editor-tab" href="#document-data" data-tabindex="1" data-toggle="tab">Data</a></li>'),"\n",HTML.Raw('<li class="editor-tab" title="Ctrl+3" data-toggle="tooltip"><a id="properties-tab" class="editor-tab" href="#document-properties" data-tabindex="2" data-toggle="tab">Properties</a></li>'),"\n",Blaze.Unless(function(){return Spacebars.call(t.lookup("isPartialDocument"))},function(){return[HTML.LI({class:function(){return["editor-tab"," ",Spacebars.mustache(t.lookup("currentUser"))]},title:"Ctrl+4","data-toggle":"tooltip"},HTML.A({id:"javascript-tab",class:"editor-tab",href:"#document-javascript","data-tabindex":"3","data-toggle":"tab"},"Javascript")),HTML.LI({class:"editor-tab",title:"Ctrl+5","data-toggle":"tooltip"},HTML.A({id:"css-tab",class:"editor-tab",href:"#document-stylesheet","data-tabindex":"4","data-toggle":"tab"},"Stylesheet")),HTML.LI({class:"editor-tab",title:"Ctrl+6","data-toggle":"tooltip"},HTML.A({id:"html-tab",class:"editor-tab",href:"#document-html","data-tabindex":"5","data-toggle":"tab"},"HTML")),HTML.LI({class:"editor-tab",title:"Ctrl+7","data-toggle":"tooltip"},HTML.A({id:"readme-tab",class:"editor-tab",href:"#document-readme","data-tabindex":"6","data-toggle":"tab"},"Readme"))]})),"\n",HTML.DIV({class:["tab-content"," ","l1"]},HTML.DIV({id:"document-settings",class:["tab-pane"," ","active"]},Spacebars.include(t.lookupTemplate("settings_tab"))),"\n",HTML.DIV({id:"document-data",class:"tab-pane"},Spacebars.include(t.lookupTemplate("data_tab"))),"\n",HTML.DIV({id:"document-properties",class:"tab-pane"},Spacebars.include(t.lookupTemplate("properties_tab"))),"\n",HTML.Raw('<div id="document-javascript" class="tab-pane"><div id="javascript" class="code-editor"></div></div>'),"\n",HTML.Raw('<div id="document-stylesheet" class="tab-pane"><div id="stylesheet" class="code-editor"></div></div>'),"\n",HTML.Raw('<div id="document-html" class="tab-pane"><div id="html" class="code-editor"></div></div>'),"\n",HTML.Raw('<div id="document-readme" class="tab-pane"><div id="readme" class="code-editor"></div></div>')))})}).call(this);

(function(){Template.__checkName("libs_modal"),Template.libs_modal=new Template("Template.libs_modal",function(){var a=this;return HTML.DIV({id:"modalLibs",class:"modal","aria-hidden":"true","aria-labelledby":"libsModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>Resources (Javascript/CSS) - Click to add</h4></div>'),"\n",HTML.DIV({class:"modal-body"},HTML.UL({class:"modal-list"},Blaze.Each(function(){return Spacebars.call(a.lookup("libs"))},function(){return HTML.LI(HTML.A({class:"lib",href:"#"},Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))})))})),"\n",HTML.Raw('<div class="alert alert-info" style="margin: 10px 0 0 0;">The following resources are preloaded:\n<ul><li>D3.js 3.4.6</li>\n<li>jQuery 1.11.1</li>\n<li>Underscore js 1.7.0</li>\n<li>VIDA Theme (Bootstrap 3 CSS)</li></ul></div>'),"\n",""),"\n",HTML.Raw('<div class="modal-footer"><button class="btn" data-dismiss="modal" aria-hidden="true">Close</button></div>'))))})}).call(this);

(function(){Template.__checkName("document_menu"),Template.document_menu=new Template("Template.document_menu",function(){var a=this;return[HTML.LI({class:"dropdown"},HTML.Raw('<a class="dropdown-toggle" title="" href="#" data-toggle="dropdown" aria-expanded="true">File</a>'),"\n",HTML.UL({class:["dropdown-menu"," ","hn-dropdown"],role:"menu","aria-labelledby":"dropdownMenu1"},HTML.Raw('<li><a id="export-doc" href="#"><i class="fa fa-download"></i>\nExport</a></li>'),"\n",HTML.Raw('<li><a class="get-embed-code" data-toggle="modal" href="#" data-target="#modalShare"><i class="fa fa-code"></i>\nGet Embed Code</a></li>'),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("isDocumentOwner"))},function(){return[HTML.LI(HTML.A({id:"btn-document-delete","data-toggle":"tooltip",title:"",href:"#"},HTML.I({class:["fa"," ","fa-trash"]}),"\n","Delete")),HTML.LI({class:"divider"})]},function(){return HTML.LI({class:"divider"})}),"\n",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(a.lookup("currentHomePath"))}},HTML.Raw('<i class="fa fa-close"></i>'),"\n","Close")))),HTML.LI(HTML.A({id:"btn-save-refresh","data-toggle":"tooltip","data-placement":"bottom",title:function(){return Blaze.If(function(){return Spacebars.call(a.lookup("canEditDocument"))},function(){return"Save/Refresh, Ctrl+Enter"},function(){return"Disabled"})},href:"#"},HTML.Raw('<i class="fa fa-save"></i>'),"\n","Save")),Blaze.If(function(){return Spacebars.call(a.lookup("canEditDocument"))},function(){return HTML.LI({class:"dropdown"},HTML.A({class:"dropdown-toggle",title:"More",href:"#","data-toggle":"dropdown","aria-expanded":"true"},"Tools"),"\n",HTML.UL({class:["dropdown-menu"," ","hn-dropdown"],role:"menu","aria-labelledby":"dropdownMenu1"},"     ","\n",HTML.LI(HTML.A({class:"btn-document-clone",title:"Clone",href:"#"},HTML.I({class:["fa"," ","fa-copy"]}),"\n","Clone"))))}),HTML.LI({class:"dropdown"},HTML.Raw('<a class="dropdown-toggle" title="More" href="#" data-toggle="dropdown" aria-expanded="true"><i class="fa fa-ellipsis-h"></i></a>'),"\n",HTML.UL({class:["dropdown-menu"," ","hn-dropdown"],role:"menu","aria-labelledby":"dropdownMenu1"},HTML.Raw('<li><a id="toggle-public-view" data-toggle="tooltip" title="" href="#">View public page</a></li>'),"\n",HTML.Raw('<li><a id="open-canvas-window" data-toggle="tooltip" title="" href="#">View in new window</a></li>'),"\n",HTML.Raw('<li class="divider">   </li>'),"\n",HTML.Raw('<li><a class="switch-on show-canvas" data-toggle="tooltip" title="Ctrl+/" data-target="canvas" href="#">Show Canvas Only</a></li>'),"\n",HTML.Raw('<li><a class="switch-on show-editor" data-toggle="tooltip" title="" data-target="editor" href="#">Show Editor Only</a></li>'),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("showBoth"))},function(){return HTML.LI(HTML.A({class:"btn-swap",href:"#","data-target":"both"},"Swap Windows"))},function(){return HTML.LI(HTML.A({class:["switch-on"," ","show-both"],"data-toggle":"tooltip",title:"Ctrl+/","data-target":"both",href:"#"},"Show Both"))}),"\n",HTML.Raw('<li class="divider"></li>'),"\n",HTML.Raw('<li> \n<a href="http://userguide.vida.io/#d3-document" target="_blank">Help        </a></li>'))),Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("currentDocument"),"safeMode"))},function(){return HTML.LI(HTML.A({id:"disable-safemode",class:"active","data-toggle":"tooltip",title:"Disable Safe Mode",href:"#"},HTML.I({class:["fa"," ","fa-bug"]})))})]})}).call(this);

(function(){Template.__checkName("proc_funcs_modal"),Template.proc_funcs_modal=new Template("Template.proc_funcs_modal",function(){var a=this;return HTML.DIV({id:"proc-funcs-modal",class:"modal","aria-hidden":"true","aria-labelledby":"procFuncsModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>Processing functions - Click to select</h4></div>'),"\n",HTML.DIV({class:"modal-body"},"         ","\n",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("procFuncs"),"count"))},function(){return HTML.UL({class:"modal-list"},Blaze.Each(function(){return Spacebars.call(a.lookup("procFuncs"))},function(){return HTML.LI({class:function(){return Blaze.If(function(){return Spacebars.call(a.lookup("isDocumentProcFunc"))},function(){return"active"})}},HTML.A({class:"set-proc-func",href:"#","data-processing-function-id":function(){return Spacebars.mustache(a.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))}),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("isDocumentProcFunc"))},function(){return HTML.DIV({class:"pull-right"},HTML.I({class:["fa"," ","fa-check"]}))})))}))},function(){return HTML.P("No processing functions available")})),"\n",HTML.Raw('<div class="modal-footer"><button class="btn" data-dismiss="modal" aria-hidden="true">Close</button></div>'))))})}).call(this);

(function(){Template.__checkName("properties_subtab"),Template.properties_subtab=new Template("Template.properties_subtab",function(){var a=this;return HTML.DIV({id:"dynamic_properties"},HTML.DIV({class:"property-group"},HTML.Raw('<div class="pheader">Javascript</div>'),"\n",HTML.DIV({class:"pcontent"},Blaze.Each(function(){return Spacebars.call(a.lookup("javascript_properties"))},function(){return HTML.DIV({class:"row"},HTML.DIV({class:["col-md-4"," ","property-label"]},HTML.STRONG(Blaze.View("lookup:prettifyDisplayVar",function(){return Spacebars.mustache(a.lookup("prettifyDisplayVar"),Spacebars.dot(a.lookup("."),"name"))}))),"\n",HTML.DIV({class:"col-md-8",id:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))}},Blaze.If(function(){return Spacebars.dataMustache(a.lookup("isPropFloat"),a.lookup("."))},function(){return HTML.INPUT({class:"js_prop_value",type:"text","data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))},value:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"value"))}})},function(){return Blaze.If(function(){return Spacebars.dataMustache(a.lookup("isPropText"),a.lookup("."))},function(){return HTML.INPUT({class:"js_prop_value",type:"text","data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))},value:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"value"))}})},function(){return Blaze.If(function(){return Spacebars.dataMustache(a.lookup("isPropColor"),a.lookup("."))},function(){return[HTML.INPUT({class:["js_prop_color_value"," ","js_prop_value"],type:"text","data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))},value:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"value"))}}),HTML.INPUT({class:"js_prop_color_picker",type:"color",name:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))},"data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))},value:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"value"))}})]})})})))}),"\n",Blaze.Unless(function(){return Spacebars.call(a.lookup("javascript_properties"))},function(){return HTML.P({class:"text-center"},"(Empty)")}))),"\n",HTML.DIV({class:"property-group"},HTML.Raw('<div class="pheader">Stylesheet</div>'),"\n",HTML.DIV({class:"pcontent"},Blaze.Each(function(){return Spacebars.call(a.lookup("stylesheet_properties"))},function(){return HTML.DIV({class:"row"},HTML.DIV({class:["col-md-4"," ","property-label"]},HTML.STRONG(Blaze.View("lookup:prettifyDisplayVar",function(){return Spacebars.mustache(a.lookup("prettifyDisplayVar"),Spacebars.dot(a.lookup("."),"name"))}))),"\n",HTML.DIV({class:"col-md-8",id:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))}},Blaze.If(function(){return Spacebars.dataMustache(a.lookup("isPropColor"),a.lookup("."))},function(){return[HTML.INPUT({class:["css_prop_color_value"," ","css_prop_value"],type:"text","data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))},value:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"value"))}}),HTML.INPUT({class:"css_prop_color_picker",type:"color",name:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))},"data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))},value:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"value"))}})]}),"\n",Blaze.If(function(){return Spacebars.dataMustache(a.lookup("isPropText"),a.lookup("."))},function(){return HTML.INPUT({class:"css_prop_value",type:"text","data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))},value:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"value"))}})})))}),"\n",Blaze.Unless(function(){return Spacebars.call(a.lookup("stylesheet_properties"))},function(){return HTML.P({class:"text-center"},"(Empty)")}))),"\n",HTML.DIV({class:"property-group"},HTML.Raw('<div class="pheader">Data</div>'),"\n",HTML.DIV({class:"pcontent"},Blaze.Each(function(){return Spacebars.call(a.lookup("data_properties"))},function(){return HTML.DIV({class:"row"},HTML.DIV({class:["col-md-4"," ","property-label"]},HTML.STRONG(Blaze.View("lookup:prettifyDisplayVar",function(){return Spacebars.mustache(a.lookup("prettifyDisplayVar"),Spacebars.dot(a.lookup("."),"name"))}))),"\n",HTML.DIV({class:"col-md-8",id:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))}},Blaze.If(function(){return Spacebars.dataMustache(a.lookup("isPropDataField"),a.lookup("."))},function(){return HTML.SELECT({class:"data-field","data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))}},HTML.OPTION({value:""}),"\n",Blaze.Each(function(){return Spacebars.call(a.lookup("data_fields"))},function(){return Blaze.If(function(){return Spacebars.dataMustache(a.lookup("isEq"),a.lookup("."),Spacebars.dot(a.lookup(".."),"value"))},function(){return HTML.OPTION({value:function(){return Spacebars.mustache(a.lookup("."))},selected:"true"},Blaze.View("lookup:.",function(){return Spacebars.mustache(a.lookup("."))}))},function(){return HTML.OPTION({value:function(){return Spacebars.mustache(a.lookup("."))}},Blaze.View("lookup:.",function(){return Spacebars.mustache(a.lookup("."))}))})}))},function(){return HTML.INPUT({class:"data_prop_value",type:"text","data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))},value:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"value"))}})})))}),"\n",Blaze.Unless(function(){return Spacebars.call(a.lookup("data_properties"))},function(){return HTML.P({class:"text-center"},"(Empty)")}))))})}).call(this);

(function(){Template.__checkName("document_embed"),Template.document_embed=new Template("Template.document_embed",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("documentShowReady"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("documentValid"))},function(){return Spacebars.include(e.lookupTemplate("embed_canvas"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("loadAndCheckValidDocument"))},function(){return Spacebars.include(e.lookupTemplate("embed_canvas"))},function(){return HTML.DIV({class:"invalid-doc-message"},Spacebars.include(e.lookupTemplate("invalid_document")))})})},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("documentValid"))},function(){return Spacebars.include(e.lookupTemplate("embed_canvas"))},function(){return[HTML.DIV({class:"invalid-doc-message"},Spacebars.include(e.lookupTemplate("invalid_document"))),HTML.DIV({class:"invalid-doc-login"},HTML.UL({class:["embed-hnav"," ","hnav"]},Blaze.If(function(){return Spacebars.call(e.lookup("isEnterprise"))},function(){return Spacebars.include(e.lookupTemplate("enterpriseLoginButtons"))},function(){return HTML.LI({class:"btn-login"},Spacebars.include(e.lookupTemplate("loginButtons")))})))]})})},function(){return Spacebars.include(e.lookupTemplate("loadingEmbedIcon"))})}),Template.__checkName("embed_canvas"),Template.embed_canvas=new Template("Template.embed_canvas",function(){var e=this;return[HTML.Raw('<div id="canvas" class="embed"></div>'),Blaze.Unless(function(){return Spacebars.call(e.lookup("isReactive"))},function(){return HTML.DIV({id:"poweredby"},Blaze.If(function(){return Spacebars.call(e.lookup("showVidaSignature"))},function(){return HTML.A({id:"poweredby-logo",href:"http://vida.io",target:"_blank",title:"Powered by VIDA.IO"})},function(){return[Blaze.If(function(){return Spacebars.call(e.lookup("showSignature"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("signatureText"))},function(){return HTML.A({id:"createdby",href:function(){return Spacebars.mustache(e.lookup("createdbyURL"))},target:"_blank",title:""},Blaze.View("lookup:signatureText",function(){return Spacebars.mustache(e.lookup("signatureText"))}))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("signatureImageUrl"))},function(){return HTML.A({id:"createdby",href:function(){return Spacebars.mustache(e.lookup("createdbyURL"))},target:"_blank"},HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("signatureImageUrl"))}}))},function(){return HTML.A({id:"createdby",href:function(){return Spacebars.mustache(e.lookup("createdbyURL"))},target:"_blank",title:""},"Created by ",Blaze.View("lookup:profileName",function(){return Spacebars.mustache(e.lookup("profileName"))}))})})}),Blaze.If(function(){return Spacebars.call(e.lookup("showWidget"))},function(){return HTML.DIV({id:"embed-widget"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","embed-widget-toggle"]},"Embed"),"\n",HTML.INPUT({id:"embed-code",class:"embed-widget-toggle",style:"display:none;",value:"","data-toggle":"tooltip",title:"Copy this code"}),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","embed-widget-toggle"],style:"display:none;"},HTML.CharRef({html:"&#215;",str:""})))})]}))})]})}).call(this);

(function(){Template.__checkName("document_search"),Template.document_search=new Template("Template.document_search",function(){var e=this;return HTML.DIV({class:["container"," ","matter"]},HTML.Raw('<h3 style="color: #0f608b;">Search</h3>\n<hr>\n'),HTML.DIV({class:"jumbotron"},HTML.UL({class:"vcards"},Blaze.Each(function(){return Spacebars.call(e.lookup("documents"))},function(){return Spacebars.include(e.lookupTemplate("document_entry"))}),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("waitingSeachSubcritpion"))},function(){return HTML.LI(HTML.A(Spacebars.include(e.lookupTemplate("loadingIcon"))))})),"\n",HTML.Raw('<div class="clearfix"></div>')),HTML.Raw('\n<div class="spacer-xs"></div>'))})}).call(this);

(function(){Template.__checkName("properties_show"),Template.properties_show=new Template("Template.properties_show",function(){var e=this;return[HTML.DIV({id:"minimize-prop",class:function(){return["btn"," ","btn-default"," ","btn-sm"," ",Blaze.Unless(function(){return Spacebars.call(e.lookup("open"))},function(){return" btn-primary "})]}},HTML.Raw('<i class="fa fa-arrows-alt"></i>')),Blaze.If(function(){return Spacebars.call(e.lookup("open"))},function(){return HTML.DIV({id:"document-properties-play"},HTML.DIV({class:"header"},"Document Properties"),"\n",HTML.DIV({class:"content"},"   ","\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("currentDocument"),"properties"))},function(){return HTML.DIV({class:["row"," ","prop-entry"]},Spacebars.include(e.lookupTemplate("properties_tab_entry")))}),"\n",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup("currentDocument"),"properties"))},function(){return HTML.P({class:"text-center"},"No property available")})))})]})}).call(this);

(function(){Template.__checkName("document_show"),Template.document_show=new Template("Template.document_show",function(){var e=this;return HTML.DIV({class:["container"," ","matter"," ","document-show"]},Blaze.If(function(){return Spacebars.call(e.lookup("documentShowReady"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("documentValid"))},function(){return[HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.H2(Blaze.View("lookup:currentDocument.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("currentDocument"),"name"))})))),Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("currentDocument"),"description"))},function(){return HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.H5({style:"margin: 0;"},Blaze.View("lookup:textToHTML",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("textToHTML"),Spacebars.dot(e.lookup("currentDocument"),"description")))}))))}),Spacebars.include(e.lookupTemplate("document_stats")),Spacebars.include(e.lookupTemplate("tag_w1")),HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},Spacebars.include(e.lookupTemplate("document_canvas")),"\n",Spacebars.include(e.lookupTemplate("properties_show")))),Blaze.Unless(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return HTML.DIV({class:"row"},HTML.DIV({class:"col-md-3"}),"\n",HTML.DIV({class:["col-md-6"," ","spacer-20"]},HTML.H4({class:"text-center"},HTML.SPAN({class:["label"," ","label-danger"]},"Please sign in to view code, embed, related documents."))),"\n",HTML.DIV({class:"spacer-20"}))},function(){return[HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12",style:"margin-bottom: 10px;"},HTML.DIV({class:"pull-left"},HTML.A({class:function(){return["btn"," ","btn-default"," ","btn-star"," ",Blaze.If(function(){return Spacebars.call(e.lookup("starred"))},function(){return"starred"})]},"data-docid":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("currentDocument"),"_id"))},style:"font-weight:bold;margin-right:5px;",href:"#","data-toggle":"tooltip",title:"Star"},HTML.I({class:["fa"," ","fa-star"]})),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","open-dialog"],"data-toggle":"modal",href:"#","data-target":"#modalShare",role:"button",style:"font-weight:bold; margin-right: 5px;"},"Embed"),"\n",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup("currentDocument"),"noClone"))},function(){return HTML.A({class:["btn"," ","btn-default"," ","btn-clone"],href:"#",style:"font-weight:bold;","data-toggle":"tooltip",title:"Build your own from this (Data/JS/CSS)"},"Clone")})),"\n",HTML.DIV({class:"pull-right"},HTML.BUTTON({class:["btn-social"," ","btn-facebook"],"data-url":function(){return["http://www.facebook.com/sharer.php?u=https://vida.io/documents/",Spacebars.mustache(Spacebars.dot(e.lookup("currentDocument"),"_id")),"&t=",Spacebars.mustache(Spacebars.dot(e.lookup("currentDocument"),"name")),"?_escaped_fragment_="]},target:"_blank",title:"Facebook","data-toggle":"tooltip"},HTML.I({class:["fa"," ","fa-facebook"]})),"\n",HTML.BUTTON({class:["btn-social"," ","btn-twitter"],"data-url":function(){return["http://twitter.com/share?url=https://vida.io/documents/",Spacebars.mustache(Spacebars.dot(e.lookup("currentDocument"),"_id")),"&text=",Spacebars.mustache(Spacebars.dot(e.lookup("currentDocument"),"name"))]},target:"_blank",title:"Twitter","data-toggle":"tooltip"},HTML.I({class:["fa"," ","fa-twitter"]})),"\n",HTML.BUTTON({class:["btn-social"," ","btn-google-plus"],"data-url":function(){return["https://plusone.google.com/_/+1/confirm?hl=en&url=https://vida.io/documents/",Spacebars.mustache(Spacebars.dot(e.lookup("currentDocument"),"_id")),"?_escaped_fragment_="]},target:"_blank",title:"Google+","data-toggle":"tooltip"},HTML.I({class:["fa"," ","fa-google-plus"]}))))),HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.DIV({class:"pull-right"},"D3.js Visualization"))),Blaze.If(function(){return Spacebars.call(e.lookup("hasReadme"))},function(){return HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.H3({class:"t0"},"Readme"),"\n",Blaze._TemplateWith(function(){return{content:Spacebars.call(Spacebars.dot(e.lookup("currentDocument"),"readme"))}},function(){return Spacebars.include(e.lookupTemplate("readmeMarkdown"))})))}),Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("relatedDocuments"),"count"))},function(){return[HTML.DIV({class:"spacer-40"}),HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.H3({class:"t0"},"Related Documents","\n",HTML.DIV({class:"pull-right"},HTML.A({class:["btn"," ","btn-default"," ","btn-primary"," ","btn-xs"," ","btn-require-login"],href:function(){return Spacebars.mustache(e.lookup("moreRelatedUrl"))}},"More"))),"\n",HTML.HR(),"\n",HTML.DIV({class:"jumbotron"},HTML.UL({class:"vcards"},Blaze.Each(function(){return Spacebars.call(e.lookup("relatedDocuments"))},function(){return Spacebars.include(e.lookupTemplate("document_entry"))})),"\n",HTML.DIV({class:"clearfix"}))))]}),HTML.DIV({class:"spacer-20"}),Spacebars.include(e.lookupTemplate("disqus"))]})]},function(){return Spacebars.include(e.lookupTemplate("invalid_document"))})},function(){return Spacebars.include(e.lookupTemplate("loading"))}),HTML.Raw('\n<div class="spacer-xs"></div>'))}),Template.__checkName("disqus"),Template.disqus=new Template("Template.disqus",function(){var e=this;return HTML.Raw('<div class="spacer-20"></div><h3 class="t0">Discussion</h3><hr><div id="my-disqus"><div id="disqus_thread"></div>\n<noscript>Please enable JavaScript to view the\n<a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>\n<a class="dsq-brlink" href="http://disqus.com">comments powered by\n<span class="logo-disqus">Disqus</span></a></div>')})}).call(this);

(function(){Template.__checkName("readmeMarkdown"),Template.readmeMarkdown=new Template("Template.readmeMarkdown",function(){var e=this;return HTML.DIV({class:"readme"},"\n",Spacebars.include(e.lookupTemplate("markdown"),function(){return["\n",Blaze.View("lookup:content",function(){return Spacebars.mustache(e.lookup("content"))}),"\n"]}),"\n  ")})}).call(this);

(function(){Template.__checkName("document_stats"),Template.document_stats=new Template("Template.document_stats",function(){var e=this;return Blaze.Unless(function(){return Spacebars.call(e.lookup("documentEditMode"))},function(){return HTML.DIV({class:"document-stats"},Blaze.If(function(){return Spacebars.call(e.lookup("documentStatsReady"))},function(){return[HTML.H5({class:"pull-left"},HTML.SPAN({class:["label"," ","label-primary"]},Blaze.If(function(){return Spacebars.dataMustache(e.lookup("nameUsername"),e.lookup("currentDocument"))},function(){return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("username"),e.lookup("currentDocument"))},function(){return HTML.A({class:"owner",href:function(){return["/",Spacebars.mustache(e.lookup("username"),e.lookup("currentDocument"))]}},"                ","\n",["by ",Blaze.View("lookup:nameUsername",function(){return Spacebars.mustache(e.lookup("nameUsername"),e.lookup("currentDocument"))})])},function(){return HTML.A({class:"owner","data-toggle":"tooltip",title:"No public profile"},"by ",Blaze.View("lookup:nameUsername",function(){return Spacebars.mustache(e.lookup("nameUsername"),e.lookup("currentDocument"))}))})}))),HTML.H5({class:"pull-left"},HTML.SPAN({class:["label"," ","label-default"]},Blaze.View("lookup:formatNumber",function(){return Spacebars.mustache(e.lookup("formatNumber"),e.lookup("viewCounter"))})," views")),HTML.H5({class:"pull-left"},HTML.SPAN({class:["label"," ","label-default"]},Blaze.View("lookup:formatNumber",function(){return Spacebars.mustache(e.lookup("formatNumber"),e.lookup("starCounter"))})," stars")),HTML.H5({class:"pull-left"},HTML.SPAN({class:["label"," ","label-default"]},Blaze.View("lookup:formatNumber",function(){return Spacebars.mustache(e.lookup("formatNumber"),e.lookup("cloneCounter"))})," clones        "))]},function(){return HTML.DIV({class:"pull-left"},Spacebars.include(e.lookupTemplate("loadingIcon")))}),"\n",HTML.DIV({class:"clearfix"}))})})}).call(this);

(function(){Template.__checkName("my_chart_entry"),Template.my_chart_entry=new Template("Template.my_chart_entry",function(){var t=this;return HTML.LI({class:function(){return Spacebars.mustache(t.lookup("active"))}},HTML.A({class:"name",href:function(){return Spacebars.mustache(t.lookup("pathFor"),"charts",t.lookup("_id"))}},HTML.DIV({class:["thumbnail"," ","thumbnail-1-24"," ","pull-left"," ","gchart-thumbnail"]},Blaze.If(function(){return Spacebars.call(t.lookup("thumbnail"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(t.lookup("thumbnail"))},alt:function(){return Spacebars.mustache(t.lookup("type"))}})},function(){return HTML.IMG({src:function(){return["/images/charts/google_",Spacebars.mustache(t.lookup("type")),".png"]},alt:function(){return Spacebars.mustache(t.lookup("type"))}})})),"\n",HTML.DIV({class:"doc-name"},Blaze.View("lookup:options.title",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("options"),"title"))})),"\n",HTML.DIV({class:["entry-info"," ","pull-right"]},HTML.SPAN({class:"created-at"},Blaze.View("lookup:formatEntryTime",function(){return Spacebars.mustache(t.lookup("formatEntryTime"),t.lookup("created"))})))))})}).call(this);

(function(){Template.__checkName("my_gcharts"),Template.my_gcharts=new Template("Template.my_gcharts",function(){var a=this;return[HTML.DIV({class:"control-bar"},HTML.DIV({class:"cb-actions"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-primary"],href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home/gcharts/new")},title:"Create a Google chart"},HTML.Raw('<i class="fa fa-plus"></i>'),"\n","New Chart")),"\n",HTML.DIV({class:"cb-stats"},HTML.SPAN({class:"total"},"Total: ",Blaze.View("lookup:charts.count",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("charts"),"count"))})," "),"\n",Spacebars.include(a.lookupTemplate("sort_filters")))),HTML.UL({class:"document-list"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("charts"),"count"))},function(){return[Blaze.Each(function(){return Spacebars.call(a.lookup("charts"))},function(){return Spacebars.include(a.lookupTemplate("my_chart_entry"))}),Blaze.Unless(function(){return Spacebars.call(a.lookup("myDocumentsReady"))},function(){return HTML.LI(Spacebars.include(a.lookupTemplate("loadingIcon")))})]},function(){return HTML.H6({class:"text-center"},"(No chart available)")})),HTML.Raw('<div class="spacer-40"> </div>')]})}).call(this);

(function(){Template.__checkName("my_dataset_entry"),Template.my_dataset_entry=new Template("Template.my_dataset_entry",function(){var a=this;return HTML.LI({class:function(){return Spacebars.mustache(a.lookup("active"))}},HTML.A({class:"name",href:function(){return Spacebars.mustache(a.lookup("pathFor"),"datasets",a.lookup("_id"))}},HTML.DIV({class:["thumbnail"," ","thumbnail-1-24"," ","pull-left"," ","gchart-thumbnail"]},Blaze.If(function(){return Spacebars.call(a.lookup("chartThumbnail"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(a.lookup("chartThumbnail"))},alt:function(){return Spacebars.mustache(a.lookup("type"))}})},function(){return HTML.I({class:["fa"," ","fa-ban"],title:"No chart",style:"margin: 0;"})})),"\n",HTML.DIV({class:"doc-name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))})),"\n",HTML.DIV({class:["entry-info"," ","pull-right"]},HTML.INPUT({class:["dataset-select"," ","pull-right"],type:"checkbox",checked:function(){return Spacebars.mustache(a.lookup("isChecked"))}}),"\n",HTML.SPAN({class:"created-at"},Blaze.View("lookup:formatEntryTime",function(){return Spacebars.mustache(a.lookup("formatEntryTime"),a.lookup("created"))})),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("isSafeModeOn"))},function(){return HTML.SPAN({class:"picon"},HTML.I({class:["fa"," ","fa-bug"],"data-toggle":"tooltip",title:"Turn off Safe Mode"}))}),"\n",Blaze.Unless(function(){return Spacebars.call(a.lookup("isSafeModeOn"))},function(){return HTML.SPAN({class:"picon"},HTML.I({class:["fa"," ","fa-bug"," ","safe-mode-off"],"data-toggle":"tooltip",title:"Turn on Safe Mode"}))}))))})}).call(this);

(function(){Template.__checkName("my_datasets"),Template.my_datasets=new Template("Template.my_datasets",function(){var t=this;return[HTML.DIV({class:"control-bar"},HTML.Raw('<div class="cb-actions"><a class="btn btn-default btn-xs btn-primary new-dataset" href="#" title="Create/Import a dataset"><i class="fa fa-plus"></i>\nNew Dataset</a></div>'),"\n",HTML.DIV({class:"cb-stats"},Blaze.If(function(){return Spacebars.call(t.lookup("selectedDatasetCount"))},function(){return[HTML.SPAN({class:"total"},"Selected: ",Blaze.View("lookup:selectedDatasetCount",function(){return Spacebars.mustache(t.lookup("selectedDatasetCount"))})),HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-trash"],"data-toggle":"tooltip","data-placement":"bottom",title:"Delete"},HTML.I({class:["fa"," ","fa-trash"]})),HTML.DIV({class:["dropdown"," ","pull-right"]},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],href:"#","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},"More","\n",HTML.SPAN({class:"caret"})),"\n",HTML.UL({class:"dropdown-menu"},HTML.LI(HTML.A({class:"btn-deselect",href:"#"},"Deselect All"))))]},function(){return[HTML.SPAN({class:"total"},"Total: ",Blaze.View("lookup:datasets.count",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("datasets"),"count"))})," "),Spacebars.include(t.lookupTemplate("sort_filters"))]}))),HTML.UL({class:"document-list"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("datasets"),"count"))},function(){return[Blaze.Each(function(){return Spacebars.call(t.lookup("datasets"))},function(){return Spacebars.include(t.lookupTemplate("my_dataset_entry"))}),Blaze.Unless(function(){return Spacebars.call(t.lookup("myDocumentsReady"))},function(){return HTML.LI(Spacebars.include(t.lookupTemplate("loadingIcon")))})]},function(){return HTML.H6({class:"text-center"},"(No dataset available)")})),HTML.Raw('<div class="spacer-40"> </div>')]})}).call(this);

(function(){Template.__checkName("gcharts_new"),Template.gcharts_new=new Template("Template.gcharts_new",function(){var a=this;return[HTML.DIV({class:"control-bar"},HTML.DIV({class:"cb-actions"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-primary"],href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home/gcharts")}},HTML.Raw('<i class="fa fa-chevron-left"></i>'),"\n","Back"),"\n",HTML.Raw('<h5 class="t0">Google Chart Templates</h5>'))),HTML.UL({class:["vcards"," ","vcards-md"]},Blaze.Each(function(){return Spacebars.call(a.lookup("chartTypes"))},function(){return HTML.LI({class:"new-chart"},HTML.A({href:"#","data-type":function(){return Spacebars.mustache(a.lookup("."))}},HTML.DIV({class:"tn"},HTML.SPAN({class:"align-helper"}),"\n",HTML.IMG({src:function(){return["/images/charts/google_",Spacebars.mustache(a.lookup(".")),".png"]},alt:function(){return Spacebars.mustache(a.lookup("name"))}})),"\n",HTML.DIV({class:"name"},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(a.lookup("toTitleCase"),a.lookup("."))}))))}),"\n",HTML.Raw('<div class="clearfix">   </div>')),HTML.Raw('<div class="spacer-40"></div>')]})}).call(this);

(function(){Template.__checkName("my_dashboard_entry"),Template.my_dashboard_entry=new Template("Template.my_dashboard_entry",function(){var a=this;return HTML.LI({class:function(){return Spacebars.mustache(a.lookup("active"))}},HTML.A({class:"name",href:function(){return Spacebars.mustache(a.lookup("pathFor"),"dashboard.edit",a.lookup("_id"))}},Blaze.If(function(){return Spacebars.call(a.lookup("thumbnail"))},function(){return HTML.DIV({class:["thumbnail"," ","thumbnail-1-24"," ","pull-left"]},HTML.IMG({src:function(){return Spacebars.mustache(a.lookup("dashboardThumbnailUrl"),a.lookup("."))}}))},function(){return HTML.DIV({class:["thumbnail"," ","thumbnail-1-24"," ","pull-left"," ","gchart-thumbnail"]},HTML.I({class:["fa"," ","fa-picture-o"],title:"No thumbnail",style:"margin: 0;"}))}),"\n",Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))}),"\n",HTML.DIV({class:["entry-info"," ","pull-right"]},HTML.SPAN({class:"created-at"},Blaze.View("lookup:formatEntryTime",function(){return Spacebars.mustache(a.lookup("formatEntryTime"),a.lookup("created"))})))))}),Template.__checkName("shared_dashboard_entry"),Template.shared_dashboard_entry=new Template("Template.shared_dashboard_entry",function(){var a=this;return HTML.LI({class:function(){return Spacebars.mustache(a.lookup("active"))}},HTML.A({class:"name",href:function(){return["/dashboards/",Spacebars.mustache(a.lookup("_id"))]}},HTML.DIV({class:["thumbnail"," ","thumbnail-1-24"," ","pull-left"]},Blaze.If(function(){return Spacebars.call(a.lookup("thumbnail"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(a.lookup("dashboardThumbnailUrl"),a.lookup("."))}})},function(){return HTML.I({class:["fa"," ","fa-picture-o"]})})),"\n",HTML.DIV({class:"doc-name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))})),"\n",HTML.DIV({class:["entry-info"," ","pull-right"]},HTML.SPAN({class:"created-at","data-toggle":"tooltip",title:"Owner"},Blaze.View("lookup:formatEntryTime",function(){return Spacebars.mustache(a.lookup("formatEntryTime"),a.lookup("created"))})),"\n",Spacebars.include(a.lookupTemplate("privacy_icons")),"\n",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("currentTeam"),"name"))},function(){return HTML.SPAN({class:"owner","data-toggle":"tooltip",title:"Team"},Blaze.View("lookup:currentTeam.name",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("currentTeam"),"name"))}))},function(){return Blaze.If(function(){return Spacebars.call(a.lookup("nameUsername"))},function(){return HTML.SPAN({class:"owner","data-toggle":"tooltip",title:"Owner"},Blaze.View("lookup:nameUsername",function(){return Spacebars.mustache(a.lookup("nameUsername"))}))})}))))})}).call(this);

(function(){Template.__checkName("my_dashboards"),Template.my_dashboards=new Template("Template.my_dashboards",function(){var a=this;return[HTML.DIV({class:"control-bar"},HTML.DIV({class:"cb-actions"},HTML.Raw('<a class="btn btn-default btn-xs btn-primary new-dashboard" href="#" title="Create a dashboard"><i class="fa fa-plus"></i>\nNew Dashboard</a>'),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("isLocalEnterprise"))},function(){return HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-primary"," ","import-dashboard"],href:"#",title:"Import a dashboard"},HTML.I({class:["fa"," ","fa-upload"]}),"\n","Import Dashboard")})),"\n",HTML.DIV({class:"cb-stats"},HTML.SPAN({class:"total"},"Total: ",Blaze.View("lookup:dashboards.count",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("dashboards"),"count"))})),"\n",Spacebars.include(a.lookupTemplate("sort_filters")))),HTML.UL({class:"document-list"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("dashboards"),"count"))},function(){return[Blaze.Each(function(){return Spacebars.call(a.lookup("dashboards"))},function(){return Spacebars.include(a.lookupTemplate("my_dashboard_entry"))}),Blaze.Unless(function(){return Spacebars.call(a.lookup("myDocumentsReady"))},function(){return HTML.LI(Spacebars.include(a.lookupTemplate("loadingIcon")))})]},function(){return HTML.H6({class:"text-center"},"(No dashboard available)")})),HTML.Raw('<div class="spacer-40"></div>'),Spacebars.include(a.lookupTemplate("import_dashboard_file_modal"))]}),Template.__checkName("my_shared_dashboards"),Template.my_shared_dashboards=new Template("Template.my_shared_dashboards",function(){var a=this;return[HTML.DIV({class:"control-bar"},HTML.Raw('<div class="cb-actions"></div>'),"\n",HTML.DIV({class:"cb-stats"},HTML.SPAN({class:"total"},"Total: ",Blaze.View("lookup:sharedDashboards.count",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("sharedDashboards"),"count"))})))),HTML.UL({class:"document-list"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("sharedDashboards"),"count"))},function(){return[Blaze.Each(function(){return Spacebars.call(a.lookup("sharedDashboards"))},function(){return Spacebars.include(a.lookupTemplate("shared_dashboard_entry"))}),Blaze.Unless(function(){return Spacebars.call(a.lookup("myDocumentsReady"))},function(){return HTML.LI(Spacebars.include(a.lookupTemplate("loadingIcon")))})]},function(){return HTML.H6({class:"text-center"},"(No shared dashboard available. Please check if you verified your email.)")})),HTML.Raw('<div class="spacer-40"></div>')]})}).call(this);

(function(){Template.__checkName("my_document_entry"),Template.my_document_entry=new Template("Template.my_document_entry",function(){var e=this;return HTML.LI({class:function(){return Spacebars.mustache(e.lookup("selectedClass"))}},HTML.A({class:"name",href:function(){return["/documents/",Spacebars.mustache(e.lookup("_id")),"/edit"]}},HTML.DIV({class:["thumbnail"," ","thumbnail-1-24"," ","pull-left"]},Blaze.If(function(){return Spacebars.call(e.lookup("thumbnail"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("thumbnailUrl"),e.lookup("."))}})},function(){return HTML.I({class:["fa"," ","fa-picture-o"]})})),"\n",HTML.DIV({class:"doc-name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})," "),"\n",HTML.DIV({class:["entry-info"," ","pull-right"]},HTML.INPUT({class:["doc-select"," ","pull-right"],type:"checkbox",checked:function(){return Spacebars.mustache(e.lookup("isChecked"))}}),"\n",HTML.SPAN({class:"created-at"},Blaze.View("lookup:formatEntryTime",function(){return Spacebars.mustache(e.lookup("formatEntryTime"),e.lookup("created"))})),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("isSafeModeOn"))},function(){return HTML.SPAN({class:"picon"},HTML.I({class:["fa"," ","fa-bug"],"data-toggle":"tooltip",title:"Turn off Safe Mode"}))}),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("isSafeModeOn"))},function(){return HTML.SPAN({class:"picon"},HTML.I({class:["fa"," ","fa-bug"," ","safe-mode-off"],"data-toggle":"tooltip",title:"Turn on Safe Mode"}))}),"\n",Spacebars.include(e.lookupTemplate("privacy_icons")))))}),Template.__checkName("shared_document_entry"),Template.shared_document_entry=new Template("Template.shared_document_entry",function(){var e=this;return HTML.LI({class:function(){return Spacebars.mustache(e.lookup("active"))}},HTML.A({class:"name",href:function(){return["/documents/",Spacebars.mustache(e.lookup("_id"))]}},HTML.DIV({class:["thumbnail"," ","thumbnail-1-24"," ","pull-left"]},Blaze.If(function(){return Spacebars.call(e.lookup("thumbnail"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("thumbnailUrl"),e.lookup("."))}})},function(){return HTML.IMG({src:function(){return["/images/charts/",Spacebars.mustache(e.lookup("type")),".png"]},alt:function(){return Spacebars.mustache(e.lookup("type"))}})})),"\n",HTML.DIV({class:"doc-name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})," "),"\n",HTML.DIV({class:["entry-info"," ","pull-right"]},HTML.SPAN({class:"created-at","data-toggle":"tooltip",title:"Owner"},Blaze.View("lookup:formatEntryTime",function(){return Spacebars.mustache(e.lookup("formatEntryTime"),e.lookup("created"))})),"\n",Spacebars.include(e.lookupTemplate("privacy_icons")),"\n",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("currentTeam"),"name"))},function(){return HTML.SPAN({class:"owner","data-toggle":"tooltip",title:"Team"},Blaze.View("lookup:currentTeam.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("currentTeam"),"name"))}))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("nameUsername"))},function(){return HTML.SPAN({class:"owner","data-toggle":"tooltip",title:"Owner"},Blaze.View("lookup:nameUsername",function(){return Spacebars.mustache(e.lookup("nameUsername"))}))})}))))}),Template.__checkName("starred_document_entry"),Template.starred_document_entry=new Template("Template.starred_document_entry",function(){var e=this;return HTML.LI({class:function(){return Spacebars.mustache(e.lookup("active"))}},HTML.A({class:"name",href:function(){return["/documents/",Spacebars.mustache(e.lookup("_id"))]}},HTML.DIV({class:["thumbnail"," ","thumbnail-1-24"," ","pull-left"]},Blaze.If(function(){return Spacebars.call(e.lookup("thumbnail"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("thumbnailUrl"),e.lookup("."))}})},function(){return HTML.IMG({src:function(){return["/images/charts/",Spacebars.mustache(e.lookup("type")),".png"]},alt:function(){return Spacebars.mustache(e.lookup("type"))}})})),"\n",HTML.DIV({class:"doc-name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})," "),"\n",HTML.DIV({class:["entry-info"," ","pull-right"]},HTML.SPAN({class:"created-at","data-toggle":"tooltip",title:"Date created"},Blaze.View("lookup:formatEntryTime",function(){return Spacebars.mustache(e.lookup("formatEntryTime"),e.lookup("created"))})),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("nameUsername"))},function(){return HTML.SPAN({class:"owner","data-toggle":"tooltip",title:"Owner"},Blaze.View("lookup:nameUsername",function(){return Spacebars.mustache(e.lookup("nameUsername"))}))}))))}),Template.__checkName("privacy_icons"),Template.privacy_icons=new Template("Template.privacy_icons",function(){var e=this;return[HTML.SPAN({class:"picon"},Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isPrivacyState"),"private")},function(){return HTML.I({class:["fa"," ","fa-lock"],"data-toggle":"tooltip",title:"Private"})},function(){return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isPrivacyState"),"unlisted")},function(){return HTML.I({class:["fa"," ","fa-unlock-alt"],"data-toggle":"tooltip",title:"Unlisted"})})})),HTML.SPAN({class:"picon"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("currentTeam"),"name"))},function(){return HTML.I({class:["fa"," ","fa-group"],"data-toggle":"tooltip",title:function(){return["[Team] ",Spacebars.mustache(Spacebars.dot(e.lookup("currentTeam"),"name"))]}})},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("hasCollab"))},function(){return HTML.I({class:["fa"," ","fa-share-alt"],"data-toggle":"tooltip",title:"Shared to collaborators"})})})),HTML.SPAN({class:"picon"},Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isTemplateDocument"),e.lookup("_id"))},function(){return HTML.I({class:["fa"," ","fa-circle"],"data-toggle":"tooltip",title:"Template"})},function(){return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isPartialDocument"),e.lookup("_id"))},function(){return HTML.I({class:["fa"," ","fa-circle-o"],"data-toggle":"tooltip",title:"Template Child"})})}))]})}).call(this);

(function(){Template.__checkName("my_documents"),Template.my_documents=new Template("Template.my_documents",function(){var e=this;return[HTML.DIV({class:"control-bar"},HTML.DIV({class:"cb-actions"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-primary"],href:function(){return Spacebars.mustache(e.lookup("pathFor"),"home/documents/new")},title:"Create a D3 document"},HTML.Raw('<i class="fa fa-plus"></i>'),"\n","New Document"),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("isLocalEnterprise"))},function(){return HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-primary"," ","import-doc"],href:"#",title:"Import a Vida document"},HTML.I({class:["fa"," ","fa-upload"]}),"\n","Import Document")})),"\n",HTML.DIV({class:"cb-stats"},Blaze.If(function(){return Spacebars.call(e.lookup("selectedDocCount"))},function(){return[HTML.SPAN({class:"total"},"Selected: ",Blaze.View("lookup:selectedDocCount",function(){return Spacebars.mustache(e.lookup("selectedDocCount"))})),HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-trash"],"data-toggle":"tooltip","data-placement":"bottom",title:"Delete"},HTML.I({class:["fa"," ","fa-trash"]})),HTML.DIV({class:["dropdown"," ","pull-right"]},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],href:"#","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},"More","\n",HTML.SPAN({class:"caret"})),"\n",HTML.UL({class:"dropdown-menu"},HTML.LI(HTML.A({class:"btn-deselect",href:"#"},"Deselect All"))))]},function(){return[HTML.SPAN({class:"total"},"Total: ",Blaze.View("lookup:documents.count",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("documents"),"count"))})),Spacebars.include(e.lookupTemplate("sort_filters"))]}))),HTML.UL({class:"document-list"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("documents"),"count"))},function(){return[Blaze.Each(function(){return Spacebars.call(e.lookup("documents"))},function(){return Spacebars.include(e.lookupTemplate("my_document_entry"))}),Blaze.Unless(function(){return Spacebars.call(e.lookup("myDocumentsReady"))},function(){return HTML.LI(Spacebars.include(e.lookupTemplate("loadingIcon")))})]},function(){return HTML.H6({class:"text-center"},"(Empty)")})),HTML.Raw('<div class="spacer-40"></div>'),Spacebars.include(e.lookupTemplate("import_doc_file_modal"))]}),Template.__checkName("my_shared_documents"),Template.my_shared_documents=new Template("Template.my_shared_documents",function(){var e=this;return[HTML.DIV({class:"control-bar"},HTML.Raw('<div class="cb-actions"></div>'),"\n",HTML.DIV({class:"cb-stats"},HTML.SPAN({class:"total"},"Total: ",Blaze.View("lookup:sharedDocuments.count",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("sharedDocuments"),"count"))})))),HTML.UL({class:"document-list"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("sharedDocuments"),"count"))},function(){return[Blaze.Each(function(){return Spacebars.call(e.lookup("sharedDocuments"))},function(){return Spacebars.include(e.lookupTemplate("shared_document_entry"))}),Blaze.Unless(function(){return Spacebars.call(e.lookup("myDocumentsReady"))},function(){return HTML.LI(Spacebars.include(e.lookupTemplate("loadingIcon")))})]},function(){return HTML.H6({class:"text-center"},"(No shared document available. Please check if you verified your email.)")})),HTML.Raw('<div class="spacer-40"></div>')]}),Template.__checkName("my_starred_documents"),Template.my_starred_documents=new Template("Template.my_starred_documents",function(){var e=this;return[HTML.DIV({class:"control-bar"},HTML.Raw('<div class="cb-actions"></div>'),"\n",HTML.DIV({class:"cb-stats"},HTML.SPAN({class:"total"},"Total: ",Blaze.View("lookup:starredDocuments.count",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("starredDocuments"),"count"))})))),HTML.UL({class:"document-list"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("starredDocuments"),"count"))},function(){return[Blaze.Each(function(){return Spacebars.call(e.lookup("starredDocuments"))},function(){return Spacebars.include(e.lookupTemplate("starred_document_entry"))}),Blaze.Unless(function(){return Spacebars.call(e.lookup("myDocumentsReady"))},function(){return HTML.LI(Spacebars.include(e.lookupTemplate("loadingIcon")))})]},function(){return HTML.H6({class:"text-center"},"(No starred document available)")})),HTML.Raw('<div class="spacer-40"></div>')]})}).call(this);

(function(){Template.__checkName("documents_new"),Template.documents_new=new Template("Template.documents_new",function(){var a=this;return[HTML.DIV({class:"control-bar"},HTML.DIV({class:"cb-actions"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-primary"],href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home")}},HTML.Raw('<i class="fa fa-chevron-left"></i>'),"\n","Back"),"\n",HTML.Raw('<h5 class="t0">D3 Templates</h5>'))),HTML.UL({class:["vcards"," ","vcards-md"]},Blaze.Each(function(){return{_sequence:Spacebars.call(a.lookup("vidaDocTypes")),_variable:"key"}},function(){return[HTML.LI({class:"divider"},Blaze.View("lookup:key",function(){return Spacebars.mustache(a.lookup("key"))})),Blaze.Each(function(){return Spacebars.dataMustache(a.lookup("getVidaDocs"),a.lookup("key"))},function(){return HTML.LI({class:"new-vida-document"},HTML.A({href:"#","data-doc-id":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"id"))}},HTML.DIV({class:"tn"},HTML.SPAN({class:"align-helper"}),"\n",HTML.IMG({src:function(){return["https://vida-production.s3.amazonaws.com/thumbnails/",Spacebars.mustache(Spacebars.dot(a.lookup("."),"id"))]},alt:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))}})),"\n",HTML.DIV({class:"name"},Blaze.View("lookup:..name",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("."),"name"))}))))})]}),"\n",HTML.Raw('<li class="divider">Custom</li>'),"\n",Blaze.Each(function(){return Spacebars.call(a.lookup("documentTypes"))},function(){return HTML.LI({class:"new-document"},HTML.A({href:"#","data-type":function(){return Spacebars.mustache(a.lookup("."))}},HTML.DIV({class:"tn"},HTML.SPAN({class:"align-helper"}),"\n",HTML.IMG({src:function(){return["/images/charts/",Spacebars.mustache(a.lookup(".")),".png"]},alt:function(){return Spacebars.mustache(a.lookup("name"))}})),"\n",HTML.DIV({class:"name"},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(a.lookup("toTitleCase"),a.lookup("."))}))))}),"\n",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("myTemplates"),"count"))},function(){return[HTML.LI({class:"divider"},"My Templates"),Blaze.Each(function(){return Spacebars.call(a.lookup("myTemplates"))},function(){return HTML.LI({class:"btn-clone"},HTML.A({href:"#",title:function(){return Spacebars.mustache(a.lookup("name"))}},HTML.DIV({class:"tn"},HTML.SPAN({class:"align-helper"}),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("thumbnail"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(a.lookup("thumbnailUrl"),a.lookup("."))},alt:function(){return Spacebars.mustache(a.lookup("name"))}})},function(){return HTML.IMG({src:function(){return["/images/charts/",Spacebars.mustache(a.lookup("type")),".png"]},alt:function(){return Spacebars.mustache(a.lookup("name"))}})})),"\n",HTML.DIV({class:"name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))}))))})]}),"\n",HTML.Raw('<div class="clearfix"></div>')),HTML.Raw('<div class="spacer-40"></div>'),Spacebars.include(a.lookupTemplate("github_url_import_modal")),Spacebars.include(a.lookupTemplate("vida_import_modal")),Spacebars.include(a.lookupTemplate("import_doc_file_modal"))]}),Template.__checkName("github_url_import_modal"),Template.github_url_import_modal=new Template("Template.github_url_import_modal",function(){var a=this;return HTML.DIV({id:"modalGitHubUrlImport",class:"modal","aria-hidden":"true","aria-labelledby":"gitImportModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><h4>GitHub URL Import</h4></div>'),"\n",HTML.DIV({class:"modal-body"},HTML.Raw('<input id="url-data-input" type="text" placeholder="Paste GitHub URL here" value="">'),"\n",HTML.Raw("<h6>Example:</h6>"),"\n",HTML.Raw("<div>https://github.com/vidalab/document_template</div>"),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("gitImportErrorMessage"))},function(){return HTML.DIV({class:["alert"," ","alert-danger"," ","text-center"],id:"github-import-error"},Blaze.View("lookup:gitImportErrorMessage",function(){return Spacebars.mustache(a.lookup("gitImportErrorMessage"))}))})),"\n",HTML.DIV({class:"modal-footer"},Blaze.Unless(function(){return Spacebars.call(a.lookup("isImporting"))},function(){return[HTML.BUTTON({class:["btn"," ","btn-close"],"data-dismiss":"modal","aria-hidden":"true"},"Close"),HTML.BUTTON({class:["btn"," ","btn-primary"," ","btn-git-import"]},"Import")]},function(){return HTML.BUTTON({class:["btn"," ","btn-primary"]},HTML.I({class:["fa"," ","fa-spinner"," ","fa-spin"]}),"\n"," Importing ...")})))))}),Template.__checkName("vida_import_modal"),Template.vida_import_modal=new Template("Template.vida_import_modal",function(){var a=this;return HTML.DIV({id:"modalVidaImport",class:"modal","aria-hidden":"true","aria-labelledby":"gitImportModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><h4>VIDA.IO Document Import</h4></div>'),"\n",HTML.DIV({class:"modal-body"},HTML.Raw('<input id="doc-id-input" type="text" placeholder="Paste document id here" value="">'),"\n",HTML.Raw("<h6>Example: use either of the following format to import</h6>"),"\n",HTML.Raw("<ul><li>Using URL:\n<b>https://vida.io/documents/qcNqZk8oRMPCdFHg9</b></li>\n<li>Using Document ID:\n<b>qcNqZk8oRMPCdFHg9</b></li></ul>"),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("vidaImportErrorMessage"))},function(){return HTML.DIV({class:["alert"," ","alert-danger"," ","text-center"],id:"github-import-error"},Blaze.View("lookup:vidaImportErrorMessage",function(){return Spacebars.mustache(a.lookup("vidaImportErrorMessage"))}))})),"\n",HTML.DIV({class:"modal-footer"},Blaze.Unless(function(){return Spacebars.call(a.lookup("isImporting"))},function(){return[HTML.BUTTON({class:["btn"," ","btn-close"],"data-dismiss":"modal","aria-hidden":"true"},"Close"),HTML.BUTTON({class:["btn"," ","btn-primary"," ","btn-vida-import"]},"Import")]},function(){return HTML.BUTTON({class:["btn"," ","btn-primary"]},HTML.I({class:["fa"," ","fa-spinner"," ","fa-spin"]}),"\n"," Importing ...")})))))}),Template.__checkName("import_doc_file_modal"),Template.import_doc_file_modal=new Template("Template.import_doc_file_modal",function(){var a=this;return HTML.DIV({id:"modalVidaDocFile",class:"modal","aria-hidden":"true","aria-labelledby":"gitImportModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><h4>Import Document from File</h4></div>'),"\n",HTML.DIV({class:"modal-body"},HTML.Raw("<h6>Upload Vida document. Click the button to select file.</h6>"),"\n",HTML.Raw('<div class="btn btn-default file-upload" style="padding: 2px 6px; margin-right: 5px;"><span>Upload</span>\n<input id="import-file-upload" class="upload" type="file"></div>'),"\n",HTML.Raw("<p>You can export documents by:</p>"),"\n",HTML.Raw("<ul><li>If you're viewing, clone document to go in Edit mode.</li>\n<li>Open document in edit mode.</li>\n<li>Select File menu from top navigation bar.</li>\n<li>Click Export.</li>\n<li>Locate the downloaded file.</li>\n<li>Upload.</li></ul>"),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("vidaImportErrorMessage"))},function(){return HTML.DIV({class:["alert"," ","alert-danger"," ","text-center"],id:"github-import-error"},Blaze.View("lookup:vidaImportErrorMessage",function(){return Spacebars.mustache(a.lookup("vidaImportErrorMessage"))}))})),"\n",HTML.DIV({class:"modal-footer"},Blaze.Unless(function(){return Spacebars.call(a.lookup("isImporting"))},function(){return HTML.BUTTON({class:["btn"," ","btn-close"],"data-dismiss":"modal","aria-hidden":"true"},"Close")},function(){return HTML.BUTTON({class:["btn"," ","btn-primary"]},HTML.I({class:["fa"," ","fa-spinner"," ","fa-spin"]}),"\n"," Importing ...")})))))}),Template.__checkName("import_dashboard_file_modal"),Template.import_dashboard_file_modal=new Template("Template.import_dashboard_file_modal",function(){var a=this;return HTML.DIV({id:"modalVidaDashboardFile",class:"modal","aria-hidden":"true","aria-labelledby":"gitImportModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><h4>Import Dashboard from File</h4></div>'),"\n",HTML.DIV({class:"modal-body"},HTML.Raw("<h6>Upload Vida dashboard. Click the button to select file.</h6>"),"\n",HTML.Raw('<div class="btn btn-default file-upload" style="padding: 2px 6px; margin-right: 5px;"><span>Upload</span>\n<input id="import-dashboard-file-upload" class="upload" type="file"></div>'),"\n",HTML.Raw("<p>You can export dashboards by:</p>"),"\n",HTML.Raw("<ul><li>If you're viewing, clone dashboard to go in Edit mode.</li>\n<li>Open dashboard in edit mode.</li>\n<li>Select File menu from top navigation bar.</li>\n<li>Click Export.</li>\n<li>Locate the downloaded file.</li>\n<li>Upload.</li></ul>"),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("vidaImportErrorMessage"))},function(){return HTML.DIV({class:["alert"," ","alert-danger"," ","text-center"],id:"github-import-error"},Blaze.View("lookup:vidaImportErrorMessage",function(){return Spacebars.mustache(a.lookup("vidaImportErrorMessage"))}))})),"\n",HTML.DIV({class:"modal-footer"},Blaze.Unless(function(){return Spacebars.call(a.lookup("isImporting"))},function(){return HTML.BUTTON({class:["btn"," ","btn-close"],"data-dismiss":"modal","aria-hidden":"true"},"Close")},function(){return HTML.BUTTON({class:["btn"," ","btn-primary"]},HTML.I({class:["fa"," ","fa-spinner"," ","fa-spin"]}),"\n"," Importing ...")})))))})}).call(this);

(function(){Template.__checkName("sort_filters"),Template.sort_filters=new Template("Template.sort_filters",function(){var t=this;return[HTML.DIV({class:function(){return["btn"," ","btn-default"," ","btn-xs"," ","btn-sort"," ",Blaze.If(function(){return Spacebars.dataMustache(t.lookup("sortType"),"alphabet")},function(){return"disabled"})]},"data-toggle":"tooltip","data-placement":"bottom",title:"Sort by Alphabet","data-sort":"alphabet"},HTML.Raw('<i class="fa fa-sort-alpha-asc"></i>')),HTML.DIV({class:function(){return["btn"," ","btn-default"," ","btn-xs"," ","btn-sort"," ",Blaze.If(function(){return Spacebars.dataMustache(t.lookup("sortType"),"recent")},function(){return"disabled"})]},"data-toggle":"tooltip","data-placement":"bottom",title:"Sort by Recently Opened","data-sort":"recent"},HTML.Raw('<i class="fa fa-clock-o"></i>'))]})}).call(this);

(function(){Template.__checkName("gist_entry"),Template.gist_entry=new Template("Template.gist_entry",function(){var t=this;return HTML.LI({class:function(){return Spacebars.mustache(t.lookup("active"))}},HTML.A({class:"name",href:function(){return Spacebars.mustache(t.lookup("pathFor"),"gistEditor",t.lookup("_id"))}},HTML.Raw('<div class="thumbnail thumbnail-1-24 pull-left gchart-thumbnail"><i class="fa fa-ban" title="No thumbnail" style="margin: 0;"></i></div>'),"\n",Blaze.View("lookup:name",function(){return Spacebars.mustache(t.lookup("name"))}),"\n",HTML.DIV({class:["entry-info"," ","pull-right"]},HTML.SPAN({class:"created-at"},Blaze.View("lookup:formatEntryTime",function(){return Spacebars.mustache(t.lookup("formatEntryTime"),t.lookup("created"))})))))})}).call(this);

(function(){Template.__checkName("gists"),Template.gists=new Template("Template.gists",function(){var t=this;return[HTML.DIV({class:"control-bar"},HTML.Raw('<div class="cb-actions"><a class="btn btn-default btn-xs btn-primary new-gist" href="#" title="Create a gist (block)"><i class="fa fa-plus"></i>\nImport Gist (Block)</a></div>'),"\n",HTML.DIV({class:"cb-stats"},HTML.SPAN({class:"total"},"Total: ",Blaze.View("lookup:gists.count",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("gists"),"count"))})),"\n",Spacebars.include(t.lookupTemplate("sort_filters")))),HTML.UL({class:"document-list"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("gists"),"count"))},function(){return[Blaze.Each(function(){return Spacebars.call(t.lookup("gists"))},function(){return Spacebars.include(t.lookupTemplate("gist_entry"))}),Blaze.Unless(function(){return Spacebars.call(t.lookup("myDocumentsReady"))},function(){return HTML.LI(Spacebars.include(t.lookupTemplate("loadingIcon")))})]},function(){return HTML.H6({class:"text-center"},"(No gist (block) available)")})),Spacebars.include(t.lookupTemplate("gist_url_import_modal"))]}),Template.__checkName("gist_url_import_modal"),Template.gist_url_import_modal=new Template("Template.gist_url_import_modal",function(){var t=this;return HTML.Raw('<div id="modalGistUrlImport" class="modal" aria-hidden="true" aria-labelledby="gistImportModalLabel" role="dialog" data-backdrop="static" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>Gist (Block) URL</h4></div>\n<div class="modal-body"><input id="url-data-input" type="text" placeholder="Paste Gist URL here" value="">\n<h6>Example:</h6>\n<div>https://gist.github.com/dnprock/5b0c00b358cc6ed5e5d4</div>\n<div class="alert alert-danger text-center" id="gist-import-error"></div></div>\n<div class="modal-footer"><button class="btn btn-close" data-dismiss="modal" aria-hidden="true">Close</button>\n<button class="btn btn-primary btn-gist-import">Create</button>\n<button class="btn btn-primary btn-import-loading" style="display: none;"><i class="fa fa-spinner fa-spin"></i>\n Importing ...</button></div></div></div></div>')})}).call(this);

(function(){Template.__checkName("landing_page_enterprise"),Template.landing_page_enterprise=new Template("Template.landing_page_enterprise",function(){var e=this;return HTML.DIV({class:"enterprise"},HTML.Raw('<div class="col-md-2"></div>\n'),HTML.DIV({class:["organization"," ","col-md-8"]},HTML.SPAN(Blaze.View("lookup:organization",function(){return Spacebars.mustache(e.lookup("organization"))})),"\n",HTML.DIV({class:["login-window"," ","home-login-form"]},Spacebars.include(e.lookupTemplate("login_form_enterprise")))),HTML.Raw('\n<div class="copyright"><a href="https://vida.io" target="_blank">&#169; 2015 VIDA LAB INC.</a></div>'))})}).call(this);

(function(){Template.__checkName("login_form_enterprise"),Template.login_form_enterprise=new Template("Template.login_form_enterprise",function(){var t=this;return[Blaze.If(function(){return Spacebars.call(t.lookup("loginWithOAuth"))},function(){return[Blaze.If(function(){return Spacebars.call(t.lookup("configured"))},function(){return HTML.A({class:["btn"," ","btn-primary"," ","btn-lg"],id:"login-smartsheet"},"OAuth Login")},function(){return HTML.getTag("btn")({class:["btn"," ","btn-primary"," ","btn-lg"],id:"btn-configure"},"Configure Login")}),HTML.DIV({class:"spacer-20"}),HTML.DIV({class:"divider-or"},HTML.SPAN({class:"hline"},HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""})),"\n",HTML.SPAN({class:"or-text"},"or"),"\n",HTML.SPAN({class:"hline"},HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""}),HTML.CharRef({html:"&nbsp;",str:""})))]}),Blaze.If(function(){return Spacebars.call(t.lookup("loginWithEmail"))},function(){return[HTML.INPUT({id:"account-id",type:"text",placeholder:"Username"}),HTML.INPUT({id:"account-pw",type:"password",placeholder:"Password"}),HTML.DIV({class:"lw-options"},HTML.A({href:"#",style:"display:none;","data-btn":"btn-login",tabindex:"-1"},"Sign In"),"\n",HTML.A({href:"#","data-btn":"btn-create",tabindex:"-1"},"Create an account"),"\n",HTML.A({class:"forgot",href:"#","data-btn":"btn-forgot",tabindex:"-1"},"Forgot password?")),HTML.DIV({class:"lw-actions"},Blaze.Unless(function(){return Spacebars.call(t.lookup("loggingIn"))},function(){return[HTML.BUTTON({class:["btn"," ","btn-primary"," ","pull-right"," ","btn-login"]},"Sign In"),HTML.BUTTON({class:["btn"," ","btn-primary"," ","pull-right"," ","btn-create"],style:"display:none;"},"Create Account"),HTML.BUTTON({class:["btn"," ","btn-primary"," ","pull-right"," ","btn-forgot"],style:"display:none;"},"Reset")]},function(){return HTML.BUTTON({class:["btn"," ","btn-primary"," ","pull-right"]},Spacebars.include(t.lookupTemplate("loadingIcon")))})),HTML.DIV({class:"clearfix"}),HTML.DIV({class:"lw-message"},HTML.DIV({class:"error"},Blaze.View("lookup:errorMessage",function(){return Spacebars.makeRaw(Spacebars.mustache(t.lookup("errorMessage")))})),"\n",HTML.DIV({class:"success"},Blaze.View("lookup:okMessage",function(){return Spacebars.makeRaw(Spacebars.mustache(t.lookup("okMessage")))})))]})]})}).call(this);

(function(){Template.__checkName("landing_page_smartsheet"),Template.landing_page_smartsheet=new Template("Template.landing_page_smartsheet",function(){var a=this;return[HTML.DIV({class:["landing-header"," ","navbar"," ","navbar-inverse"," ","navbar-fixed-top"]},HTML.DIV({class:"navbar-inner"},HTML.DIV({class:"container-fluid"},HTML.UL({class:"hnav"},HTML.LI({class:"home"},HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home")}},HTML.IMG({src:function(){return Spacebars.mustache(a.lookup("enterpriseLogoURL"))}}))),"\n",HTML.Raw('<li class="account-dashboard-text">Account Dashboard Login</li>'))))),HTML.DIV({class:"smartsheet-wrapper"},HTML.DIV({class:"smartsheet-content"},HTML.Raw("<h1>Your data tells a powerful story</h1>"),"\n",HTML.Raw("<h3>Use these tools to monitor Smartsheet activity &amp; usage across your organization and the globe.</h3>"),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("smartsheetConfigured"))},function(){return HTML.A({class:["btn"," ","btn-primary"," ","btn-lg"],id:"login-smartsheet"},"Log in to your account")},function(){return HTML.getTag("btn")({class:["btn"," ","btn-primary"," ","btn-lg"],id:"btn-configure"},"Configure Smartsheet Login")}),"\n",HTML.Raw('<div class="spacer-40"></div>'),"\n",HTML.Raw('<div class="features"><div class="fcol col-1"><div class="crow"><div class="fimage"><img src="/smartsheet/icon-dashbaord-52x52.png"></div>\n<div class="fdetail"><div class="name">Dashboard</div>\n<div class="description">A birds-eye-view of Smartsheet Users &amp; Collaborators.</div></div></div>\n<div class="crow"><div class="fimage"><img src="/smartsheet/icon-sheet-activity-52x52.png"></div>\n<div class="fdetail"><div class="name">Sheet Activity</div>\n<div class="description">Get a quick view of your organization\'s recent activity.</div></div></div>\n<div class="crow"><div class="fimage"><img src="/smartsheet/icon-geo-map-52x52.png"></div>\n<div class="fdetail"><div class="name">Geo Map</div>\n<div class="description">Monitor Smartsheet activity as usage increases across the globe.</div></div></div></div>\n<div class="fcol col-2"></div></div>')),"\n",HTML.Raw('<div class="copyright"><a href="https://vida.io" target="_blank">&#169; 2015 VIDA LAB INC.</a></div>'))]})}).call(this);

(function(){Template.__checkName("landing_page"),Template.landing_page=new Template("Template.landing_page",function(){var s=this;return HTML.DIV({class:"wrapper-0"},HTML.SECTION({class:"marketing"},HTML.DIV({class:"container"},HTML.DIV({class:"row"},HTML.DIV({class:"col-md-7"},HTML.Raw('<div class="marketing-text"><h2 class="t0">Open Source Data Visualization</h2>\n<ul><li>Flexible and Extensible</li>\n<li>Build visualization template</li>\n<li>Customize without coding skill</li>\n<li>Embed and share in the cloud</li></ul></div>'),"\n",HTML.DIV({class:"text-center"},HTML.Raw('<a class="btn btn-default btn-primary" href="http://userguide.vida.io/#download" target="_blank" style="margin-right: 20px;">Download</a>'),"\n",HTML.A({class:["btn"," ","btn-default"," ","btn-primary"],href:function(){return Spacebars.mustache(s.lookup("pathFor"),"pricing")},style:"margin-right: 20px;"},HTML.Raw("Products &amp; Services")),"\n",HTML.Raw('<div class="btn-group"><a class="btn btn-default btn-primary btn-google-signin" href="#">Sign In with Google</a>\n\n</div>'))),"\n",HTML.Raw('<div class="col-md-5"><div class="vida-editor"><img src="/images/vida_editor.png"></div></div>')),"\n",HTML.DIV({class:"row"},HTML.A({class:"marketing-text-1",href:function(){return Spacebars.mustache(s.lookup("pathFor"),"pricing")}},"$500 in Professional Services Credits with PRO Sign-Up")))),HTML.Raw('\n<section class="seen-on"><div class="container"><h4>Visualizations Seen On</h4>\n<div class="row"><div class="col-md-12"><img class="c-logo" src="/images/customers/business_insider.png">\n<img class="c-logo" src="/images/customers/huffingtonpost.png">\n<img class="c-logo" src="/images/customers/geekwire.png">\n<img class="c-logo" src="/images/customers/alantic.png"></div></div></div></section>\n<section class="customers"><div class="container"><h4>Our Customers</h4>\n<div class="row"><div class="col-md-12"><img class="c-logo" src="/images/customers/smartsheet.png">\n<img class="c-logo" src="/images/customers/azuqua.png">\n<img class="c-logo" src="/images/customers/ssi.jpeg">\n<img class="c-logo" src="/images/customers/waba.png">\n<img class="c-logo" src="/images/customers/NerdWallet_Logo.svg" width="150"></div></div></div></section>\n<section class="marketing-header"><div class="container"><h2>Template Tool</h2>\n<h4>Build, reuse and customize visualizations with D3.JS in the cloud.</h4></div></section>\n<section class="marketing-features"><div class="container"><div class="row"><div class="col-md-3"><div class="icon"><i class="icon0 fa fa-circle"></i>\n<i class="icon1 fa fa-copy" style="left: 22px; "></i></div></div>\n<div class="col-md-9"><h2>Templates</h2>\n<h4>Manage, turn documents into visualization templates with data and properties editors.</h4></div></div>\n<div class="row"><div class="col-md-3"><div class="icon"><i class="icon0 fa fa-circle"></i>\n<i class="icon1 fa fa-terminal" style="left: 28px; "></i></div></div>\n<div class="col-md-9"><h2>Simple Editors</h2>\n<h4>Make code changes quick and easy.</h4></div></div>\n<div class="row"><div class="col-md-3"><div class="icon"><i class="icon0 fa fa-circle"></i>\n<i class="icon1 fa fa-user" style="left: 32px; "></i></div></div>\n<div class="col-md-9"><h2>Embed</h2>\n<h4>Share visualizations anywhere across the internet.</h4>\n<h4>* This can also be done in private mode.</h4></div></div>\n<div class="row"><div class="col-md-3"><div class="icon"><i class="icon0 fa fa-circle"></i>\n<i class="icon1 fa fa-dashboard" style="left: 24px; "></i></div></div>\n<div class="col-md-9"><h2>Dashboards</h2>\n<h4>Turn multiple visualizations into informative dashboards</h4></div></div>\n<div class="row"><div class="col-md-3"></div>\n<div class="col-md-9"><a class="btn btn-default btn-primary home-demo" href="#" style="font-size: 16px !important;">Try Now</a></div></div>\n<div class="row annotations"><div class="col-md-12"><p>* Required monthly subscription</p></div></div></div></section>\n<section class="marketing-header"><div class="container"><h2>Team Sharing</h2>\n<h4>Share, manage members and documents within teams.</h4></div></section>\n<section class="marketing-features"><div class="container"><div class="row"><div class="col-md-3"><div class="icon"><i class="icon0 fa fa-circle"></i>\n<i class="icon1 fa fa-windows" style="left: 25px; "></i></div></div>\n<div class="col-md-9"><h2>Management</h2>\n<h4>Add, remove documents and members easily with team admins.</h4></div></div>\n<div class="row"><div class="col-md-3"><div class="icon"><i class="icon0 fa fa-circle"></i>\n<i class="icon1 fa fa-male" style="left: 40px; "></i></div></div>\n<div class="col-md-9"><h2>Access Control</h2>\n<h4>Control document member access with different levelts (Admin, Edit, View, Standalone).</h4></div></div>\n<div class="row"><div class="col-md-3"><div class="icon"><i class="icon0 fa fa-circle"></i>\n<i class="icon1 fa fa-bell" style="left: 28px; "></i></div></div>\n<div class="col-md-9"><h2>Notification</h2>\n<h4>Stay engaged with team activities</h4></div></div></div></section>\n<section class="marketing-features"><div class="container"><div class="row"><div class="col-md-3"><div class="icon"><i class="icon0 fa fa-circle"></i>\n<i class="icon1 fa fa-bar-chart" style=""></i></div></div>\n<div class="col-md-9"><h2>Core Charts</h2>\n<h4>Include basic charts: Line, Bar, Area, Pie, Bubble, GeoMap, Scatter Plot, and TreeMap.</h4></div></div>\n<div class="row"><div class="col-md-3"><div class="icon"><i class="icon0 fa fa-circle"></i>\n<i class="icon1 fa fa-edit" style="left: 28px; "></i></div></div>\n<div class="col-md-9"><h2>Quick Customization</h2>\n<h4>Speed up chart customization with easy GUI tool, no coding required.</h4></div></div>\n<div class="row"><div class="col-md-3"><div class="icon"><i class="icon0 fa fa-circle"></i>\n<i class="icon1 fa fa-share-alt" style="left: 28px; "></i></div></div>\n<div class="col-md-9"><h2>Dataset Sharing</h2>\n<h4>Share datasets across different visualizations and tools.</h4></div></div>\n<div class="row"><div class="col-md-3"></div>\n<div class="col-md-9"><a class="btn btn-default btn-primary new-chart" href="#" data-view="charts" style="font-size: 16px !important;">Try Now</a></div></div></div></section>\n<section class="marketing-header"><div class="container"><h2>Public &amp; Community</h2>\n<h4>Visualizations built and shared by community</h4></div></section>\n'),HTML.SECTION({class:"examples"},HTML.DIV({class:"container"},HTML.UL({class:"vcards",style:"margin: 25px 0;"},Blaze.Each(function(){return Spacebars.call(s.lookup("documents"))},function(){return HTML.LI(HTML.A({href:function(){return Spacebars.mustache(s.lookup("pathFor"),Spacebars.kw({route:"document.show",_id:s.lookup("_id")}))},title:function(){return Spacebars.mustache(s.lookup("name"))}},HTML.DIV({class:"tn"},Blaze.If(function(){return Spacebars.call(s.lookup("thumbnail"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(s.lookup("thumbnailUrl"),s.lookup("."))},alt:function(){return Spacebars.mustache(s.lookup("name"))}})},function(){return HTML.IMG({src:function(){return["/images/charts/",Spacebars.mustache(s.lookup("type")),".png"]},alt:function(){return Spacebars.mustache(s.lookup("name"))}})})),"\n",HTML.DIV({class:["counter"," ","text-center"]},Blaze.View("lookup:formatNumber",function(){return Spacebars.mustache(s.lookup("formatNumber"),s.lookup("counter"))})),"\n",HTML.DIV({class:"name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(s.lookup("name"))}))))}),"\n",HTML.Raw('<div class="clearfix"></div>')),"\n",HTML.A({class:["btn"," ","btn-default"," ","btn-primary"],href:function(){return Spacebars.mustache(s.lookup("pathFor"),"explore")}},"Explore More"))))})}).call(this);

(function(){Template.__checkName("landing_page_footer"),Template.landing_page_footer=new Template("Template.landing_page_footer",function(){var a=this;return HTML.FOOTER({class:"landing"},HTML.DIV({class:"container"},HTML.SECTION({class:"info"},HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-3"><h6>VIDA LAB INC</h6>\n<p>We are a software startup company based in Seattle.</p></div>'),"\n",HTML.DIV({class:"col-md-2"},HTML.Raw("<h6>COMPANY</h6>"),"\n",HTML.UL(HTML.LI(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"jobs")}},"Jobs")),"\n",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"terms")}},"Terms")),"\n",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"privacy")}},"Privacy")),"\n",HTML.Raw('<li><a href="https://groups.google.com/forum/#!forum/vidaio" target="_blank">Support</a></li>'))),"\n",HTML.DIV({class:"col-md-3"},HTML.Raw("<h6>PRODUCTS</h6>"),"\n",HTML.UL(HTML.LI(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"pricing")}},"Visualization Template Tool")),"\n",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"pricing")}},"Google Charts Wizard")),"\n",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"pricing")}},"Data Visualization Services")))),"\n",HTML.DIV({class:"col-md-2"},HTML.Raw("<h6>RESOURCES</h6>"),"\n",HTML.UL(HTML.Raw('<li><a href="https://www.youtube.com/channel/UCtswXB4Tz_S4vb57fBAQhmg" target="_blank">Video Tutorials</a></li>'),"\n",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"pricing")}},"Pricing")))),"\n",HTML.Raw('<div class="col-md-2"><h6>FOLLOW US</h6>\n<ul><li><a href="https://www.facebook.com/vidatalk" target="_blank">Facebook Twitter\n<span class="pull-right"><i class="fa fa-facebook"></i></span></a></li>\n<li><a href="https://twitter.com/vidatalk" target="_blank">Twitter\n<span class="pull-right"><i class="fa fa-twitter"></i></span></a></li>\n<li><a href="http://blog.vida.io" target="_blank">Blog      </a></li></ul></div>'))),"\n",HTML.Raw('<section class="bottom-note"><div class="row"><div class="col-md-12"><p class="copyright">Copyright 2016\tVIDA LAB Inc. All Rights Reserved.</p></div></div></section>')))})}).call(this);

(function(){Template.__checkName("landing_page_header"),Template.landing_page_header=new Template("Template.landing_page_header",function(){var a=this;return HTML.DIV({class:["landing-header"," ","navbar"," ","navbar-fixed-top"]},HTML.DIV({class:"navbar-inner"},HTML.DIV({class:"container"},"     ","\n",HTML.UL({class:"hnav"},HTML.LI({class:"home"},HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home")}},HTML.Raw('<img src="/images/logo-only.png">'),"\n",HTML.Raw('<img src="/images/logo-name.png">')))),"\n",HTML.UL({class:["right-nav"," ","pull-right"]},HTML.LI(HTML.SPAN(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"pricing")}},"Pricing"))),"\n",HTML.LI(HTML.SPAN(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"explore")}},"Explore"))),"\n",HTML.Raw('<li><span><a href="http://userguide.vida.io/#download" target="_blank">Download</a></span></li>'),"\n",HTML.LI({class:"btn-login"},Blaze._TemplateWith(function(){return{align:Spacebars.call("right")}},function(){return Spacebars.include(a.lookupTemplate("loginButtons"))}))))))})}).call(this);

(function(){Template.__checkName("fullname_rules"),Template.fullname_rules=new Template("Template.fullname_rules",function(){var a=this;return HTML.Raw('<div id="modalFullNameRules" class="modal" aria-hidden="true" aria-labelledby="nameRulesModalLabel" role="dialog" data-backdrop="static" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>Name Rules</h4></div>\n<div class="modal-body"><h4>The following rules are applied:</h4>\n<ul><li>Alphabets and space only</li>\n<li>Salutation and suffix are ok</li></ul></div></div></div></div>')})}).call(this);

(function(){Template.__checkName("profile_more_info"),Template.profile_more_info=new Template("Template.profile_more_info",function(){var o=this;return HTML.DIV({id:"modalMoreInfo",class:"modal","aria-hidden":"true","aria-labelledby":"moreInfoModalLabel",role:"dialog","data-backdrop":"static"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><h4>Additional Information</h4></div>'),"\n",HTML.Raw('<div class="modal-body"><h6>We are trying to improve our services and would like to collect addtional data. Please provide them. </h6>\n<form class="form-horizontal"><fieldset><div class="form-group"><label class="col-lg-5 control-label"><strong>Your occupation</strong>\n<span title="Required" data-toggle="tooltip" style="color: #b94a48;">* </span></label>\n<div class="col-lg-7"><select id="user-occupation" class="form-control"><option></option>\n<option>Developer</option>\n<option>Data Analyst </option>\n<option>Marketer</option>\n<option>Manager</option>\n<option>Others</option></select></div></div>\n<div class="form-group"><label class="col-lg-5 control-label"><strong>How did you hear about us</strong>\n<span title="Required" data-toggle="tooltip" style="color: #b94a48;">* </span></label>\n<div class="col-lg-7"><select id="found-source" class="form-control"><option></option>\n<option>Stack Overflow</option>\n<option>GitHub</option>\n<option>Search Engine</option>\n<option>Referral</option>\n<option>Others</option></select></div></div>\n<div class="form-group"><label class="col-lg-5 control-label"> \n<strong>Phone number</strong></label>\n<div class="col-lg-7"><input id="phone-number" class="form-control" type="text" placeholder="Optional" value="">\n<div class="checkbox"><label><input id="contact-request" type="checkbox">\nI would like to know more about the product, please contact.</label></div></div></div></fieldset></form>\n<div class="spacer-40"></div></div>'),"\n",HTML.DIV({class:"modal-footer"},HTML.BUTTON({class:function(){return["btn"," ","btn-default"," ","btn-primary"," ","btn-save"," ",Blaze.Unless(function(){return Spacebars.call(o.lookup("continueOk"))},function(){return"disabled"})]}},"Save")))))})}).call(this);

(function(){Template.__checkName("profile"),Template.profile=new Template("Template.profile",function(){var e=this;return[Blaze.Unless(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return Blaze.Unless(function(){return Spacebars.call(e.lookup("loggingIn"))},function(){return HTML.DIV({class:["flash-message"," ","fm-md"]},HTML.DIV({class:["alert"," ","alert-danger"," ","text-center"]},"Please sign in first"))})},function(){return Spacebars.With(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return HTML.DIV({class:"row"},HTML.DIV({class:["col-md-8"," ","profile-info"]},Blaze.If(function(){return Spacebars.call(e.lookup("accountNeedsVerification"))},function(){return HTML.DIV({class:["alert"," ","alert-danger"]},"Your account has not been verified. For your protection, please verify asap!","\n",HTML.DIV({class:"pull-right"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-primary"," ","send-verification"]},"Resend Verification")))}),"\n",HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Your name / Company","\n",HTML.A({class:"open-dialog","data-toggle":"modal",href:"#","data-target":"#modalFullNameRules",role:"button"},HTML.I({class:["fa"," ","fa-info-sign"],"data-toggle":"tooltip",title:"Rules"}))),"\n",HTML.INPUT({id:"profile-name-input",class:["editable"," ","editable-sm"],type:"text",placeholder:"Enter your full name",value:function(){return Spacebars.mustache(e.lookup("name"))}})),"\n",HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Username","\n",Blaze.If(function(){return Spacebars.call(e.lookup("publicURL"))},function(){return[" (",Blaze.View("lookup:publicURL",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("publicURL")))}),")"]},function(){return" (public profile at vida.io/username)"}),"\n",HTML.A({class:"open-dialog","data-toggle":"modal",href:"#","data-target":"#modalUsernameRules",role:"button"},HTML.I({class:["fa"," ","fa-info-sign"],"data-toggle":"tooltip",title:"Rules"}))),"\n",HTML.INPUT({id:"profile-username-input",class:["editable"," ","editable-sm"],type:"text",placeholder:"Enter username",value:function(){return Spacebars.mustache(e.lookup("username"))}})),"\n",HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Email"),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("emailAccount"))},function(){return HTML.INPUT({id:"profile-email-input",class:["editable"," ","editable-sm"],type:"text",placeholder:"Enter email",value:function(){return Spacebars.mustache(e.lookup("email"))}})},function(){return HTML.H6({class:"email"},Blaze.View("lookup:email",function(){return Spacebars.mustache(e.lookup("email"))}))})),"\n",HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Joined on"),"\n",HTML.H6({class:"created"},Blaze.View("lookup:formatTime",function(){return Spacebars.mustache(e.lookup("formatTime"),e.lookup("createdAt"))}))),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("isEnterprise"))},function(){return[HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Created-by URL with embed widget","\n",HTML.A({class:"open-dialog","data-toggle":"modal",href:"#","data-target":"#modalCreatedby",role:"button"},HTML.I({class:["fa"," ","fa-info-sign"],"data-toggle":"tooltip",title:"Click for more info"}))),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("proPlan"))},function(){return HTML.INPUT({id:"createdby-url-input",class:["editable"," ","editable-sm"],type:"text",placeholder:"Enter created-by URL",value:function(){return Spacebars.mustache(e.lookup("createdbyURL"))}})},function(){return HTML.H5(HTML.SPAN({class:["label"," ","label-default"]},"PRO subscription required"))})),Blaze.If(function(){return Spacebars.call(e.lookup("proPlan"))},function(){return HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Created-by image (text used if no image)","\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("uploadingCreatedbyImage"))},function(){return[Blaze.If(function(){return Spacebars.call(e.lookup("createdbyImage"))},function(){return HTML.A({id:"remove-createdby-img",class:["btn"," ","btn-default"," ","btn-xs"," ","pull-right"]},HTML.I({class:["fa"," ","fa-remove"]}))}),HTML.DIV({class:["btn"," ","btn-default"," ","file-upload"," ","btn-xs"," ","pull-right"]},HTML.SPAN("Upload"),"\n",HTML.INPUT({id:"createdby-img-upload",class:"upload",type:"file"}))]},function(){return HTML.DIV({class:["btn"," ","btn-default"," ","btn-xs"," ","disabled"," ","pull-right"]},HTML.I({class:["fa"," ","fa-spinner"," ","fa-spin"]}))})),"\n",HTML.P(Blaze.If(function(){return Spacebars.call(e.lookup("createdbyImage"))},function(){return HTML.IMG({class:"createdby",src:function(){return Spacebars.mustache(e.lookup("signatureImageUrl"))},height:"32"})},function(){return"(No image uploaded)"})))}),HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Google analytics tracking ID"),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("proPlan"))},function(){return HTML.INPUT({id:"ga-code-input",class:["editable"," ","editable-sm"],type:"text",placeholder:"Enter Google Analytics Code",value:function(){return Spacebars.mustache(e.lookup("gaCode"))}})},function(){return HTML.H5(HTML.SPAN({class:["label"," ","label-default"]},"PRO subscription required"))})),HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Subscription"),"\n",HTML.P(Blaze.If(function(){return Spacebars.call(e.lookup("subscribed"))},function(){return[HTML.SPAN({class:function(){return["label-plan"," ","label"," ",Spacebars.mustache(e.lookup("planLabel"))]}},Blaze.View("lookup:plan",function(){return Spacebars.mustache(e.lookup("plan"))})),Blaze.If(function(){return Spacebars.call(e.lookup("subscriptionStart"))},function(){return[[" ",Blaze.View("lookup:subscriptionStart",function(){return Spacebars.mustache(e.lookup("subscriptionStart"))})],HTML.A({id:"cancel-subscription",class:["btn"," ","btn-default"," ","btn-xs"," ","pull-right"],"data-toggle":"tooltip",title:"Cancel Subscription"},"Cancel")]},function(){return HTML.I({class:["fa"," ","fa-spinner"," ","fa-spin"]})})]},function(){return HTML.STRONG(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"pricing")}}," Upgrade"),"\n","for full features and technical support.")})))]})),"\n",HTML.DIV({class:["col-md-4"," ","pull-right"," ","profile-picture"]},HTML.DIV({class:"thumbnail"},Blaze.If(function(){return Spacebars.call(e.lookup("pictureURL"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("pictureURL"))},alt:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"name"))},width:"150"})},function(){return HTML.I({class:["fa"," ","fa-user"],style:"font-size: 90px;"})})),"\n",HTML.DIV({class:"profile-picture-edit"},Blaze.Unless(function(){return Spacebars.call(e.lookup("uploadingProfileImage"))},function(){return[HTML.DIV({class:["btn"," ","btn-default"," ","file-upload"," ","btn-xs"]},HTML.SPAN("Upload"),"\n",HTML.INPUT({id:"profile-img-upload",class:"upload",type:"file"})),Blaze.If(function(){return Spacebars.call(e.lookup("picture"))},function(){return HTML.A({id:"remove-profile-img",class:["btn"," ","btn-default"," ","btn-xs"]},HTML.I({class:["fa"," ","fa-remove"]}))})]},function(){return HTML.DIV({class:["btn"," ","btn-default"," ","btn-xs"," ","disabled"]},HTML.I({class:["fa"," ","fa-spinner"," ","fa-spin"]}))}))))})}),Spacebars.include(e.lookupTemplate("fullname_rules")),Spacebars.include(e.lookupTemplate("username_rules")),Spacebars.include(e.lookupTemplate("createdby_modal"))]})}).call(this);

(function(){Template.__checkName("username_rules"),Template.username_rules=new Template("Template.username_rules",function(){var e=this;return HTML.Raw('<div id="modalUsernameRules" class="modal" aria-hidden="true" aria-labelledby="usernameRulesModalLabel" role="dialog" data-backdrop="static" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>Username Rules</h4></div>\n<div class="modal-body"><h4>The following rules are applied:</h4>\n<ul><li>Starts and ends with an alphabet</li>\n<li>4+ character long</li>\n<li>Underscore accepted in between</li>\n<li>No space</li></ul></div></div></div></div>')})}).call(this);

(function(){Template.__checkName("sources"),Template.sources=new Template("Template.sources",function(){var e=this;return[HTML.DIV({class:"control-bar"},HTML.Raw('<div class="cb-actions"><a class="btn btn-default btn-xs btn-primary new-source" href="#" title="Create a source"><i class="fa fa-plus"></i>\nNew Source</a></div>'),"\n",HTML.DIV({class:"cb-stats"},HTML.SPAN({class:"total"},"Total: ",Blaze.View("lookup:sources.count",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("sources"),"count"))})),"\n",Spacebars.include(e.lookupTemplate("sort_filters")))),HTML.UL({class:"document-list"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("sources"),"count"))},function(){return[Blaze.Each(function(){return Spacebars.call(e.lookup("sources"))},function(){return Spacebars.include(e.lookupTemplate("source_entry"))}),Blaze.Unless(function(){return Spacebars.call(e.lookup("myDocumentsReady"))},function(){return HTML.LI(Spacebars.include(e.lookupTemplate("loadingIcon")))})]},function(){return HTML.H6({class:"text-center"},"(No source available)")})),HTML.Raw('<div class="spacer-40"></div>')]})}).call(this);

(function(){Template.__checkName("team_entry"),Template.team_entry=new Template("Template.team_entry",function(){var t=this;return HTML.LI(HTML.A({class:"name",href:function(){return["/teams/",Spacebars.mustache(t.lookup("_id")),"/edit"]}},HTML.DIV({class:["thumbnail"," ","thumbnail-1-24"," ","pull-left"]},Blaze.If(function(){return Spacebars.call(t.lookup("thumbnail"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(t.lookup("thumbnailUrl"),t.lookup("."))}})},function(){return HTML.I({class:["icon"," ","fa"," ","fa-group"]})})),"\n",[Blaze.View("lookup:name",function(){return Spacebars.mustache(t.lookup("name"))})," "],"\n",HTML.DIV({class:["entry-info"," ","pull-right"]},HTML.SPAN({class:"created-at","data-toggle":"tooltip",title:"Date created"},Blaze.View("lookup:formatEntryTime",function(){return Spacebars.mustache(t.lookup("formatEntryTime"),t.lookup("createdAt"))})),"\n",HTML.SPAN({class:"picon"},Blaze.If(function(){return Spacebars.dataMustache(t.lookup("isPrivacyState"),"private")},function(){return HTML.I({class:["fa"," ","fa-lock"],"data-toggle":"tooltip",title:"Private"})},function(){return Blaze.If(function(){return Spacebars.dataMustache(t.lookup("isPrivacyState"),"unlisted")},function(){return HTML.I({class:["fa"," ","fa-unlock-alt"],"data-toggle":"tooltip",title:"Unlisted"})})})),"\n",HTML.SPAN({class:"owner","data-toggle":"tooltip",title:"Owner"},Blaze.If(function(){return Spacebars.call(t.lookup("isYours"))},function(){return"You"},function(){return Blaze.If(function(){return Spacebars.call(t.lookup("nameUsername"))},function(){return Blaze.View("lookup:nameUsername",function(){return Spacebars.mustache(t.lookup("nameUsername"))})})})))))})}).call(this);

(function(){Template.__checkName("teams"),Template.teams=new Template("Template.teams",function(){var a=this;return[HTML.DIV({class:"control-bar"},HTML.Raw('<div class="cb-actions"><a class="btn btn-default btn-xs btn-primary new-team" href="#" title="Create a team"><i class="fa fa-plus"></i>\nNew Team</a></div>'),"\n",HTML.DIV({class:"cb-stats"},HTML.SPAN({class:"total"},"Total: ",Blaze.View("lookup:teams.count",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("teams"),"count"))})," "))),HTML.UL({class:"document-list"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("teams"),"count"))},function(){return[Blaze.Each(function(){return Spacebars.call(a.lookup("teams"))},function(){return Spacebars.include(a.lookupTemplate("team_entry"))}),Blaze.Unless(function(){return Spacebars.call(a.lookup("myTeamsReady"))},function(){return HTML.LI(Spacebars.include(a.lookupTemplate("loadingIcon")))})]},function(){return HTML.H6({class:"text-center"},"(No team available)")})),HTML.Raw('<div class="spacer-40"></div>')]})}).call(this);

(function(){Template.__checkName("team_document_entry"),Template.team_document_entry=new Template("Template.team_document_entry",function(){var t=this;return HTML.LI({class:function(){return Spacebars.mustache(t.lookup("active"))}},HTML.A({class:"name",href:function(){return["/documents/",Spacebars.mustache(t.lookup("_id"))]}},HTML.DIV({class:["thumbnail"," ","thumbnail-1-24"," ","pull-left"]},Blaze.If(function(){return Spacebars.call(t.lookup("thumbnail"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(t.lookup("thumbnailUrl"),t.lookup("."))}})},function(){return HTML.IMG({src:function(){return["/images/charts/",Spacebars.mustache(t.lookup("type")),".png"]},alt:function(){return Spacebars.mustache(t.lookup("type"))}})})),"\n",HTML.DIV({class:"doc-name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(t.lookup("name"))})," "),"\n",HTML.DIV({class:["entry-info"," ","pull-right"]},Blaze.If(function(){return Spacebars.call(t.lookup("removingDocs"))},function(){return HTML.SPAN(HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","remove-doc"],style:"width: 22px; margin-left: 10px;"},HTML.I({class:["fa"," ","fa-remove"]})))}),"\n",HTML.SPAN({class:"created-at","data-toggle":"tooltip",title:"Date created"},Blaze.View("lookup:formatEntryTime",function(){return Spacebars.mustache(t.lookup("formatEntryTime"),t.lookup("created"))})),"\n",HTML.SPAN({class:"picon"},Blaze.If(function(){return Spacebars.dataMustache(t.lookup("isPrivacyState"),"private")},function(){return HTML.I({class:["fa"," ","fa-lock"],"data-toggle":"tooltip",title:"Private"})},function(){return Blaze.If(function(){return Spacebars.dataMustache(t.lookup("isPrivacyState"),"unlisted")},function(){return HTML.I({class:["fa"," ","fa-unlock-alt"],"data-toggle":"tooltip",title:"Unlisted"})})})),"\n",HTML.SPAN({class:"owner","data-toggle":"tooltip",title:"Owner"},Blaze.If(function(){return Spacebars.call(t.lookup("isDocumentOwner"))},function(){return"You"},function(){return Blaze.If(function(){return Spacebars.call(t.lookup("nameUsernameEmail"))},function(){return Blaze.View("lookup:nameUsernameEmail",function(){return Spacebars.mustache(t.lookup("nameUsernameEmail"))})})})))))})}).call(this);

(function(){Template.__checkName("team_edit_documents"),Template.team_edit_documents=new Template("Template.team_edit_documents",function(){var t=this;return[HTML.H3({class:"t0"},"Documents (",Blaze.View("lookup:documents.count",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("documents"),"count"))}),")"),HTML.UL({class:["document-list"," ","docs"]},Blaze.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("documents"),"count"))},function(){return Blaze.Each(function(){return Spacebars.call(t.lookup("documents"))},function(){return Spacebars.include(t.lookupTemplate("team_document_entry"))})},function(){return HTML.H6({class:"text-center"},"(Empty)")})),Blaze.If(function(){return Spacebars.call(t.lookup("isTeamAdmin"))},function(){return HTML.DIV({class:"row",style:"margin-top: 10px;"},HTML.DIV({class:"col-md-6"},HTML.A({class:["btn"," ","btn-default"," ","open-dialog"],"data-toggle":"modal",href:"#","data-target":"#modalMyDocs",style:"width: 80px;"},HTML.I({class:["fa"," ","fa-plus"]}),"\n","Add ")),"\n",HTML.DIV({class:"col-md-6"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("documents"),"count"))},function(){return Blaze.Unless(function(){return Spacebars.call(t.lookup("removingDocs"))},function(){return HTML.BUTTON({class:["btn"," ","btn-default"," ","pull-right"," ","toggle-remove-doc"],style:"width: 94px;"},HTML.I({class:["fa"," ","fa-minus-sign"]}),"\n","Remove ")},function(){return HTML.BUTTON({class:["btn"," ","btn-default"," ","pull-right"," ","btn-primary"," ","toggle-remove-doc"],style:"width: 80px;"},HTML.I({class:["fa"," ","fa-remove-sign"]}),"\n","Done")})})))}),HTML.Raw('<div class="spacer-20"> </div>')]})}).call(this);

(function(){Template.__checkName("team_edit"),Template.team_edit=new Template("Template.team_edit",function(){var e=this;return HTML.DIV({class:["container"," ","matter"]},Blaze.If(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("teamReady"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("isTeamMember"))},function(){return[Blaze.If(function(){return Spacebars.call(e.lookup("needToAccept"))},function(){return HTML.DIV({class:["alert"," ","alert-danger"],style:"margin-bottom: 0;"},HTML.H4("You are invited to join this team. Do you accept?","\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-primary"," ","btn-accept"]},"Yes"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-primary"," ","btn-accept"]},"No")))}),Spacebars.include(e.lookupTemplate("team_edit_header")),Spacebars.include(e.lookupTemplate("team_edit_info")),Spacebars.include(e.lookupTemplate("team_edit_documents")),Spacebars.include(e.lookupTemplate("team_edit_members")),Spacebars.include(e.lookupTemplate("team_edit_notifications")),HTML.DIV({class:"spacer-xs"}),Spacebars.include(e.lookupTemplate("my_docs_modal"))]},function(){return Spacebars.include(e.lookupTemplate("invalid_document"))})},function(){return Spacebars.include(e.lookupTemplate("loading"))})},function(){return HTML.DIV({class:["flash-message"," ","fm-md"]},HTML.DIV({class:["alert"," ","alert-danger"," ","text-center"]},"Please sign in first"))}))})}).call(this);

(function(){Template.__checkName("team_edit_header"),Template.team_edit_header=new Template("Template.team_edit_header",function(){var e=this;return[Blaze.If(function(){return Spacebars.call(e.lookup("isTeamAdmin"))},function(){return[HTML.INPUT({id:"team-name-input",class:["editable"," ","editable-lg"],type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("currentTeam"),"name"))},placeholder:"Team name (required)"}),HTML.INPUT({id:"team-description-input",class:["editable"," ","editable-sm"],type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("currentTeam"),"description"))},placeholder:"Team description"})]},function(){return[HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.H2(Blaze.View("lookup:currentTeam.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("currentTeam"),"name"))})))),HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.H4(Blaze.View("lookup:textToHTML",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("textToHTML"),Spacebars.dot(e.lookup("currentTeam"),"description")))}))))]}),HTML.Raw('<div class="spacer-20">       </div>')]})}).call(this);

(function(){Template.__checkName("team_edit_info"),Template.team_edit_info=new Template("Template.team_edit_info",function(){var t=this;return[HTML.DIV({class:"team-info"},HTML.DIV({class:"pull-left"},["Created on ",Blaze.View("lookup:formatTime",function(){return Spacebars.mustache(t.lookup("formatTime"),t.lookup("createdAt"),"L")})],"\n",Blaze.If(function(){return Spacebars.call(t.lookup("teamOwner"))},function(){return["by ",Blaze.View("lookup:teamOwner",function(){return Spacebars.mustache(t.lookup("teamOwner"))})]})),"\n",HTML.DIV({class:"pull-right"},HTML.Raw('<strong class="pull-left">Privacy: </strong>'),"\n",HTML.DIV({class:["btn-group"," ","btn-xs"," ","pull-right"]},HTML.BUTTON({class:["privacy-status"," ","btn"," ","btn-default"," ","btn-xs"," ","disabled"],"data-toggle":"tooltip"},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(t.lookup("toTitleCase"),t.lookup("teamPrivacy"))})," "),"\n",Blaze.If(function(){return Spacebars.call(t.lookup("isTeamAdmin"))},function(){return[HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown"},HTML.SPAN({class:"caret"})),HTML.UL({class:"dropdown-menu"},Blaze.Each(function(){return Spacebars.dataMustache(t.lookup("otherPrivacyStates"),t.lookup("teamPrivacy"))},function(){return HTML.LI({class:"privacy-state"},HTML.A({href:"#"},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(t.lookup("toTitleCase"),t.lookup("."))})))}))]})))),HTML.Raw('<div class="spacer-20"></div>')]})}).call(this);

(function(){Template.__checkName("team_member_entry"),Template.team_member_entry=new Template("Template.team_member_entry",function(){var e=this;return HTML.LI(HTML.A(HTML.DIV({class:["thumbnail"," ","thumbnail-1-24"," ","pull-left"]},Blaze.If(function(){return Spacebars.call(e.lookup("userImageUrl"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("userImageUrl"))}})},function(){return HTML.I({class:["fa"," ","fa-user"]})})),"\n",HTML.DIV({class:"username",title:"Member name/email"},"   ","\n",Blaze.If(function(){return Spacebars.call(e.lookup("itsYou"))},function(){return HTML.B("You")},function(){return Blaze.View("lookup:memberName",function(){return Spacebars.mustache(e.lookup("memberName"))})})),"\n",HTML.DIV({class:"access",title:"Access"},HTML.DIV({class:["btn-group"," ","pull-right"]},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","disabled"]},Blaze.View("lookup:currentAccess",function(){return Spacebars.mustache(e.lookup("currentAccess"),e.lookup("."))})),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("itsYou"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("isTeamAdmin"))},function(){return[HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown"},HTML.SPAN({class:"caret"})),HTML.UL({class:"dropdown-menu"},Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("otherAccesses"),e.lookup("."))},function(){return HTML.LI({class:"change-access","data-user-id":function(){return Spacebars.mustache(e.lookup("userId"))},"data-access":function(){return Spacebars.mustache(e.lookup("access"))}},HTML.A({href:"#"},Blaze.View("lookup:text",function(){return Spacebars.mustache(e.lookup("text"))})))}),"\n",HTML.LI({class:"divider"}),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("waitingStatus"))},function(){return HTML.LI(HTML.A({class:"resend-email",href:"#","data-email":function(){return Spacebars.mustache(e.lookup("."))}},"Resend Invitation"))}),"\n",HTML.LI(HTML.A({class:"remove-member",href:"#","data-email":function(){return Spacebars.mustache(e.lookup("."))}},"Remove")))]})}))),"\n",HTML.DIV({class:"created-at","data-toggle":"tooltip",title:"Date created"},Blaze.View("lookup:formatEntryTime",function(){return Spacebars.mustache(e.lookup("formatEntryTime"),e.lookup("memberCreatedAt"))}),"        "),"\n",HTML.DIV({class:"acceptance","data-toggle":"tooltip",title:"Acceptance status"},Blaze.View("lookup:acceptStatus",function(){return Spacebars.mustache(e.lookup("acceptStatus"))}),"        ")))})}).call(this);

(function(){Template.__checkName("team_edit_members"),Template.team_edit_members=new Template("Template.team_edit_members",function(){var e=this;return[HTML.H3({class:"t0"},"Members (",Blaze.View("lookup:acceptedMemberCount",function(){return Spacebars.mustache(e.lookup("acceptedMemberCount"))}),")"),HTML.UL({class:["document-list"," ","members"]},Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("members"),"count"))},function(){return[Blaze.Each(function(){return Spacebars.call(e.lookup("members"))},function(){return Spacebars.include(e.lookupTemplate("team_member_entry"))}),Blaze.Each(function(){return Spacebars.call(e.lookup("nonexistingMembers"))},function(){return Spacebars.include(e.lookupTemplate("team_member_entry"))})]},function(){return HTML.H6({class:"text-center"},"(No member available)")})),Blaze.If(function(){return Spacebars.call(e.lookup("isTeamAdmin"))},function(){return HTML.DIV({class:"row",style:"margin-top: 10px;"},HTML.DIV({class:"col-md-12"},HTML.DIV({class:"toggle-input"},HTML.DIV({class:"toggle"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-toggle"],style:"width: 80px;"},HTML.I({class:["fa"," ","fa-plus"]}),"\n","Add ")),"\n",HTML.DIV({class:["toggle"," ","hidden"]},HTML.INPUT({id:"doc-share-emails",type:"text",placeholder:"Enter emails to add (comma separated)",value:""}),"\n",HTML.DIV({class:"btn-group"},HTML.BUTTON({class:["btn"," ","btn-default"," ","add-members"],"data-toggle":"tooltip",title:""},"Add"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-toggle"]},HTML.I({class:["fa"," ","fa-remove"],"data-toggle":"tooltip",title:"Close"})))))))}),HTML.Raw('<div class="spacer-20"> </div>')]})}).call(this);

(function(){Template.__checkName("my_docs_modal"),Template.my_docs_modal=new Template("Template.my_docs_modal",function(){var a=this;return HTML.DIV({id:"modalMyDocs",class:"modal","aria-hidden":"true","aria-labelledby":"myDocsModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>My documents - Click to add</h4></div>'),"\n",HTML.DIV({class:"modal-body"},HTML.Raw('<div class="alert alert-info"><p>A team can only be applied to documents without collaborators.</p></div>'),"\n",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("documents"),"count"))},function(){return HTML.UL({class:"modal-list"},Blaze.Each(function(){return Spacebars.call(a.lookup("documents"))},function(){return HTML.LI(HTML.A({class:"add-document",href:"#","data-user-id":function(){return Spacebars.mustache(a.lookup("docId"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))})))}))},function(){return HTML.P("No documents available")})),"\n",HTML.Raw('<div class="modal-footer"><button class="btn" data-dismiss="modal" aria-hidden="true">Close</button></div>'))))})}).call(this);

(function(){Template.__checkName("team_edit_notifications"),Template.team_edit_notifications=new Template("Template.team_edit_notifications",function(){var t=this;return""})}).call(this);

(function(){Template.__checkName("team_show"),Template.team_show=new Template("Template.team_show",function(){var e=this;return HTML.DIV({class:["container"," ","matter"]},Blaze.If(function(){return Spacebars.call(e.lookup("teamReady"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("canAccessTeam"))},function(){return[HTML.H2(Blaze.View("lookup:currentTeam.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("currentTeam"),"name"))})),HTML.H4(Blaze.View("lookup:textToHTML",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("textToHTML"),Spacebars.dot(e.lookup("currentTeam"),"description")))})),HTML.DIV({class:"spacer-20"}),HTML.DIV({class:"pull-left"},["Created on ",Blaze.View("lookup:formatTime",function(){return Spacebars.mustache(e.lookup("formatTime"),e.lookup("createdAt"),"L")})],"\n",Blaze.If(function(){return Spacebars.call(e.lookup("teamOwner"))},function(){return["by ",Blaze.View("lookup:teamOwner",function(){return Spacebars.mustache(e.lookup("teamOwner"))})]})),HTML.DIV({class:"spacer-40"}),HTML.H3({class:"t0"},"Documents (",Blaze.View("lookup:documents.count",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("documents"),"count"))}),")  "),HTML.UL({class:["document-list"," ","docs"]},Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("documents"),"count"))},function(){return Blaze.Each(function(){return Spacebars.call(e.lookup("documents"))},function(){return Spacebars.include(e.lookupTemplate("team_document_entry"))})},function(){return HTML.H6({class:"text-center"},"(Empty)")})),HTML.DIV({class:"spacer-40"}),HTML.H3({class:"t0"},"Members (",Blaze.View("lookup:members.count",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("members"),"count"))}),")"),HTML.UL({class:["document-list"," ","members"]},Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("members"),"count"))},function(){return Blaze.Each(function(){return Spacebars.call(e.lookup("members"))},function(){return Spacebars.include(e.lookupTemplate("team_member_entry"))})},function(){return HTML.H6({class:"text-center"},"(No member available)")})),HTML.DIV({class:"spacer-40"},"   ")]},function(){return Spacebars.include(e.lookupTemplate("invalid_document"))})},function(){return Spacebars.include(e.lookupTemplate("loading"))}))})}).call(this);

(function(){Template.__checkName("chart_table"),Template.chart_table=new Template("Template.chart_table",function(){var t=this;return[HTML.STRONG("Total: ",Blaze.View("lookup:charts.count",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("charts"),"count"))})),HTML.TABLE({class:["table"," ","table-striped"," ","table-hover"," ","table-doc"]},HTML.THEAD(HTML.TR(HTML.TH({style:"width: 10px;"},"#"),"\n",HTML.TH({style:"width: 120px;"},"Id"),"\n",HTML.TH({style:"width: 120px;"},"OwnerId"),"\n",HTML.TH("Title"),"\n",HTML.TH({style:"width: 80px;"},"Privacy","\n",HTML.I({class:["fa"," ","fa-edit"],rel:"tooltip",title:"Click to edit"})),"\n",HTML.TH({style:"width: 80px;"},"Type"),"\n",HTML.TH({style:"width: 150px;"},"Created At"),"\n",HTML.TH({style:"width: 20px;"},"x"))),"\n",HTML.TBODY(Blaze.Each(function(){return Spacebars.call(t.lookup("charts"))},function(){return HTML.TR(HTML.TD({class:"table-id"}),"\n",HTML.TD(HTML.A({href:function(){return["/charts/",Spacebars.mustache(t.lookup("_id"))]},target:"_blank"},Blaze.View("lookup:_id",function(){return Spacebars.mustache(t.lookup("_id"))}))),"\n",HTML.TD(HTML.SPAN({rel:"tooltip",title:function(){return Spacebars.mustache(t.lookup("owner"))}},Blaze.View("lookup:nameUsernameEmail",function(){return Spacebars.mustache(t.lookup("nameUsernameEmail"))}))),"\n",HTML.TD(Blaze.View("lookup:options.title",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("options"),"title"))})),"\n",Blaze.If(function(){return Spacebars.call(t.lookup("editing_chart"))},function(){return HTML.TD({class:"edit"},HTML.INPUT({id:"chart-privacy-input",type:"text",value:function(){return Spacebars.mustache(t.lookup("privacy"))}}))},function(){return HTML.TD({class:"display"},Blaze.View("lookup:privacy",function(){return Spacebars.mustache(t.lookup("privacy"))}))}),"\n",HTML.TD(Blaze.View("lookup:type",function(){return Spacebars.mustache(t.lookup("type"))})),"\n",HTML.TD(Blaze.View("lookup:toLocalTime",function(){return Spacebars.mustache(t.lookup("toLocalTime"),t.lookup("created"))})),"\n",HTML.TD(HTML.SPAN({class:["btn"," ","btn-default"," ","btn-xs"," ","chart-remove"],title:""},HTML.I({class:["fa"," ","fa-trash"]}))))}))),Blaze.If(function(){return Spacebars.call(t.lookup("charts_ready"))},function(){return Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(t.lookup("charts"),"count"))},function(){return HTML.H6({class:"text-center"},"No chart available")})},function(){return Spacebars.include(t.lookupTemplate("loadingIcon"))})]})}).call(this);

(function(){Template.__checkName("admin_configurations"),Template.admin_configurations=new Template("Template.admin_configurations",function(){var e=this;return[Blaze.If(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return HTML.DIV({class:"row"},HTML.DIV({class:["col-md-12"," ","profile-info"]},HTML.DIV({class:"entry"},HTML.H6({class:"header"},"AWS Key"),"\n",HTML.INPUT({id:"aws-key-input",class:["editable"," ","editable-sm"],type:"text",placeholder:"Enter your AWS Key",value:function(){return Spacebars.mustache(e.lookup("awsKey"))}})),"\n",HTML.DIV({class:"entry"},HTML.H6({class:"header"},"AWS Secret"),"\n",HTML.INPUT({id:"aws-secret-input",class:["editable"," ","editable-sm"],type:"text",placeholder:"Enter your AWS Secret",value:function(){return Spacebars.mustache(e.lookup("awsSecret"))}})),"\n",HTML.DIV({class:"entry"},HTML.H6({class:"header"},"AWS Bucket Name"),"\n",HTML.INPUT({id:"aws-bucket-name-input",class:["editable"," ","editable-sm"],type:"text",placeholder:"Enter your AWS Bucket Name",value:function(){return Spacebars.mustache(e.lookup("awsBucketName"))}})),"\n",HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Admin Emails"),"\n",HTML.INPUT({id:"email-input",class:["editable"," ","editable-sm"],type:"text",placeholder:"Enter admin emails (comma separated)",value:function(){return Spacebars.mustache(e.lookup("adminEmails"))}})),"\n",HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Mail URL"),"\n",HTML.INPUT({id:"mail-url-input",class:["editable"," ","editable-sm"],type:"text",placeholder:"URL to SMTP mail server",value:function(){return Spacebars.mustache(e.lookup("mailUrl"))}})),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("isEnterprise"))},function(){return HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Product Key"),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("activatingKey"))},function(){return[HTML.INPUT({id:"product-key-input",class:["editable"," ","editable-sm"],type:"text",placeholder:"Enter key information",value:function(){return Spacebars.mustache(e.lookup("productKey"))}}),Blaze.If(function(){return Spacebars.call(e.lookup("license"))},function(){return[HTML.DIV({class:"license-owner"},HTML.STRONG("Registered to:"),"\n",Blaze.View("lookup:license.customerName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("license"),"customerName"))})),HTML.DIV({class:"license-expire"},HTML.STRONG("Expired by:"),"\n",Blaze.View("lookup:license.expireDate",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("license"),"expireDate"))}))]},function(){return HTML.P("No product key information available")})]},function(){return HTML.DIV({class:"activating-spinner"},HTML.I({class:["fa"," ","fa-spinner"," ","fa-spin"]}),"\n",HTML.SPAN("Activiating"))}))}),"\n",HTML.DIV({class:"entry"},HTML.H6({class:"header"},"GitHub Configuration"),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("githubConfigured"))},function(){return"Configured"},function(){return HTML.BUTTON({class:["btn"," ","btn-primary"],id:"btn-github-configure"},"Configure GitHub Login")})),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("enableSmartsheet"))},function(){return HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Smartsheet Configuration"),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("smartsheetConfigured"))},function(){return"Configured"},function(){return HTML.BUTTON({class:["btn"," ","btn-primary"],id:"btn-smartsheet-configure"},"Configure Smartsheet Login")}))}),"\n",HTML.DIV({class:"spacer-40"}),"\n",HTML.DIV({class:"entry"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","open-dialog"],"data-toggle":"modal",href:"#","data-target":"#modalAdminConfiguration",title:"Help"},HTML.I({class:["fa"," ","fa-info"]}),"\n","Help"))))}),Spacebars.include(e.lookupTemplate("admin_configuration"))]}),Template.__checkName("admin_configuration"),Template.admin_configuration=new Template("Template.admin_configuration",function(){var e=this;return HTML.Raw('<div id="modalAdminConfiguration" class="modal" aria-hidden="true" aria-labelledby="adminConfigModalLabel" role="dialog" data-backdrop="static" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>Admin Configuration</h4></div>\n<div class="modal-body"><h5>AWS Key</h5>\n<p>Amazon Web Services key for S3 access</p>\n<h5>AWS Secret</h5>\n<p>Amazon Web Services secret for S3 access</p>\n<h5>AWS Bucket Name</h5>\n<p>Amazon Web Services bucket name in S3 (e.g. vida-production)</p>\n<h5>Admin Emails</h5>\n<p>Enable admin rights for users using their emails (ex: admin@vida.io, support@vida.io)</p></div>\n<div class="modal-footer"><button class="btn" data-dismiss="modal" aria-hidden="true">Close</button></div></div></div></div>')})}).call(this);

(function(){Template.__checkName("dataset_table"),Template.dataset_table=new Template("Template.dataset_table",function(){var e=this;return[HTML.STRONG("Total: ",Blaze.View("lookup:datasets.count",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("datasets"),"count"))})),HTML.TABLE({class:["table"," ","table-striped"," ","table-hover"," ","table-doc"]},HTML.THEAD(HTML.TR(HTML.TH({style:"width: 10px;"},"#"),"\n",HTML.TH({style:"width: 120px;"},"Id"),"\n",HTML.TH({style:"width: 120px;"},"OwnerId"),"\n",HTML.TH("Name"),"\n",HTML.TH({style:"width: 80px;"},"Privacy","\n",HTML.I({class:["fa"," ","fa-edit"],rel:"tooltip",title:"Click to edit"})),"\n",HTML.TH({style:"width: 80px;"},"Counter"),"\n",HTML.TH({style:"width: 80px;"},"Flag"),"\n",HTML.TH({style:"width: 150px;"},"Created At"),"\n",HTML.TH({style:"width: 20px;"},"x"))),"\n",HTML.TBODY(Blaze.Each(function(){return Spacebars.call(e.lookup("datasets"))},function(){return HTML.TR(HTML.TD({class:"table-id"}),"\n",HTML.TD(HTML.A({href:function(){return["/datasets/",Spacebars.mustache(e.lookup("_id"))]},target:"_blank"},Blaze.View("lookup:_id",function(){return Spacebars.mustache(e.lookup("_id"))}))),"\n",HTML.TD(HTML.SPAN({rel:"tooltip",title:function(){return Spacebars.mustache(e.lookup("owner"))}},Blaze.View("lookup:nameUsernameEmail",function(){return Spacebars.mustache(e.lookup("nameUsernameEmail"))}))),"\n",HTML.TD(Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("editing_dataset"))},function(){return HTML.TD({class:"edit"},HTML.INPUT({id:"dataset-privacy-input",type:"text",value:function(){return Spacebars.mustache(e.lookup("privacy"))}}))},function(){return HTML.TD({class:"display"},Blaze.View("lookup:privacy",function(){return Spacebars.mustache(e.lookup("privacy"))}))}),"\n",HTML.TD(Blaze.View("lookup:counter",function(){return Spacebars.mustache(e.lookup("counter"))})),"\n",HTML.TD(Blaze.View("lookup:flag",function(){return Spacebars.mustache(e.lookup("flag"))})),"\n",HTML.TD(Blaze.View("lookup:toLocalTime",function(){return Spacebars.mustache(e.lookup("toLocalTime"),e.lookup("created"))})),"\n",HTML.TD(HTML.SPAN({class:["btn"," ","btn-default"," ","btn-xs"," ","dataset-remove"],title:""},HTML.I({class:["fa"," ","fa-trash"]}))))}))),Blaze.If(function(){return Spacebars.call(e.lookup("datasets_ready"))},function(){return Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup("datasets"),"count"))},function(){return HTML.H6({class:"text-center"},"No dataset available")})},function(){return Spacebars.include(e.lookupTemplate("loadingIcon"))})]})}).call(this);

(function(){Template.__checkName("doc_table"),Template.doc_table=new Template("Template.doc_table",function(){var e=this;return[HTML.STRONG("Total: ",Blaze.View("lookup:docs.count",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("docs"),"count"))})),HTML.TABLE({class:["table"," ","table-striped"," ","table-hover"," ","table-doc"]},HTML.THEAD(HTML.TR(),"\n",HTML.TH({style:"width: 10px;"},"#"),"\n",HTML.TH({style:"width: 120px;"},"Id"),"\n",HTML.TH({style:"width: 120px;"},"OwnerId"),"\n",HTML.TH("Name"),"\n",HTML.TH({style:"width: 50px;"},"Counter"),"\n",HTML.TH({style:"width: 80px;"},"Privacy ","\n",HTML.I({class:["fa"," ","fa-edit"],rel:"tooltip",title:"Click to edit"})),"\n",HTML.TH({style:"width: 80px;"},"Type"),"\n",HTML.TH({style:"width: 150px;"},"Created At"),"\n",HTML.TH({style:"width: 20px;"},"x")),"\n",HTML.TBODY(Blaze.Each(function(){return Spacebars.call(e.lookup("docs"))},function(){return HTML.TR(HTML.TD({class:"table-id"}),"\n",HTML.TD(HTML.A({href:function(){return["/embed/",Spacebars.mustache(e.lookup("_id"))]},target:"_blank"},Blaze.View("lookup:_id",function(){return Spacebars.mustache(e.lookup("_id"))}))),"\n",HTML.TD(HTML.SPAN({rel:"tooltip",title:function(){return Spacebars.mustache(e.lookup("owner"))}},Blaze.If(function(){return Spacebars.call(e.lookup("nameUsernameEmail"))},function(){return Blaze.View("lookup:nameUsernameEmail",function(){return Spacebars.mustache(e.lookup("nameUsernameEmail"))})},function(){return Blaze.View("lookup:owner",function(){return Spacebars.mustache(e.lookup("owner"))})}))),"\n",HTML.TD(Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n",HTML.TD(Blaze.View("lookup:counter",function(){return Spacebars.mustache(e.lookup("counter"))})),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("editing_document"))},function(){return HTML.TD({class:"edit"},HTML.INPUT({id:"document-privacy-input",type:"text",value:function(){return Spacebars.mustache(e.lookup("privacy"))}}))},function(){return HTML.TD({class:"display"},Blaze.View("lookup:privacy",function(){return Spacebars.mustache(e.lookup("privacy"))}))}),"\n",HTML.TD(Blaze.View("lookup:type",function(){return Spacebars.mustache(e.lookup("type"))})),"\n",HTML.TD(Blaze.View("lookup:toLocalTime",function(){return Spacebars.mustache(e.lookup("toLocalTime"),e.lookup("created"))})),"\n",HTML.TD(HTML.SPAN({class:["btn"," ","btn-default"," ","btn-xs"," ","document-remove"],title:""},HTML.I({class:["fa"," ","fa-trash"]}))))}))),Blaze.If(function(){return Spacebars.call(e.lookup("docs_ready"))},function(){return Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup("docs"),"count"))},function(){return HTML.H6({class:"text-center"},"No document available")})},function(){return Spacebars.include(e.lookupTemplate("loadingIcon"))})]})}).call(this);

(function(){Template.__checkName("admin_permissions"),Template.admin_permissions=new Template("Template.admin_permissions",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return HTML.DIV({class:"row"},HTML.DIV({class:["col-md-6"," ","profile-info"]},HTML.DIV({class:["entry"," ","toggle-input"]},HTML.H6({class:"header"},"User Access Control (View Only)"),"\n",HTML.INPUT({id:"emails-input",type:"text",placeholder:"Enter emails (comma separated)",value:"sdolight@gmail.com, sangd@vida.io"}),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","add-emails"],"data-toggle":"tooltip",title:""},"Add              ")),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("permissions"))},function(){return HTML.DIV({class:"share-user-entry"},HTML.SPAN({class:"email"},Blaze.View("lookup:..email",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"email"))})),"\n",HTML.DIV({class:["btn-group"," ","pull-right"]},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","disabled"]},Blaze.View("lookup:..access",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"access"))})),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","remove-permission"]},HTML.I({class:["fa"," ","fa-remove"],"data-toggle":"tooltip",title:"Remove"}))))})))})})}).call(this);

(function(){Template.__checkName("admin_record"),Template.admin_record=new Template("Template.admin_record",function(){var e=this;return[HTML.H5(HTML.B(Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(e.lookup("toTitleCase"),e.lookup("collectionName"))})," |"),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("userCollection"))},function(){return HTML.A({href:function(){return Spacebars.mustache(e.lookup("userURL"))},target:"_blank"},Blaze.View("lookup:id",function(){return Spacebars.mustache(e.lookup("id"))}))},function(){return HTML.A({href:function(){return["/",Spacebars.mustache(e.lookup("collectionName")),"/",Spacebars.mustache(e.lookup("id"))]}},Blaze.View("lookup:id",function(){return Spacebars.mustache(e.lookup("id"))}))})),HTML.Raw('<div id="record-editor" style="height: 480px;"></div><div class="spacer-20"></div>'),HTML.DIV({class:"action-btns"},HTML.Raw('<div class="pull-left"><div class="btn btn-primary btn-remove"><i class="fa fa-trash"></i>\nDelete</div></div>'),"\n",HTML.DIV({class:"pull-right"},HTML.Raw('<div class="btn btn-primary btn-update"><i class="fa fa-save"></i>\nUpdate</div>'),"\n",HTML.A({class:["btn"," ","btn-primary"],href:function(){return["/admin/",Spacebars.mustache(e.lookup("collectionName"))]}},HTML.Raw('<i class="fa fa-remove"></i>'),"\n","Back")))]})}).call(this);

(function(){Template.__checkName("record_table"),Template.record_table=new Template("Template.record_table",function(){var e=this;return[HTML.DIV({class:["record-stats"," ","row"]},"   ","\n",HTML.DIV({class:"col-md-6"},HTML.H5(HTML.B(Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(e.lookup("toTitleCase"),e.lookup("collectionName"))})," | "),"\n",["Total: ",Blaze.View("lookup:records.count",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("records"),"count"))})])),"\n",HTML.Raw('<div class="col-md-6"><div class="pull-right"><input id="search-input" type="text" placeholder="{ selector }, { options }" value="">\n<button class="btn" id="btn-search"><i class="fa fa-search"></i>\nSearch</button>\n<button class="btn" id="btn-reset" data-toggle="tooltip" title="Reset"><i class="fa fa-remove"></i></button></div></div>')),HTML.UL({class:["document-list"," ","adm-records"]},Blaze.If(function(){return Spacebars.call(e.lookup("dataReady"))},function(){return Blaze.Each(function(){return Spacebars.call(e.lookup("records"))},function(){return HTML.LI(HTML.A({href:function(){return["/admin/",Spacebars.mustache(e.lookup("collectionName")),"/",Spacebars.mustache(e.lookup("_id"))]}},HTML.SPAN({class:"idx"}),"\n",null,"\n",null,"\n",null,"\n",null,"\n",null,"\n",HTML.SPAN({class:"owner"},Blaze.View("lookup:owner",function(){return Spacebars.mustache(e.lookup("owner"))})),"\n",HTML.SPAN({class:"title"},Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})),"\n",HTML.SPAN({class:"created"},Blaze.View("lookup:formatTime",function(){return Spacebars.mustache(e.lookup("formatTime"),e.lookup("created"))}))))})},function(){return HTML.LI(Spacebars.include(e.lookupTemplate("loadingIcon")))})),HTML.Raw('<div class="spacer-40">         </div>')]})}).call(this);

(function(){Template.__checkName("chart_embed"),Template.chart_embed=new Template("Template.chart_embed",function(){var e=this;return[HTML.DIV({id:"chart-svg"},Blaze.If(function(){return Spacebars.call(e.lookup("chartShowReady"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("validChart"))},function(){return Blaze.View("lookup:startRendering",function(){return Spacebars.mustache(e.lookup("startRendering"))})},function(){return HTML.DIV({class:["alert"," ","alert-danger"," ","text-center"]},"Sorry, this document does not exist!")})},function(){return Spacebars.include(e.lookupTemplate("loadingEmbedIcon"))})),HTML.Raw('<div id="poweredby"><a id="poweredby-logo" href="http://vida.io" target="_blank" title="Powered by VIDA.IO"></a></div>')]})}).call(this);

(function(){Template.__checkName("download_modal"),Template.download_modal=new Template("Template.download_modal",function(){var a=this;return HTML.Raw('<div id="download-modal" class="modal hidden"><div class="modal-header"><button class="close" data-dismiss="modal" type="button"></button>\n<h4>Download - Right click on image to save</h4></div>\n<div class="modal-body"><img id="chart-image"></div></div>')})}).call(this);

(function(){Template.__checkName("chart_edit"),Template.chart_edit=new Template("Template.chart_edit",function(){var a=this;return[HTML.DIV({id:"current-chart",class:["row"," ","fit-h"]},"","\n",HTML.SECTION({id:"chart-data"},HTML.INPUT({id:"chart-title-input",class:["editable"," ","editable-lg"],type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("chart"),"options","title"))},placeholder:"Chart title"}),"\n",HTML.INPUT({id:"chart-description-input",class:["editable"," ","editable-md"],type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("chart"),"description"))},placeholder:"Description"}),"\n",HTML.Raw('<h4 class="sec-header" data-index="0"><span class="step">1</span>\nData</h4>'),"\n",HTML.DIV({class:"sec-content"},HTML.Raw('<div class="btn-group"><a class="btn btn-default btn-xs open-dialog" data-toggle="modal" href="#" data-target="#modalOpenDataset"><i class="fa fa-edit"></i>\nChange dataset</a></div>'),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("datasetShowReady"))},function(){return Blaze.If(function(){return Spacebars.call(a.lookup("validDataset"))},function(){return Spacebars.include(a.lookupTemplate("dataset_edit"))},function(){return HTML.DIV({class:["alert"," ","alert-danger"],style:"width: 30%;"},"Dataset missing ")})}))),"\n",HTML.Raw("\x3c!-- End of chart-data--\x3e"),"\n",HTML.SECTION({id:"chart-properties",style:""},HTML.Raw('<h4 class="sec-header" data-index="1"><span class="step">2</span>\nProperties</h4>'),"\n",HTML.DIV({class:"sec-content"},HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-2"><h5>Type</h5></div>'),"\n",HTML.DIV({class:"col-md-10"},HTML.DIV({class:"chart-type-edit"},HTML.H6(HTML.Raw('<a class="btn btn-default btn-xs btn-edit-chart-type" style="margin-right: 10px;">Edit</a>'),"\n",Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(a.lookup("toTitleCase"),a.lookup("currentType"))}))),"\n",HTML.DIV({class:["chart-types"," ","chart-type-edit"],style:"display:none;"},HTML.UL({class:["vcards"," ","vcards-md"],style:"width: 100%;"},Blaze.Each(function(){return Spacebars.call(a.lookup("chartTypes"))},function(){return HTML.LI({class:function(){return["chart-type"," ",Spacebars.mustache(a.lookup("cssTypeActive"))]},"data-type":function(){return Spacebars.mustache(a.lookup("."))}},HTML.A({href:"#"},HTML.DIV({class:"tn"},HTML.SPAN({class:"align-helper"}),"\n",HTML.IMG({src:function(){return["/images/charts/google_",Spacebars.mustache(a.lookup(".")),".png"]},alt:function(){return Spacebars.mustache(a.lookup("name"))}})),"\n",HTML.DIV({class:"name"},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(a.lookup("toTitleCase"),a.lookup("."))}))))}))))),"\n",HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-2"><h5>Title</h5></div>'),"\n",HTML.DIV({class:"col-md-10"},HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">Size</div>'),"\n",HTML.DIV({class:"col-md-2"},HTML.DIV({class:"btn-group"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown",href:"#"},HTML.SPAN({class:"text"},Blaze.View("lookup:titleFontSize",function(){return Spacebars.mustache(a.lookup("titleFontSize"))})," "),"\n",HTML.Raw('<span class="caret"></span>')),"\n",HTML.UL({class:"dropdown-menu","data-field-type":function(){return Spacebars.mustache(a.lookup("type"))},style:"min-width: 56px;"},Blaze.Each(function(){return Spacebars.call(a.lookup("fontSizes"))},function(){return HTML.LI({class:"font-size"},HTML.A(Blaze.View("lookup:.",function(){return Spacebars.mustache(a.lookup("."))})))})))),"\n",HTML.Raw('<div class="col-md-1">Color</div>'),"\n",HTML.DIV({class:"col-md-2"},HTML.INPUT({id:"titleColor",type:"text",value:function(){return Spacebars.mustache(a.lookup("titleColor"))}}))))),"\n",HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-2"><h5>Data Assignment</h5></div>'),"\n",HTML.DIV({class:"col-md-10"},Blaze.If(function(){return Spacebars.dataMustache(a.lookup("currentType"),"line")},function(){return Spacebars.include(a.lookupTemplate("xy_properties"))}),"\n",Blaze.If(function(){return Spacebars.dataMustache(a.lookup("currentType"),"bar")},function(){return Spacebars.include(a.lookupTemplate("xy_properties"))}),"\n",Blaze.If(function(){return Spacebars.dataMustache(a.lookup("currentType"),"horizontal_bar")},function(){return Spacebars.include(a.lookupTemplate("xy_properties"))}),"\n",Blaze.If(function(){return Spacebars.dataMustache(a.lookup("currentType"),"pie")},function(){return Spacebars.include(a.lookupTemplate("pie_properties"))}),"\n",Blaze.If(function(){return Spacebars.dataMustache(a.lookup("currentType"),"area")},function(){return Spacebars.include(a.lookupTemplate("xy_properties"))}),"\n",Blaze.If(function(){return Spacebars.dataMustache(a.lookup("currentType"),"scatter_plot")},function(){return Spacebars.include(a.lookupTemplate("xy_properties"))}),"\n",Blaze.If(function(){return Spacebars.dataMustache(a.lookup("currentType"),"bubble")},function(){return Spacebars.include(a.lookupTemplate("bubble_properties"))}),"\n",Blaze.If(function(){return Spacebars.dataMustache(a.lookup("currentType"),"tree_map")},function(){return Spacebars.include(a.lookupTemplate("tree_map_properties"))}),"\n",Blaze.If(function(){return Spacebars.dataMustache(a.lookup("currentType"),"geo_map")},function(){return Spacebars.include(a.lookupTemplate("geo_map_properties"))}))),"\n",HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-2"><h5>Colors</h5></div>'),"\n",HTML.DIV({class:"col-md-6"},Blaze.If(function(){return Spacebars.call(a.lookup("chartColors"))},function(){return Spacebars.include(a.lookupTemplate("chart_edit_colors"))})),"\n",HTML.Raw('<div class="pull-right"><p>Want More Properties?</p>\n<button class="btn btn-default btn-primary open-dialog edit-properties-json pull-right" data-toggle="modal" href="#" data-target="#modalPropertiesEdit" role="button">Edit Code</button></div>'),"\n",""),"\n",HTML.Raw('<div class="row"></div>'))),"\n",HTML.SECTION({id:"chart-viz",style:""},HTML.H4({class:"sec-header","data-index":"2"},HTML.Raw('<span class="step">3</span>'),"\n","Chart","\n",HTML.SPAN({id:"chart-dimension",class:"pull-right","data-toggle":"tooltip",title:"Drag edge to resize",style:"font-size: 16px;"},HTML.SPAN({id:"chart-width"},Blaze.View("lookup:chart.options.width",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("chart"),"options","width"))})),"\n","x","\n",HTML.SPAN({id:"chart-height"},Blaze.View("lookup:chart.options.height",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("chart"),"options","height"))})))),"\n",HTML.DIV({class:"sec-content"},HTML.Raw('<h5 class="chart-error"><span class="label label-danger">Oops! Did you have Data &amp; Properties setup correctly?</span></h5>'),"\n",HTML.Raw('<div id="google-chart"><div id="chart-svg"></div></div>'),"\n",HTML.DIV({class:"row",style:"margin-top: 80px"},HTML.DIV({class:"col-md-6"},Blaze.Unless(function(){return Spacebars.dataMustache(a.lookup("currentType"),"tree_map")},function(){return[HTML.DIV({id:"chart-thumbnail",class:"pull-left","data-toggle":"tooltip",title:"Public thumbnail",style:"margin-right: 5px;"},HTML.SPAN({class:"align-helper"}),"\n",HTML.IMG({id:"thumbnail-data",src:function(){return Spacebars.mustache(Spacebars.dot(a.lookup("chart"),"thumbnail"))}})),HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","pull-left"],id:"btn-thumbnail-update",href:"#","data-toggle":"tooltip",title:"Update thumbnail"},HTML.I({class:["fa"," ","fa-refresh"]}))]},function(){return HTML.H6("Thumbnail not available for this type")})),"\n",HTML.Raw('<div class="col-md-6"><div class="row"><div class="btn-group pull-right"><a class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" style="margin-right:5px;"><i class="fa fa-download"></i>\nDownload \n<span class="caret"></span></a>\n<ul class="dropdown-menu"><li><a id="download-png" href="#">PNG</a></li>\n<li><a id="download-svg" href="#">SVG</a></li></ul></div></div></div>')))),"\n",HTML.Raw('<div class="spacer-xs"></div>')),Spacebars.include(a.lookupTemplate("properties_edit_modal")),Spacebars.include(a.lookupTemplate("open_dataset_modal")),Spacebars.include(a.lookupTemplate("download_modal"))]}),Template.__checkName("chart_edit_colors"),Template.chart_edit_colors=new Template("Template.chart_edit_colors",function(){var a=this;return Blaze.Each(function(){return Spacebars.call(a.lookup("chartColors"))},function(){return HTML.INPUT({class:"chart-color",type:"text",value:function(){return Spacebars.mustache(a.lookup("."))}})})})}).call(this);

(function(){Template.__checkName("gchart_menu"),Template.gchart_menu=new Template("Template.gchart_menu",function(){var e=this;return[HTML.LI({class:"dropdown"},HTML.Raw('<a class="dropdown-toggle" title="" href="#" data-toggle="dropdown" aria-expanded="true">File</a>'),"\n",HTML.UL({class:["dropdown-menu"," ","hn-dropdown"],role:"menu","aria-labelledby":"dropdownMenu1"},HTML.Raw('<li><a class="get-embed-code" data-toggle="modal" href="#" data-target="#modalShare"><i class="fa fa-code"></i>\nGet Embed Code</a></li>'),"\n",HTML.Raw('<li class="divider"></li>'),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("isChartOwner"))},function(){return[HTML.LI(HTML.A({id:"btn-chart-delete","data-toggle":"tooltip",title:"",href:"#"},HTML.I({class:["fa"," ","fa-trash"]}),"\n","Delete")),HTML.LI({class:"divider"})]}),"\n",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(e.lookup("currentHomePath"))}},"Exit")))),HTML.Raw('<li><a id="btn-chart-clone" href="#"><i class="fa fa-copy"></i>\n Clone</a></li><li> \n<a href="http://userguide.vida.io/#google-chart" target="_blank">Help</a></li>')]})}).call(this);

(function(){Template.__checkName("open_dataset_modal"),Template.open_dataset_modal=new Template("Template.open_dataset_modal",function(){var a=this;return HTML.DIV({id:"modalOpenDataset",class:"modal","aria-hidden":"true","aria-labelledby":"openDatasetModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>My datasets - Click to apply</h4></div>'),"\n",HTML.DIV({class:"modal-body"},HTML.UL({class:"modal-list"},Blaze.Each(function(){return Spacebars.call(a.lookup("datasets"))},function(){return HTML.LI({class:function(){return["apply-dataset"," ",Blaze.If(function(){return Spacebars.call(a.lookup("isGChartDataset"))},function(){return"active"})]}},HTML.A({href:"#"},Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))}),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("isGChartDataset"))},function(){return HTML.DIV({class:"pull-right"},HTML.I({class:["fa"," ","fa-check"]}))})))}))))))})}).call(this);

(function(){Template.__checkName("xy_properties"),Template.xy_properties=new Template("Template.xy_properties",function(){var a=this;return[HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">X Axis</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("xAxisData"))},function(){return Spacebars.include(a.lookupTemplate("data_field_select"))})),"\n",HTML.Raw('<div class="col-md-1">Type</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("xAxisDataType"))},function(){return Spacebars.include(a.lookupTemplate("data_type_field_select"))})),"\n",HTML.DIV({class:"col-md-2"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","open-dialog"," ","output-format"],"data-toggle":"modal",href:"#","data-target":"#modalOutputFormatEdit",role:"button","data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("xAxisData"),"type"))}},"Output Format"))),HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">Y Axis</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("yAxisData"))},function(){return Spacebars.include(a.lookupTemplate("data_field_select"))})),"\n",HTML.Raw('<div class="col-md-1">Type</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("yAxisDataType"))},function(){return Spacebars.include(a.lookupTemplate("data_type_field_select"))})),"\n",HTML.DIV({class:"col-md-2"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","open-dialog"," ","output-format"],"data-toggle":"modal",href:"#","data-target":"#modalOutputFormatEdit",role:"button","data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("yAxisData"),"type"))}},"Output Format"))),HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">Y Axis 2</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("yAxis2Data"))},function(){return Spacebars.include(a.lookupTemplate("data_field_select"))}))),HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">Y Axis 3</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("yAxis3Data"))},function(){return Spacebars.include(a.lookupTemplate("data_field_select"))}))),HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">Y Axis 4</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("yAxis4Data"))},function(){return Spacebars.include(a.lookupTemplate("data_field_select"))}))),HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">Y Axis 5</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("yAxis5Data"))},function(){return Spacebars.include(a.lookupTemplate("data_field_select"))})))]}),Template.__checkName("pie_properties"),Template.pie_properties=new Template("Template.pie_properties",function(){var a=this;return[HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">Category</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("chartCategory"))},function(){return Spacebars.include(a.lookupTemplate("data_field_select"))})),"\n",HTML.Raw('<div class="col-md-1">Type</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("chartCategoryType"))},function(){return Spacebars.include(a.lookupTemplate("data_type_field_select"))})),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","open-dialog"," ","output-format"],"data-toggle":"modal",href:"#","data-target":"#modalOutputFormatEdit",role:"button","data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("chartCategory"),"type"))}},"Output Format")),HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">Value</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("chartValue"))},function(){return Spacebars.include(a.lookupTemplate("data_field_select"))})),"\n",HTML.Raw('<div class="col-md-1">Type</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("chartValueType"))},function(){return Spacebars.include(a.lookupTemplate("data_type_field_select"))})),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","open-dialog"," ","output-format"],"data-toggle":"modal",href:"#","data-target":"#modalOutputFormatEdit",role:"button","data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("chartValueType"),"type"))}},"Output Format"))]}),Template.__checkName("bubble_properties"),Template.bubble_properties=new Template("Template.bubble_properties",function(){var a=this;return[HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">Label</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("idData"))},function(){return Spacebars.include(a.lookupTemplate("data_field_select"))})),"\n",HTML.Raw('<div class="col-md-1">Type</div>'),"\n",HTML.Raw('<div class="col-md-2">String</div>')),HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">X Axis</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("xAxisData"))},function(){return Spacebars.include(a.lookupTemplate("data_field_select"))})),"\n",HTML.Raw('<div class="col-md-1">Type</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("xAxisDataType"))},function(){return Spacebars.include(a.lookupTemplate("data_type_field_select"))})),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","open-dialog"," ","output-format"],"data-toggle":"modal",href:"#","data-target":"#modalOutputFormatEdit",role:"button","data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("xAxisData"),"type"))}},"Output Format")),HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">Y Axis</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("yAxisData"))},function(){return Spacebars.include(a.lookupTemplate("data_field_select"))})),"\n",HTML.Raw('<div class="col-md-1">Type</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("yAxisDataType"))},function(){return Spacebars.include(a.lookupTemplate("data_type_field_select"))})),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","open-dialog"," ","output-format"],"data-toggle":"modal",href:"#","data-target":"#modalOutputFormatEdit",role:"button","data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("yAxisData"),"type"))}},"Output Format")),HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">Bubble</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("bubbleData"))},function(){return Spacebars.include(a.lookupTemplate("data_field_select"))})),"\n",HTML.Raw('<div class="col-md-1">Type</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("bubbleDataType"))},function(){return Spacebars.include(a.lookupTemplate("data_type_field_select"))}))),HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">Size</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("bubbleSize"))},function(){return Spacebars.include(a.lookupTemplate("data_field_select"))})),"\n",HTML.Raw('<div class="col-md-1">Type</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("bubbleSizeType"))},function(){return Spacebars.include(a.lookupTemplate("data_type_field_select"))})),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","open-dialog"," ","output-format"],"data-toggle":"modal",href:"#","data-target":"#modalOutputFormatEdit",role:"button","data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("bubbleSize"),"type"))}},"Output Format"))]}),Template.__checkName("tree_map_properties"),Template.tree_map_properties=new Template("Template.tree_map_properties",function(){var a=this;return HTML.Raw('<div class="row">N/A</div>')}),Template.__checkName("geo_map_properties"),Template.geo_map_properties=new Template("Template.geo_map_properties",function(){var a=this;return[HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">Location</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("geoMapLocation"))},function(){return Spacebars.include(a.lookupTemplate("data_field_select"))}))),HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">Value</div>'),"\n",HTML.DIV({class:"col-md-2"},Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("geoMapValue"))},function(){return Spacebars.include(a.lookupTemplate("data_field_select"))})),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","open-dialog"," ","output-format"],"data-toggle":"modal",href:"#","data-target":"#modalOutputFormatEdit",role:"button","data-prop":function(){return Spacebars.mustache(Spacebars.dot(a.lookup("geoMapValue"),"type"))}},"Output Format")),HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1">Region</div>'),"\n",HTML.DIV({class:"col-md-2"},HTML.DIV({class:"btn-group"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown",href:"#",rel:"tooltip",title:"Select Map Region"},HTML.SPAN({class:"text"},Blaze.View("lookup:geoMapRegion.field",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("geoMapRegion"),"field"))})),"\n",HTML.Raw('<span class="caret"></span>')),"\n",HTML.UL({class:"dropdown-menu"},Blaze.Each(function(){return Spacebars.call(a.lookup("geoMapRegions"))},function(){return HTML.LI({class:"region-data-field"},HTML.A(Blaze.View("lookup:.",function(){return Spacebars.mustache(a.lookup("."))})))})))))]}),Template.__checkName("data_field_select"),Template.data_field_select=new Template("Template.data_field_select",function(){var a=this;return Blaze.If(function(){return Spacebars.call(a.lookup("fields"))},function(){return HTML.DIV({class:"btn-group"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown",href:"#",rel:"tooltip",title:"Select Data Field"},HTML.SPAN({class:"text"},Blaze.View("lookup:field",function(){return Spacebars.mustache(a.lookup("field"))})," "),"\n",HTML.SPAN({class:"caret"})),"\n",HTML.UL({class:"dropdown-menu","data-field-type":function(){return Spacebars.mustache(a.lookup("type"))}},HTML.LI({class:"data-field"},HTML.A("--")),"\n",Blaze.Each(function(){return Spacebars.call(a.lookup("fields"))},function(){return HTML.LI({class:"data-field"},HTML.A(Blaze.View("lookup:.",function(){return Spacebars.mustache(a.lookup("."))}),"    "))})))})}),Template.__checkName("data_type_field_select"),Template.data_type_field_select=new Template("Template.data_type_field_select",function(){var a=this;return HTML.DIV({class:"btn-group"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown",href:"#",rel:"tooltip",title:"Select Data Type"},HTML.SPAN({class:"text"},Blaze.If(function(){return Spacebars.call(a.lookup("field_type"))},function(){return[Blaze.View("lookup:field_type",function(){return Spacebars.mustache(a.lookup("field_type"))})," "]},function(){return"Auto"})),"\n",HTML.Raw('<span class="caret"></span>')),"\n",HTML.UL({class:"dropdown-menu","data-field-type":function(){return Spacebars.mustache(a.lookup("type"))}},Blaze.Each(function(){return Spacebars.call(a.lookup("data_types"))},function(){return HTML.LI({class:"data-type-field"},HTML.A(Blaze.View("lookup:.",function(){return Spacebars.mustache(a.lookup("."))})))})))})}).call(this);

(function(){Template.__checkName("properties_edit_modal"),Template.properties_edit_modal=new Template("Template.properties_edit_modal",function(){var a=this;return[HTML.DIV({id:"modalPropertiesEdit",class:"modal","aria-hidden":"true","aria-labelledby":"propsEditModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>Chart Properties Edit (JSON)</h4></div>'),"\n",HTML.DIV({class:"modal-body"},HTML.Raw('<div class="alert alert-danger alert-dismissable json-prop-alert">Error: Invalid JSON</div>'),"\n",HTML.Raw('<div class="row"><div class="properties-editor"><div id="chart_properties_editor" class="code-editor"></div></div></div>'),"\n",HTML.P("For more information, please visit ","\n",HTML.A({class:"ext-link",href:function(){return Spacebars.mustache(a.lookup("doc_url"))},target:"_blank"},"Google Charts Developer"),"\n",HTML.Raw("&nbsp;documentation."))),"\n",HTML.Raw('<div class="modal-footer"><button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>\n<button class="btn btn-default btn-primary save-properties" aria-hidden="true">Save</button></div>')))),HTML.DIV({id:"modalOutputFormatEdit",class:"modal","aria-hidden":"true","aria-labelledby":"outputFormatEditModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div id="output-format-field"></div>'),"\n",HTML.Raw('<div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>Output Format Edit (JSON)</h4></div>'),"\n",HTML.DIV({class:"modal-body"},HTML.Raw("Select formatter type &nbsp;"),"\n",HTML.DIV({class:"btn-group"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown",href:"#"},HTML.SPAN({class:"text"},Blaze.View("lookup:chartFormatType",function(){return Spacebars.mustache(a.lookup("chartFormatType"))})),"\n",HTML.Raw("&nbsp;"),"\n",HTML.Raw('<span class="caret"></span>')),"\n",HTML.Raw('<ul class="dropdown-menu"><li><a class="format-type-item" data-format-type="number">Number </a></li>\n<li><a class="format-type-item" data-format-type="date">Date </a></li>\n<li><a class="format-type-item" data-format-type="none">None </a></li></ul>')),"\n",HTML.Raw("&nbsp; Then modify options JSON below:"),"\n",HTML.Raw('<p>Example: {"decimalSymbol": ","} for European decimal number format.</p>'),"\n",HTML.Raw('<div class="alert alert-danger alert-dismissable json-formatter-alert">Error: Invalid JSON</div>'),"\n",HTML.Raw('<div class="row"><div class="properties-editor"><div id="chart_format_editor" class="code-editor"></div></div></div>'),"\n",HTML.Raw('<p>For more information, please visit \n<a class="ext-link" href="https://developers.google.com/chart/interactive/docs/reference#dateformatter" target="_blank">Google Formatter</a>\n&nbsp;documentation.</p>')),"\n",HTML.Raw('<div class="modal-footer"><button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>\n<button class="btn btn-default btn-primary save-formatter" aria-hidden="true">Save</button></div>'))))]})}).call(this);

(function(){Template.__checkName("chart_show"),Template.chart_show=new Template("Template.chart_show",function(){var e=this;return HTML.DIV({class:["container"," ","matter"]},Blaze.If(function(){return Spacebars.call(e.lookup("chartShowReady"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("validChart"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("canEditChart"))},function(){return Spacebars.include(e.lookupTemplate("chart_edit"))},function(){return[Spacebars.include(e.lookupTemplate("chart_view")),HTML.DIV({class:"spacer-xs"})]})},function(){return Spacebars.include(e.lookupTemplate("invalid_document"))})},function(){return Spacebars.include(e.lookupTemplate("loading"))}))})}).call(this);

(function(){Template.__checkName("chart_view"),Template.chart_view=new Template("Template.chart_view",function(){var e=this;return[HTML.SECTION({id:"chart-viz"},HTML.DIV({class:"sec-content"},HTML.H3(Blaze.View("lookup:chart.options.title",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("chart"),"options","title"))})),"\n",HTML.H5({class:"chart-description",style:"margin: 0;"},Blaze.View("lookup:textToHTML",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("textToHTML"),Spacebars.dot(e.lookup("chart"),"description")))})),"\n",HTML.Raw('<div id="google-chart" style="margin: 0 auto; border: none;"><div id="chart-svg"></div></div>'))),HTML.H6(HTML.Raw('<button class="btn btn-default open-dialog" data-toggle="modal" href="#" data-target="#modalShare" role="button" style="font-weight:bold; margin-right: 5px;">Embed/Share</button>'),"\n",HTML.Raw('<a class="btn btn-default btn-clone" href="#" style="font-weight:bold;">Clone </a>'),"\n",HTML.DIV({class:"pull-right"},Blaze.If(function(){return Spacebars.dataMustache(e.lookup("nameUsername"),e.lookup("chart"))},function(){return["Google Visualization Created by ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("username"),e.lookup("chart"))},function(){return HTML.A({class:"owner",href:function(){return["/",Spacebars.mustache(e.lookup("username"),e.lookup("chart"))]}},Blaze.View("lookup:nameUsername",function(){return Spacebars.mustache(e.lookup("nameUsername"),e.lookup("chart"))}))},function(){return HTML.A({class:"owner","data-toggle":"tooltip",title:"Page unavailable"},Blaze.View("lookup:nameUsername",function(){return Spacebars.mustache(e.lookup("nameUsername"),e.lookup("chart"))}))})]},function(){return"Google Visualization"})))]})}).call(this);

(function(){Template.__checkName("big_dataset_example"),Template.big_dataset_example=new Template("Template.big_dataset_example",function(){var a=this;return Spacebars.include(a.lookupTemplate("markdown"),function(){return"  \n##### Example:\n\n    var dataset = new Vida.Dataset(DATASET_ID)\n\n    // get all keys in data\n    dataset.getKeys(function (err, data){\n      if (!err) {\n        console.log(err)\n      }\n      // data contains array of all keys\n      // ['dashboard','activity']\n    })\n    \n    // first param is an array of keys, second param is data callback\n    dataset.get(['dashboard','activity'], function (err, data){\n      if (!err) { console.log(err) }\n      // data contains array hash of first param keys\n      // {dashboard: ..., activity: ...}\n    })\n    \n    \n    \n"})})}).call(this);

(function(){Template.__checkName("dataset_entry"),Template.dataset_entry=new Template("Template.dataset_entry",function(){var e=this;return HTML.LI(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"datasets",e.lookup("_id"))},title:function(){return Spacebars.mustache(e.lookup("name"))}},HTML.DIV({class:"name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n",HTML.DIV({class:"description"},Blaze.If(function(){return Spacebars.call(e.lookup("description"))},function(){return Blaze.View("lookup:description",function(){return Spacebars.mustache(e.lookup("description"))})})),"\n",HTML.DIV({class:"actions"},HTML.DIV({class:["btn"," ","btn-default"," ","btn-xs"," ","disabled"," ","btn-view"]},[Blaze.View("lookup:formatNumber",function(){return Spacebars.mustache(e.lookup("formatNumber"),e.lookup("counter"))})," "],"\n","views"),"\n","","\n","","\n","")))})}).call(this);

(function(){Template.__checkName("dataset_edit"),Template.dataset_edit=new Template("Template.dataset_edit",function(){var t=this;return Spacebars.With(function(){return Spacebars.call(t.lookup("currentDataset"))},function(){return[HTML.DIV({class:"container-fluid"},Blaze.If(function(){return Spacebars.call(t.lookup("datasetEditMode"))},function(){return[HTML.INPUT({id:"dataset-name-input",class:["editable"," ","editable-lg"],type:"text",value:function(){return Spacebars.mustache(t.lookup("name"))},placeholder:"Dataset name"}),HTML.INPUT({id:"dataset-description-input",class:["editable"," ","editable-md"],type:"text",value:function(){return Spacebars.mustache(t.lookup("description"))},placeholder:"Description"})]}),"\n",HTML.DIV({class:["ds-options"," ","clearfix"],style:"margin-bottom: 10px;"},Blaze.Unless(function(){return Spacebars.call(t.lookup("datasetEditMode"))},function(){return[HTML.DIV({class:"pull-left"},HTML.H4(Blaze.View("lookup:name",function(){return Spacebars.mustache(t.lookup("name"))}))),HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","pull-right"],href:function(){return["/datasets/",Spacebars.mustache(t.lookup("_id"))]},"data-toggle":"tooltip",title:"For full view and settings",target:"_blank"},HTML.I({class:["fa"," ","fa-folder-open-o"]}),"\n","Open")]}),"\n",Blaze.If(function(){return Spacebars.call(t.lookup("datasetEditMode"))},function(){return[HTML.DIV({class:["btn"," ","btn-default"," ","btn-xs"," ","pull-right"],id:"download-dataset","data-toggle":"tooltip",title:"Download to CSV"},HTML.SPAN("Download")),HTML.DIV({class:["btn-group"," ","pull-right"],"data-toggle":"tooltip",title:"CSV / TSV / JSON",style:"margin-right: 10px;"},HTML.DIV({class:["btn"," ","btn-default"," ","btn-xs"," ","file-upload"],style:"margin: 0; padding: 2px 6px;"},HTML.SPAN("File Import"),"\n",HTML.INPUT({id:"dataset-import",class:"upload",type:"file"})),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown"},HTML.SPAN({class:"caret"})),"\n",HTML.UL({class:"dropdown-menu"},HTML.LI(HTML.A({class:"open-dialog","data-toggle":"modal",href:"#","data-target":"#modalUrlImport",role:"button"},"URL Import")))),HTML.DIV({class:["pull-right"," ","privacy-setting"],style:"margin-right:5px;"},Blaze.If(function(){return Spacebars.call(t.lookup("privateClone"))},function(){return HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","disabled"],"data-toggle":"tooltip","data-placement":"left",title:"Disabled (Cloned from private)"},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(t.lookup("toTitleCase"),t.lookup("privacy"))}))},function(){return HTML.DIV({class:"btn-group",title:"Privacy",rel:"tooltip"},HTML.A({class:["privacy-status"," ","btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown",href:"#"},HTML.SPAN({class:"text"},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(t.lookup("toTitleCase"),t.lookup("privacy"))})),"\n",HTML.SPAN({class:"caret"})),"\n",HTML.UL({class:"dropdown-menu"},Blaze.Each(function(){return Spacebars.dataMustache(t.lookup("otherPrivacyStates"),t.lookup("privacy"))},function(){return HTML.LI({class:"privacy-state"},HTML.A(Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(t.lookup("toTitleCase"),t.lookup("."))})))})))}))]})),"\n",Blaze.Unless(function(){return Spacebars.call(t.lookup("bigDataset"))},function(){return HTML.DIV({class:["ds-editor"," ","clearfix"]},HTML.DIV({class:"tab-content"},Blaze.If(function(){return Spacebars.call(t.lookup("liveUrl"))},function(){return HTML.DIV({class:"clearfix",style:"margin-bottom: 10px"},["Live data is retrieved from URL:",HTML.CharRef({html:"&nbsp;",str:""})],"\n",HTML.BR(),"\n",HTML.A({href:function(){return Spacebars.mustache(t.lookup("liveUrl"))},target:"_blank"},Blaze.View("lookup:liveUrl",function(){return Spacebars.mustache(t.lookup("liveUrl"))}),HTML.CharRef({html:"&nbsp;",str:""})),"\n",HTML.BR(),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"],id:"btn-detach-live-url","data-toggle":"tooltip",title:"Detach from Live URL"},"Detach"))}),"\n",Spacebars.include(t.lookupTemplate("dataset_editor"))))},function(){return[HTML.H5(HTML.SPAN({class:["label"," ","label-info"]},"Big Dataset (",Blaze.View("lookup:bigDatasetSizeMB",function(){return Spacebars.mustache(t.lookup("bigDatasetSizeMB"))})," MB)")),HTML.H5("To access this in your d3 documents, please use 'Vida.Dataset' class."),Spacebars.include(t.lookupTemplate("big_dataset_example"))]}),"\n",Spacebars.include(t.lookupTemplate("dataset_sql")),"\n",Spacebars.include(t.lookupTemplate("dataset_script")),"\n",Blaze.If(function(){return Spacebars.call(t.lookup("bigDataset"))},function(){return[HTML.H5("You can use processing function or filter for retrieving data."),HTML.DIV({class:["row"," ","fit-h"]},HTML.DIV({class:"col-md-6"},Spacebars.include(t.lookupTemplate("processing_editor"))),"\n",HTML.DIV({class:"col-md-6"},HTML.H5("Filter"),"\n",HTML.UL(HTML.LI("Your JSON data needs to have this structure: {filter1: data1, filter2: data2}."),"\n",HTML.LI("Use filter below to retrieve data (* for all).")),"\n",HTML.DIV({class:"clearfix"}),"\n",HTML.INPUT({id:"ds-filter-input",type:"text",placeholder:"filter1,filter2",value:""}),"\n",HTML.BUTTON({class:"btn",id:"btn-ds-filter"},HTML.I({class:["fa"," ","fa-search"]}),"\n","Test Filter"))),HTML.DIV({class:["row"," ","fit-h"]},HTML.DIV({class:"col-md-12"},HTML.H5("Processing Function or Filter Output"),"\n",HTML.P("Result of processing function and filter"),"\n",HTML.DIV({id:"processing-output-text-div"},HTML.PRE(HTML.CODE(HTML.DIV({id:"processing-output-text"}))))))]})),Spacebars.include(t.lookupTemplate("url_import_modal"))]})}),Template.__checkName("dataset_editor"),Template.dataset_editor=new Template("Template.dataset_editor",function(){var t=this;return[HTML.DIV({id:"editor-grid",class:function(){return["dataset-editor"," ",Blaze.If(function(){return Spacebars.call(t.lookup("datasetEditMode"))},function(){return"dataset-editor-md"},function(){return"dataset-editor-sm"})]}}),HTML.Raw('<div id="editor-status"></div>')]}),Template.__checkName("processing_editor"),Template.processing_editor=new Template("Template.processing_editor",function(){var t=this;return HTML.DIV({id:"tab-text",class:["tab-pane"," ","active"]},HTML.Raw('<h5>Processing Function</h5>\n<ul><li>You can write Javascript code to run on server side. Reference dataset with variable \'data\'.</li>\n<li>Call \'return result\' to send data back to client side.</li>\n<li>crossfilter is available for use.</li></ul>\n<div id="processing-editor-text" class="processing-editor-text"></div>\n<div class="clearfix"><h5>Parameters</h5>\n<ul><li>Send parameters to processing function.</li>\n<li>For example, {"name":"Bob","city":"Seattle"}.</li>\n<li>Access params in your function using variable \'params\'.</li></ul>\n<input id="processing-function-params" type="text" placeholder="Parameters" value="">\n<button class="btn" id="btn-run-processing"><i class="fa fa-play"></i>\nTest Run</button></div>\n<div class="clearfix"><p>Save your function so you can call it in your document.</p>\n<input id="processing-function-name" type="text" placeholder="Function name" value="">\n<button class="btn" id="btn-save-processing-function"><i class="fa fa-save"></i>\nSave</button></div>\n<h5>Existing Functions</h5>\n'),Blaze.Each(function(){return Spacebars.call(t.lookup("processingFunctions"))},function(){return HTML.DIV({class:"row"},HTML.DIV({class:"col-md-4"},Blaze.View("lookup:name",function(){return Spacebars.mustache(t.lookup("name"))})),"\n",HTML.DIV({class:["col-md-4"," ","pull-right"]},HTML.BUTTON({class:["btn"," ","edit-processing-function"],"func-id":function(){return Spacebars.mustache(t.lookup("_id"))}},HTML.I({class:["fa"," ","fa-edit"]},"Edit")),"\n",HTML.BUTTON({class:["btn"," ","delete-processing-function"],"func-id":function(){return Spacebars.mustache(t.lookup("_id"))}},HTML.I({class:["fa"," ","fa-trash"]},"Delete"))))}))})}).call(this);

(function(){Template.__checkName("dataset_menu"),Template.dataset_menu=new Template("Template.dataset_menu",function(){var e=this;return[HTML.LI({class:"dropdown"},HTML.Raw('<a class="dropdown-toggle" title="" href="#" data-toggle="dropdown" aria-expanded="true">File</a>'),"\n",HTML.UL({class:["dropdown-menu"," ","hn-dropdown"],role:"menu","aria-labelledby":"dropdownMenu1"},Blaze.If(function(){return Spacebars.call(e.lookup("isDatasetOwner"))},function(){return[HTML.LI(HTML.A({id:"btn-dataset-delete","data-toggle":"tooltip",title:"",href:"#"},HTML.I({class:["fa"," ","fa-trash"]}),"\n","Delete")),HTML.LI({class:"divider"})]}),"\n",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(e.lookup("currentHomePath"))}},"Exit")))),HTML.Raw('<li><a id="btn-dataset-clone" href="#"><i class="fa fa-copy"></i>\n Clone</a></li><li> \n<a href="http://userguide.vida.io/#dataset" target="_blank">Help</a></li>')]})}).call(this);

(function(){Template.__checkName("dataset_script"),Template.dataset_script=new Template("Template.dataset_script",function(){var t=this;return[HTML.Raw("<h5>Script</h5>"),Blaze.If(function(){return Spacebars.call(t.lookup("hasScript"))},function(){return[HTML.DIV({class:"s-section"},HTML.DIV({class:"s-header"},"Resources (Javascript/CSS)"),"\n",Spacebars.With(function(){return Spacebars.call(t.lookup("currentDataset"))},function(){return HTML.DIV({class:"clearfix"},Blaze.Each(function(){return Spacebars.call(t.lookup("resources"))},function(){return HTML.DIV({class:"tag-xs",title:function(){return Spacebars.mustache(t.lookup("uri"))}},Blaze.If(function(){return Spacebars.call(t.lookup("canEditDataset"))},function(){return HTML.A({class:["remove"," ","remove-resource"],href:"#"},HTML.I({class:["fa"," ","fa-remove"]}))}),"\n",HTML.DIV({class:"text"},Blaze.View("lookup:name",function(){return Spacebars.mustache(t.lookup("name"))})),"\n",HTML.A({class:"resource-info",href:"#"},HTML.I({class:["fa"," ","fa-info"]})))}))}),"\n",Blaze.If(function(){return Spacebars.call(t.lookup("canEditDataset"))},function(){return HTML.DIV({class:"toggle-input"},HTML.DIV({class:"toggle"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-toggle"]},HTML.I({class:["fa"," ","fa-plus"]}),"\n","Add"),"\n",HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","open-dialog"],"data-toggle":"modal",href:"#","data-target":"#modalLibs",role:"button"},HTML.I({class:["fa"," ","fa-list-ul"]}),"\n","From List")),"\n",HTML.DIV({class:["toggle"," ","hidden"]},HTML.INPUT({id:"resource-input",type:"text",placeholder:"JS/CSS URI (example: //cdnjs.cloudflare.com/ajax/libs/topojson/1.1.0/topojson.min.js)",value:""}),"\n",HTML.DIV({class:"btn-group"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","add-resource"]},"Add"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-toggle"]},HTML.I({class:["fa"," ","fa-remove"],"data-toggle":"tooltip",title:"Close"})))))})),HTML.DIV({class:"s-header"},"Editor"),HTML.DIV({class:"script-buttons",style:"margin-top: 10px"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"],id:"btn-run-script",style:"margin-right: 10px"},HTML.I({class:["fa"," ","fa-play"]}),"\n","Run Script"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"],id:"btn-reset-data",style:"margin-right: 10px"},HTML.I({class:["fa"," ","fa-refresh"]}),"\n","Reset Data"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","pull-right"],id:"btn-remove-script"},HTML.I({class:["fa"," ","fa-trash"]}),"\n","Remove Script"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"],id:"btn-save-script",style:"margin-right: 10px"},HTML.I({class:["fa"," ","fa-save"]}),"\n","Save Script")),HTML.UL(HTML.LI("Use 'data' variable to reference existing dataset."),"\n",HTML.LI("Use 'callback(result)' to return data.")),Spacebars.include(t.lookupTemplate("dataset_script_editor"))]},function(){return HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"],id:"btn-add-script"},HTML.I({class:["fa"," ","fa-plus"]}),"\n","Add Script")}),Spacebars.include(t.lookupTemplate("libs_modal"))]}),Template.__checkName("dataset_script_editor"),Template.dataset_script_editor=new Template("Template.dataset_script_editor",function(){var t=this;return HTML.Raw('<div id="script-editor"></div>')})}).call(this);

(function(){Template.__checkName("dataset_show"),Template.dataset_show=new Template("Template.dataset_show",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("datasetShowReady"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("validDataset"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("canAccessDataset"))},function(){return[Blaze.If(function(){return Spacebars.call(e.lookup("canEditDataset"))},function(){return Spacebars.include(e.lookupTemplate("dataset_edit"))},function(){return Spacebars.include(e.lookupTemplate("dataset_view"))}),Spacebars.include(e.lookupTemplate("dataset_used_in"))]},function(){return HTML.DIV({class:["container-fluid"," ","matter"]},Spacebars.include(e.lookupTemplate("invalid_document")))})},function(){return HTML.DIV({class:["container-fluid"," ","matter"]},Spacebars.include(e.lookupTemplate("invalid_document")))})},function(){return HTML.DIV({class:["container-fluid"," ","matter"]},Spacebars.include(e.lookupTemplate("loading")))})})}).call(this);

(function(){Template.__checkName("dataset_sql"),Template.dataset_sql=new Template("Template.dataset_sql",function(){var a=this;return[HTML.Raw("<h5>SQL</h5>"),Blaze.If(function(){return Spacebars.call(a.lookup("hasSQL"))},function(){return[HTML.DIV({class:"s-header"},"Select database source"),HTML.DIV({class:"clearfix"}),HTML.DIV({class:"btn-group"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown",href:"#"},HTML.SPAN({class:"text"},Blaze.If(function(){return Spacebars.call(a.lookup("currentSource"))},function(){return Blaze.View("lookup:currentSource.name",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("currentSource"),"name"))})},function(){return"Select a source"})),"\n",HTML.SPAN({class:"caret"})),"\n",HTML.UL({class:"dropdown-menu"},Blaze.Each(function(){return Spacebars.call(a.lookup("sources"))},function(){return HTML.LI({class:"select-source-db","data-source-id":function(){return Spacebars.mustache(a.lookup("_id"))}},HTML.A(Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))})))}))),HTML.DIV({class:"sql-buttons",style:"margin-top: 10px"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"],id:"btn-run-sql",style:"margin-right: 10px"},HTML.I({class:["fa"," ","fa-play"]}),"\n","Run SQL"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"],id:"btn-reset-data",style:"margin-right: 10px"},HTML.I({class:["fa"," ","fa-refresh"]}),"\n","Reset Data"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"],id:"btn-save-sql",style:"margin-right: 10px"},HTML.I({class:["fa"," ","fa-save"]}),"\n","Save SQL"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"],id:"btn-remove-sql",style:"margin-left: 30px"},HTML.I({class:["fa"," ","fa-trash"]}),"\n","Remove SQL")),HTML.P("Write your SQL in editor and click Run SQL button"),HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.DIV({class:"col-md-6"},Spacebars.include(a.lookupTemplate("dataset_sql_editor"))),"\n",HTML.DIV({class:"col-md-6"},HTML.DIV({id:"sql-parameters"},HTML.H5("SQL Parameters"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"],id:"btn-add-parameter"},HTML.I({class:["fa"," ","fa-plus"]}),"\n","Add Parameter"),"\n",HTML.P("Add SQL parameters to your query.","\n",HTML.BR(),"\n","Use @parameter_name to write your query with parameter.","\n",HTML.BR(),"\n","For example: SELECT * FROM users WHERE @first_name='John'"),"\n",HTML.B("Current Parameters"),"\n",Blaze.Each(function(){return Spacebars.call(a.lookup("sqlParams"))},function(){return HTML.DIV({class:"row"},HTML.DIV({class:["col-sm-4"," ","ellipsis-text"]},Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))})),"\n",HTML.DIV({class:["col-sm-4"," ","ellipsis-text"]},Blaze.View("lookup:defaultValue",function(){return Spacebars.mustache(a.lookup("defaultValue"))})),"\n",HTML.DIV({class:"col-sm-4"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-edit-parameter"]},HTML.I({class:["fa"," ","fa-pencil"]},HTML.CharRef({html:"&nbsp;",str:""}),"Edit")),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-delete-parameter"]},HTML.I({class:["fa"," ","fa-trash"]},HTML.CharRef({html:"&nbsp;",str:""}),"Delete"))))})),"\n",Spacebars.include(a.lookupTemplate("sql_parameter_modal"))))),HTML.DIV({class:"row"},HTML.DIV({class:"spacer-20"}))]},function(){return HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"],id:"btn-add-sql"},HTML.I({class:["fa"," ","fa-plus"]}),"\n","Add SQL Query")})]}),Template.__checkName("dataset_sql_editor"),Template.dataset_sql_editor=new Template("Template.dataset_sql_editor",function(){var a=this;return HTML.Raw('<div id="sql-editor"></div>')}),Template.__checkName("sql_parameter_modal"),Template.sql_parameter_modal=new Template("Template.sql_parameter_modal",function(){var a=this;return HTML.Raw('<div id="sqlParameterModal" class="modal" aria-hidden="true" aria-labelledby="sqlParamModalLabel" role="dialog" data-backdrop="static" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>SQL Parameter</h4></div>\n<div class="modal-body"><div class="s-section"><div class="s-header">Name</div>\n<div class="s-content"><input class="sql-param-name" type="text" value=""></div></div>\n<div class="s-section"><div class="s-header">Type</div>\n<div class="s-content"><div class="btn-group"><a class="sql-param-type btn btn-default dropdown-toggle" href="#" data-toggle="dropdown"><span class="text">String</span>\n<span class="caret"></span></a>\n<ul class="dropdown-menu"><li class="sql-param-type"><a>Number</a></li></ul></div></div></div>\n<div class="s-section"><div class="s-header">Default Value</div>\n<div class="s-content"><input class="sql-param-default-value" type="text" value=""></div></div></div>\n<div class="modal-footer"><button class="btn btn-default btn-close" data-dismiss="modal" aria-hidden="true">Close</button>\n<button class="btn btn-default btn-primary btn-save">Add</button></div></div></div></div>')})}).call(this);

(function(){Template.__checkName("url_import_modal"),Template.url_import_modal=new Template("Template.url_import_modal",function(){var t=this;return HTML.Raw('<div id="modalUrlImport" class="modal" aria-hidden="true" aria-labelledby="urlImportModalLabel" role="dialog" data-backdrop="static" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>URL Import</h4></div>\n<div class="modal-body"><input id="url-data-input" type="text" placeholder="Paste data URL here" value="">\n<input id="live-url" type="checkbox">\nLive URL (Retrieve data from URL when dataset is loaded)</div>\n<div class="modal-footer"><button class="btn btn-default btn-close" data-dismiss="modal" aria-hidden="true">Close</button>\n<button class="btn btn-default btn-primary btn-import">Import</button>\n<button class="btn btn-default btn-primary btn-import-loading" style="display: none;"><i class="fa fa-spinner fa-spin"></i>\n Importing ...</button></div></div></div></div>')})}).call(this);

(function(){Template.__checkName("dataset_used_in"),Template.dataset_used_in=new Template("Template.dataset_used_in",function(){var a=this;return[HTML.DIV({class:"container-fluid"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("charts"),"count"))},function(){return[HTML.H3({class:"t0"},"Charts use this"),HTML.UL({class:"vcards"},Blaze.Each(function(){return Spacebars.call(a.lookup("charts"))},function(){return Spacebars.include(a.lookupTemplate("chart_entry"))}))]},function(){return HTML.H3({class:"t0"},"No chart uses this")}),"\n",HTML.Raw('<div class="clearfix"></div>'),"\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n",""),HTML.Raw('<div class="spacer-xs"> </div>')]})}).call(this);

(function(){Template.__checkName("dataset_view"),Template.dataset_view=new Template("Template.dataset_view",function(){var e=this;return Spacebars.With(function(){return Spacebars.call(e.lookup("currentDataset"))},function(){return HTML.DIV({class:"container-fluid"},HTML.DIV({class:"clearfix"},HTML.H3(Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n",HTML.H5({style:"margin: 0;"},Blaze.If(function(){return Spacebars.call(e.lookup("description"))},function(){return Blaze.View("lookup:textToHTML",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("textToHTML"),e.lookup("description")))})})),"\n",HTML.DIV({class:"spacer-20"})),"\n",HTML.DIV({class:"clearfix"}),"\n",HTML.DIV({class:"clearfix"},HTML.DIV({id:"tab-grid",class:["tab-editor"," ","tab-pane"," ","active"]},HTML.DIV({id:"editor-grid",class:["dataset-editor"," ","dataset-editor-md"]}))),"\n",HTML.H6(HTML.DIV({class:["btn"," ","btn-default"," ","btn-clone"]},"Clone"),"\n",HTML.DIV({class:"pull-right"},Blaze.If(function(){return Spacebars.dataMustache(e.lookup("nameUsername"),e.lookup("currentDataset"))},function(){return["Dataset Created by",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("username"),e.lookup("currentDataset"))},function(){return HTML.A({class:"owner",href:function(){return["/",Spacebars.mustache(e.lookup("username"),e.lookup("currentDataset"))]}},Blaze.View("lookup:nameUsername",function(){return Spacebars.mustache(e.lookup("nameUsername"),e.lookup("currentDataset"))}))},function(){return HTML.A({class:"owner","data-toggle":"tooltip",title:"Page unavailable"},Blaze.View("lookup:nameUsername",function(){return Spacebars.mustache(e.lookup("nameUsername"),e.lookup("currentDataset"))}))})]},function(){return"Dataset"}))))})})}).call(this);

(function(){Template.__checkName("document_canvas"),Template.document_canvas=new Template("Template.document_canvas",function(){var a=this;return HTML.Raw('<div id="canvas"></div>')})}).call(this);

(function(){Template.__checkName("explore_charts"),Template.explore_charts=new Template("Template.explore_charts",function(){var e=this;return[HTML.Raw('<h3 class="t0">Trending</h3>'),HTML.DIV({class:"jumbotron",style:"min-height: 500px;"},HTML.UL({class:"vcards"},Blaze.If(function(){return Spacebars.call(e.lookup("trendingChartsReady"))},function(){return Blaze.Each(function(){return Spacebars.call(e.lookup("trendingCharts"))},function(){return Spacebars.include(e.lookupTemplate("chart_entry"))})}),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("trendingChartsReady"))},function(){return HTML.LI(HTML.A(Spacebars.include(e.lookupTemplate("loadingIcon"))))})),"\n",HTML.Raw('<div class="clearfix"></div>')),HTML.Raw('<h3 class="t0">Recently Added</h3>'),HTML.DIV({class:"jumbotron",style:"min-height: 500px;"},HTML.UL({class:"vcards"},Blaze.If(function(){return Spacebars.call(e.lookup("trendingChartsReady"))},function(){return Blaze.Each(function(){return Spacebars.call(e.lookup("recentCharts"))},function(){return Spacebars.include(e.lookupTemplate("chart_entry"))})}),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("trendingChartsReady"))},function(){return HTML.LI(HTML.A(Spacebars.include(e.lookupTemplate("loadingIcon"))))})),"\n",HTML.Raw('<div class="clearfix">   </div>'))]})}).call(this);

(function(){Template.__checkName("explore_dashboards"),Template.explore_dashboards=new Template("Template.explore_dashboards",function(){var a=this;return[HTML.Raw('<h3 class="t0">Dashboards</h3>'),HTML.DIV({class:"jumbotron",style:"min-height: 500px;"},HTML.UL({class:"vcards"},Blaze.If(function(){return Spacebars.call(a.lookup("trendingDashboardsReady"))},function(){return Blaze.Each(function(){return Spacebars.call(a.lookup("recentDashboards"))},function(){return Spacebars.include(a.lookupTemplate("dashboard_entry"))})}),"\n",Blaze.Unless(function(){return Spacebars.call(a.lookup("trendingDashboardsReady"))},function(){return HTML.LI(HTML.A(Spacebars.include(a.lookupTemplate("loadingIcon"))))})),"\n",HTML.Raw('<div class="clearfix"></div>'))]})}).call(this);

(function(){Template.__checkName("explore_datasets"),Template.explore_datasets=new Template("Template.explore_datasets",function(){var e=this;return[HTML.Raw('<h3 class="t0">Trending</h3>'),HTML.DIV({class:"jumbotron",style:"min-height: 500px;"},HTML.UL({class:"dcards"},Blaze.If(function(){return Spacebars.call(e.lookup("exploreDatasetReady"))},function(){return Blaze.Each(function(){return Spacebars.call(e.lookup("trendingDatasets"))},function(){return Spacebars.include(e.lookupTemplate("dataset_entry"))})}),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("exploreDatasetReady"))},function(){return HTML.LI(HTML.A(Spacebars.include(e.lookupTemplate("loadingIcon"))))})),"\n",HTML.Raw('<div class="clearfix"></div>')),HTML.Raw('<h3 class="t0">Recently Added</h3>'),HTML.DIV({class:"jumbotron",style:"min-height: 500px;"},HTML.UL({class:"dcards"},Blaze.If(function(){return Spacebars.call(e.lookup("exploreDatasetReady"))},function(){return Blaze.Each(function(){return Spacebars.call(e.lookup("recentDatasets"))},function(){return Spacebars.include(e.lookupTemplate("dataset_entry"))})}),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("exploreDatasetReady"))},function(){return HTML.LI(HTML.A(Spacebars.include(e.lookupTemplate("loadingIcon"))))})),"\n",HTML.Raw('<div class="clearfix"> </div>'))]})}).call(this);

(function(){Template.__checkName("explore_documents"),Template.explore_documents=new Template("Template.explore_documents",function(){var e=this;return[Blaze.Each(function(){return Spacebars.call(e.lookup("categories"))},function(){return HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.H3({class:"t0"},Blaze.View("lookup:..name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"name"))}),"\n",HTML.DIV({class:"pull-right"},HTML.A({class:["btn"," ","btn-default"," ","btn-primary"," ","btn-xs"," ","btn-require-login"],href:function(){return Spacebars.mustache(e.lookup("documentSearchUrl"))}},"More"))),"\n",HTML.DIV({class:"jumbotron"},HTML.UL({class:"vcards"},Blaze.If(function(){return Spacebars.call(e.lookup("exploreDocumentReady"))},function(){return Blaze.Each(function(){return Spacebars.call(e.lookup("categoryDocs"))},function(){return Spacebars.include(e.lookupTemplate("document_entry"))})}),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("exploreDocumentReady"))},function(){return HTML.LI(HTML.A(Spacebars.include(e.lookupTemplate("loadingIcon"))))})),"\n",HTML.DIV({class:"clearfix"}))))}),HTML.Raw('<h3 class="t0">Trending</h3>'),HTML.DIV({class:"jumbotron"},HTML.UL({class:"vcards"},Blaze.If(function(){return Spacebars.call(e.lookup("exploreDocumentReady"))},function(){return Blaze.Each(function(){return Spacebars.call(e.lookup("trendingDocs"))},function(){return Spacebars.include(e.lookupTemplate("document_entry"))})}),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("exploreDocumentReady"))},function(){return HTML.LI(HTML.A(Spacebars.include(e.lookupTemplate("loadingIcon"))))})),"\n",HTML.Raw('<div class="clearfix"></div>')),HTML.Raw('<h3 class="t0">Recently Added</h3>'),HTML.DIV({class:"jumbotron"},HTML.UL({class:"vcards"},Blaze.If(function(){return Spacebars.call(e.lookup("exploreDocumentReady"))},function(){return Blaze.Each(function(){return Spacebars.call(e.lookup("recentDocs"))},function(){return Spacebars.include(e.lookupTemplate("document_entry"))})}),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("exploreDocumentReady"))},function(){return HTML.LI(HTML.A(Spacebars.include(e.lookupTemplate("loadingIcon"))))})),"\n",HTML.Raw('<div class="clearfix"> </div>'))]})}).call(this);

(function(){Template.__checkName("explore"),Template.explore=new Template("Template.explore",function(){var a=this;return[HTML.DIV({class:["container"," ","matter"]},HTML.Raw('<h3 class="t0" style="margin-bottom: 4px;">Explore\n<ul class="nav nav-tabs pull-right explore-tabs"><li class="active"><a class="btn btn-default btn-tab" href="#tab-d3" type="button" data-toggle="tab" data-index="0">D3</a></li>\n<li><a class="btn btn-default btn-tab" href="#tab-dashboard" type="button" data-toggle="tab" data-index="0">Dashboards</a></li>\n<li><a class="btn btn-default btn-tab" href="#tab-profile" type="button" data-toggle="tab" data-index="2">Profiles</a></li></ul></h3>'),"\n",HTML.DIV({class:["tab-content"," ","explore-tab-content"]},HTML.DIV({id:"tab-d3",class:["tab-pane"," ","active"]},Spacebars.include(a.lookupTemplate("explore_documents"))),"\n",HTML.DIV({id:"tab-dashboard",class:"tab-pane"},Spacebars.include(a.lookupTemplate("explore_dashboards"))),"\n",HTML.DIV({id:"tab-profile",class:"tab-pane"},Spacebars.include(a.lookupTemplate("explore_profiles")))),"\n",HTML.Raw('<div class="clearfix"></div>'),"\n",HTML.Raw('<div class="spacer-xs"></div>')),HTML.Raw('<div id="back-to-top" class="btn btn-default btn-primary" data-toggle="tooltip" title="Back to Top"><i class="fa fa-arrow-up"></i></div>')]})}).call(this);

(function(){Template.__checkName("explore_profiles"),Template.explore_profiles=new Template("Template.explore_profiles",function(){var e=this;return[HTML.Raw('<h3 class="t0">Trending</h3>'),HTML.DIV({class:"jumbotron"},HTML.UL({class:"vcards"},Blaze.If(function(){return Spacebars.call(e.lookup("usersReady"))},function(){return Blaze.Each(function(){return Spacebars.call(e.lookup("trendingUsers"))},function(){return Spacebars.include(e.lookupTemplate("profile_entry"))})}),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("usersReady"))},function(){return HTML.LI(HTML.A(Spacebars.include(e.lookupTemplate("loadingIcon"))))})),"\n",HTML.Raw('<div class="clearfix"></div>')),HTML.Raw('<h3 class="t0">Recently Added</h3>'),HTML.DIV({class:"jumbotron"},HTML.UL({class:"vcards"},Blaze.If(function(){return Spacebars.call(e.lookup("usersReady"))},function(){return Blaze.Each(function(){return Spacebars.call(e.lookup("recentUsers"))},function(){return Spacebars.include(e.lookupTemplate("profile_entry"))})}),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("usersReady"))},function(){return HTML.LI(HTML.A(Spacebars.include(e.lookupTemplate("loadingIcon"))))})),"\n",HTML.Raw('<div class="clearfix"></div>'))]})}).call(this);

(function(){Template.__checkName("gist_editor"),Template.gist_editor=new Template("Template.gist_editor",function(){var t=this;return Blaze.If(function(){return Spacebars.call(t.lookup("gistShowReady"))},function(){return[Blaze.If(function(){return Spacebars.call(t.lookup("gistEditMode"))},function(){return[HTML.DIV({id:"gist-canvas",class:"col-md-6"},HTML.DIV({id:"gist-inputs"},HTML.INPUT({id:"gist-name-input",class:["editable"," ","editable-md"],type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("currentGist"),"name"))},placeholder:"Gist name"}),"\n",HTML.INPUT({id:"gist-description-input",class:["editable"," ","editable-sm"],type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("currentGist"),"description"))},placeholder:"Description"})),"\n",Spacebars.include(t.lookupTemplate("gist_view"))),Blaze.If(function(){return Spacebars.call(t.lookup("currentUser"))},function(){return Spacebars.include(t.lookupTemplate("gist_editor_settings"))})]},function(){return HTML.DIV({class:["container"," ","matter"]},HTML.DIV({id:"gist-canvas",class:"col-md-12"},HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.H2(Blaze.View("lookup:currentGist.name",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("currentGist"),"name"))})))),"\n",Blaze.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("currentGist"),"description"))},function(){return HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.H5({style:"margin: 0;"},Blaze.View("lookup:textToHTML",function(){return Spacebars.makeRaw(Spacebars.mustache(t.lookup("textToHTML"),Spacebars.dot(t.lookup("currentGist"),"description")))}))))}),"\n",Spacebars.include(t.lookupTemplate("gist_view"))),"\n",Blaze.If(function(){return Spacebars.call(t.lookup("currentUser"))},function(){return[HTML.DIV({class:"row"},HTML.A({class:["btn"," ","btn-default"," ","btn-clone"],href:"#",style:"font-weight:bold;","data-toggle":"tooltip",title:"View and edit code for this gist"},"Clone")),HTML.DIV({class:"spacer-xs"})]}))}),Blaze.Unless(function(){return Spacebars.call(t.lookup("currentUser"))},function(){return[HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.H4({class:"text-center"},HTML.SPAN({class:["label"," ","label-danger"]},"Please sign in to view and edit code")))),HTML.DIV({class:"spacer-xs"})]})]},function(){return HTML.DIV({class:["container"," ","matter"]},Spacebars.include(t.lookupTemplate("loading")))})}),Template.__checkName("gist_editor_settings"),Template.gist_editor_settings=new Template("Template.gist_editor_settings",function(){var t=this;return HTML.DIV({id:"document-editors",class:"col-md-6"},HTML.UL({class:["nav"," ","nav-tabs"],"data-tabs":"tabs"},HTML.Raw('<li class="editor-tab active"><a id="settings-tab" class="editor-tab" href="#tab-settings" data-tabindex="0" data-toggle="tab">Settings</a></li>'),"\n",Blaze.Each(function(){return Spacebars.call(t.lookup("gistFiles"))},function(){return HTML.LI({class:["editor-tab"," ","gist-file-tab"," ","hide"],id:function(){return["tab-nav-",Spacebars.mustache(t.lookup("convertDotToDash"),t.lookup("."))]}},HTML.A({class:"editor-tab",href:function(){return["#tab-",Spacebars.mustache(t.lookup("convertDotToDash"),t.lookup("."))]},"data-tabindex":function(){return Spacebars.mustache(t.lookup("gistFileIndex"),t.lookup("."))},"data-toggle":"tab"},Blaze.View("lookup:gistFileDisplayName",function(){return Spacebars.mustache(t.lookup("gistFileDisplayName"),t.lookup("."))})))}),"\n",HTML.LI({class:"editor-tab"},HTML.DIV({class:["btn-group"," ","btn-select-gist-file"]},HTML.Raw('<button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="gist-file-name">Select File</span>\n<span class="caret"></span></button>'),"\n",HTML.UL({class:"dropdown-menu"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("gistFiles"),"length"))},function(){return Blaze.Each(function(){return Spacebars.call(t.lookup("gistFiles"))},function(){return HTML.LI(HTML.A({class:"gist-file",href:"#","data-file":function(){return Spacebars.mustache(t.lookup("."))}},Blaze.View("lookup:gistFileDisplayName",function(){return Spacebars.mustache(t.lookup("gistFileDisplayName"),t.lookup("."))})))})},function(){return HTML.LI(HTML.A({class:"text-center"},"(Empty)"))}))))),"\n",HTML.DIV({class:["tab-content"," ","l1"]},HTML.DIV({id:"tab-settings",class:["tab-pane"," ","active"]},HTML.DIV({class:"s-section"},HTML.Raw("<h4>Imported from GitHub gist</h4>"),"\n",HTML.A({href:function(){return["https://gist.github.com/",Spacebars.mustache(t.lookup("gistId"))]},target:"_blank"},"https://gist.github.com/",Blaze.View("lookup:gistId",function(){return Spacebars.mustache(t.lookup("gistId"))}))),"\n",Blaze.Unless(function(){return Spacebars.call(t.lookup("githubConnect"))},function(){return HTML.DIV({class:"s-section"},HTML.A({class:["btn"," ","btn-info"," ","btn-connect-github"]},"Connect to GitHub"))}),"\n",Blaze.If(function(){return Spacebars.call(t.lookup("githubConnect"))},function(){return HTML.DIV({class:"s-section"},HTML.H4("Publish to GitHub gist"),"\n",HTML.DIV({class:["btn-group"," ","btn-select-publish-gist"]},HTML.BUTTON({class:["btn"," ","btn-default"," ","dropdown-toggle"],type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},HTML.SPAN({class:"gist-id"},Blaze.If(function(){return Spacebars.call(t.lookup("publishGistId"))},function(){return Blaze.View("lookup:publishGistId",function(){return Spacebars.mustache(t.lookup("publishGistId"))})},function(){return"Select a Gist"})),"\n",HTML.SPAN({class:"caret"})),"\n",HTML.UL({class:"dropdown-menu"},Blaze.Each(function(){return Spacebars.call(t.lookup("userGists"))},function(){return HTML.LI(HTML.A({class:"user-gist-id",href:"#","data-file":function(){return Spacebars.mustache(t.lookup("."))}},Blaze.View("lookup:.",function(){return Spacebars.mustache(t.lookup("."))})))}))),"\n",Blaze.If(function(){return Spacebars.call(t.lookup("publishGistId"))},function(){return[HTML.A({id:"btn-gist-push",class:["btn"," ","btn-default"," ",""]},HTML.I({class:["fa"," ","fa-upload"]}),"\n","Push"),HTML.BR(),HTML.A({href:function(){return["https://gist.github.com/",Spacebars.mustache(t.lookup("publishGistId"))]},target:"_blank"},"https://gist.github.com/",Blaze.View("lookup:publishGistId",function(){return Spacebars.mustache(t.lookup("publishGistId"))}))]}),"\n",Blaze.Unless(function(){return Spacebars.call(t.lookup("publishGistId"))},function(){return HTML.A({id:"btn-gist-push",class:["btn"," ","btn-default"],disabled:""},HTML.I({class:["fa"," ","fa-upload"]}),"\n","Push")}))})),"\n",Blaze.Each(function(){return Spacebars.call(t.lookup("gistFiles"))},function(){return HTML.DIV({class:"tab-pane",id:function(){return["tab-",Spacebars.mustache(t.lookup("convertDotToDash"),t.lookup("."))]}},HTML.DIV({class:"code-editor",id:function(){return["editor-",Spacebars.mustache(t.lookup("."))]}}))})))})}).call(this);

(function(){Template.__checkName("gist_editor_menu"),Template.gist_editor_menu=new Template("Template.gist_editor_menu",function(){var e=this;return[HTML.LI({class:"dropdown"},HTML.Raw('<a class="dropdown-toggle" title="" href="#" data-toggle="dropdown" aria-expanded="true">File</a>'),"\n",HTML.UL({class:["dropdown-menu"," ","hn-dropdown"],role:"menu","aria-labelledby":"dropdownMenu1"},HTML.Raw('<li><a class="get-embed-code" data-toggle="modal" href="#" data-target="#modalShare"><i class="fa fa-code"></i>\nGet Embed Code</a></li>'),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("isGistOwner"))},function(){return[HTML.LI(HTML.A({id:"btn-gist-delete","data-toggle":"tooltip",title:"",href:"#"},HTML.I({class:["fa"," ","fa-trash"]}),"\n","Delete")),HTML.LI({class:"divider"})]}),"\n",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(e.lookup("currentHomePath"))}},"Exit")))),HTML.Raw('<li><a id="btn-gist-save-refresh" data-toggle="tooltip" data-placement="bottom" title="Save/Refresh, Ctrl+Enter" href="#"><i class="fa fa-save"></i>\nSave</a></li><li><a id="btn-gist-clone" title="Clone" href="#"><i class="fa fa-copy"></i>\nClone</a></li><li><a href="http://userguide.vida.io/#gist" target="_blank">Help</a></li>')]})}).call(this);

(function(){Template.__checkName("gist_show"),Template.gist_show=new Template("Template.gist_show",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("gistShowReady"))},function(){return Spacebars.include(e.lookupTemplate("gist_view"))},function(){return HTML.DIV({class:["container"," ","matter"]},Spacebars.include(e.lookupTemplate("loading")))})}),Template.__checkName("gist_view"),Template.gist_view=new Template("Template.gist_view",function(){var e=this;return HTML.Raw('<div id="iframe-viewer"></div>')})}).call(this);

(function(){Template.__checkName("header"),Template.header=new Template("Template.header",function(){var e=this;return HTML.DIV({class:["header"," ","navbar"," ","navbar-inverse"," ","navbar-fixed-top"]},HTML.DIV({class:"navbar-inner"},HTML.DIV({class:"container-fluid"},HTML.UL({class:"hnav"},HTML.LI({class:"home"},HTML.SPAN(Blaze.Unless(function(){return Spacebars.call(e.lookup("isEnterprise"))},function(){return HTML.A({href:function(){return Spacebars.mustache(e.lookup("currentHomePath"))}},HTML.IMG({src:"/images/logo-only.png"}),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("inEditView"))},function(){return HTML.IMG({src:"/images/logo-name.png"})}))},function(){return HTML.A({href:function(){return Spacebars.mustache(e.lookup("currentHomePath"))}},HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("enterpriseLogoURL"))},height:"45"}))}))),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("loggingIn"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("documentEditMode"))},function(){return Spacebars.include(e.lookupTemplate("document_menu"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("chartEditMode"))},function(){return Spacebars.include(e.lookupTemplate("gchart_menu"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("datasetEditMode"))},function(){return Spacebars.include(e.lookupTemplate("dataset_menu"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("teamEditMode"))},function(){return Spacebars.include(e.lookupTemplate("team_menu"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("dashboardEditMode"))},function(){return Spacebars.include(e.lookupTemplate("dashboard_menu"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("gistEditMode"))},function(){return Spacebars.include(e.lookupTemplate("gist_editor_menu"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("sourceEditMode"))},function(){return Spacebars.include(e.lookupTemplate("source_menu"))},function(){return Spacebars.include(e.lookupTemplate("home_menu"))})})})})})})})})),"\n",HTML.UL({class:["hnav"," ","pull-right"]},Blaze.If(function(){return Spacebars.call(e.lookup("vidaDocumentType"))},function(){return HTML.LI(HTML.A({class:"nolink","data-toggle":"tooltip",title:"Document Type"},Blaze.View("lookup:vidaDocumentType",function(){return Spacebars.mustache(e.lookup("vidaDocumentType"))})))}),"\n",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("appInfo"),"isAdmin"))},function(){return HTML.LI(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"admin")}},HTML.I({class:["fa"," ","fa-windows"]})))}),"\n",HTML.LI(Spacebars.include(e.lookupTemplate("notifications"))),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("isEnterprise"))},function(){return Spacebars.include(e.lookupTemplate("enterpriseLoginButtons"))},function(){return HTML.LI({class:"btn-login"},Blaze._TemplateWith(function(){return{align:Spacebars.call("right")}},function(){return Spacebars.include(e.lookupTemplate("loginButtons"))}))})))))})}).call(this);

(function(){Template.__checkName("home_menu"),Template.home_menu=new Template("Template.home_menu",function(){var e=this;return[Blaze.If(function(){return Spacebars.call(e.lookup("isEnterprise"))},function(){return HTML.LI({class:"by-vida"},"by VIDA.IO")},function(){return[HTML.LI(HTML.SPAN(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"explore")}},"Explore"))),HTML.LI(HTML.SPAN(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"pricing")}},"Products & Services"))),HTML.LI(HTML.SPAN(HTML.A({href:"http://userguide.vida.io/#download",target:"_blank"},"Download")))]}),Blaze.If(function(){return Spacebars.call(e.lookup("canEditDocumentR"))},function(){return HTML.LI(HTML.SPAN(HTML.A({id:"btn-toggle-edit",class:"active",href:"#"},HTML.I({class:["fa"," ","fa-edit"]}),"\n","Edit")))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("canEditDashboardR"))},function(){return HTML.LI(HTML.SPAN(HTML.A({id:"btn-toggle-edit",class:"active",href:"#"},HTML.I({class:["fa"," ","fa-edit"]}),"\n","Edit")))})})]})}).call(this);

(function(){Template.__checkName("enterpriseLoginButtons"),Template.enterpriseLoginButtons=new Template("Template.enterpriseLoginButtons",function(){var n=this;return Blaze.If(function(){return Spacebars.call(n.lookup("currentUser"))},function(){return HTML.LI({class:"dropdown"},HTML.A({class:"dropdown-toggle",title:"More",href:"#","data-toggle":"dropdown"},HTML.SPAN({class:"text"},Blaze.View("lookup:nameEmail",function(){return Spacebars.mustache(n.lookup("nameEmail"))})),"\n",HTML.SPAN({class:"caret"})),"\n",HTML.UL({class:["dropdown-menu"," ","hn-dropdown"," ","pull-right"]},HTML.LI(HTML.A({id:"sign-out",class:["btn-login"," ","text-center"],href:"#"},"Sign out"))))},function(){return[HTML.Comment(" For Smartsheet, Sign in option is a direct OAuth Sign in"),HTML.Comment(" For others, a login form is prompted"),Blaze.If(function(){return Spacebars.dataMustache(n.lookup("isOrganization"),"smartsheet")},function(){return HTML.LI(HTML.A({class:"btn-login",href:"#"},"Sign In"))},function(){return HTML.LI({class:"dropdown"},HTML.A({class:"dropdown-toggle",id:"login-form",title:"More",href:"#","data-toggle":"dropdown"},HTML.SPAN({class:"text"},"Sign in"),"\n",HTML.SPAN({class:"caret"})),"\n",HTML.DIV({class:["dropdown-menu"," ","hn-dropdown"," ","pull-right"]},HTML.DIV({class:"login-window"},Spacebars.include(n.lookupTemplate("login_form_enterprise")))))})]})})}).call(this);

(function(){Template.__checkName("admin"),Template.admin=new Template("Template.admin",function(){var a=this;return Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("appInfo"),"isAdmin"))},function(){return[Spacebars.include(a.lookupTemplate("header")),HTML.DIV({class:["container-fluid"," ","home-wrapper"]},HTML.DIV({class:["side-nav"," ","affix"]},HTML.UL({class:"snav"},HTML.LI(HTML.I({class:["fa"," ","fa-database"]}),"\n","Collections"),"\n",HTML.LI({class:"l1"},HTML.A({href:"/admin"},HTML.I({class:["fa"," ","fa-user"]}),"\n","Users")),"\n",HTML.LI({class:"l1"},HTML.A({href:"/admin/documents"},HTML.I({class:["fa"," ","fa-file-o"]}),"\n","Documents")),"\n",HTML.LI({class:"l1"},HTML.A({href:"/admin/dashboards"},HTML.I({class:["fa"," ","fa-dashboard"]}),"\n","Dashboards")),"\n",HTML.LI({class:"l1"},HTML.A({href:"/admin/datasets"},HTML.I({class:["fa"," ","fa-table"]}),"\n","Datasets")),"\n",HTML.LI({class:"l1"},HTML.A({href:"/admin/teams"},HTML.I({class:["fa"," ","fa-group"]}),"\n","Teams")),"\n",HTML.LI({class:"l1"},HTML.A({href:"/admin/members"},HTML.I({class:["fa"," ","fa-share-alt"]}),"\n","Members")),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("isEnterprise"))},function(){return HTML.LI(HTML.A({href:"/admin/groups"},HTML.I({class:["fa"," ","fa-list-ul"]}),"\n","User Groups"))}),"\n",HTML.LI(HTML.A({href:"/admin/configurations"},HTML.I({class:["fa"," ","fa-gears"]}),"\n","Configurations")),"\n",HTML.LI(HTML.A({href:"/admin/permissions"},HTML.I({class:["fa"," ","fa-gears"]}),"\n","Permissions            ")))),"\n",HTML.DIV({class:"home-content"},Spacebars.include(a.lookupTemplate("yield")))),Spacebars.include(a.lookupTemplate("footer"))]})})}).call(this);

(function(){Template.__checkName("blankLayout"),Template.blankLayout=new Template("Template.blankLayout",function(){var e=this;return Spacebars.include(e.lookupTemplate("yield"))})}).call(this);

(function(){Template.__checkName("defaultLayout"),Template.defaultLayout=new Template("Template.defaultLayout",function(){var e=this;return[Blaze.If(function(){return Spacebars.call(e.lookup("landingPage"))},function(){return Spacebars.include(e.lookupTemplate("landing_page_header"))},function(){return Spacebars.include(e.lookupTemplate("header"))}),Spacebars.include(e.lookupTemplate("yield")),Blaze.If(function(){return Spacebars.call(e.lookup("landingPage"))},function(){return Spacebars.include(e.lookupTemplate("landing_page_footer"))},function(){return[Spacebars.include(e.lookupTemplate("footer")),Spacebars.include(e.lookupTemplate("about_modal")),Spacebars.include(e.lookupTemplate("embed_modal"))]})]})}).call(this);

(function(){Template.__checkName("home"),Template.home=new Template("Template.home",function(){var a=this;return[Spacebars.include(a.lookupTemplate("header")),HTML.DIV({class:["container-fluid"," ","home-wrapper"]},HTML.DIV({class:["side-nav"," ","affix"]},HTML.UL({class:"snav"},Blaze.Unless(function(){return Spacebars.call(a.lookup("isPermissionView"))},function(){return[HTML.LI({"data-tab":"documents"},HTML.SPAN(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home")}},HTML.I({class:["fa"," ","fa-list"]}),"\n","Documents"))),HTML.LI({class:"l1","data-tab":"shared"},HTML.SPAN(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home/shared")}},HTML.I({class:["fa"," ","fa-share-alt"]}),"\n","Shared"))),HTML.LI({class:"l1","data-tab":"starred"},HTML.SPAN(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home/starred")}},HTML.I({class:["fa"," ","fa-star-o"]}),"\n","Starred")))]}),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("isPermissionView"))},function(){return HTML.LI({"data-tab":"dashboard-shared"},HTML.SPAN(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home/dashboard-shared")}},HTML.I({class:["fa"," ","fa-dashboard"]}),"\n","Dashboards")))},function(){return HTML.LI({"data-tab":"dashboards"},HTML.SPAN(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home/dashboards")}},HTML.I({class:["fa"," ","fa-dashboard"]}),"\n","Dashboards")))}),"\n",Blaze.Unless(function(){return Spacebars.call(a.lookup("isPermissionView"))},function(){return[HTML.LI({class:"l1","data-tab":"dashboard-shared"},HTML.SPAN(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home/dashboard-shared")}},HTML.I({class:["fa"," ","fa-share-alt"]}),"\n","Shared"))),HTML.LI({"data-tab":"datasets"},HTML.SPAN(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home/datasets")}},HTML.I({class:["fa"," ","fa-table"]}),"\n","Datasets"))),HTML.LI({"data-tab":"sources"},HTML.SPAN(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home/sources")}},HTML.I({class:["fa"," ","fa-database"]}),"\n","Sources"))),HTML.LI({"data-tab":"gists"},HTML.SPAN(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home/gists")}},HTML.I({class:["fa"," ","fa-github"]}),"\n","Gists (Blocks)"))),HTML.LI({"data-tab":"teams"},HTML.SPAN(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home/teams")}},HTML.I({class:["fa"," ","fa-group"]}),"\n","Teams")))]}),"\n",HTML.LI({"data-tab":"profile"},HTML.SPAN(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"home/profile")},"data-intro":"hello world"},HTML.Raw('<i class="fa fa-cog"></i>'),"\n","Profile"))))),"\n",HTML.DIV({class:"home-content"},Spacebars.include(a.lookupTemplate("yield")))),Spacebars.include(a.lookupTemplate("footer")),Spacebars.include(a.lookupTemplate("profile_more_info")),Spacebars.include(a.lookupTemplate("about_modal")),Spacebars.include(a.lookupTemplate("embed_modal"))]})}).call(this);

(function(){Template.__checkName("notification_entry"),Template.notification_entry=new Template("Template.notification_entry",function(){var t=this;return Blaze.If(function(){return Spacebars.call(t.lookup("valid_notification"))},function(){return HTML.LI({class:function(){return Spacebars.mustache(t.lookup("typeClass"))}},HTML.A({href:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("body"),"url"))},class:function(){return Blaze.If(function(){return Spacebars.call(t.lookup("read"))},function(){return"read"})}},HTML.DIV({class:["thumbnail"," ","thumbnail-1-16"," ","pull-left"]},Blaze.If(function(){return Spacebars.call(t.lookup("ntfUser"))},function(){return HTML.I({class:["ntf-face"," ","fa"," ","fa-smile"]})},function(){return Blaze.If(function(){return Spacebars.call(t.lookup("ntfTeam"))},function(){return[Blaze.View("lookup:body.thumbnail",function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(t.lookup("body"),"thumbnail")))})," "]},function(){return Blaze.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("body"),"thumbnail"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("body"),"thumbnail"))}})},function(){return HTML.I({class:["ntf-ban-circle"," ","fa"," ","fa-picture-o"]})})})})),"\n",HTML.SPAN({class:"ntf-title",title:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("content"),"title"))}},Blaze.View("lookup:body.title",function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(t.lookup("body"),"title")))})),"\n",HTML.SPAN({class:["ntf-remove"," ","pull-right"]},HTML.I({class:["fa"," ","fa-remove"]})),"\n",HTML.SPAN({class:["ntf-timestamp"," ","pull-right"]},Blaze.View("lookup:time",function(){return Spacebars.mustache(t.lookup("time"))}))))})})}).call(this);

(function(){Template.__checkName("notifications"),Template.notifications=new Template("Template.notifications",function(){var n=this;return Blaze.If(function(){return Spacebars.call(n.lookup("currentUser"))},function(){return HTML.DIV({class:["btn-group"," ","notifications"]},HTML.BUTTON({class:function(){return[Blaze.If(function(){return Spacebars.call(n.lookup("unreadCount"))},function(){return"active"})," dropdown-toggle"]},"data-toggle":"dropdown"},Blaze.View("lookup:unreadCount",function(){return Spacebars.mustache(n.lookup("unreadCount"))})),"\n",HTML.UL({class:["dropdown-menu"," ","hn-ntf"]},Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("notifications"),"count"))},function(){return[Blaze.Each(function(){return Spacebars.call(n.lookup("notifications"))},function(){return Spacebars.include(n.lookupTemplate("notification_entry"))}),HTML.LI({class:"divider"}),HTML.LI({class:"summary"},HTML.SPAN({class:"ntf-count"},Blaze.View("lookup:count",function(){return Spacebars.mustache(n.lookup("count"))})),"\n",HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","mark-all-read"," ","pull-right"],href:"#"},"Mark All Read"),"\n",HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","clear-notifications"," ","pull-right"],href:"#"},"Clear"))]},function(){return HTML.LI(HTML.A({class:"text-center"},"No notification available"))})))})})}).call(this);

(function(){Template.__checkName("google_charts"),Template.google_charts=new Template("Template.google_charts",function(){var a=this;return HTML.DIV({class:["container"," ","matter"]},HTML.DIV({class:["marketing-page"," ","jumbotron"]},HTML.Raw('<h2 class="t0">Create Google Visualizations in Seconds</h2>'),"\n",HTML.Raw('<a class="btn btn-default btn-primary btn-lg new-chart" href="#" style="font-size: 16px !important;">Try Now</a>'),"\n",HTML.Raw('<div class="spacer-xs"></div>'),"\n",HTML.Raw('<h3 class="t0">Support Types</h3>'),"\n",HTML.DIV({class:"marketing-chart-types"},HTML.UL({class:["vcards"," ","vcards-md"]},Blaze.Each(function(){return Spacebars.call(a.lookup("chartTypes"))},function(){return HTML.LI({class:function(){return["chart-type"," ",Spacebars.mustache(a.lookup("cssTypeActive"))]},style:"border-color: #ddd;","data-type":function(){return Spacebars.mustache(a.lookup("."))}},HTML.DIV({class:"tn"},HTML.SPAN({class:"align-helper"}),"\n",HTML.IMG({src:function(){return["/images/charts/google_",Spacebars.mustache(a.lookup(".")),".png"]},alt:function(){return Spacebars.mustache(a.lookup("name"))}})),"\n",HTML.DIV({class:"name"},Blaze.View("lookup:toTitleCase",function(){return Spacebars.mustache(a.lookup("toTitleCase"),a.lookup("."))})))})))),HTML.Raw('\n<div class="marketing-page"><h2 class="t0">Shared on vida.io</h2>\n<div class="jumbotron" style="padding: 40px;"><h3 class="t0" style="padding-bottom: 30px;">Europe Oil Dependency on Russia</h3>\n<a href="https://vida.io/charts/jRsZ7t3mmMEZXtTWT"><img src="/images/marketing/europe_russia_oil.png"></a></div>\n<div class="jumbotron" style="padding: 40px;"><h3 class="t0" style="padding-bottom: 30px;">Medicare Procedure Payments by Specialty</h3>\n<a href="https://vida.io/charts/maXejiai3hyDqiJSA"><img src="/images/marketing/medicare_payments.png"></a></div>\n<div class="jumbotron" style="padding: 40px;"><h3 class="t0" style="padding-bottom: 30px;">Zillow Traffic Growth</h3>\n<a href="https://vida.io/charts/DYkAacZSKKQYE7dAk"><img src="/images/marketing/zillow_traffic_growth.png"></a></div></div>\n<div class="spacer-xs"></div>'))})}).call(this);

(function(){Template.__checkName("jobs"),Template.jobs=new Template("Template.jobs",function(){var e=this;return HTML.DIV({class:"container"},"\n    ",HTML.DIV({class:"markdown"},"\n",Spacebars.include(e.lookupTemplate("markdown"),function(){return'\n# Jobs\n\n### Current Openings (1)\n\n###  Business Development Lead - Seattle, WA\nOur team has landed initial customers with proven sales and business model. We are looking for sale experts to expand. In this role, you will lead the efforts to grow revenue for our organization.\n\nThis is a position with significant equity in our startup.\n\n#### Responsibilities\n+ Research and grow prospective customers.\n+ Directly meet, contact and follow up customers.\n+ Negotiate contracts, close businesses.\n+ Coordinate closely with marketing and engineering team to streamline products.\n+ Develop sale strategy, process and model.\n\n#### Minimum Qualifications\n+ BA degree in Business Administration or related field or equivalent practical experience.\n+ 2 years of software sale experience.\n+ 2 years of enterprise sale experience.\n\n#### Preferred Qualifications\n+ 4+ years of software sale experience.\n+ Strong communication skill, verbal and written.\n+ Self-motivated, entrepreneurial, driven to succeed.\n+ Proficient with cloud-based collaboration (Google Docs) and sales tools.\n+ Detail oriented, log calls, emails, track prospects.\n+ Experience with data visualization, business intelligence, cloud services are plus.\n\n<br/>\n##### To apply, please send your resume to <a href="mailto:contact@vida.io" target="_top">contact@vida.io</a>.\n\n##### VIDA LAB is an early stage software startup with revenue and strong customer base. We offer cloud data visualization, business intelligence tools and services.\n\n'}),"\n      "),HTML.Raw('\n    <div class="spacer-xs"></div>\n\t'))})}).call(this);

(function(){Template.__checkName("pages"),Template.pages=new Template("Template.pages",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("googleCharts"))},function(){return Spacebars.include(e.lookupTemplate("google_charts"))})})}).call(this);

(function(){Template.__checkName("pricing"),Template.pricing=new Template("Template.pricing",function(){var a=this;return[HTML.DIV({class:["container"," ","matter"," ","pricing"]},HTML.Raw('<h3 class="t0">Subscription Plans</h3>'),"\n",HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},Blaze.If(function(){return Spacebars.call(a.lookup("isEnterprise"))},function(){return HTML.TABLE({class:["table"," ","table-bordered"," ","table-striped"," ","table-pricing"]},HTML.THEAD(HTML.TR({class:"info"},HTML.TH(HTML.SPAN({class:"features"},"FEATURES")),"\n",HTML.TH({class:"plan"},HTML.SPAN({class:"name"},"STANDARD"),"\n",HTML.SPAN({class:"price"},"$10/month")),"\n",HTML.TH({class:"plan"},HTML.SPAN({class:"name"},"PRO"),"\n",HTML.SPAN({class:"price"},"$50/month")))),"\n",HTML.TBODY(HTML.TR(HTML.TD({class:"feature"},"Document limit (public/private/unlisted)","\n",HTML.I({class:["fa"," ","fa-info-sign"," ","pull-right"],"data-toggle":"tooltip",title:"Limit for each document type d3, google charts, dataset, gist."})),"\n",HTML.TD("50"),"\n",HTML.TD("500")),"\n",HTML.TR(HTML.TD({class:"feature"},"Dashboard & Team Limit","\n",HTML.I({class:["fa"," ","fa-info-sign"," ","pull-right"],"data-toggle":"tooltip",title:"Advanced features to make dashboards and manage teams"})),"\n",HTML.TD("10"),"\n",HTML.TD("100")),"\n",HTML.TR(HTML.TD({class:"feature"},"Data Size Limit","\n",HTML.I({class:["fa"," ","fa-info-sign"," ","pull-right"],"data-toggle":"tooltip",title:"Limit data rows from thousands to hundreds of thousands"})),"\n",HTML.TD("up to 1MB"),"\n",HTML.TD("up to 5MB")),"\n",HTML.TR(HTML.TD({class:"feature"},"Technical Support","\n",HTML.I({class:["fa"," ","fa-info-sign"," ","pull-right"],"data-toggle":"tooltip",title:"Prompt technical support"})),"\n",HTML.TD(HTML.I({class:["fa"," ","fa-check"]})),"\n",HTML.TD(HTML.I({class:["fa"," ","fa-check"]}))),"\n",HTML.TR(HTML.TD({class:"feature"},"Custom Embed Logo/URL","\n",HTML.A({class:"open-dialog","data-toggle":"modal",href:"#","data-target":"#modalCreatedby",role:"button"},HTML.I({class:["fa"," ","fa-info-sign"," ","pull-right"],"data-toggle":"tooltip",title:"Click for more info"}))),"\n",HTML.TD(HTML.I({class:["fa"," ","fa-remove"]})),"\n",HTML.TD(HTML.I({class:["fa"," ","fa-check"]}))),"\n",HTML.TR(HTML.TD(),"\n",HTML.TD(Blaze.If(function(){return Spacebars.call(a.lookup("hasStandardPlan"))},function(){return HTML.DIV({class:["btn"," ","btn-default"," ","btn-primary"," ","disabled"]},"SUBSCRIBED")},function(){return Blaze.If(function(){return Spacebars.call(a.lookup("hasProPlan"))},function(){return HTML.A({class:["btn"," ","btn-default"," ","btn-primary"," ","btn-change-plan"],"data-plan":"standard",role:"button"},"CHANGE")},function(){return HTML.A({class:["btn"," ","btn-default"," ","btn-primary"," ","btn-plan"],"data-plan":"standard",href:"#modalPayment",role:"button"},"SELECT")})})),"\n",HTML.TD(Blaze.If(function(){return Spacebars.call(a.lookup("hasProPlan"))},function(){return HTML.DIV({class:["btn"," ","btn-default"," ","btn-primary"," ","disabled"]},"SUBSCRIBED")},function(){return Blaze.If(function(){return Spacebars.call(a.lookup("hasStandardPlan"))},function(){return HTML.A({class:["btn"," ","btn-default"," ","btn-primary"," ","btn-change-plan"],"data-plan":"pro",role:"button"},"CHANGE")},function(){return HTML.A({class:["btn"," ","btn-default"," ","btn-primary"," ","btn-plan"],"data-plan":"pro",href:"#modalPayment",role:"button"},"SELECT")})})))))},function(){return HTML.TABLE({class:["table"," ","table-bordered"," ","table-striped"," ","table-pricing"]},HTML.THEAD(HTML.TR({class:"info"},HTML.TH(HTML.SPAN({class:"features"},"FEATURES")),"\n",HTML.TH({class:"plan"},HTML.SPAN({class:"name"},"FREE"),"\n",HTML.SPAN({class:"price"},"$0/month")),"\n",HTML.TH({class:"plan"},HTML.SPAN({class:"name"},"STANDARD"),"\n",HTML.SPAN({class:"price"},"$10/month")),"\n",HTML.TH({class:"plan"},HTML.SPAN({class:"name"},"PRO"),"\n",HTML.SPAN({class:"price"},"$50/month")),"\n",HTML.TH({class:"plan"},HTML.SPAN({class:"name"},"ENTERPRISE"),"\n",HTML.SPAN({class:"price"},"-")))),"\n",HTML.TBODY(HTML.TR(HTML.TD({class:"feature"},"Document limit (public/private/unlisted)","\n",HTML.I({class:["fa"," ","fa-info-sign"," ","pull-right"],"data-toggle":"tooltip",title:"Limit for each document type d3, google charts, dataset, gist."})),"\n",HTML.TD("5"),"\n",HTML.TD("50"),"\n",HTML.TD("500"),"\n",HTML.TD({rowspan:"6"})),"\n",HTML.TR(HTML.TD({class:"feature"},"Dashboard & Team Limit","\n",HTML.I({class:["fa"," ","fa-info-sign"," ","pull-right"],"data-toggle":"tooltip",title:"Advanced features to make dashboards and manage teams"})),"\n",HTML.TD("1"),"\n",HTML.TD("10"),"\n",HTML.TD("100")),"\n",HTML.TR(HTML.TD({class:"feature"},"Data Size Limit","\n",HTML.I({class:["fa"," ","fa-info-sign"," ","pull-right"],"data-toggle":"tooltip",title:"Limit data rows from thousands to hundreds of thousands"})),"\n",HTML.TD("up to 10KB"),"\n",HTML.TD("up to 1MB"),"\n",HTML.TD("up to 5MB")),"\n",HTML.TR(HTML.TD({class:"feature"},"Technical Support","\n",HTML.I({class:["fa"," ","fa-info-sign"," ","pull-right"],"data-toggle":"tooltip",title:"Prompt technical support"})),"\n",HTML.TD(HTML.I({class:["fa"," ","fa-remove"]})),"\n",HTML.TD(HTML.I({class:["fa"," ","fa-check"]})),"\n",HTML.TD(HTML.I({class:["fa"," ","fa-check"]}))),"\n",HTML.TR(HTML.TD({class:"feature"},"Custom Embed Logo/URL","\n",HTML.A({class:"open-dialog","data-toggle":"modal",href:"#","data-target":"#modalCreatedby",role:"button"},HTML.I({class:["fa"," ","fa-info-sign"," ","pull-right"],"data-toggle":"tooltip",title:"Click for more info"}))),"\n",HTML.TD(HTML.I({class:["fa"," ","fa-remove"]})),"\n",HTML.TD(HTML.I({class:["fa"," ","fa-remove"]})),"\n",HTML.TD(HTML.I({class:["fa"," ","fa-check"]}))),"\n",HTML.TR({class:"danger"},HTML.TD({class:"feature"},"Professional Services Credits ($500 with Sign-Up)","\n",HTML.I({class:["fa"," ","fa-info-sign"," ","pull-right"],"data-toggle":"tooltip",title:"Get $500 of Professional Services Credits to create your custom visualizations"})),"\n",HTML.TD(HTML.I({class:["fa"," ","fa-remove"]})),"\n",HTML.TD(HTML.I({class:["fa"," ","fa-remove"]})),"\n",HTML.TD(HTML.I({class:["fa"," ","fa-check"]}))),"\n",HTML.TR(HTML.TD(),"\n",HTML.TD("-"),"\n",HTML.TD(Blaze.If(function(){return Spacebars.call(a.lookup("hasStandardPlan"))},function(){return HTML.DIV({class:["btn"," ","btn-default"," ","btn-primary"," ","disabled"]},"SUBSCRIBED")},function(){return Blaze.If(function(){return Spacebars.call(a.lookup("hasProPlan"))},function(){return HTML.A({class:["btn"," ","btn-default"," ","btn-primary"," ","btn-change-plan"],"data-plan":"standard",role:"button"},"CHANGE")},function(){return HTML.A({class:["btn"," ","btn-default"," ","btn-primary"," ","btn-plan"],"data-plan":"standard",href:"#modalPayment",role:"button"},"SELECT")})})),"\n",HTML.TD(Blaze.If(function(){return Spacebars.call(a.lookup("hasProPlan"))},function(){return HTML.DIV({class:["btn"," ","btn-default"," ","btn-primary"," ","disabled"]},"SUBSCRIBED")},function(){return Blaze.If(function(){return Spacebars.call(a.lookup("hasStandardPlan"))},function(){return HTML.A({class:["btn"," ","btn-default"," ","btn-primary"," ","btn-change-plan"],"data-plan":"pro",role:"button"},"CHANGE")},function(){return HTML.A({class:["btn"," ","btn-default"," ","btn-primary"," ","btn-plan"],"data-plan":"pro",href:"#modalPayment",role:"button"},"SELECT")})})))))}))),"\n",HTML.Raw('<div class="spacer-40"></div>'),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("isEnterprise"))},function(){return HTML.DIV({class:"row"},HTML.A({class:["btn"," ","btn-primary"],href:function(){return["mailto:",Spacebars.mustache(a.lookup("getEnterpriseEmail"))]}},"CONTACT US"))},function(){return[HTML.H3({class:"t0"},"Professional Services (Custom Data Visualization, Dashboard, D3.JS, THREE.JS)"),HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.H5("Our world class team of data viz experts offer professional services for development of custom data visualization projects. We can develop reusable visualization templates.","\n","These templates are:"),"\n",HTML.UL({class:"custom-features"},HTML.LI(HTML.B("COST EFFECTIVE -"),"\n","A one time development cost and low maintenance can be suitable for many projects."),"\n",HTML.LI(HTML.B("REUSABLE -"),"\n","You can quickly turn these templates into new ones by applying new data and adjust properties."),"\n",HTML.LI(HTML.B("FLEXIBLE -"),"\n","They can be hosted anywhere including VIDA.IO infrastructure.")))),HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.A({class:["btn"," ","btn-primary"],href:"mailto:contact@vida.io",style:"font-size: 15px !important;"},"GET A QUOTE"))),HTML.DIV({class:"spacer-40"}),HTML.H3({class:"t0"},"Partnership"),HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.H5("As part of our growth, we're continuously expanding our partnership to","\n",HTML.B("news media"),"\n","and","\n",HTML.B("non-profit organizations."),"\n","Please contact us for more information"))),HTML.DIV({class:"row"},HTML.DIV({class:"col-md-12"},HTML.A({class:["btn"," ","btn-primary"],href:"mailto:contact@vida.io",style:"font-size: 15px !important;"},"CONTACT US")))]})),HTML.Raw('<div class="spacer-xs"></div>'),Spacebars.include(a.lookupTemplate("payment_modal")),Spacebars.include(a.lookupTemplate("createdby_modal"))]})}).call(this);

(function(){Template.__checkName("privacy"),Template.privacy=new Template("Template.privacy",function(){var e=this;return HTML.DIV({class:"container"},"\n\t\t",HTML.DIV({class:"markdown"},"\n",Spacebars.include(e.lookupTemplate("markdown"),function(){return'   \n# Privacy\n\n### General\nWe collect emails and other information voluntarily. The information we collect is used to improve our quality of services and is not shared or sold to third parties except to provide products and services you have requested, when having your permission, or under the following cases:\n\n* Legal causes including fraud, illegal activities, violation of our <a href="/terms">Terms of Service</a>, or as required by law\n* Transfer of your information if VIDA LAB is acquired or merged. You will be notified through your account email.\n\n### Information Collection \n* VIDA LAB only requires your email and password for registration. Your name and username are optional. We do not collect your billing information for free accounts\n* VIDA LAB uses Stripe payment processor for subscription billing. We do not store your billing information within our database.\n* Stripe is a secure payment processor. For more information, please visit <a href="https://stripe.com" target="_blank">Stripe</a>.\n\n### Cookies\n* A cookie is a small piece of data sent from our application and stored locally within your browser. \n* We uses cookies to provide and improve our services.\n* Our cookies store your current logged in account information for a certain time period. We do not use permanent cookies.\n\n### Data Storage\n\nVIDA LAB uses some third party software and hosting services to run our application. Even though we own our rights to the software and databases, you retains all rights to your data.\n\n### Disclosure\t\n\nVIDA LAB may disclose your stored information if required due to legal issues such as subpoenas or your violation of our <a href="/terms">Terms of Service</a>\n\n### Updates\n\nVIDA LAB frequently updates this privacy and we will notify you regarding any significant changes using your account email or posting a notice on our site.\n\t\n### Questions\n\nIf you have any question regarding this Privacy, please email us at [contact@vida.io](mailto:contact@vida.io)\n\n'})," \n\t\t"),HTML.Raw('\n    <div class="spacer-xs"></div>\n\t'))})}).call(this);

(function(){Template.__checkName("terms"),Template.terms=new Template("Template.terms",function(){var e=this;return HTML.DIV({class:"container"},"\n\t\t",HTML.DIV({class:"markdown"},"\n",Spacebars.include(e.lookupTemplate("markdown"),function(){return'\n\n# Terms of Service\n\nBy using the VIDA.IO web site ("Service"), or any services of VIDA LAB INC. ("VIDA LAB"), you are agreeing to be bound by the following terms and conditions ("Terms of Service"). IF YOU ARE ENTERING INTO THIS AGREEMENT ON BEHALF OF A COMPANY OR OTHER LEGAL ENTITY, YOU REPRESENT THAT YOU HAVE THE AUTHORITY TO BIND SUCH ENTITY, ITS AFFILIATES AND ALL USERS WHO ACCESS OUR SERVICES THROUGH YOUR ACCOUNT TO THESE TERMS AND CONDITIONS, IN WHICH CASE THE TERMS "YOU" OR "YOUR" SHALL REFER TO SUCH ENTITY, ITS AFFILIATES AND USERS ASSOCIATED WITH IT. IF YOU DO NOT HAVE SUCH AUTHORITY, OR IF YOU DO NOT AGREE WITH THESE TERMS AND CONDITIONS, YOU MUST NOT ACCEPT THIS AGREEMENT AND MAY NOT USE THE SERVICES.\n\nIf VIDA LAB makes material changes to these Terms, we will notify you by email or by posting a notice on our site before the changes are effective. Any new features that augment or enhance the current Service, including the release of new tools and resources, shall be subject to the Terms of Service. Continued use of the Service after any such changes shall constitute your consent to such changes. You can review the most current version of the Terms of Service at any time at: <a href="https://vida.io/terms">vida.io/terms</a>.\n\nViolation of any of the terms below will result in the termination of your Account. While VIDA LAB prohibits such conduct and Content on the Service, you understand and agree that VIDA LAB cannot be responsible for the Content posted on the Service and you nonetheless may be exposed to such materials. You agree to use the Service at your own risk.\n\n### A. Account\n* You must be 13 years or older to use this Service.\n* Non-human user is not permitted (e.g. computer bots)\n* You must provide valid information including email, name.\n* Your login may not be used by other people.\n* You are responsible for your account security including protecting password, username, data.\n* You are responsible for content and/or data under your account.\n* You are not allowed to use the Service for any illegal activities.\n\n### B. API and External Embed\nYou may access your account data via an API through <a href="https://vida.io">vida.io</a> and <a href="http://image.vida.io">image.vida.io</a>. This also includes embedding your data remotely. This activity must obey the following terms:\n* VIDA LAB shall not be liable for any direct or indirect damges, including but not limited to damages for loss of profits, goodwill, tangible/intangible goods.\n* Abuse of access may result in temporary suspension or permanent account termination.\n* VIDA LAB reserves the right to modify, discontinue your access to the API with or without notice\n\n### C. Payments, Refunds, Upgrading and Downgrading\n* All subscription must have valid credit card information. This information is not required for free accounts.\n* Billing starts immediately upon submitting a subscription.\n* For montly plans, the Service is billed in advance on a montly basis and is non-refundable. No partial refunds or credits for months of service, upgrade/downgrade, or unused periods.\n* All fees are exclusive of all taxes, levies, or duties imposed by taxing authorities, and you shall be responsible for payment of all such taxes, levies, or duties, excluding only United States (federal or state) taxes.\n* For upgrade or downgrade, your credit card will be charged the new monthly plan beginning of your next billing cycle. Prorated cost may be applied.\n* Downgrading your Service may cause the loss of some features or content. VIDA LAB is not liable for such loss.\n\n### D. Cancellation and Termination\n* You are responsible for cancelling your account. Please send your request to [contact@vida.io](mailto:contact@vida.io).\n* All account content will be deleted permanently upon completion of cancellation.\n* If you cancel the Service before the end of your current paid up month, your credit card will not be charged again.\n* VIDA LAB reserves the right to suspend or terminate your account and refuse the Service for any reason at any time.\n\n### E. Changes to the Services and Prices\n* VIDA LAB reserves the right at any time for any reason to modify or discontinue the Service temporarily or permanently with or without notice.\n* Prices of all Services are subject to change upon 30 days notice.\n* VIDA LAB is not liable to you or any third party for any modification, price change, suspension or discontinuance of the Service.\n\n### F. Copyright and Content Ownership\n* We claim no intellectual property (IP) rights over the data and/or content you provide to the Service. By setting your content to public/unlisted, you allow your content to be cloned and viewed publicly. You are also responsible for the usage of any third party IP.\n* VIDA LAB does not pre-screen Content, but VIDA LAB has the right to refuse or remove any Content that is available via the Service.\n* You shall defend VIDA LAB against any claim, demand, suit or proceeding made or brought against VIDA LAB by a third party alleging that Your Content, or Your use of the Service in violation of this Agreement, infringe or misappropriate the intellectual property rights.\n* The look and feel of the Service is copyright  2015 VIDA LAB INC. All rights reserved.\n\n### G. General Conditions\n* Your use of the Service is at your sole risk. And the Service is provided on an "as is" and "as available" basis.\n* Support for VIDA LAB services is only available in English, via email.\n* You understand VIDA LAB uses third party tools and hosting services to run the Service.\n* You may use subdomains (e.g, vida.io/username) solely as permitted and intended by VIDA LAB for your own personal pages.\n* You agree not to reproduce, duplicate, copy, sell, resell or exploit any portion of the Service, use of the Service, or access to the Service without a written permission by VIDA LAB\n* We may remove any Content and Accounts containing unlawful, offensive, threatening, libelous, defamatory, pornographic, obscene or otherwise objectionable or violates any party\'s intellectual property or these Terms of Service.\n* Verbal, physical, written or other abuse (including threats of abuse or retribution) of any VIDA LAB customer, employee, member, or officer will result in immediate account termination.\n* You understand that the technical processing and transmission of the Service, including your Content, may be transfered unencrypted and involve (a) transmissions over various networks; and (b) changes to conform and adapt to technical requirements of connecting networks or devices.\n* You must not upload, post, host, or transmit unsolicited email, SMSs, or "spam" messages.\n* You must not transmit any worms or viruses or any code of a destructive nature.\n* If your bandwidth usage significantly exceeds the average bandwidth usage (as determined solely by VIDA LAB) of other VIDA LAB customers, we reserve the right to immediately disable your account or throttle your file hosting until you can reduce your bandwidth consumption.\n* VIDA LAB does not warrant that (i) the service will meet your specific requirements, (ii) the service will be uninterrupted, timely, secure, or error-free, (iii) the results that may be obtained from the use of the service will be accurate or reliable, (iv) the quality of any products, services, information, or other material purchased or obtained by you through the service will meet your expectations, and (v) any errors in the Service will be corrected.\n* You expressly understand and agree that VIDA LAB shall not be liable for any direct, indirect, incidental, special, consequential or exemplary damages, including but not limited to, damages for loss of profits, goodwill, use, data or other intangible losses (even if VIDA LAB has been advised of the possibility of such damages), resulting from: (i) the use or the inability to use the service; (ii) the cost of procurement of substitute goods and services resulting from any goods, data, information or services purchased or obtained or messages received or transactions entered into through or from the service; (iii) unauthorized access to or alteration of your transmissions or data; (iv) statements or conduct of any third party on the service; (v) or any other matter relating to the service.\n* The failure of VIDA LAB to exercise or enforce any right or provision of the Terms of Service shall not constitute a waiver of such right or provision. The Terms of Service constitutes the entire agreement between you and VIDA LAB and govern your use of the Service, superseding any prior agreements between you and VIDA LAB (including, but not limited to, any prior versions of the Terms of Service). You agree that these Terms of Service and Your use of the Service are governed under California law.\n* Questions about the Terms of Service should be sent to [contact@vida.io](mailto:contact@vida.io).\n* If you are a government user or otherwise accessing or using any VIDA LAB service in a government capacity, this Amendment to VIDA LAB Terms of Service shall apply to you.\n'}),"\n\t\t"),HTML.Raw('\n    <div class="spacer-xs"></div>\n\t'))})}).call(this);

(function(){Template.__checkName("about_modal"),Template.about_modal=new Template("Template.about_modal",function(){var a=this;return HTML.Raw('<div id="modalAbout" class="modal" aria-hidden="true" aria-labelledby="aboutModalLabel" role="dialog" data-backdrop="static" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>About</h4></div>\n<div class="modal-body"><p>We are a software startup based in Seattle.</p>\n<p>Phuoc Do - Co-founder</p>\n<p>Sang Do - Co-founder</p>\n<p>If you need help or feedback? Please send an email to \n<a href="mailto:contact@vida.io" style="font-weight:bold;">contact@vida.io</a>\n.</p></div></div></div></div>')})}).call(this);

(function(){Template.__checkName("createdby_modal"),Template.createdby_modal=new Template("Template.createdby_modal",function(){var a=this;return HTML.Raw('<div id="modalCreatedby" class="modal" aria-hidden="true" aria-labelledby="createdBytModalLabel" role="dialog" data-backdrop="static" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>Created-by URL</h4></div>\n<div class="modal-body"><img src="/images/poweredby_info.png" style="width: 100%;"></div></div></div></div>')})}).call(this);

(function(){Template.__checkName("document_entry"),Template.document_entry=new Template("Template.document_entry",function(){var e=this;return HTML.LI(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"document.show",_id:Spacebars.dot(e.lookup("."),"_id")}))},title:function(){return Spacebars.mustache(e.lookup("name"))}},HTML.DIV({class:"tn"},HTML.Raw('<span class="align-helper"></span>'),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("thumbnail"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("thumbnailUrl"),e.lookup("."))},alt:function(){return Spacebars.mustache(e.lookup("name"))}})},function(){return HTML.IMG({src:function(){return["/images/charts/",Spacebars.mustache(e.lookup("type")),".png"]},alt:function(){return Spacebars.mustache(e.lookup("name"))}})})),"\n",HTML.DIV({class:["counter"," ","text-center"]},Blaze.View("lookup:formatNumber",function(){return Spacebars.mustache(e.lookup("formatNumber"),e.lookup("counter"))})),"\n",HTML.DIV({class:"name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))))}),Template.__checkName("chart_entry"),Template.chart_entry=new Template("Template.chart_entry",function(){var e=this;return HTML.LI(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"charts",e.lookup("_id"))},title:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("options"),"title"))}},HTML.DIV({class:"tn"},HTML.Raw('<span class="align-helper"></span>'),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("thumbnail"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("thumbnail"))},alt:function(){return Spacebars.mustache(e.lookup("type"))}})},function(){return HTML.IMG({src:function(){return["/images/charts/google_",Spacebars.mustache(e.lookup("type")),".png"]},alt:function(){return Spacebars.mustache(e.lookup("type"))}})})),"\n",HTML.DIV({class:["counter"," ","text-center"]},Blaze.View("lookup:formatNumber",function(){return Spacebars.mustache(e.lookup("formatNumber"),e.lookup("counter"))})),"\n",HTML.DIV({class:"name"},Blaze.View("lookup:options.title",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("options"),"title"))}))))}),Template.__checkName("dashboard_entry"),Template.dashboard_entry=new Template("Template.dashboard_entry",function(){var e=this;return HTML.LI(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"dashboard.show",_id:Spacebars.dot(e.lookup("."),"_id")}))},title:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("options"),"title"))}},HTML.DIV({class:"tn"},HTML.Raw('<span class="align-helper"></span>'),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("thumbnail"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("dashboardThumbnailUrl"),e.lookup("."))},alt:function(){return Spacebars.mustache(e.lookup("name"))}})})),"\n",HTML.DIV({class:["counter"," ","text-center"]},Blaze.View("lookup:formatNumber",function(){return Spacebars.mustache(e.lookup("formatNumber"),e.lookup("counter"))})),"\n",HTML.DIV({class:"name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))))})}).call(this);

(function(){Template.__checkName("embed_modal"),Template.embed_modal=new Template("Template.embed_modal",function(){var a=this;return HTML.DIV({id:"modalShare",class:"modal","aria-hidden":"true","aria-labelledby":"shareModalLabel",role:"dialog","data-backdrop":"static",tabindex:"-1"},HTML.DIV({class:"modal-dialog"},HTML.DIV({class:"modal-content"},HTML.Raw('<div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true">&#215;</button>\n<h4>Embed and Share</h4></div>'),"\n",HTML.DIV({class:"modal-body"},HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1"><strong>Share</strong></div>'),"\n",HTML.DIV({class:"col-md-11"},HTML.TEXTAREA({class:"select-text",id:"share-url",type:"text",style:"width:96%;"}))),"\n",HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1"><strong>Embed</strong></div>'),"\n",HTML.DIV({class:"col-md-11"},HTML.TEXTAREA({class:"select-text",id:"embed-code",type:"text",style:"width:96%;"}))),"\n",HTML.DIV({class:"row"},HTML.Raw('<div class="col-md-1"><strong>Secure Embed</strong></div>'),"\n",HTML.DIV({class:"col-md-11"},HTML.TEXTAREA({class:"select-text",id:"secure-embed-code",type:"text",style:"width:96%;"}))),"\n",HTML.Raw('<div class="row"><div class="col-md-1"></div>\n<div class="col-md-11">Need to make your iframe responsive on mobile?\n<a href="http://jsfiddle.net/dnprock/npxp3v9d/1/" target="_blank">See this code.</a></div></div>'),"\n",HTML.Raw('<div class="row"><div class="col-md-1"><strong></strong></div>\n<div class="col-md-11"><a id="test-embed-link" class="btn btn-default btn-xs pull-right btn-primary" target="_blank">Test Embed</a></div></div>')),"\n",HTML.Raw('<div class="modal-footer"><button class="btn" data-dismiss="modal" aria-hidden="true">Close</button></div>'))))})}).call(this);

(function(){Template.__checkName("loading"),Template.loading=new Template("Template.loading",function(){var e=this;return HTML.DIV({class:"container-fluid"},HTML.DIV({class:["flash-message"," ","fm-sm"],style:"margin-top: 1px;"},HTML.DIV({class:["alert"," ","alert-info"," ","text-center"]},HTML.Raw('<i class="fa fa-spinner fa-spin"></i>'),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("loggingIn"))},function(){return" Logging in ..."},function(){return" Loading ..."}))))}),Template.__checkName("loadingIcon"),Template.loadingIcon=new Template("Template.loadingIcon",function(){var e=this;return HTML.Raw('<div class="text-center" style="padding: 0px;"><i class="fa fa-spinner fa-spin"></i></div>')}),Template.__checkName("loadingEmbedIcon"),Template.loadingEmbedIcon=new Template("Template.loadingEmbedIcon",function(){var e=this;return HTML.Raw('<div class="text-center" style="padding: 10px;"><i class="fa fa-spinner fa-spin"> </i>\n VIDA.IO</div>')})}).call(this);

(function(){Template.__checkName("footer"),Template.footer=new Template("Template.footer",function(){var e=this;return[Blaze.Unless(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return Blaze.Unless(function(){return Spacebars.call(e.lookup("documentEditMode"))},function(){return HTML.FOOTER({class:"normal"},HTML.DIV({class:"container-fluid",style:"margin-bottom: 15px;"},HTML.DIV({style:"margin-bottom: 10px; border-top: 1px solid #ddd;"}),"\n",Spacebars.include(e.lookupTemplate("footer_nav"))))})},function(){return HTML.FOOTER({class:"fixed"},HTML.DIV({class:"container-fluid wrapper"},HTML.DIV({class:"control"},HTML.A({class:"btn-chevron",href:"#"},HTML.I({class:["fa"," ","fa-chevron-up"," ","footer-toggle"],style:function(){return Blaze.If(function(){return Spacebars.call(e.lookup("show_footer"))},function(){return"display: none;"})}}),"\n",HTML.I({class:["fa"," ","fa-chevron-down"," ","footer-toggle"],style:function(){return Blaze.Unless(function(){return Spacebars.call(e.lookup("show_footer"))},function(){return"display: none;"})}}))),"\n",HTML.DIV({class:["nav-footer-placeholder"," ","footer-toggle"],style:function(){return Blaze.If(function(){return Spacebars.call(e.lookup("show_footer"))},function(){return"display: none;"})}}),"\n",HTML.DIV({class:["nav-footer"," ","footer-toggle"],style:function(){return Blaze.Unless(function(){return Spacebars.call(e.lookup("show_footer"))},function(){return"display: none;"})}},Spacebars.include(e.lookupTemplate("footer_nav")))))}),HTML.Raw('<div class="modal-backdrop loading-backdrop"><div class="text-center"><i class="fa fa-spinner fa-spin"></i></div></div>')]})}).call(this);

(function(){Template.__checkName("footer_nav"),Template.footer_nav=new Template("Template.footer_nav",function(){var a=this;return HTML.DIV({class:"row"},HTML.DIV({class:"col-md-6"},HTML.UL({class:"footer"},HTML.Raw('<li><a class="about open-dialog" data-toggle="modal" href="#" data-target="#modalAbout">About</a></li>'),"\n",Blaze.Unless(function(){return Spacebars.call(a.lookup("isEnterprise"))},function(){return HTML.LI(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"jobs")}},"Jobs"))}),"\n",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"terms")}},"Terms")),"\n",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"privacy")}},"Privacy")),"\n",HTML.Raw('<li><a href="https://groups.google.com/forum/#!forum/vidaio" target="_blank">Support</a></li>'),"\n",Blaze.Unless(function(){return Spacebars.call(a.lookup("isEnterprise"))},function(){return[HTML.LI(HTML.A({href:"http://blog.vida.io",target:"_blank"},"Blog")),HTML.LI(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"pricing")}},"Pricing"))]}))),"\n",HTML.DIV({class:"col-md-6"},HTML.Raw('<span class="pull-right"> &nbsp; &#169; 2015 VIDA LAB INC.</span>'),"\n",Blaze.If(function(){return Spacebars.call(a.lookup("currentUser"))},function(){return HTML.UL({class:["footer"," ","pull-right"]},HTML.LI(HTML.A({href:"https://www.facebook.com/vidatalk",target:"_blank",style:"font-size: 16px;"},HTML.I({class:["fa"," ","fa-facebook"]}))),"\n",HTML.LI(HTML.A({href:"https://twitter.com/vidatalk",target:"_blank",style:"font-size: 16px;"},HTML.I({class:["fa"," ","fa-twitter"]}," ")),"\n",[HTML.CharRef({html:"&nbsp;",str:""})," ",HTML.CharRef({html:"&#124;",str:"|"})]))}),"\n",HTML.Raw('<span class="pull-right">Open Source Data Visualization D3.js, Javascript, Google API &nbsp; | </span>')))})}).call(this);

(function(){Template.__checkName("invalid_document"),Template.invalid_document=new Template("Template.invalid_document",function(){var e=this;return HTML.DIV({class:["flash-message"," ","fm-md"]},HTML.DIV({class:["alert"," ","alert-danger"," ","text-center"]},Blaze.If(function(){return Spacebars.call(e.lookup("signinRequired"))},function(){return HTML.P("Please sign in to access this document")},function(){return[HTML.P("Sorry, invalid access!"),HTML.P("Privately shared record requires sign in.")]})))})}).call(this);

(function(){Template.__checkName("payment_modal"),Template.payment_modal=new Template("Template.payment_modal",function(){var i=this;return HTML.Raw('<div id="modalPayment" class="modal" aria-hidden="true" aria-labelledby="paymentModalLabel" role="dialog" data-backdrop="static"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h4>Enter Credit Card Information          </h4></div>\n<div class="modal-body"><div id="payment-notification" class="row">Payment message</div>\n<div class="row"><div class="col-md-3"><h5>Card Number</h5></div>\n<div class="col-md-8"><input id="input_card_number" class="form-control" type="text"></div>\n<div class="clearfix"> </div></div>\n<div class="row"><div class="col-md-3"><h5>CVC</h5></div>\n<div class="col-md-8"><input id="input_cvc" class="form-control" type="text"></div>\n<div class="clearfix">   </div></div>\n<div class="row"><div class="col-md-3"><h5>Expiration</h5></div>\n<div class="col-md-8"><h5 class="expiry-wrapper"><select id="card_expiry_month" class="card-expiry-month stripe-sensitive required"></select>\n<span> / </span>\n<select id="card_expiry_year" class="card-expiry-year stripe-sensitive required"></select></h5></div>\n<div class="clearfix">     </div></div>\n<div class="row"><div class="col-md-3"><h5>Coupon</h5></div>\n<div class="col-md-8"><input id="input_coupon" class="form-control" type="text"></div>\n<div class="clearfix">   </div></div>\n<div class="row"><div class="col-md-3"></div>\n<div class="col-md-8">Payment is processed by\n<a href="https://stripe.com/" target="_blank">Stripe</a>\n, a secured PCI-compliant provider.</div></div></div>\n<div class="modal-footer"><button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>\n<button class="btn btn-default btn-primary btn-plan-submit">Submit</button></div></div></div></div>')})}).call(this);

(function(){Template.__checkName("profile_entry"),Template.profile_entry=new Template("Template.profile_entry",function(){var e=this;return HTML.LI(HTML.A({href:function(){return["/",Spacebars.mustache(e.lookup("username"))]}},HTML.DIV({class:"tn"},Blaze.If(function(){return Spacebars.call(e.lookup("userImageUrl"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("userImageUrl"))},alt:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"name"))},width:"150"})},function(){return HTML.I({class:["fa"," ","fa-user"],style:"font-size: 100px;"})})),"\n",HTML.DIV({class:"name"},Blaze.View("lookup:nameUsername",function(){return Spacebars.mustache(e.lookup("nameUsername"))}))))})}).call(this);

(function(){Template.__checkName("source_edit"),Template.source_edit=new Template("Template.source_edit",function(){var e=this;return Spacebars.With(function(){return Spacebars.call(e.lookup("currentSource"))},function(){return HTML.DIV({class:"container-fluid"},Blaze.If(function(){return Spacebars.call(e.lookup("sourceEditMode"))},function(){return[HTML.INPUT({id:"source-name-input",class:["editable"," ","editable-lg"],type:"text",value:function(){return Spacebars.mustache(e.lookup("name"))},placeholder:"Source name"}),HTML.INPUT({id:"source-description-input",class:["editable"," ","editable-md"],type:"text",value:function(){return Spacebars.mustache(e.lookup("description"))},placeholder:"Description"}),HTML.DIV({class:"row"},HTML.DIV({class:"col-md-8"},HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Select database type"),"\n",HTML.DIV({class:"btn-group"},HTML.A({class:["btn"," ","btn-default"," ","btn-xs"," ","dropdown-toggle"],"data-toggle":"dropdown",href:"#"},HTML.SPAN({class:"text"},Blaze.View("lookup:getCurrentDbDisplay",function(){return Spacebars.mustache(e.lookup("getCurrentDbDisplay"))})),"\n",HTML.SPAN({class:"caret"})),"\n",HTML.UL({class:"dropdown-menu"},HTML.LI({class:"source-db-postgres"},HTML.A({class:"db-source","source-type":"postgres"},"Postgres")),"\n",HTML.LI({class:"source-db-mysql"},HTML.A({class:"db-source","source-type":"mysql"},"MySQL")),"\n",HTML.LI({class:"source-db-sqlserver"},HTML.A({class:"db-source","source-type":"sqlserver"},"MS SQL Server")),"\n",HTML.LI({class:"source-db-bigquery"},HTML.A({class:"db-source","source-type":"bigquery"},"BigQuery")),"\n",HTML.LI({class:"source-db-teradata"},HTML.A({class:"db-source","source-type":"teradata"},"Teradata"))))))),Blaze.If(function(){return Spacebars.call(e.lookup("currentSourceSQL"))},function(){return HTML.DIV({class:"row"},HTML.DIV({class:"col-md-8"},HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Hostname"),"\n",HTML.INPUT({id:"hostname-input",class:["source-field"," ","editable"," ","ditable-sm"],type:"text","source-field":"hostname",placeholder:"Enter hostname"})),"\n",HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Port"),"\n",HTML.INPUT({id:"port-input",class:["source-field"," ","editable"," ","ditable-sm"],type:"text","source-field":"port",placeholder:"Enter port"})),"\n",HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Username"),"\n",HTML.INPUT({id:"username-input",class:["source-field"," ","editable"," ","ditable-sm"],type:"text","source-field":"username",placeholder:"Enter username"})),"\n",HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Password"),"\n",HTML.INPUT({id:"password-input",class:["source-field"," ","editable"," ","ditable-sm"],type:"password","source-field":"password",placeholder:"Enter password"})),"\n",HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Database name"),"\n",HTML.INPUT({id:"db_name-input",class:["source-field"," ","editable"," ","ditable-sm"],type:"text","source-field":"db_name",placeholder:"Enter database name"}))))}),Blaze.If(function(){return Spacebars.call(e.lookup("currentSourceBigQuery"))},function(){return HTML.DIV({class:"row"},HTML.DIV({class:"col-md-8"},HTML.DIV({class:"entry"},HTML.H6({class:"header"},"Upload your credentials file (JSON format)"),"\n",HTML.P("Click","\n",HTML.A({href:"https://cloud.google.com/storage/docs/authentication#generating-a-private-key",target:"_blank"},"here"),"\n","to see how to generate a private key file."),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("getBigQueryKeyfileName"))},function(){return HTML.P("Current file: ",Blaze.View("lookup:getBigQueryKeyfileName",function(){return Spacebars.mustache(e.lookup("getBigQueryKeyfileName"))}))}),"\n",HTML.DIV({class:["btn"," ","btn-default"," ","file-upload"]},HTML.SPAN({style:""},HTML.I({class:["fa"," ","fa-upload"]}),"\n","Upload"),"\n",HTML.INPUT({id:"upload-bigquery-key",class:"upload",type:"file"})))))})]}))})})}).call(this);

(function(){Template.__checkName("source_menu"),Template.source_menu=new Template("Template.source_menu",function(){var e=this;return[HTML.LI({class:"dropdown"},HTML.Raw('<a class="dropdown-toggle" title="" href="#" data-toggle="dropdown" aria-expanded="true">File</a>'),"\n",HTML.UL({class:["dropdown-menu"," ","hn-dropdown"],role:"menu","aria-labelledby":"dropdownMenu1"},Blaze.If(function(){return Spacebars.call(e.lookup("isSourceOwner"))},function(){return[HTML.LI(HTML.A({id:"btn-source-delete","data-toggle":"tooltip",title:"",href:"#"},HTML.I({class:["fa"," ","fa-trash"]}),"\n","Delete")),HTML.LI({class:"divider"})]}),"\n",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(e.lookup("currentHomePath"))}},"Close")))),HTML.Raw('<li><a id="btn-source-clone" href="#"><i class="fa fa-copy"></i>\n Clone</a></li><li><a href="http://userguide.vida.io/" target="_blank">Help</a></li>')]})}).call(this);

(function(){Template.__checkName("source_show"),Template.source_show=new Template("Template.source_show",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("sourceShowReady"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("validSource"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("canAccessSource"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("canEditSource"))},function(){return Spacebars.include(e.lookupTemplate("source_edit"))})},function(){return HTML.DIV({class:["container-fluid"," ","matter"]},Spacebars.include(e.lookupTemplate("invalid_document")))})},function(){return HTML.DIV({class:["container-fluid"," ","matter"]},Spacebars.include(e.lookupTemplate("invalid_document")))})},function(){return HTML.DIV({class:["container-fluid"," ","matter"]},Spacebars.include(e.lookupTemplate("loading")))})})}).call(this);

(function(){Template.__checkName("source_entry"),Template.source_entry=new Template("Template.source_entry",function(){var e=this;return HTML.LI({class:function(){return Spacebars.mustache(e.lookup("active"))}},HTML.A({class:"name",href:function(){return Spacebars.mustache(e.lookup("pathFor"),"sources",e.lookup("_id"))}},HTML.Raw('<div class="thumbnail thumbnail-1-24 pull-left gchart-thumbnail"><i class="fa fa-ban" title="No thumbnail" style="margin: 0;"></i></div>'),"\n",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n",HTML.DIV({class:["entry-info"," ","pull-right"]},HTML.SPAN({class:"created-at"},Blaze.View("lookup:formatEntryTime",function(){return Spacebars.mustache(e.lookup("formatEntryTime"),e.lookup("created"))})))))})}).call(this);

(function(){Template.__checkName("tag_w0"),Template.tag_w0=new Template("Template.tag_w0",function(){var t=this;return[HTML.DIV({class:"clearfix",style:"margin: 5px 2px;"},Blaze.Each(function(){return Spacebars.call(t.lookup("tags"))},function(){return HTML.DIV({class:"tag-xs",title:function(){return Spacebars.mustache(t.lookup("uri"))}},Blaze.If(function(){return Spacebars.call(t.lookup("canEditDocument"))},function(){return HTML.A({class:["remove"," ","remove-tag"],href:"#","data-tag-name":function(){return Spacebars.mustache(t.lookup("."))}},HTML.I({class:["fa"," ","fa-remove"]}))}),"\n",HTML.DIV({class:"text"},Blaze.View("lookup:getTagTitleName",function(){return Spacebars.mustache(t.lookup("getTagTitleName"),t.lookup("."))})))})),Blaze.If(function(){return Spacebars.call(t.lookup("canEditDocument"))},function(){return HTML.DIV({class:"toggle-input"},HTML.DIV({class:"toggle"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-toggle"]},HTML.I({class:["fa"," ","fa-plus"]}),"\n","Add")),"\n",HTML.DIV({class:["toggle"," ","hidden"]},HTML.INPUT({class:"tag-input",type:"text",placeholder:"Enter a new tag",value:"","data-provide":"typeahead"}),"\n",HTML.DIV({class:"btn-group"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-add-tag"]},"Add"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-toggle"]},HTML.I({class:["fa"," ","fa-remove"],"data-toggle":"tooltip",title:"Close"})))))})]})}).call(this);

(function(){Template.__checkName("tag_w1"),Template.tag_w1=new Template("Template.tag_w1",function(){var t=this;return Blaze.Unless(function(){return Spacebars.call(t.lookup("documentEditMode"))},function(){return[Blaze.Each(function(){return Spacebars.call(t.lookup("tags"))},function(){return HTML.DIV({class:"tag-xs",title:function(){return Spacebars.mustache(t.lookup("uri"))}},Blaze.If(function(){return Spacebars.call(t.lookup("canEditTag"))},function(){return HTML.A({class:["remove"," ","remove-tag"],href:"#","data-tag-name":function(){return Spacebars.mustache(t.lookup("."))}},HTML.I({class:["fa"," ","fa-remove"]}))}),"\n",HTML.DIV({class:"text"},Blaze.View("lookup:getTagTitleName",function(){return Spacebars.mustache(t.lookup("getTagTitleName"),t.lookup("."))})))}),Blaze.If(function(){return Spacebars.call(t.lookup("canEditTag"))},function(){return HTML.DIV({class:"toggle-input"},HTML.DIV({class:"toggle"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-toggle"]},HTML.I({class:["fa"," ","fa-edit"],"data-toggle":"tooltip",title:"Edit tags"}))),"\n",HTML.DIV({class:["toggle"," ","hidden"],style:"width: 480px; clear: both;"},HTML.INPUT({class:"tag-input",type:"text",placeholder:"Enter a new tag",value:"","data-provide":"typeahead"}),"\n",HTML.DIV({class:"btn-group"},HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-add-tag"]},"Add"),"\n",HTML.BUTTON({class:["btn"," ","btn-default"," ","btn-xs"," ","btn-toggle"]},HTML.I({class:["fa"," ","fa-remove"],"data-toggle":"tooltip",title:"Close"})))))})]})})}).call(this);

(function(){Template.__checkName("team_menu"),Template.team_menu=new Template("Template.team_menu",function(){var e=this;return[HTML.LI({class:"dropdown"},HTML.Raw('<a class="dropdown-toggle" title="" href="#" data-toggle="dropdown" aria-expanded="true">File</a>'),"\n",HTML.UL({class:["dropdown-menu"," ","hn-dropdown"],role:"menu","aria-labelledby":"dropdownMenu1"},HTML.Raw('<li><a id="btn-team-leave" data-toggle="tooltip" title="Leave Team" href="#">Leave</a></li>'),"\n",HTML.Raw('<li class="divider"></li>'),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("isTeamAdmin"))},function(){return[HTML.LI(HTML.A({id:"btn-team-delete","data-toggle":"tooltip",title:"",href:"#"},HTML.I({class:["fa"," ","fa-trash"]}),"\n","Delete")),HTML.LI({class:"divider"})]}),"\n",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(e.lookup("currentHomePath"))}},"Exit")))),HTML.Raw('<li> \n<a href="http://userguide.vida.io/#team" target="_blank">Help</a></li>')]})}).call(this);

(function(){Template.__checkName("user_stat"),Template.user_stat=new Template("Template.user_stat",function(){var e=this;return HTML.DIV({class:"user-stat"},HTML.Raw("<p>Your profile has been view</p>\n"),HTML.UL(HTML.LI(Blaze.View("lookup:counter7",function(){return Spacebars.mustache(e.lookup("counter7"))})," times within 7 days"),"\n",HTML.LI(Blaze.View("lookup:counter30",function(){return Spacebars.mustache(e.lookup("counter30"))})," times within 30 days"),"\n",HTML.LI(Blaze.View("lookup:counter",function(){return Spacebars.mustache(e.lookup("counter"))})," times total")))})}).call(this);

(function(){Template.__checkName("user"),Template.user=new Template("Template.user",function(){var e=this;return HTML.DIV({class:["container"," ","matter"]},HTML.DIV({class:["row"," ","row0"],style:"min-height: 640px;"},Blaze.If(function(){return Spacebars.call(e.lookup("loadingUser"))},function(){return Spacebars.include(e.lookupTemplate("loading"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("userFound"))},function(){return[HTML.DIV({class:["col-md-3"," ","user-info"]},HTML.DIV({class:"thumbnail"},Blaze.If(function(){return Spacebars.call(e.lookup("picture"))},function(){return HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("picture"))},alt:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"name"))},width:"150"})},function(){return HTML.I({class:["fa"," ","fa-user"],style:"font-size: 140px;"})})),"\n",HTML.H4(Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n",HTML.P("Username: ","\n",HTML.B(Blaze.View("lookup:user.username",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"username"))}))),"\n",HTML.P("Total documents: ","\n",HTML.B(Blaze.View("lookup:formatNumber",function(){return Spacebars.mustache(e.lookup("formatNumber"),e.lookup("docTotal"))}))),"\n",HTML.P("Total views: ","\n",HTML.B(Blaze.View("lookup:formatNumber",function(){return Spacebars.mustache(e.lookup("formatNumber"),e.lookup("viewTotal"))}))),"\n",HTML.P("Joined on ",Blaze.View("lookup:formatTime",function(){return Spacebars.mustache(e.lookup("formatTime"),Spacebars.dot(e.lookup("user"),"createdAt"),"L")})),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("selfProfile"))},function(){return Spacebars.include(e.lookupTemplate("user_stat"))})),HTML.DIV({class:["col-md-9"," ","user-docs"],style:"margin-bottom: 60px;"},Blaze.Unless(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return HTML.H4({class:"text-center"},HTML.SPAN({class:["label"," ","label-danger"]},"Please sign in to view this user's public documents                "))},function(){return[Blaze.If(function(){return Spacebars.call(e.lookup("documents"))},function(){return HTML.UL({class:"vcards",style:"margin: 0;"},Blaze.Each(function(){return Spacebars.call(e.lookup("documents"))},function(){return Spacebars.include(e.lookupTemplate("document_entry"))}))},function(){return HTML.H6("No D3 documents available")}),HTML.DIV({class:"clearfix"}),Blaze.If(function(){return Spacebars.call(e.lookup("charts"))},function(){return[HTML.H3({class:"t0"},"Google Charts"),HTML.UL({class:"vcards",style:"margin: 0;"},Blaze.Each(function(){return Spacebars.call(e.lookup("charts"))},function(){return Spacebars.include(e.lookupTemplate("chart_entry"))}))]},function(){return HTML.H6("No Google charts available")})]}))]},function(){return HTML.DIV({class:["flash-message"," ","fm-md"]},HTML.DIV({class:["alert"," ","alert-danger"]},"Oops, this page does not exist"))})})))})}).call(this);

(function(){!function(){var e=window.Messenger,t;t=window.Messenger=function(){return t._call.apply(this,arguments)},window.Messenger.noConflict=function(){return window.Messenger=e,t}}(),window.Messenger._=function(){if(window._)return window._;var e=Array.prototype,t=Object.prototype,n=Function.prototype,s=e.push,r=e.slice,i=e.concat,o=t.toString,a=t.hasOwnProperty,l=e.forEach,u=e.map,c=e.reduce,h=e.reduceRight,p=e.filter,f=e.every,d=e.some,g=e.indexOf,m=e.lastIndexOf,y=Array.isArray,v=Object.keys,_=n.bind,w={},b={},x=w.each=w.forEach=function(e,t,n){if(null!=e)if(l&&e.forEach===l)e.forEach(t,n);else if(e.length===+e.length){for(var s=0,r=e.length;s<r;s++)if(t.call(n,e[s],s,e)===b)return}else for(var i in e)if(w.has(e,i)&&t.call(n,e[i],i,e)===b)return};w.result=function(e,t){if(null==e)return null;var n=e[t];return w.isFunction(n)?n.call(e):n},w.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}};var M=0;return w.uniqueId=function(e){var t=++M+"";return e?e+t:t},w.filter=w.select=function(e,t,n){var s=[];return null==e?s:p&&e.filter===p?e.filter(t,n):(x(e,function(e,r,i){t.call(n,e,r,i)&&(s[s.length]=e)}),s)},x(["Arguments","Function","String","Number","Date","RegExp"],function(e){w["is"+e]=function(t){return o.call(t)=="[object "+e+"]"}}),w.defaults=function(e){return x(r.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},w.extend=function(e){return x(r.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},w.keys=v||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)w.has(e,n)&&(t[t.length]=n);return t},w.bind=function(e,t){if(e.bind===_&&_)return _.apply(e,r.call(arguments,1));var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}},w.isObject=function(e){return e===Object(e)},w}(),window.Messenger.Events=window.Backbone&&Backbone.Events?Backbone.Events:function(){var e=/\s+/,t=function(t,n,s,r){if(!s)return!0;if("object"==typeof s)for(var i in s)t[n].apply(t,[i,s[i]].concat(r));else{if(!e.test(s))return!0;for(var o=s.split(e),a=0,l=o.length;a<l;a++)t[n].apply(t,[o[a]].concat(r))}},n=function(e,t){var n,s=-1,r=e.length;switch(t.length){case 0:for(;++s<r;)(n=e[s]).callback.call(n.ctx);return;case 1:for(;++s<r;)(n=e[s]).callback.call(n.ctx,t[0]);return;case 2:for(;++s<r;)(n=e[s]).callback.call(n.ctx,t[0],t[1]);return;case 3:for(;++s<r;)(n=e[s]).callback.call(n.ctx,t[0],t[1],t[2]);return;default:for(;++s<r;)(n=e[s]).callback.apply(n.ctx,t)}},s={on:function(e,n,s){return t(this,"on",e,[n,s])&&n?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:n,context:s,ctx:s||this}),this):this},once:function(e,n,s){if(!t(this,"once",e,[n,s])||!n)return this;var r=this,i=_.once(function(){r.off(e,i),n.apply(this,arguments)});return i._callback=n,this.on(e,i,s),this},off:function(e,n,s){var r,i,o,a,l,u,c,h;if(!this._events||!t(this,"off",e,[n,s]))return this;if(!e&&!n&&!s)return this._events={},this;for(l=0,u=(a=e?[e]:_.keys(this._events)).length;l<u;l++)if(e=a[l],r=this._events[e]){if(o=[],n||s)for(c=0,h=r.length;c<h;c++)i=r[c],(n&&n!==i.callback&&n!==i.callback._callback||s&&s!==i.context)&&o.push(i);this._events[e]=o}return this},trigger:function(e){if(!this._events)return this;var s=Array.prototype.slice.call(arguments,1);if(!t(this,"trigger",e,s))return this;var r=this._events[e],i=this._events.all;return r&&n(r,s),i&&n(i,arguments),this},listenTo:function(e,t,n){return(this._listeners||(this._listeners={}))[e._listenerId||(e._listenerId=_.uniqueId("l"))]=e,e.on(t,"object"==typeof t?this:n,this),this},stopListening:function(e,t,n){var s=this._listeners;if(s){if(e)e.off(t,"object"==typeof t?this:n,this),t||n||delete s[e._listenerId];else{"object"==typeof t&&(n=this);for(var r in s)s[r].off(t,n,this);this._listeners={}}return this}}};return s.bind=s.on,s.unbind=s.off,s}(),function(){var e,t,n,s,r,i,o,a,l,u,c,h={}.hasOwnProperty,p=function(e,t){function n(){this.constructor=e}for(var s in t)h.call(t,s)&&(e[s]=t[s]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},f=[].slice,d=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};e=jQuery,i=null!=(l=window._)?l:window.Messenger._,s=null!=(u="undefined"!=typeof Backbone&&null!==Backbone?Backbone.Events:void 0)?u:window.Messenger.Events,n=function(){function t(t){e.extend(this,s),i.isObject(t)&&(t.el&&this.setElement(t.el),this.model=t.model),this.initialize.apply(this,arguments)}return t.prototype.setElement=function(t){return this.$el=e(t),this.el=this.$el[0]},t.prototype.delegateEvents=function(e){var t,n,s,r,o,a,l;if(e||(e=i.result(this,"events"))){this.undelegateEvents(),t=/^(\S+)\s*(.*)$/,l=[];for(s in e){if(o=e[s],i.isFunction(o)||(o=this[e[s]]),!o)throw new Error('Method "'+e[s]+'" does not exist');n=(r=s.match(t))[1],a=r[2],o=i.bind(o,this),n+=".delegateEvents"+this.cid,""===a?l.push(this.jqon(n,o)):l.push(this.jqon(n,a,o))}return l}},t.prototype.jqon=function(e,t,n){var s;return null!=this.$el.on?(s=this.$el).on.apply(s,arguments):(null==n&&(n=t,t=void 0),null!=t?this.$el.delegate(t,e,n):this.$el.bind(e,n))},t.prototype.jqoff=function(e){var t;return null!=this.$el.off?(t=this.$el).off.apply(t,arguments):(this.$el.undelegate(),this.$el.unbind(e))},t.prototype.undelegateEvents=function(){return this.jqoff(".delegateEvents"+this.cid)},t.prototype.remove=function(){return this.undelegateEvents(),this.$el.remove()},t}(),o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return p(n,t),n.prototype.defaults={hideAfter:10,scroll:!0,closeButtonText:"&times;"},n.prototype.initialize=function(t){return null==t&&(t={}),this.shown=!1,this.rendered=!1,this.messenger=t.messenger,this.options=e.extend({},this.options,t,this.defaults)},n.prototype.show=function(){var e;if(this.rendered||this.render(),this.$message.removeClass("messenger-hidden"),e=this.shown,this.shown=!0,!e)return this.trigger("show")},n.prototype.hide=function(){var e;if(this.rendered)return this.$message.addClass("messenger-hidden"),e=this.shown,this.shown=!1,e?this.trigger("hide"):void 0},n.prototype.cancel=function(){return this.hide()},n.prototype.update=function(t){var n,s=this;return i.isString(t)&&(t={message:t}),e.extend(this.options,t),this.lastUpdate=new Date,this.rendered=!1,this.events=null!=(n=this.options.events)?n:{},this.render(),this.actionsToEvents(),this.delegateEvents(),this.checkClickable(),this.options.hideAfter?(this.$message.addClass("messenger-will-hide-after"),null!=this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(function(){return s.hide()},1e3*this.options.hideAfter)):this.$message.removeClass("messenger-will-hide-after"),this.options.hideOnNavigate?(this.$message.addClass("messenger-will-hide-on-navigate"),null!=("undefined"!=typeof Backbone&&null!==Backbone?Backbone.history:void 0)&&Backbone.history.on("route",function(){return s.hide()})):this.$message.removeClass("messenger-will-hide-on-navigate"),this.trigger("update",this)},n.prototype.scrollTo=function(){if(this.options.scroll)return e.scrollTo(this.$el,{duration:400,offset:{left:0,top:-20}})},n.prototype.timeSinceUpdate=function(){return this.lastUpdate?new Date-this.lastUpdate:null},n.prototype.actionsToEvents=function(){var e,t,n,s,r=this;n=this.options.actions,s=[];for(t in n)e=n[t],s.push(this.events['click [data-action="'+t+'"] a']=function(e){return function(n){return n.preventDefault(),n.stopPropagation(),r.trigger("action:"+t,e,n),e.action.call(r,n,r)}}(e));return s},n.prototype.checkClickable=function(){var e,t,n,s;n=this.events,s=[];for(t in n)e=n[t],"click"===t?s.push(this.$message.addClass("messenger-clickable")):s.push(void 0);return s},n.prototype.undelegateEvents=function(){var e;return n.__super__.undelegateEvents.apply(this,arguments),null!=(e=this.$message)?e.removeClass("messenger-clickable"):void 0},n.prototype.parseActions=function(){var t,n,s,r,i,o;n=[],i=this.options.actions;for(r in i)t=i[r],(s=e.extend({},t)).name=r,null==(o=s.label)&&(s.label=r),n.push(s);return n},n.prototype.template=function(t){var n,s,r,i,o,a,l,u,c,h,p=this;for(o=e("<div class='messenger-message message alert "+t.type+" message-"+t.type+" alert-"+t.type+"'>"),t.showCloseButton&&((r=e('<button type="button" class="messenger-close" data-dismiss="alert">')).html(t.closeButtonText),r.click(function(){return p.cancel(),!0}),o.append(r)),a=e('<div class="messenger-message-inner">'+t.message+"</div>"),o.append(a),t.actions.length&&(s=e('<div class="messenger-actions">')),u=0,c=(h=t.actions).length;u<c;u++)l=h[u],(n=e("<span>")).attr("data-action",""+l.name),(i=e("<a>")).html(l.label),n.append(e('<span class="messenger-phrase">')),n.append(i),s.append(n);return o.append(s),o},n.prototype.render=function(){var t;if(!this.rendered)return this._hasSlot||(this.setElement(this.messenger._reserveMessageSlot(this)),this._hasSlot=!0),t=e.extend({},this.options,{actions:this.parseActions()}),this.$message=e(this.template(t)),this.$el.html(this.$message),this.shown=!0,this.rendered=!0,this.trigger("render")},n}(n),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this._timers={}},t.prototype.cancel=function(){if(this.clearTimers(),this.hide(),null!=this._actionInstance&&null!=this._actionInstance.abort)return this._actionInstance.abort()},t.prototype.clearTimers=function(){var e,t,n,s;n=this._timers;for(e in n)t=n[e],clearTimeout(t);return this._timers={},null!=(s=this.$message)?s.removeClass("messenger-retry-soon messenger-retry-later"):void 0},t.prototype.render=function(){var e,n,s,r;t.__super__.render.apply(this,arguments),this.clearTimers(),s=this.options.actions,r=[];for(n in s)(e=s[n]).auto?r.push(this.startCountdown(n,e)):r.push(void 0);return r},t.prototype.renderPhrase=function(e,t){var n;return n=e.phrase.replace("TIME",this.formatTime(t))},t.prototype.formatTime=function(e){var t;return t=function(e,t){return 1!==(e=Math.floor(e))&&(t+="s"),"in "+e+" "+t},0===Math.floor(e)?"now...":e<60?t(e,"second"):(e/=60)<60?t(e,"minute"):(e/=60,t(e,"hour"))},t.prototype.startCountdown=function(e,t){var n,s,r,i,o=this;if(null==this._timers[e])return n=this.$message.find("[data-action='"+e+"'] .messenger-phrase"),(s=null!=(i=t.delay)?i:3)<=10?(this.$message.removeClass("messenger-retry-later"),this.$message.addClass("messenger-retry-soon")):(this.$message.removeClass("messenger-retry-soon"),this.$message.addClass("messenger-retry-later")),(r=function(){var i;return n.text(o.renderPhrase(t,s)),s>0?(i=Math.min(s,1),s-=i,o._timers[e]=setTimeout(r,1e3*i)):(o.$message.removeClass("messenger-retry-soon messenger-retry-later"),delete o._timers[e],t.action())})()},t}(o),a=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return p(n,t),n.prototype.tagName="ul",n.prototype.className="messenger",n.prototype.messageDefaults={type:"info"},n.prototype.initialize=function(t){return this.options=null!=t?t:{},this.history=[],this.messageDefaults=e.extend({},this.messageDefaults,this.options.messageDefaults)},n.prototype.render=function(){return this.updateMessageSlotClasses()},n.prototype.findById=function(e){return i.filter(this.history,function(t){return t.msg.options.id===e})},n.prototype._reserveMessageSlot=function(t){var n,s,r=this;for((n=e("<li>")).addClass("messenger-message-slot"),this.$el.prepend(n),this.history.push({msg:t,$slot:n}),this._enforceIdConstraint(t),t.on("update",function(){return r._enforceIdConstraint(t)});this.options.maxMessages&&this.history.length>this.options.maxMessages;)(s=this.history.shift()).msg.remove(),s.$slot.remove();return n},n.prototype._enforceIdConstraint=function(e){var t,n,s,r,i;if(null!=e.options.id)for(n=0,s=(i=this.history).length;n<s;n++)if(t=i[n],null!=(r=t.msg).options.id&&r.options.id===e.options.id&&e!==r){if(e.options.singleton)return void e.hide();r.hide()}},n.prototype.newMessage=function(e){var t,n,s,i,a=this;return null==e&&(e={}),e.messenger=this,o=null!=(n=null!=(s=Messenger.themes[null!=(i=e.theme)?i:this.options.theme])?s.Message:void 0)?n:r,(t=new o(e)).on("show",function(){if(e.scrollTo&&"fixed"!==a.$el.css("position"))return t.scrollTo()}),t.on("hide show render",this.updateMessageSlotClasses,this),t},n.prototype.updateMessageSlotClasses=function(){var e,t,n,s,r,i,o;for(s=!0,t=null,e=!1,r=0,i=(o=this.history).length;r<i;r++)(n=o[r]).$slot.removeClass("messenger-first messenger-last messenger-shown"),n.msg.shown&&n.msg.rendered&&(n.$slot.addClass("messenger-shown"),e=!0,t=n,s&&(s=!1,n.$slot.addClass("messenger-first")));return null!=t&&t.$slot.addClass("messenger-last"),this.$el[(e?"remove":"add")+"Class"]("messenger-empty")},n.prototype.hideAll=function(){var e,t,n,s,r;for(r=[],t=0,n=(s=this.history).length;t<n;t++)e=s[t],r.push(e.msg.hide());return r},n.prototype.post=function(t){var n;return i.isString(t)&&(t={message:t}),t=e.extend(!0,{},this.messageDefaults,t),(n=this.newMessage(t)).update(t),n},n}(n),t=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return p(n,t),n.prototype.doDefaults={progressMessage:null,successMessage:null,errorMessage:"Error connecting to the server.",showSuccessWithoutError:!0,retry:{auto:!0,allow:!0},action:e.ajax},n.prototype.hookBackboneAjax=function(t){var n,s=this;if(null==t&&(t={}),null==window.Backbone)throw"Expected Backbone to be defined";return t=i.defaults(t,{id:"BACKBONE_ACTION",errorMessage:!1,successMessage:"Request completed successfully.",showSuccessWithoutError:!1}),n=function(e){var n;return n=i.extend({},t,e.messenger),s.do(n,e)},null!=Backbone.ajax?(Backbone.ajax._withoutMessenger&&(Backbone.ajax=Backbone.ajax._withoutMessenger),null!=t.action&&t.action!==this.doDefaults.action||(t.action=Backbone.ajax),n._withoutMessenger=Backbone.ajax,Backbone.ajax=n):Backbone.sync=i.wrap(Backbone.sync,function(){var t,s,r;return r=arguments[0],t=2<=arguments.length?f.call(arguments,1):[],s=e.ajax,e.ajax=n,r.call.apply(r,[this].concat(f.call(t))),e.ajax=s})},n.prototype._getHandlerResponse=function(e){return!1!==e&&(!0===e||null==e||e)},n.prototype._parseEvents=function(e){var t,n,s,r,i,o,a;null==e&&(e={}),i={};for(r in e)s=e[r],n=r.indexOf(" "),o=r.substring(0,n),t=r.substring(n+1),null==(a=i[o])&&(i[o]={}),i[o][t]=s;return i},n.prototype._normalizeResponse=function(){var e,t,n,s,r,o,a;for(s=null,r=null,e=null,o=0,a=(n=1<=arguments.length?f.call(arguments,0):[]).length;o<a;o++)"success"===(t=n[o])||"timeout"===t||"abort"===t?s=t:null!=(null!=t?t.readyState:void 0)&&null!=(null!=t?t.responseText:void 0)?r=t:i.isObject(t)&&(e=t);return[s,e,r]},n.prototype.run=function(){var t,n,s,r,o,a,l,u,c,h,p,g=this;if(a=arguments[0],c=arguments[1],t=3<=arguments.length?f.call(arguments,2):[],null==c&&(c={}),a=e.extend(!0,{},this.messageDefaults,this.doDefaults,null!=a?a:{}),n=this._parseEvents(a.events),s=function(e,t){var n;return n=a[e+"Message"],i.isFunction(n)?n.call(g,e,t):n},l=null!=(p=a.messageInstance)?p:this.newMessage(a),null!=a.id&&(l.options.id=a.id),null!=a.progressMessage&&l.update(e.extend({},a,{message:s("progress",null),type:"info"})),o={},i.each(["error","success"],function(r){var u;return u=c[r],o[r]=function(){var o,h,p,m,y,v,_,w,b,x,M,C,k,$,E;if(v=1<=arguments.length?f.call(arguments,0):[],b=g._normalizeResponse.apply(g,v),y=b[0],o=b[1],w=b[2],"success"===r&&null==l.errorCount&&!1===a.showSuccessWithoutError&&(a.successMessage=null),"error"===r&&(null==(x=a.errorCount)&&(a.errorCount=0),a.errorCount+=1),p=a.returnsPromise?v[0]:"function"==typeof u?u.apply(null,v):void 0,_=g._getHandlerResponse(p),i.isString(_)&&(_={message:_}),"error"!==r||0!==(null!=w?w.status:void 0)&&"abort"!==y){if(!("error"===r&&null!=a.ignoredErrorCodes&&(M=null!=w?w.status:void 0,d.call(a.ignoredErrorCodes,M)>=0)))return h={message:s(r,w),type:r,events:null!=(C=n[r])?C:{},hideOnNavigate:"success"===r},m=e.extend({},a,h,_),"number"==typeof(null!=(k=m.retry)?k.allow:void 0)&&m.retry.allow--,"error"===r&&(null!=w?w.status:void 0)>=500&&(null!=($=m.retry)?$.allow:void 0)?(null==m.retry.delay&&(m.errorCount<4?m.retry.delay=10:m.retry.delay=300),m.hideAfter&&(null==(E=m._hideAfter)&&(m._hideAfter=m.hideAfter),m.hideAfter=m._hideAfter+m.retry.delay),m._retryActions=!0,m.actions={retry:{label:"retry now",phrase:"Retrying TIME",auto:m.retry.auto,delay:m.retry.delay,action:function(){return m.messageInstance=l,setTimeout(function(){return g.do.apply(g,[m,c].concat(f.call(t)))},0)}},cancel:{action:function(){return l.cancel()}}}):m._retryActions&&(delete m.actions.retry,delete m.actions.cancel,delete a._retryActions),l.update(m),_&&m.message?(Messenger(i.extend({},g.options,{instance:g})),l.show()):l.hide();l.hide()}else l.hide()}}),!a.returnsPromise)for(h in o)r=o[h],u=c[h],c[h]=r;return l._actionInstance=a.action.apply(a,[c].concat(f.call(t))),a.returnsPromise&&l._actionInstance.then(o.success,o.error),l},n.prototype.do=n.prototype.run,n.prototype.ajax=function(){var t,n;return n=arguments[0],t=2<=arguments.length?f.call(arguments,1):[],n.action=e.ajax,this.run.apply(this,[n].concat(f.call(t)))},n.prototype.expectPromise=function(e,t){return t=i.extend({},t,{action:e,returnsPromise:!0}),this.run(t)},n.prototype.error=function(e){return null==e&&(e={}),"string"==typeof e&&(e={message:e}),e.type="error",this.post(e)},n.prototype.info=function(e){return null==e&&(e={}),"string"==typeof e&&(e={message:e}),e.type="info",this.post(e)},n.prototype.success=function(e){return null==e&&(e={}),"string"==typeof e&&(e={message:e}),e.type="success",this.post(e)},n}(a),e.fn.messenger=function(){var n,s,r,o,l,u,c,h;return r=arguments[0],s=2<=arguments.length?f.call(arguments,1):[],null==r&&(r={}),n=this,null!=r&&i.isString(r)?(h=n.data("messenger"))[r].apply(h,s):(l=r,null==n.data("messenger")&&(a=null!=(u=null!=(c=Messenger.themes[l.theme])?c.Messenger:void 0)?u:t,n.data("messenger",o=new a(e.extend({el:n},l))),o.render()),n.data("messenger"))},window.Messenger._call=function(t){var n,s,r,i,o,a,l,u,c,h,p;if(a={extraClasses:"messenger-fixed messenger-on-bottom messenger-on-right",theme:"future",maxMessages:9,parentLocations:["body"]},null!=(t=e.extend(a,e._messengerDefaults,Messenger.options,t)).theme&&(t.extraClasses+=" messenger-theme-"+t.theme),l=t.instance||Messenger.instance,null==t.instance){for(s=null,r=null,h=0,p=(c=t.parentLocations).length;h<p;h++)if(u=c[h],(s=e(u)).length){i=u;break}l?e(l._location).is(e(i))||(l.$el.detach(),s.prepend(l.$el)):(n=e("<ul>"),s.prepend(n),(l=n.messenger(t))._location=i,Messenger.instance=l)}return null!=l._addedClasses&&l.$el.removeClass(l._addedClasses),l.$el.addClass(o=l.className+" "+t.extraClasses),l._addedClasses=o,l},e.extend(Messenger,{Message:r,Messenger:t,themes:null!=(c=Messenger.themes)?c:{}}),e.globalMessenger=window.Messenger=Messenger}.call(this)}).call(this);

(function(){Messenger.options={extraClasses:"messenger-fixed messenger-on-top messenger-on-right",theme:"block"},message={},message.add=function(e,s,n){var t=s&&s.id?s.id:null,l=s&&s.type?s.type:"info",i=s&&s.timer?s.timer:null,o=!s||void 0===s.btnClose||s.btnClose;switch(l){case"info":case"success":null===i&&(i=5);break;case"danger":null===i&&(i=!1);break}return Messenger().post({id:l,message:e,type:"alert-"+l,hideAfter:i,showCloseButton:o})},message.hideAll=function(){Messenger().hideAll()}}).call(this);

(function(){(function(){var e,n,s,r={}.hasOwnProperty,t=function(e,n){function s(){this.constructor=e}for(var t in n)r.call(n,t)&&(e[t]=n[t]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};e=jQuery,s='<div class="messenger-spinner">\n    <span class="messenger-spinner-side messenger-spinner-side-left">\n        <span class="messenger-spinner-fill"></span>\n    </span>\n    <span class="messenger-spinner-side messenger-spinner-side-right">\n        <span class="messenger-spinner-fill"></span>\n    </span>\n</div>',n=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.template=function(n){var t;return(t=r.__super__.template.apply(this,arguments)).append(e(s)),t},r}(window.Messenger.Message),window.Messenger.themes.future={Message:n}}).call(this)}).call(this);

(function(){vida={number:function(n){return+n},string:function(n){return n}},SS_APP_INFO="appInfo",Session.setDefault(SS_APP_INFO,{}),Vida={}}).call(this);

(function(){Vida.appInfo=function(n){if(!n)return Session.get(SS_APP_INFO);Session.set(SS_APP_INFO,n)}}).call(this);

(function(){Vida.Dashboard=function(){},Vida.Dashboard.prototype.load=function(e,r,t,o,s){function a(e){n.initDashboard(t,o,r,function(){if(-1!==DBR.loadedCount&&DBR.loadedCount++,-1!==Router.current().originalUrl.indexOf("documents")){for(var t=0;t<n.dbObject.properties.length;t++){var o=_.find(CD.dbObject.properties,function(r){return r.name===i(e._id,n.dbObject.properties[t].name)});o?o.value!==n.dbObject.properties[t].value&&(n.dbObject.properties[t].value=o.value,n.config[n.dbObject.properties[t].name]=o.value):((o=$.extend({},n.dbObject.properties[t])).name=i(e._id,n.dbObject.properties[t].name),CD.dbObject.properties.push(o))}Documents.update(CD.id(),{$set:{properties:CD.dbObject.properties}})}n.dbObject.javascript=n.dbObject.javascript.replace(/#canvas-svg/g,"#"+r),n.dbObject.stylesheet=n.dbObject.stylesheet.replace(/#canvas-svg/g,"#"+r),n.dbObject.html&&$("#"+r).append($(n.dbObject.html.replace(/<\\\//g,"</")).children());var a=0;if($("#"+r).find(".header-group").length>0&&($("#"+r).find(".header-group").width(n.config.width),a=$("#"+r).find(".header-group").height(),n.config.height-=a),DBR.resourcesQueue||(DBR.resourcesQueue=[],DBR.waitingDocs=[]),e.resources){for(var t=0;t<e.resources.length;t++)DBR.resourcesQueue.push(e.resources[t]);e.resources.length?DBR.waitingDocs.push({dl:n,divId:r}):n.showDashboard(!1,r)}else n.showDashboard(!1,r);if(-1===DBR.loadedCount){DBR.resourcesQueue=[];for(var d=0;d<DBR.waitingDocs.length;d++){var c=DBR.waitingDocs[d];c.dl.showDashboard(!1,c.divId)}DBR.waitingDocs=[]}else DBR.loadedCount===DBR.dbObject.docs.length&&n.loadResources(DBR.resourcesQueue,function(){DBR.resourcesQueue=[];for(var e=0;e<DBR.waitingDocs.length;e++){var r=DBR.waitingDocs[e];r.dl.showDashboard(!1,r.divId)}DBR.waitingDocs=[],DBR.loadedCount=-1});s&&s()})}function d(){n.request(e,{dashboard:!0,callback:function(e,r){e||a(r[0])}})}$("#"+r).empty();var i=function(e,r){return e+"."+r},n=new DocumentLoader,c=Documents.findOne(e);c&&c.javascript?(n.dbObject=c,a(c)):d()}}).call(this);

(function(){Vida.Dataset=function(t){return this.keyCache={},this._id=t||CD.dbObject.extDatasetIds[0]||null,this._ready=null,!!this._id||(console.log("Error! Must init with a dataset id or tie document with a dataset"),!1)},Vida.Dataset.prototype.get=function(t,e){this._ready=!1,t instanceof Array?queryStr=t.join(","):queryStr=t;for(var a=queryStr.split(","),i={},r=0;r<a.length;r++)this.keyCache[a[r]]&&(i[a[r]]=this.keyCache[a[r]]);if(Object.keys(i).length===a.length)this._ready=!0,e(null,i);else{var s=this;Meteor.call("filterBigDataset",queryStr,this._id,function(t,a){s._ready=!0,e(t,a);for(var i in a)s.keyCache[i]=a[i]})}},Vida.Dataset.prototype.getKeys=function(t){this._ready=!1;var e=this;Meteor.call("getBigDatasetKeys",this._id,function(a,i){e._ready=!0,t(a,i)})},Vida.Dataset.prototype.ready=function(){return this._ready},Vida.Dataset.prototype.setDatasetId=function(t){if(t)return this._id=t,this},Vida.Dataset.prototype.runProcessingFunction=function(t,e,a){var i=t+":"+JSON.stringify(e);if(i=i.replace(/:/g,"."),this.keyCache[i])a(null,this.keyCache[i]);else{var r=this;Meteor.call("runProcFunc",this._id,t,e,function(t,e){r.keyCache[i]=e.data,a(t,e.data)})}}}).call(this);

(function(){POST_DATA_MESSAGE_TYPE="postData",CALLBACK_MESSAGE_TYPE="runCallback",Vida.IReceiver=function(a){var t=this;t.callbacks={},a&&(a.origin&&(t.origin=a.origin),a.postData&&(t.callbacks.postData=a.postData),a.renderData&&(t.callbacks.renderData=a.renderData)),window.addEventListener?addEventListener("message",function(a){t.eventListener(a)},!1):attachEvent("onmessage",function(a){t.eventListener(a)})},Vida.IReceiver.prototype.eventListener=function(a){if(!this.origin||this.origin===a.origin)try{switch(this.message=JSON.parse(a.data),this.message.type){case POST_DATA_MESSAGE_TYPE:this.callbacks.postData&&this.callbacks.postData(this.message.data);break;case CALLBACK_MESSAGE_TYPE:this.callbacks[this.message.data]&&this.callbacks[this.message.data]();break}}catch(a){}},Vida.IReceiver.prototype.methods=function(a){_.extend(this.callbacks,a)}}).call(this);

(function(){!function(t,e){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof exports?module.exports=e():t.Autolinker=e()}(this,function(){var t=function(e){t.Util.assign(this,e)};return t.prototype={constructor:t,urls:!0,email:!0,twitter:!0,newWindow:!0,stripPrefix:!0,className:"",htmlRegex:function(){var t=/[0-9a-zA-Z:]+/,e=/(?:".*?"|'.*?'|[^'"=<>`\s]+)/,r=/[^\s\0"'>\/=\x01-\x1F\x7F]+/.source+"(?:\\s*=\\s*"+e.source+")?";return new RegExp(["<(?:!|(/))?","("+t.source+")","(?:","\\s+","(?:",r,"|",e.source+")",")*","\\s*/?",">"].join(""),"g")}(),matcherRegex:function(){var t=/(^|[^\w])@(\w{1,15})/,e=/(?:[\-;:&=\+\$,\w\.]+@)/,r=/(?:[A-Za-z]{3,9}:(?:\/\/)?)/,n=/(?:www\.)/,i=/[A-Za-z0-9\.\-]*[A-Za-z0-9\-]/,s=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,o=/(?:[\-A-Za-z0-9+&@#\/%?=~_()|!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|])?/;return new RegExp(["(",t.source,")","|","(",e.source,i.source,s.source,")","|","(","(?:","(?:",r.source,i.source,")","|","(?:","(.?//)?",n.source,i.source,")","|","(?:","(.?//)?",i.source,s.source,")",")",o.source,")"].join(""),"gi")}(),invalidProtocolRelMatchRegex:/^[\w]\/\//,charBeforeProtocolRelMatchRegex:/^(.)?\/\//,link:function(t){return this.processHtml(t)},getAnchorTagBuilder:function(){var e=this.anchorTagBuilder;return e||(e=this.anchorTagBuilder=new t.AnchorTagBuilder({newWindow:this.newWindow,stripPrefix:this.stripPrefix,truncate:this.truncate,className:this.className})),e},processHtml:function(t){for(var e=this.htmlRegex,r,n,i=0,s=0,o=[];null!==(r=e.exec(t));){var a=r[0],c=r[2],u=!!r[1];n=t.substring(i,r.index),i=r.index+a.length,"a"===c?u?0===(s=Math.max(s-1,0))&&o.push(n):(s++,o.push(this.processTextNode(n))):0===s?o.push(this.processTextNode(n)):o.push(n),o.push(a)}if(i<t.length){var l=this.processTextNode(t.substring(i));o.push(l)}return o.join("")},processTextNode:function(e){var r=this,n=this.invalidProtocolRelMatchRegex,i=this.charBeforeProtocolRelMatchRegex,s=this.getAnchorTagBuilder();return e.replace(this.matcherRegex,function(e,n,o,a,c,u,l,h){var g=n,p=o,m=a,d=c,f=u,x=l||h,w="",b="",v;if(!r.isValidMatch(g,d,f,x))return e;if(")"===e.charAt(e.length-1)){var y=e.match(/\(/g),k=e.match(/\)/g);(y&&y.length||0)<(k&&k.length||0)&&(e=e.substr(0,e.length-1),b=")")}if(g)w=p,v=new t.TwitterMatch({twitterHandle:m});else if(d)v=new t.EmailMatch({emailAddress:d});else{if(x){var A=x.match(i)[1]||"";A&&(w=A,e=e.slice(1))}v=new t.UrlMatch({url:e,protocolRelativeMatch:x})}return w+s.createAnchorTag(v.getType(),v.getAnchorHref(),v.getAnchorText())+b})},isValidMatch:function(t,e,r,n){return!(t&&!this.twitter||e&&!this.email||r&&!this.urls||r&&-1===r.indexOf(".")||r&&/^[A-Za-z]{3,9}:/.test(r)&&!/:.*?[A-Za-z]/.test(r)||n&&this.invalidProtocolRelMatchRegex.test(n))}},t.link=function(e,r){return new t(r).link(e)},t.Util={abstractMethod:function(){throw"abstract"},assign:function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},extend:function(e,r){var n=e.prototype,i=function(){};i.prototype=n;var s,o=(s=r.hasOwnProperty("constructor")?r.constructor:function(){n.constructor.apply(this,arguments)}).prototype=new i;return o.constructor=s,o.superclass=n,delete r.constructor,t.Util.assign(o,r),s}},t.AnchorTagBuilder=t.Util.extend(Object,{urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,constructor:function(e){t.Util.assign(this,e)},createAnchorTag:function(t,e,r){var n=this.createAnchorAttrsStr(t,e);return r=this.processAnchorText(r),"<a "+n+">"+r+"</a>"},createAnchorAttrsStr:function(t,e){var r=['href="'+e+'"'],n=this.createCssClass(t);return n&&r.push('class="'+n+'"'),this.newWindow&&r.push('target="_blank"'),r.join(" ")},createCssClass:function(t){var e=this.className;return e?e+" "+e+"-"+t:""},processAnchorText:function(t){return this.stripPrefix&&(t=this.stripUrlPrefix(t)),t=this.removeTrailingSlash(t),t=this.doTruncate(t)},stripUrlPrefix:function(t){return t.replace(this.urlPrefixRegex,"")},removeTrailingSlash:function(t){return"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t},doTruncate:function(t){var e=this.truncate;return e&&t.length>e&&(t=t.substring(0,e-2)+".."),t}}),t.Match=t.Util.extend(Object,{constructor:function(e){t.Util.assign(this,e)},getType:t.Util.abstractMethod,getAnchorHref:t.Util.abstractMethod,getAnchorText:t.Util.abstractMethod}),t.EmailMatch=t.Util.extend(t.Match,{getType:function(){return"email"},getEmailAddress:function(){return this.emailAddress},getAnchorHref:function(){return"mailto:"+this.emailAddress},getAnchorText:function(){return this.emailAddress}}),t.TwitterMatch=t.Util.extend(t.Match,{getType:function(){return"twitter"},getTwitterHandle:function(){return this.twitterHandle},getAnchorHref:function(){return"https://twitter.com/"+this.twitterHandle},getAnchorText:function(){return"@"+this.twitterHandle}}),t.UrlMatch=t.Util.extend(t.Match,{protocolRelativeRegex:/^\/\//,checkForProtocolRegex:/^[A-Za-z]{3,9}:/,getType:function(){return"url"},getUrl:function(){var t=this.url;return this.protocolRelativeMatch||this.checkForProtocolRegex.test(t)||(t=this.url="http://"+t),t},getAnchorHref:function(){return this.getUrl()},getAnchorText:function(){var t=this.getUrl();return this.protocolRelativeMatch&&(t=t.replace(this.protocolRelativeRegex,"")),t}}),t})}).call(this);

(function(){!function(t,o){"use strict";"function"==typeof define&&define.amd?define(["jquery"],o):"object"==typeof exports?module.exports=o(require("jquery")):t.bootbox=o(t.jQuery)}(this,function t(o,e){"use strict";function a(t){var o=C[f.locale];return o?o[t]:C.en[t]}function n(t,e,a){t.stopPropagation(),t.preventDefault(),o.isFunction(a)&&!1===a.call(e,t)||e.modal("hide")}function r(t){var o,e=0;for(o in t)e++;return e}function l(t,e){var a=0;o.each(t,function(t,o){e(t,o,a++)})}function i(t){var e,a;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return(t=o.extend({},f,t)).buttons||(t.buttons={}),e=t.buttons,a=r(e),l(e,function(t,n,r){if(o.isFunction(n)&&(n=e[t]={callback:n}),"object"!==o.type(n))throw new Error("button with key "+t+" must be an object");n.label||(n.label=t),n.className||(n.className=a<=2&&r===a-1?"btn-primary":"btn-default")}),t}function c(t,o){var e=t.length,a={};if(e<1||e>2)throw new Error("Invalid argument length");return 2===e||"string"==typeof t[0]?(a[o[0]]=t[0],a[o[1]]=t[1]):a=t[0],a}function s(t,e,a){return o.extend(!0,{},t,c(e,a))}function u(t,o,e,a){return b(s({className:"bootbox-"+t,buttons:p.apply(null,o)},a,e),o)}function p(){for(var t={},o=0,e=arguments.length;o<e;o++){var n=arguments[o],r=n.toLowerCase(),l=n.toUpperCase();t[r]={label:a(l)}}return t}function b(t,o){var a={};return l(o,function(t,o){a[o]=!0}),l(t.buttons,function(t){if(a[t]===e)throw new Error("button key "+t+" is not allowed (options are "+o.join("\n")+")")}),t}var d={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},f={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},m={};m.alert=function(){var t;if((t=u("alert",["ok"],["message","callback"],arguments)).callback&&!o.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!o.isFunction(t.callback)||t.callback.call(this)},m.dialog(t)},m.confirm=function(){var t;if(t=u("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!o.isFunction(t.callback))throw new Error("confirm requires a callback");return m.dialog(t)},m.prompt=function(){var t,a,n,r,i,c,u;if(r=o(d.form),a={className:"bootbox-prompt",buttons:p("cancel","confirm"),value:"",inputType:"text"},t=b(s(a,arguments,["title","callback"]),["cancel","confirm"]),c=t.show===e||t.show,t.message=r,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var e;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":e=i.val();break;case"checkbox":var a=i.find("input:checked");e=[],l(a,function(t,a){e.push(o(a).val())});break}return t.callback.call(this,e)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!o.isFunction(t.callback))throw new Error("prompt requires a callback");if(!d.inputs[t.inputType])throw new Error("invalid prompt type");switch(i=o(d.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":i.val(t.value);break;case"select":var f={};if(u=t.inputOptions||[],!o.isArray(u))throw new Error("Please pass an array of input options");if(!u.length)throw new Error("prompt with select requires options");l(u,function(t,a){var n=i;if(a.value===e||a.text===e)throw new Error("given options in wrong format");a.group&&(f[a.group]||(f[a.group]=o("<optgroup/>").attr("label",a.group)),n=f[a.group]),n.append("<option value='"+a.value+"'>"+a.text+"</option>")}),l(f,function(t,o){i.append(o)}),i.val(t.value);break;case"checkbox":var C=o.isArray(t.value)?t.value:[t.value];if(!(u=t.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!u[0].value||!u[0].text)throw new Error("given options in wrong format");i=o("<div/>"),l(u,function(e,a){var n=o(d.inputs[t.inputType]);n.find("input").attr("value",a.value),n.find("label").append(a.text),l(C,function(t,o){o===a.value&&n.find("input").prop("checked",!0)}),i.append(n)});break}return t.placeholder&&i.attr("placeholder",t.placeholder),t.pattern&&i.attr("pattern",t.pattern),t.maxlength&&i.attr("maxlength",t.maxlength),r.append(i),r.on("submit",function(t){t.preventDefault(),t.stopPropagation(),n.find(".btn-primary").click()}),(n=m.dialog(t)).off("shown.bs.modal"),n.on("shown.bs.modal",function(){i.focus()}),!0===c&&n.modal("show"),n},m.dialog=function(t){t=i(t);var a=o(d.dialog),r=a.find(".modal-dialog"),c=a.find(".modal-body"),s=t.buttons,u="",p={onEscape:t.onEscape};if(o.fn.modal===e)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(l(s,function(t,o){u+="<button data-bb-handler='"+t+"' type='button' class='btn "+o.className+"'>"+o.label+"</button>",p[t]=o.callback}),c.find(".bootbox-body").html(t.message),!0===t.animate&&a.addClass("fade"),t.className&&a.addClass(t.className),"large"===t.size?r.addClass("modal-lg"):"small"===t.size&&r.addClass("modal-sm"),t.title&&c.before(d.header),t.closeButton){var b=o(d.closeButton);t.title?a.find(".modal-header").prepend(b):b.css("margin-top","-10px").prependTo(c)}return t.title&&a.find(".modal-title").html(t.title),u.length&&(c.after(d.footer),a.find(".modal-footer").html(u)),a.on("hidden.bs.modal",function(t){t.target===this&&a.remove()}),a.on("shown.bs.modal",function(){a.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&a.on("click.dismiss.bs.modal",function(t){a.children(".modal-backdrop").length&&(t.currentTarget=a.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&a.trigger("escape.close.bb")}),a.on("escape.close.bb",function(t){p.onEscape&&n(t,a,p.onEscape)}),a.on("click",".modal-footer button",function(t){var e=o(this).data("bb-handler");n(t,a,p[e])}),a.on("click",".bootbox-close-button",function(t){n(t,a,p.onEscape)}),a.on("keyup",function(t){27===t.which&&a.trigger("escape.close.bb")}),o(t.container).append(a),a.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&a.modal("show"),a},m.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],o.extend(f,t)},m.hideAll=function(){return o(".bootbox").modal("hide"),m};var C={bg_BG:{OK:"",CANCEL:"",CONFIRM:""},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zruit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"",CANCEL:"",CONFIRM:""},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"",CANCEL:"",CONFIRM:""},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"",CANCEL:"",CONFIRM:""},hu:{OK:"OK",CANCEL:"Mgsem",CONFIRM:"Megerst"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"",CONFIRM:""},lt:{OK:"Gerai",CANCEL:"Ataukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprint"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"",CONFIRM:""},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"",CANCEL:"",CONFIRM:""},tr:{OK:"Tamam",CANCEL:"ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"",CONFIRM:""},zh_TW:{OK:"OK",CANCEL:"",CONFIRM:""}};return m.addLocale=function(t,e){return o.each(["OK","CANCEL","CONFIRM"],function(t,o){if(!e[o])throw new Error("Please supply a translation for '"+o+"'")}),C[t]={OK:e.OK,CANCEL:e.CANCEL,CONFIRM:e.CONFIRM},m},m.removeLocale=function(t){return delete C[t],m},m.setLocale=function(t){return m.setDefaults("locale",t)},m.init=function(e){return t(e||o)},m})}).call(this);

(function(){if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.alert");s||i.data("bs.alert",s=new o(this)),"string"==typeof e&&s[e].call(i)})}var i='[data-dismiss="alert"]',o=function(e){t(e).on("click",i,this.close)};o.VERSION="3.3.4",o.TRANSITION_DURATION=150,o.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var s=t(this),n=s.attr("data-target");n||(n=(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,""));var a=t(n);e&&e.preventDefault(),a.length||(a=s.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i())};var s=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=s,this},t(document).on("click.bs.alert.data-api",i,o.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.button"),n="object"==typeof e&&e;s||o.data("bs.button",s=new i(this,n)),"toggle"==e?s.toggle():e&&s.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.3.4",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,s=o.is("input")?"val":"html",n=o.data();e+="Text",null==n.resetText&&o.data("resetText",o[s]()),setTimeout(t.proxy(function(){o[s](null==n[e]?this.options[e]:n[e]),"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.carousel"),n=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),a="string"==typeof e?e:n.slide;s||o.data("bs.carousel",s=new i(this,n)),"number"==typeof e?s.to(e):a?s[a]():n.interval&&s.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var o=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(o)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,o){var s=this.$element.find(".item.active"),n=o||this.getItemForDirection(e,s),a=this.interval,r="next"==e?"left":"right",l=this;if(n.hasClass("active"))return this.sliding=!1;var h=n[0],d=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=t(this.$indicators.children()[this.getItemIndex(n)]);p&&p.addClass("active")}var c=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(n.addClass(e),n[0].offsetWidth,s.addClass(r),n.addClass(r),s.one("bsTransitionEnd",function(){n.removeClass([e,r].join(" ")).addClass("active"),s.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(s.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger(c)),a&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var s=function(i){var o,s=t(this),n=t(s.attr("data-target")||(o=s.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(n.hasClass("carousel")){var a=t.extend({},n.data(),s.data()),r=s.attr("data-slide-to");r&&(a.interval=!1),e.call(n,a),r&&n.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",s).on("click.bs.carousel.data-api","[data-slide-to]",s),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),function(t){"use strict";function e(e){var i,o=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function i(e){return this.each(function(){var i=t(this),s=i.data("bs.collapse"),n=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);!s&&n.toggle&&/show|hide/.test(e)&&(n.toggle=!1),s||i.data("bs.collapse",s=new o(this,n)),"string"==typeof e&&s[e]()})}var o=function(e,i){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.4",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,s=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(s&&s.length&&(e=s.data("bs.collapse"))&&e.transitioning)){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){s&&s.length&&(i.call(s,"hide"),e||s.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[a](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var s=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return s.call(this);this.$element[i](0).one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(o.TRANSITION_DURATION)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,o){var s=t(o);this.addAriaAndCollapsedClass(e(s),s)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var s=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=s,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var s=t(this);s.attr("data-target")||o.preventDefault();var n=e(s),a=n.data("bs.collapse")?"toggle":s.data();i.call(n,a)})}(jQuery),function(t){"use strict";function e(e){e&&3===e.which||(t(s).remove(),t(n).each(function(){var o=t(this),s=i(o),n={relatedTarget:this};s.hasClass("open")&&(s.trigger(e=t.Event("hide.bs.dropdown",n)),e.isDefaultPrevented()||(o.attr("aria-expanded","false"),s.removeClass("open").trigger("hidden.bs.dropdown",n)))}))}function i(e){var i=e.attr("data-target");i||(i=(i=e.attr("href"))&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new a(this)),"string"==typeof e&&o[e].call(i)})}var s=".dropdown-backdrop",n='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.4",a.prototype.toggle=function(o){var s=t(this);if(!s.is(".disabled, :disabled")){var n=i(s),a=n.hasClass("open");if(e(),!a){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var r={relatedTarget:this};if(n.trigger(o=t.Event("show.bs.dropdown",r)),o.isDefaultPrevented())return;s.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger("shown.bs.dropdown",r)}return!1}},a.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var o=t(this);if(e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled")){var s=i(o),a=s.hasClass("open");if(!a&&27!=e.which||a&&27==e.which)return 27==e.which&&s.find(n).trigger("focus"),o.trigger("click");var r=" li:not(.disabled):visible a",l=s.find('[role="menu"]'+r+', [role="listbox"]'+r);if(l.length){var h=l.index(e.target);38==e.which&&h>0&&h--,40==e.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",n,a.prototype.toggle).on("keydown.bs.dropdown.data-api",n,a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',a.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,o){return this.each(function(){var s=t(this),n=s.data("bs.modal"),a=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e);n||s.data("bs.modal",n=new i(this,a)),"string"==typeof e?n[e](o):a.show&&n.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var o=this,s=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var s=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),s&&o.$element[0].offsetWidth,o.$element.addClass("in").attr("aria-hidden",!1),o.enforceFocus();var n=t.Event("shown.bs.modal",{relatedTarget:e});s?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(i.TRANSITION_DURATION):o.$element.trigger("focus").trigger(n)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var o=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&s;if(this.$backdrop=t('<div class="modal-backdrop '+s+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),s=o.attr("href"),n=t(o.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),a=n.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},n.data(),o.data());o.is("a")&&i.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(n,a,this)})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.tooltip"),n="object"==typeof e&&e;!s&&/destroy|hide/.test(e)||(s||o.data("bs.tooltip",s=new i(this,n)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",t,e)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var s=this.options.trigger.split(" "),n=s.length;n--;){var a=s[n];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i&&i.$tip&&i.$tip.is(":visible"))i.hoverState="in";else{if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)}},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var s=this,n=this.tip(),a=this.getUID(this.type);this.setContent(),n.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&n.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(r);h&&(r=r.replace(l,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var d=this.getPosition(),p=n[0].offsetWidth,c=n[0].offsetHeight;if(h){var f=r,u=this.options.container?t(this.options.container):this.$element.parent(),g=this.getPosition(u);r="bottom"==r&&d.bottom+c>g.bottom?"top":"top"==r&&d.top-c<g.top?"bottom":"right"==r&&d.right+p>g.width?"left":"left"==r&&d.left-p<g.left?"right":r,n.removeClass(f).addClass(r)}var m=this.getCalculatedOffset(r,d,p,c);this.applyPlacement(m,r);var v=function(){var t=s.hoverState;s.$element.trigger("shown.bs."+s.type),s.hoverState=null,"out"==t&&s.leave(s)};t.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),s=o[0].offsetWidth,n=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top=e.top+a,e.left=e.left+r,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=n&&(e.top=e.top+n-h);var d=this.getViewportAdjustedDelta(i,e,l,h);d.left?e.left+=d.left:e.top+=d.top;var p=/top|bottom/.test(i),c=p?2*d.left-s+l:2*d.top-n+h,f=p?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][f],p)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function o(){"in"!=s.hoverState&&n.detach(),s.$element.removeAttr("aria-describedby").trigger("hidden.bs."+s.type),e&&e()}var s=this,n=t(this.$tip),a=t.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){var i=(e=e||this.$element)[0],o="BODY"==i.tagName,s=i.getBoundingClientRect();null==s.width&&(s=t.extend({},s,{width:s.right-s.left,height:s.bottom-s.top}));var n=o?{top:0,left:0}:e.offset(),a={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},s,a,r,n)},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var s={top:0,left:0};if(!this.$viewport)return s;var n=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-n-a.scroll,l=e.top+n-a.scroll+o;r<a.top?s.top=a.top-r:l>a.top+a.height&&(s.top=a.top+a.height-l)}else{var h=e.left-n,d=e.left+n+i;h<a.left?s.left=a.left-h:d>a.width&&(s.left=a.left+a.width-d)}return s},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},i.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&((i=t(e.currentTarget).data("bs."+this.type))||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.popover"),n="object"==typeof e&&e;!s&&/destroy|hide/.test(e)||(s||o.data("bs.popover",s=new i(this,n)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.4",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),function(t){"use strict";function e(i,o){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),s=o.data("bs.scrollspy"),n="object"==typeof i&&i;s||o.data("bs.scrollspy",s=new e(this,n)),"string"==typeof i&&s[i]()})}e.VERSION="3.3.4",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),s=e.data("target")||e.attr("href"),n=/^#./.test(s)&&t(s);return n&&n.length&&n.is(":visible")&&[[n[i]().top+o,s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t=this.$scrollElement.scrollTop()+this.options.offset,e=this.getScrollHeight(),i=this.options.offset+e-this.$scrollElement.height(),o=this.offsets,s=this.targets,n=this.activeTarget,a;if(this.scrollHeight!=e&&this.refresh(),t>=i)return n!=(a=s[s.length-1])&&this.activate(a);if(n&&t<o[0])return this.activeTarget=null,this.clear();for(a=o.length;a--;)n!=s[a]&&t>=o[a]&&(void 0===o[a+1]||t<o[a+1])&&this.activate(s[a])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.tab");s||o.data("bs.tab",s=new i(this)),"string"==typeof e&&s[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=(o=e.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a"),n=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:s[0]});if(s.trigger(n),e.trigger(a),!a.isDefaultPrevented()&&!n.isDefaultPrevented()){var r=t(o);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){s.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:s[0]})})}}},i.prototype.activate=function(e,o,s){function n(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),s&&s()}var a=o.find("> .active"),r=s&&t.support.transition&&(a.length&&a.hasClass("fade")||!!o.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),a.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var s=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',s).on("click.bs.tab.data-api",'[data-toggle="pill"]',s)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.affix"),n="object"==typeof e&&e;s||o.data("bs.affix",s=new i(this,n)),"string"==typeof e&&s[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.4",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,o){var s=this.$target.scrollTop(),n=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return s<i&&"top";if("bottom"==this.affixed)return null!=i?!(s+this.unpin<=n.top)&&"bottom":!(s+a<=t-o)&&"bottom";var r=null==this.affixed,l=r?s:n.top,h=r?a:e;return null!=i&&s<=i?"top":null!=o&&l+h>=t-o&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),o=this.options.offset,s=o.top,n=o.bottom,a=t(document.body).height();"object"!=typeof o&&(n=s=o),"function"==typeof s&&(s=o.top(this.$element)),"function"==typeof n&&(n=o.bottom(this.$element));var r=this.getState(a,e,s,n);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-n})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(jQuery)}).call(this);

(function(){downloadAttrSupported="download"in document.createElement("a");var r={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(r){for(var n=0;n<r.length;n++){var i=r[n].string;if(this.versionSearchString=r[n].subString,-1!=i.indexOf(r[n].subString))return r[n].identity}},searchVersion:function(r){var n=r.indexOf(this.versionSearchString);if(-1!=n)return parseFloat(r.substring(n+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};r.init(),supportedBrowser=function(){navigator.sayswho=function(){var r=navigator.userAgent,n,i=r.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d\.]+)/i)||[];return/trident/i.test(i[1])?"IE "+((n=/\brv[ :]+(\d+(\.\d+)?)/g.exec(r)||[])[1]||""):(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(n=r.match(/version\/([\.\d]+)/i))&&(i[2]=n[1]),i.join(" "))}();var n=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./),i=-1!=navigator.appVersion.indexOf("Linux");return"Chrome"==r.browser&&r.version>=30||"Explorer"==r.browser&&r.version>=10||n}();var n=function(){var r={init:function(){this.name=this.getName()},getName:function(){var r="unknown OS";return-1!=navigator.appVersion.indexOf("Win")&&(r="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(r="Mac"),-1!=navigator.appVersion.indexOf("X11")&&(r="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(r="Linux"),r}};return r.init(),"Linux"!=r.name}(),i=function(){return"Safari"==r.browser&&r.version>=7};getUploadFile=function(n){return"Firefox"==r.browser?n.target.result:n.srcElement.result}}).call(this);

(function(){Compress=function(t){t=t||{}},Compress.prototype.compile=function(t){return t.stylesheet.rules.map(this.visit,this).join("")},Compress.prototype.visit=function(t){return this[t.type](t)},Compress.prototype.comment=function(t){if(this.compress)return""},Compress.prototype.import=function(t){return"@import "+t.import+";"},Compress.prototype.media=function(t){return"@media "+t.media+"{"+t.rules.map(this.visit,this).join("")+"}"},Compress.prototype.document=function(t){return"@"+(t.vendor||"")+"document "+t.document+"{"+t.rules.map(this.visit,this).join("")+"}"},Compress.prototype.charset=function(t){return"@charset "+t.charset+";"},Compress.prototype.namespace=function(t){return"@namespace "+t.namespace+";"},Compress.prototype.supports=function(t){return"@supports "+t.supports+" {\n"+this.indent(1)+t.rules.map(this.visit,this).join("\n\n")+this.indent(-1)+"\n}"},Compress.prototype.keyframes=function(t){return"@"+(t.vendor||"")+"keyframes "+t.name+"{"+t.keyframes.map(this.visit,this).join("")+"}"},Compress.prototype.keyframe=function(t){var e=t.declarations;return t.values.join(",")+"{"+e.map(this.visit,this).join("")+"}"},Compress.prototype.page=function(t){return"@page "+(t.selectors.length?t.selectors.join(", ")+" ":"")+"{\n"+this.indent(1)+t.declarations.map(this.visit,this).join("\n")+this.indent(-1)+"\n}"},Compress.prototype.rule=function(t){var e=t.declarations;return e.length?t.selectors.join(",")+"{"+e.map(this.visit,this).join("")+"}":""},Compress.prototype.declaration=function(t){return t.property+":"+t.value+";"}}).call(this);

(function(){Identity=function(t){t=t||{},this.indentation=t.indent},Identity.prototype.compile=function(t){return this.stylesheet(t)},Identity.prototype.visit=function(t){return this[t.type](t)},Identity.prototype.stylesheet=function(t){return t.stylesheet.rules.map(this.visit,this).join("\n\n")},Identity.prototype.comment=function(t){return this.indent()+"/*"+t.comment+"*/"},Identity.prototype.import=function(t){return"@import "+t.import+";"},Identity.prototype.media=function(t){return"@media "+t.media+" {\n"+this.indent(1)+t.rules.map(this.visit,this).join("\n\n")+this.indent(-1)+"\n}"},Identity.prototype.document=function(t){return"@"+(t.vendor||"")+"document "+t.document+"  {\n"+this.indent(1)+t.rules.map(this.visit,this).join("\n\n")+this.indent(-1)+"\n}"},Identity.prototype.charset=function(t){return"@charset "+t.charset+";\n"},Identity.prototype.namespace=function(t){return"@namespace "+t.namespace+";\n"},Identity.prototype.supports=function(t){return"@supports "+t.supports+" {\n"+this.indent(1)+t.rules.map(this.visit,this).join("\n\n")+this.indent(-1)+"\n}"},Identity.prototype.keyframes=function(t){return"@"+(t.vendor||"")+"keyframes "+t.name+" {\n"+this.indent(1)+t.keyframes.map(this.visit,this).join("\n")+this.indent(-1)+"}"},Identity.prototype.keyframe=function(t){var n=t.declarations;return this.indent()+t.values.join(", ")+" {\n"+this.indent(1)+n.map(this.visit,this).join("\n")+this.indent(-1)+"\n"+this.indent()+"}\n"},Identity.prototype.page=function(t){return"@page "+(t.selectors.length?t.selectors.join(", ")+" ":"")+"{\n"+this.indent(1)+t.declarations.map(this.visit,this).join("\n")+this.indent(-1)+"\n}"},Identity.prototype.rule=function(t){var n=this.indent(),i=t.declarations;return i.length?t.selectors.map(function(t){return n+t}).join(",\n")+" {\n"+this.indent(1)+i.map(this.visit,this).join("\n")+this.indent(-1)+"\n"+this.indent()+"}":""},Identity.prototype.declaration=function(t){return this.indent()+t.property+": "+t.value+";"},Identity.prototype.indent=function(t){return this.level=this.level||1,null!=t?(this.level+=t,""):Array(this.level).join(this.indentation||"  ")}}).call(this);

(function(){findProperties=function(r,e){var n=[];try{for(var t=cssParse(r).stylesheet.rules,i=0;i<t.length;i++)for(var s=0;s<e.length;s++)if(t[i].selectors[0]===e[s].selector)for(var u=t[i].declarations,a=0;a<u.length;a++)if(u[a].property===e[s].property){var o={name:e[s].name,value:u[a].value,type:e[s].type};n.push(o)}}catch(r){}return n},findStyleSheetProperty=function(r,e){for(var n=0;n<r.length;n++)if(r[n].name===e)return r[n].property;return""},stringifyProperty=function(r,e,n,t){var i=cssParse(r),s=i.stylesheet.rules;stylesheetProp=findStyleSheetProperty(e,n);for(var u=0;u<s.length;u++)for(var a=s[u].declarations,o=0;o<a.length;o++)a[o].property===stylesheetProp&&(a[o].value=t);return cssStringify(i)},cssParse=function(r,e){function n(r){var e=r.match(/\n/g);e&&(j+=e.length);var n=r.lastIndexOf("\n");q=~n?r.length-n:q+r.length}function t(){var r={line:j,column:q};return e.position?function(e){return e.position={start:r,end:{line:j,column:q}},p(),e}:i}function i(r){return p(),r}function s(e){var n=new Error(e+" near line "+j+":"+q);throw n.line=j,n.column=q,n.source=r,n}function u(){return{type:"stylesheet",stylesheet:{rules:f()}}}function a(){return c(/^{\s*/)}function o(){return c(/^}/)}function f(){var e,n=[];for(p(),l(n);"}"!=r[0]&&(e=R()||b());)n.push(e),l(n);return n}function c(e){var t=e.exec(r);if(t){var i=t[0];return n(i),r=r.slice(i.length),t}}function p(){c(/^\s*/)}function l(r){var e;for(r=r||[];e=m();)r.push(e);return r}function m(){var e=t();if("/"==r[0]&&"*"==r[1]){for(var i=2;null!=r[i]&&("*"!=r[i]||"/"!=r[i+1]);)++i;i+=2;var s=r.slice(2,i-2);return q+=2,n(s),r=r.slice(i),q+=2,e({type:"comment",comment:s})}}function v(){var r=c(/^([^{]+)/);if(r)return r[0].trim().split(/\s*,\s*/)}function y(){var r=t(),e=c(/^(\*?[-\/\*\w]+)\s*/);if(e){if(e=e[0],!c(/^:\s*/))return s("property missing ':'");var n=c(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/);if(!n)return s("property missing value");var i=r({type:"declaration",property:e,value:n[0].trim()});return c(/^[;\s]*/),i}}function g(){var r=[];if(!a())return s("missing '{'");l(r);for(var e;e=y();)r.push(e),l(r);return o()?r:s("missing '}'")}function h(){for(var r,e=[],n=t();r=c(/^(from|to|\d+%|\.\d+%|\d+\.\d+%)\s*/);)e.push(r[1]),c(/^,\s*/);if(e.length)return n({type:"keyframe",values:e,declarations:g()})}function d(){var r=t(),e=c(/^@([-\w]+)?keyframes */);if(e){var n=e[1];if(!(e=c(/^([-\w]+)\s*/)))return s("@keyframes missing name");var i=e[1];if(!a())return s("@keyframes missing '{'");for(var u,f=l();u=h();)f.push(u),f=f.concat(l());return o()?r({type:"keyframes",name:i,vendor:n,keyframes:f}):s("@keyframes missing '}'")}}function P(){var r=t(),e=c(/^@supports *([^{]+)/);if(e){var n=e[1].trim();if(!a())return s("@supports missing '{'");var i=l().concat(f());return o()?r({type:"supports",supports:n,rules:i}):s("@supports missing '}'")}}function k(){var r=t(),e=c(/^@media *([^{]+)/);if(e){var n=e[1].trim();if(!a())return s("@media missing '{'");var i=l().concat(f());return o()?r({type:"media",media:n,rules:i}):s("@media missing '}'")}}function w(){var r=t();if(c(/^@page */)){var e=v()||[];if(!a())return s("@page missing '{'");for(var n=l(),i;i=y();)n.push(i),n=n.concat(l());return o()?r({type:"page",selectors:e,declarations:n}):s("@page missing '}'")}}function S(){var r=t(),e=c(/^@([-\w]+)?document *([^{]+)/);if(e){var n=(e[1]||"").trim(),i=e[2].trim();if(!a())return s("@document missing '{'");var u=l().concat(f());return o()?r({type:"document",document:i,vendor:n,rules:u}):s("@document missing '}'")}}function x(){return O("import")}function E(){return O("charset")}function I(){return O("namespace")}function O(r){var e=t(),n=c(new RegExp("^@"+r+" *([^;\\n]+);"));if(n){var i={type:r};return i[r]=n[1].trim(),e(i)}}function R(){return d()||k()||P()||x()||E()||I()||S()||w()}function b(){var r=t(),e=v();if(e)return l(),r({type:"rule",selectors:e,declarations:g()})}e=e||{};var j=1,q=1;return u()}}).call(this);

(function(){cssStringify=function(n,e){return((e=e||{}).compress?new Compress(e):new Identity(e)).compile(n)}}).call(this);

(function(){!function(t,e){"use strict";if("function"==typeof define&&define.amd)define([],e);else if("object"==typeof exports)module.exports=e();else{var n="hopscotch";if(t[n])return;t[n]=e()}}(this,function(){var Hopscotch,HopscotchBubble,HopscotchCalloutManager,HopscotchI18N,customI18N,customRenderer,customEscape,templateToUse="bubble_default",Sizzle=window.Sizzle||null,utils,callbacks,helpers,winLoadHandler,defaultOpts,winHopscotch,undefinedStr="undefined",waitingToStart=!1,hasJquery="undefined"!=typeof jQuery,hasSessionStorage=!1,isStorageWritable=!1,document=window.document,validIdRegEx=/^[a-zA-Z]+[a-zA-Z0-9_-]*$/,rtlMatches={left:"right",right:"left"};try{void 0!==window.sessionStorage&&(hasSessionStorage=!0,sessionStorage.setItem("hopscotch.test.storage","ok"),sessionStorage.removeItem("hopscotch.test.storage"),isStorageWritable=!0)}catch(t){}return defaultOpts={smoothScroll:!0,scrollDuration:1e3,scrollTopMargin:200,showCloseButton:!0,showPrevButton:!1,showNextButton:!0,bubbleWidth:280,bubblePadding:15,arrowWidth:20,skipIfNoElement:!0,isRtl:!1,cookieName:"hopscotch.tour.state"},Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),winLoadHandler=function(){waitingToStart&&winHopscotch.startTour()},(utils={addClass:function(t,e){var n,i,o,s,r;if(t.className){for(i=e.split(/\s+/),n=" "+t.className+" ",s=0,r=i.length;s<r;++s)n.indexOf(" "+i[s]+" ")<0&&(n+=i[s]+" ");t.className=n.replace(/^\s+|\s+$/g,"")}else t.className=e},removeClass:function(t,e){var n,i,o,s,r;for(i=e.split(/\s+/),n=" "+t.className+" ",s=0,r=i.length;s<r;++s)n=n.replace(" "+i[s]+" "," ");t.className=n.replace(/^\s+|\s+$/g,"")},hasClass:function(t,e){var n;return!!t.className&&-1!==(n=" "+t.className+" ").indexOf(" "+e+" ")},getPixelValue:function(t){var e=typeof t;return"number"===e?t:"string"===e?parseInt(t,10):0},valOrDefault:function(t,e){return void 0!==t?t:e},invokeCallbackArrayHelper:function(t){var e;if(Array.isArray(t)&&"function"==typeof(e=helpers[t[0]]))return e.apply(this,t.slice(1))},invokeCallbackArray:function(t){var e,n;if(Array.isArray(t)){if("string"==typeof t[0])return utils.invokeCallbackArrayHelper(t);for(e=0,n=t.length;e<n;++e)utils.invokeCallback(t[e])}},invokeCallback:function(t){return"function"==typeof t?t():"string"==typeof t&&helpers[t]?helpers[t]():utils.invokeCallbackArray(t)},invokeEventCallbacks:function(t,e){var n=callbacks[t],i,o,s,r;if(e)return this.invokeCallback(e);for(s=0,r=n.length;s<r;++s)this.invokeCallback(n[s].cb)},getScrollTop:function(){var t;return t=void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop},getScrollLeft:function(){var t;return t=void 0!==window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft},getWindowHeight:function(){return window.innerHeight||document.documentElement.clientHeight},addEvtListener:function(t,e,n){if(t)return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},removeEvtListener:function(t,e,n){if(t)return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},documentIsReady:function(){return"complete"===document.readyState||"interactive"===document.readyState},evtPreventDefault:function(t){t.preventDefault?t.preventDefault():event&&(event.returnValue=!1)},extend:function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},getStepTargetHelper:function(t){var e=document.getElementById(t);if(e)return e;if(hasJquery)return(e=jQuery(t)).length?e[0]:null;if(Sizzle)return(e=new Sizzle(t)).length?e[0]:null;if(document.querySelector)try{return document.querySelector(t)}catch(t){}return/^#[a-zA-Z][\w-_:.]*$/.test(t)?document.getElementById(t.substring(1)):null},getStepTarget:function(t){var e;if(!t||!t.target)return null;if("string"==typeof t.target)return utils.getStepTargetHelper(t.target);if(Array.isArray(t.target)){var n,i;for(n=0,i=t.target.length;n<i;n++)if("string"==typeof t.target[n]&&(e=utils.getStepTargetHelper(t.target[n])))return e;return null}return t.target},getI18NString:function(t){return customI18N[t]||HopscotchI18N[t]},setState:function(t,e,n){var i="",o;if(hasSessionStorage&&isStorageWritable)try{sessionStorage.setItem(t,e)}catch(i){isStorageWritable=!1,this.setState(t,e,n)}else hasSessionStorage&&sessionStorage.removeItem(t),n&&((o=new Date).setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toGMTString()),document.cookie=t+"="+e+i+"; path=/"},getState:function(t){var e=t+"=",n=document.cookie.split(";"),i,o,s;if(hasSessionStorage&&(s=sessionStorage.getItem(t)))return s;for(i=0;i<n.length;i++){for(o=n[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(e)){s=o.substring(e.length,o.length);break}}return s},clearState:function(t){hasSessionStorage?sessionStorage.removeItem(t):this.setState(t,"",-1)},normalizePlacement:function(t){!t.placement&&t.orientation&&(t.placement=t.orientation)},flipPlacement:function(t){if(t.isRtl&&!t._isFlipped){var e=["orientation","placement"],n,i;t.xOffset&&(t.xOffset=-1*this.getPixelValue(t.xOffset));for(i in e)n=e[i],t.hasOwnProperty(n)&&rtlMatches.hasOwnProperty(t[n])&&(t[n]=rtlMatches[t[n]]);t._isFlipped=!0}}}).addEvtListener(window,"load",winLoadHandler),callbacks={next:[],prev:[],start:[],end:[],show:[],error:[],close:[]},helpers={},HopscotchI18N={stepNums:null,nextBtn:"Next",prevBtn:"Back",doneBtn:"Done",skipBtn:"Skip",closeTooltip:"Close"},customI18N={},HopscotchBubble=function(t){this.init(t)},HopscotchBubble.prototype={isShowing:!1,currStep:void 0,setPosition:function(t){var e,n,i,o,s,r,l,a=utils.getStepTarget(t),u=this.element,c=this.arrowEl,h=t.isRtl?"right":"left";if(utils.flipPlacement(t),utils.normalizePlacement(t),n=u.offsetWidth,e=u.offsetHeight,utils.removeClass(u,"fade-in-down fade-in-up fade-in-left fade-in-right"),i=a.getBoundingClientRect(),l=t.isRtl?i.right-n:i.left,"top"===t.placement)o=i.top-e-this.opt.arrowWidth,s=l;else if("bottom"===t.placement)o=i.bottom+this.opt.arrowWidth,s=l;else if("left"===t.placement)o=i.top,s=i.left-n-this.opt.arrowWidth;else{if("right"!==t.placement)throw new Error("Bubble placement failed because step.placement is invalid or undefined!");o=i.top,s=i.right+this.opt.arrowWidth}(r="center"!==t.arrowOffset?utils.getPixelValue(t.arrowOffset):t.arrowOffset)?"top"===t.placement||"bottom"===t.placement?(c.style.top="",c.style[h]="center"===r?Math.floor(n/2-c.offsetWidth/2)+"px":r+"px"):"left"!==t.placement&&"right"!==t.placement||(c.style[h]="",c.style.top="center"===r?Math.floor(e/2-c.offsetHeight/2)+"px":r+"px"):(c.style.top="",c.style[h]=""),"center"===t.xOffset?s=i.left+a.offsetWidth/2-n/2:s+=utils.getPixelValue(t.xOffset),"center"===t.yOffset?o=i.top+a.offsetHeight/2-e/2:o+=utils.getPixelValue(t.yOffset),t.fixedElement||(o+=utils.getScrollTop(),s+=utils.getScrollLeft()),u.style.position=t.fixedElement?"fixed":"absolute",u.style.top=o+"px",u.style.left=s+"px"},render:function(t,e,n){var o=this.element,s,r,l,a,u,c,h,p;if(t?this.currStep=t:this.currStep&&(t=this.currStep),this.opt.isTourBubble?(a=winHopscotch.getCurrTour())&&(r=a.customData,s=a.customRenderer,t.isRtl=t.hasOwnProperty("isRtl")?t.isRtl:a.hasOwnProperty("isRtl")?a.isRtl:this.opt.isRtl,l=a.unsafe,Array.isArray(a.steps)&&(h=e===(u=a.steps.length)-1)):(r=t.customData,s=t.customRenderer,l=t.unsafe,t.isRtl=t.hasOwnProperty("isRtl")?t.isRtl:this.opt.isRtl),c=h?utils.getI18NString("doneBtn"):t.showSkip?utils.getI18NString("skipBtn"):utils.getI18NString("nextBtn"),utils.flipPlacement(t),utils.normalizePlacement(t),this.placement=t.placement,p={i18n:{prevBtn:utils.getI18NString("prevBtn"),nextBtn:c,closeTooltip:utils.getI18NString("closeTooltip"),stepNum:this._getStepI18nNum(this._getStepNum(e))},buttons:{showPrev:utils.valOrDefault(t.showPrevButton,this.opt.showPrevButton)&&this._getStepNum(e)>0,showNext:utils.valOrDefault(t.showNextButton,this.opt.showNextButton),showCTA:utils.valOrDefault(t.showCTAButton&&t.ctaLabel,!1),ctaLabel:t.ctaLabel,showClose:utils.valOrDefault(this.opt.showCloseButton,!0)},step:{num:e,isLast:utils.valOrDefault(h,!1),title:t.title||"",content:t.content||"",isRtl:t.isRtl,placement:t.placement,padding:utils.valOrDefault(t.padding,this.opt.bubblePadding),width:utils.getPixelValue(t.width)||this.opt.bubbleWidth,customData:t.customData||{}},tour:{isTour:this.opt.isTourBubble,numSteps:u,unsafe:utils.valOrDefault(l,!1),customData:r||{}}},"function"==typeof s)o.innerHTML=s(p);else if("string"==typeof s){if(!winHopscotch.templates||"function"!=typeof winHopscotch.templates[s])throw new Error('Bubble rendering failed - template "'+s+'" is not a function.');o.innerHTML=winHopscotch.templates[s](p)}else if(customRenderer)o.innerHTML=customRenderer(p);else{if(!winHopscotch.templates||"function"!=typeof winHopscotch.templates[templateToUse])throw new Error('Bubble rendering failed - template "'+templateToUse+'" is not a function.');o.innerHTML=winHopscotch.templates[templateToUse](p)}for(children=o.children,numChildren=children.length,i=0;i<numChildren;i++)node=children[i],utils.hasClass(node,"hopscotch-arrow")&&(this.arrowEl=node);return o.style.zIndex="number"==typeof t.zindex?t.zindex:"",this._setArrow(t.placement),this.hide(!1),this.setPosition(t),n&&n(!t.fixedElement),this},_getStepNum:function(t){var e=0,n,i=winHopscotch.getSkippedStepsIndexes(),o,s=i.length;for(o=0;o<s;o++)(n=i[o])<t&&e++;return t-e},_getStepI18nNum:function(t){var e=utils.getI18NString("stepNums");return e&&t<e.length?t=e[t]:t+=1,t},_setArrow:function(t){utils.removeClass(this.arrowEl,"down up right left"),"top"===t?utils.addClass(this.arrowEl,"down"):"bottom"===t?utils.addClass(this.arrowEl,"up"):"left"===t?utils.addClass(this.arrowEl,"right"):"right"===t&&utils.addClass(this.arrowEl,"left")},_getArrowDirection:function(){return"top"===this.placement?"down":"bottom"===this.placement?"up":"left"===this.placement?"right":"right"===this.placement?"left":void 0},show:function(){var t=this,e="fade-in-"+this._getArrowDirection(),n=1e3;return utils.removeClass(this.element,"hide"),utils.addClass(this.element,e),setTimeout(function(){utils.removeClass(t.element,"invisible")},50),setTimeout(function(){utils.removeClass(t.element,e)},1e3),this.isShowing=!0,this},hide:function(t){var e=this.element;return t=utils.valOrDefault(t,!0),e.style.top="",e.style.left="",t?(utils.addClass(e,"hide"),utils.removeClass(e,"invisible")):(utils.removeClass(e,"hide"),utils.addClass(e,"invisible")),utils.removeClass(e,"animate fade-in-up fade-in-down fade-in-right fade-in-left"),this.isShowing=!1,this},destroy:function(){var t=this.element;t&&t.parentNode.removeChild(t),utils.removeEvtListener(t,"click",this.clickCb)},_handleBubbleClick:function(t){function e(n){return n===t.currentTarget?null:utils.hasClass(n,"hopscotch-cta")?"cta":utils.hasClass(n,"hopscotch-next")?"next":utils.hasClass(n,"hopscotch-prev")?"prev":utils.hasClass(n,"hopscotch-close")?"close":e(n.parentElement)}var n;if("cta"===(n=e((t=t||window.event).target||t.srcElement)))this.opt.isTourBubble||winHopscotch.getCalloutManager().removeCallout(this.currStep.id),this.currStep.onCTA&&utils.invokeCallback(this.currStep.onCTA);else if("next"===n)winHopscotch.nextStep(!0);else if("prev"===n)winHopscotch.prevStep(!0);else if("close"===n){if(this.opt.isTourBubble){var i=winHopscotch.getCurrStepNum()===winHopscotch.getCurrTour().steps.length-1;utils.invokeEventCallbacks("close"),winHopscotch.endTour(!0,i)}else this.opt.onClose&&utils.invokeCallback(this.opt.onClose),this.opt.id&&!this.opt.isTourBubble?winHopscotch.getCalloutManager().removeCallout(this.opt.id):this.destroy();utils.evtPreventDefault(t)}},init:function(t){var e=document.createElement("div"),n=this,i=!1,o,s,r,l,a,u,c,h;this.element=e,h={showPrevButton:defaultOpts.showPrevButton,showNextButton:defaultOpts.showNextButton,bubbleWidth:defaultOpts.bubbleWidth,bubblePadding:defaultOpts.bubblePadding,arrowWidth:defaultOpts.arrowWidth,isRtl:defaultOpts.isRtl,showNumber:!0,isTourBubble:!0},t=void 0===t?{}:t,utils.extend(h,t),this.opt=h,e.className="hopscotch-bubble animated",h.isTourBubble?(c=winHopscotch.getCurrTour())&&utils.addClass(e,"tour-"+c.id):utils.addClass(e,"hopscotch-callout no-number"),o=function(){!i&&n.isShowing&&(i=!0,setTimeout(function(){n.setPosition(n.currStep),i=!1},100))},utils.addEvtListener(window,"resize",o),this.clickCb=function(t){n._handleBubbleClick(t)},utils.addEvtListener(e,"click",this.clickCb),this.hide(),utils.documentIsReady()?document.body.appendChild(e):(document.addEventListener?(s=function(){document.removeEventListener("DOMContentLoaded",s),window.removeEventListener("load",s),document.body.appendChild(e)},document.addEventListener("DOMContentLoaded",s,!1)):(s=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",s),window.detachEvent("onload",s),document.body.appendChild(e))},document.attachEvent("onreadystatechange",s)),utils.addEvtListener(window,"load",s))}},HopscotchCalloutManager=function(){var t={},e={};this.createCallout=function(n){var i;if(!n.id)throw new Error("Must specify a callout id.");if(!validIdRegEx.test(n.id))throw new Error("Callout ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");if(t[n.id])throw new Error("Callout by that id already exists. Please choose a unique id.");return n.showNextButton=n.showPrevButton=!1,n.isTourBubble=!1,i=new HopscotchBubble(n),t[n.id]=i,e[n.id]=n,n.target&&i.render(n,null,function(){i.show(),n.onShow&&utils.invokeCallback(n.onShow)}),i},this.getCallout=function(e){return t[e]},this.removeAllCallouts=function(){var e;for(e in t)t.hasOwnProperty(e)&&this.removeCallout(e)},this.removeCallout=function(n){var i=t[n];t[n]=null,e[n]=null,i&&i.destroy()},this.refreshCalloutPositions=function(){var n,i,o;for(n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(i=t[n],o=e[n],i&&o&&i.setPosition(o))}},Hopscotch=function(t){var e=this,n,i,o,s,r,l={},a,u,c=[],h,p=function(t){return n||(n=new HopscotchBubble(o)),t&&utils.extend(n.opt,{bubblePadding:d("bubblePadding"),bubbleWidth:d("bubbleWidth"),showNextButton:d("showNextButton"),showPrevButton:d("showPrevButton"),showCloseButton:d("showCloseButton"),arrowWidth:d("arrowWidth"),isRtl:d("isRtl")}),n},f=function(){n&&(n.destroy(),n=null)},d=function(t){return void 0===o?defaultOpts[t]:utils.valOrDefault(o[t],defaultOpts[t])},g=function(){var t;return t=!s||r<0||r>=s.steps.length?null:s.steps[r]},v=function(){e.nextStep()},m=function(t){var e=p().element,n=utils.getPixelValue(e.style.top),i=n+utils.getPixelValue(e.offsetHeight),o=utils.getStepTarget(g()).getBoundingClientRect(),s=o.top+utils.getScrollTop(),r=o.bottom+utils.getScrollTop(),l=n<s?n:s,a=i>r?i:r,u=utils.getScrollTop(),c=u+utils.getWindowHeight(),h=l-d("scrollTopMargin"),f,v,m,b,w,S,C;l>=u&&(l<=u+d("scrollTopMargin")||a<=c)?t&&t():d("smoothScroll")?"undefined"!=typeof YAHOO&&void 0!==YAHOO.env&&void 0!==YAHOO.env.ua&&void 0!==YAHOO.util&&void 0!==YAHOO.util.Scroll?(f=YAHOO.env.ua.webkit?document.body:document.documentElement,m=YAHOO.util.Easing?YAHOO.util.Easing.easeOut:void 0,(v=new YAHOO.util.Scroll(f,{scroll:{to:[0,h]}},d("scrollDuration")/1e3,m)).onComplete.subscribe(t),v.animate()):hasJquery?jQuery("body, html").animate({scrollTop:h},d("scrollDuration"),t):(h<0&&(h=0),b=u>l?-1:1,w=Math.abs(u-h)/(d("scrollDuration")/10),(C=function(){var e=utils.getScrollTop(),n=e+b*w;if(b>0&&n>=h||b<0&&n<=h)return n=h,t&&t(),void window.scrollTo(0,n);window.scrollTo(0,n),utils.getScrollTop()!==e?setTimeout(C,10):t&&t()})()):(window.scrollTo(0,h),t&&t())},b=function(t,e){var n,i,o;r+t>=0&&r+t<s.steps.length?(r+=t,o=function(){(n=utils.getStepTarget(i))?(l[r]&&delete l[r],e(r)):(l[r]=!0,utils.invokeEventCallbacks("error"),b(t,e))},(i=g()).delay?setTimeout(o,i.delay):o()):e(-1)},w=function(t,e){var n=this,i,o,l,a;if(p().hide(),t=utils.valOrDefault(t,!0),(i=g()).nextOnTargetClick&&utils.removeEvtListener(utils.getStepTarget(i),"click",v),o=i,l=e>0?o.multipage:r>0&&s.steps[r-1].multipage,a=function(n){var i;if(-1===n)return this.endTour(!0);t&&(i=e>0?utils.invokeEventCallbacks("next",o.onNext):utils.invokeEventCallbacks("prev",o.onPrev)),n===r&&(l?_():(i=utils.valOrDefault(i,!0))?this.showStep(n):this.endTour(!1))},!l&&d("skipIfNoElement"))b(e,function(t){a.call(n,t)});else if(r+e>=0&&r+e<s.steps.length){if(r+=e,i=g(),!utils.getStepTarget(i)&&!l)return utils.invokeEventCallbacks("error"),this.endTour(!0,!1);a.call(this,r)}return this},S=function(t){var e={},n,i,o;for(n in t)t.hasOwnProperty(n)&&"id"!==n&&"steps"!==n&&(e[n]=t[n]);return h.call(this,e,!0),(i=utils.getState(d("cookieName")))&&(o=i.split(":"),a=o[0],u=o[1],o.length>2&&(c=o[2].split(",")),u=parseInt(u,10)),this},C=function(t,e,n){var i,o;if(r=t||0,l=e||{},i=g(),o=utils.getStepTarget(i))n(r);else if(!o){if(utils.invokeEventCallbacks("error"),l[r]=!0,d("skipIfNoElement"))return void b(1,n);n(r=-1)}},y=function(t){function e(){i.show(),utils.invokeEventCallbacks("show",n.onShow)}var n=s.steps[t],i=p(),o=utils.getStepTarget(n);r!==t&&g().nextOnTargetClick&&utils.removeEvtListener(utils.getStepTarget(g()),"click",v),r=t,i.hide(!1),i.render(n,t,function(t){t?m(e):e(),n.nextOnTargetClick&&utils.addEvtListener(o,"click",v)}),_()},_=function(){var t=s.id+":"+r,e=winHopscotch.getSkippedStepsIndexes();e&&e.length>0&&(t+=":"+e.join(",")),utils.setState(d("cookieName"),t,1)},T=function(t){t&&this.configure(t)};this.getCalloutManager=function(){return void 0===i&&(i=new HopscotchCalloutManager),i},this.startTour=function(t,e){var n,i,o={},r=this;if(!s){if(!t)throw new Error("Tour data is required for startTour.");if(!t.id||!validIdRegEx.test(t.id))throw new Error("Tour ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");s=t,S.call(this,t)}if(void 0!==e){if(e>=s.steps.length)throw new Error("Specified step number out of bounds.");i=e}if(!utils.documentIsReady())return waitingToStart=!0,this;if(void 0===i&&s.id===a&&void 0!==u){if(i=u,c.length>0)for(var l=0,h=c.length;l<h;l++)o[c[l]]=!0}else i||(i=0);return C(i,o,function(t){-1!==t&&utils.getStepTarget(s.steps[t])?(utils.invokeEventCallbacks("start"),(n=p()).hide(!1),r.isActive=!0,utils.getStepTarget(g())?r.showStep(t):(utils.invokeEventCallbacks("error"),d("skipIfNoElement")&&r.nextStep(!1))):r.endTour(!1,!1)}),this},this.showStep=function(t){var e=s.steps[t];if(utils.getStepTarget(e))return e.delay?setTimeout(function(){y(t)},e.delay):y(t),this},this.prevStep=function(t){return w.call(this,t,-1),this},this.nextStep=function(t){return w.call(this,t,1),this},this.endTour=function(t,e){var n=p(),i;return t=utils.valOrDefault(t,!0),e=utils.valOrDefault(e,!0),s&&(i=g())&&i.nextOnTargetClick&&utils.removeEvtListener(utils.getStepTarget(i),"click",v),r=0,u=void 0,n.hide(),t&&utils.clearState(d("cookieName")),this.isActive&&(this.isActive=!1,s&&e&&utils.invokeEventCallbacks("end")),this.removeCallbacks(null,!0),this.resetDefaultOptions(),f(),s=null,this},this.getCurrTour=function(){return s},this.getCurrTarget=function(){return utils.getStepTarget(g())},this.getCurrStepNum=function(){return r},this.getSkippedStepsIndexes=function(){var t=[],e;for(e in l)t.push(e);return t},this.refreshBubblePosition=function(){var t=g();return t&&p().setPosition(t),this.getCalloutManager().refreshCalloutPositions(),this},this.listen=function(t,e,n){return t&&callbacks[t].push({cb:e,fromTour:n}),this},this.unlisten=function(t,e){var n=callbacks[t],i,o;for(i=0,o=n.length;i<o;++i)n[i]===e&&n.splice(i,1);return this},this.removeCallbacks=function(t,e){var n,i,o,s;for(s in callbacks)if(!t||t===s)if(e)for(i=0,o=(n=callbacks[s]).length;i<o;++i)n[i].fromTour&&(n.splice(i--,1),--o);else callbacks[s]=[];return this},this.registerHelper=function(t,e){"string"==typeof t&&"function"==typeof e&&(helpers[t]=e)},this.unregisterHelper=function(t){helpers[t]=null},this.invokeHelper=function(t){var e=[],n,i;for(n=1,i=arguments.length;n<i;++n)e.push(arguments[n]);helpers[t]&&helpers[t].call(null,e)},this.setCookieName=function(t){return o.cookieName=t,this},this.resetDefaultOptions=function(){return o={},this},this.resetDefaultI18N=function(){return customI18N={},this},this.getState=function(){return utils.getState(d("cookieName"))},h=function(t,e){var n,i=["next","prev","start","end","show","error","close"],s,r,l,a;for(o||this.resetDefaultOptions(),utils.extend(o,t),t&&utils.extend(customI18N,t.i18n),l=0,a=i.length;l<a;++l)t[s="on"+i[l].charAt(0).toUpperCase()+i[l].substring(1)]&&this.listen(i[l],t[s],e);return n=p(!0),this},this.configure=function(t){return h.call(this,t,!1)},this.setRenderer=function(t){var e=typeof t;return"string"===e?(templateToUse=t,customRenderer=void 0):"function"===e&&(customRenderer=t),this},this.setEscaper=function(t){return"function"==typeof t&&(customEscape=t),this},T.call(this,t)},winHopscotch=new Hopscotch,function(){var _={};_.escape=function(t){return customEscape?customEscape(t):null==t?"":(""+t).replace(new RegExp("[&<>\"']","g"),function(t){return"&"==t?"&amp;":"<"==t?"&lt;":">"==t?"&gt;":'"'==t?"&quot;":"'"==t?"&#x27;":void 0})},this.templates=this.templates||{},this.templates.bubble_default=function(obj){function print(){__p+=__j.call(arguments,"")}function optEscape(t,e){return e?_.escape(t):t}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='\n<div class="hopscotch-bubble-container" style="width: '+(null==(__t=step.width)?"":__t)+"px; padding: "+(null==(__t=step.padding)?"":__t)+'px;">\n  ',tour.isTour&&(__p+='<span class="hopscotch-bubble-number">'+(null==(__t=i18n.stepNum)?"":__t)+"</span>"),__p+='\n  <div class="hopscotch-bubble-content">\n    ',""!==step.title&&(__p+='<h3 class="hopscotch-title">'+(null==(__t=optEscape(step.title,tour.unsafe))?"":__t)+"</h3>"),__p+="\n    ",""!==step.content&&(__p+='<div class="hopscotch-content">'+(null==(__t=optEscape(step.content,tour.unsafe))?"":__t)+"</div>"),__p+='\n  </div>\n  <div class="hopscotch-actions">\n    ',buttons.showPrev&&(__p+='<button class="hopscotch-nav-button prev hopscotch-prev">'+(null==(__t=i18n.prevBtn)?"":__t)+"</button>"),__p+="\n    ",buttons.showCTA&&(__p+='<button class="hopscotch-nav-button next hopscotch-cta">'+(null==(__t=buttons.ctaLabel)?"":__t)+"</button>"),__p+="\n    ",buttons.showNext&&(__p+='<button class="hopscotch-nav-button next hopscotch-next">'+(null==(__t=i18n.nextBtn)?"":__t)+"</button>"),__p+="\n  </div>\n  ",buttons.showClose&&(__p+='<a title="'+(null==(__t=i18n.closeTooltip)?"":__t)+'" href="#" class="hopscotch-bubble-close hopscotch-close">'+(null==(__t=i18n.closeTooltip)?"":__t)+"</a>"),__p+='\n</div>\n<div class="hopscotch-bubble-arrow-container hopscotch-arrow">\n  <div class="hopscotch-bubble-arrow-border"></div>\n  <div class="hopscotch-bubble-arrow"></div>\n</div>';return __p}}.call(winHopscotch),winHopscotch})}).call(this);

(function(){/*
 * @author  Mudit Ameta
 * @license https://github.com/zeusdeux/isInViewport/blob/master/license.md MIT
 */
!function(a,b){function c(b){var c,d=a("<div></div>").css({width:"100%"});return b.append(d),c=b.width()-d.width(),d.remove(),c}function d(e,f){var g=e.getBoundingClientRect(),h=g.top,i=g.bottom,j=g.left,k=g.right,l=a.extend({tolerance:0,viewport:b},f),m=!1,n=l.viewport.jquery?l.viewport:a(l.viewport);n.length||(console.warn("isInViewport: The viewport selector you have provided matches no element on page."),console.warn("isInViewport: Defaulting to viewport as window"),n=a(b));var o=n.height(),p=n.width(),q=n.get(0).toString();if(n[0]!==b&&"[object Window]"!==q&&"[object DOMWindow]"!==q){var r=n.get(0).getBoundingClientRect();h-=r.top,i-=r.top,j-=r.left,k-=r.left,d.scrollBarWidth=d.scrollBarWidth||c(n),p-=d.scrollBarWidth}return l.tolerance=~~Math.round(parseFloat(l.tolerance)),l.tolerance<0&&(l.tolerance=o+l.tolerance),0>=k||j>=p?m:m=l.tolerance?!!(h<=l.tolerance&&i>=l.tolerance):!!(i>0&&o>=h)}String.prototype.hasOwnProperty("trim")||(String.prototype.trim=function(){return this.replace(/^\s*(.*?)\s*$/,"$1")});var e=function(b){if(1===arguments.length&&"function"==typeof b&&(b=[b]),!(b instanceof Array))throw new SyntaxError("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions");for(var c=0;c<b.length;c++)if("function"==typeof b[c])for(var d=0;d<this.length;d++)b[c].call(a(this[d]));else console.warn("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions"),console.warn("isInViewport: Ignoring non-function values in array and moving on");return this};a.fn["do"]=function(a){return console.warn("isInViewport: .do causes issues in IE and some browsers since its a reserved. Use $.fn.run instead i.e., $(el).run(fn)."),e(a)},a.fn.run=e,a.extend(a.expr[":"],{"in-viewport":function(a,b,c){if(c[3]){var e=c[3].split(",");return 1===e.length&&isNaN(e[0])&&(e[1]=e[0],e[0]=void 0),d(a,{tolerance:e[0]?e[0].trim():void 0,viewport:e[1]?e[1].trim():void 0})}return d(a)}})}(jQuery,window);
}).call(this);


(function(){!function(t,e){function i(e,i){var n,o,a,h=e.nodeName.toLowerCase();return"area"===h?(n=e.parentNode,o=n.name,!(!e.href||!o||"map"!==n.nodeName.toLowerCase())&&(!!(a=t("img[usemap=#"+o+"]")[0])&&s(a))):(/input|select|textarea|button|object/.test(h)?!e.disabled:"a"===h?e.href||i:i)&&s(e)}function s(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var n=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i=t(this[0]),s,n;i.length&&i[0]!==document;){if(("absolute"===(s=i.css("position"))||"relative"===s||"fixed"===s)&&(n=parseInt(i.css("zIndex"),10),!isNaN(n)&&0!==n))return n;i=i.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var s=t.attr(e,"tabindex"),n=isNaN(s);return(n||s>=0)&&i(e,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i){var s,n=t.plugins[e];if(n&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(s=0;s<n.length;s++)t.options[n[s][0]]&&n[s][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0||(e[s]=1,n=e[s]>0,e[s]=0,n)}})}(jQuery),function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i=0,s;null!=(s=e[i]);i++)try{t(s).triggerHandler("remove")}catch(t){}n(e)},t.widget=function(e,i,s){var n,o,a,h,r={},l=e.split(".")[0];e=e.split(".")[1],n=l+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[l]=t[l]||{},o=t[l][e],a=t[l][e]=function(t,e){if(!this._createWidget)return new a(t,e);arguments.length&&this._createWidget(t,e)},t.extend(a,o,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),(h=new i).options=t.widget.extend({},h.options),t.each(s,function(e,s){t.isFunction(s)?r[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},n=function(t){return i.prototype[e].apply(this,t)};return function(){var e=this._super,i=this._superApply,o;return this._super=t,this._superApply=n,o=s.apply(this,arguments),this._super=e,this._superApply=i,o}}():r[e]=s}),a.prototype=t.widget.extend(h,{widgetEventPrefix:o?h.widgetEventPrefix||e:e},r,{constructor:a,namespace:l,widgetName:e,widgetFullName:n}),o?(t.each(o._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),"button"!==e&&t.widget.bridge(e,a)},t.widget.extend=function(e){for(var i=s.call(arguments,1),n=0,o=i.length,a,h;n<o;n++)for(a in i[n])h=i[n][a],i[n].hasOwnProperty(a)&&void 0!==h&&(t.isPlainObject(h)?e[a]=t.isPlainObject(e[a])?t.widget.extend({},e[a],h):t.widget.extend({},h):e[a]=h);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,h=s.call(arguments,1),r=this;return o=!a&&h.length?t.widget.extend.apply(null,[o].concat(h)):o,a?this.each(function(){var i,s=t.data(this,n);return s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,h))!==s&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,n);e?e.option(o||{})._init():t.data(this,n,new i(o,this))}),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s=e,n,o,a;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},n=e.split("."),e=n.shift(),n.length){for(o=s[e]=t.widget.extend({},this.options[e]),a=0;a<n.length-1;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(e=n.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function h(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(h.guid=a.guid=a.guid||h.guid||t.guid++);var r=s.match(/^(\w+)\s*(.*)$/),l=r[1]+o.eventNamespace,u=r[2];u?n.delegate(u,l,h):i.bind(l,h)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,h=n?!0===n||"number"==typeof n?i:n.effect||i:e;"number"==typeof(n=n||{})&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[h]?s[e](n):h!==e&&s[h]?s[h](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}})}(jQuery),function(t,e){var i=!1;t(document).mouseup(function(){i=!1}),t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!i){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var s=this,n=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!o&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),i=!0,!0))}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t,e){function i(t){return parseInt(t,10)||0}function s(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,s,n,o,a=this,h=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)s=t.trim(e[i]),(n=t("<div class='ui-resizable-handle "+(o="ui-resizable-"+s)+"'></div>")).css({zIndex:h.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),h.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){h.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)((s=t(this.handles[i])[0])===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var s,n,o,a=this.options,h=this.element.position(),r=this.element;return this.resizing=!0,/absolute/.test(r.css("position"))?r.css({position:"absolute",top:r.css("top"),left:r.css("left")}):r.is(".ui-draggable")&&r.css({position:"absolute",top:h.top,left:h.left}),this._renderProxy(),s=i(this.helper.css("left")),n=i(this.helper.css("top")),a.containment&&(s+=t(a.containment).scrollLeft()||0,n+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:s,top:n},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),r.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s=this.helper,n={},o=this.originalMousePosition,a=this.axis,h=this.position.top,r=this.position.left,l=this.size.width,u=this.size.height,p=e.pageX-o.left||0,d=e.pageY-o.top||0,c=this._change[a];return!!c&&(i=c.apply(this,[e,p,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==h&&(n.top=this.position.top+"px"),this.position.left!==r&&(n.left=this.position.left+"px"),this.size.width!==l&&(n.width=this.size.width+"px"),this.size.height!==u&&(n.height=this.size.height+"px"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||this._trigger("resize",e,this.ui()),!1)},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,h,r,l=this.options,u=this;return this._helper&&(n=(s=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&t.ui.hasScroll(i[0],"left")?0:u.sizeDiff.height,o=s?0:u.sizeDiff.width,a={width:u.helper.width()-o,height:u.helper.height()-n},h=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,r=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:r,left:h})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,i,n,o,a,h=this.options;a={minWidth:s(h.minWidth)?h.minWidth:0,maxWidth:s(h.maxWidth)?h.maxWidth:1/0,minHeight:s(h.minHeight)?h.minHeight:0,maxHeight:s(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,n=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),n>a.minHeight&&(a.minHeight=n),i<a.maxWidth&&(a.maxWidth=i),o<a.maxHeight&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),s(t.left)&&(this.position.left=t.left),s(t.top)&&(this.position.top=t.top),s(t.height)&&(this.size.height=t.height),s(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return s(t.height)?t.width=t.height*this.aspectRatio:s(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=s(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=s(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=s(t.width)&&e.minWidth&&e.minWidth>t.width,h=s(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,u=/sw|nw|w/.test(i),p=/nw|ne|n/.test(i);return a&&(t.width=e.minWidth),h&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),a&&u&&(t.left=r-e.minWidth),n&&u&&(t.left=r-e.maxWidth),h&&p&&(t.top=l-e.minHeight),o&&p&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,n,o=this.helper||this.element;for(t=0;t<this._proportionallyResizeElements.length;t++){if(n=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],s=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],e=0;e<i.length;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);n.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&t.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,h=o?0:i.sizeDiff.width,r={width:i.size.width-h,height:i.size.height-a},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(r,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,s,n,o,a,h,r,l=t(this).data("ui-resizable"),u=l.options,p=l.element,d=u.containment,c=d instanceof t?d.get(0):/parent/.test(d)?p.parent().get(0):d;c&&(l.containerElement=t(c),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(c),s=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){s[t]=i(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-s[3],width:e.innerWidth()-s[1]},n=l.containerOffset,o=l.containerSize.height,a=l.containerSize.width,h=t.ui.hasScroll(c,"left")?c.scrollWidth:a,r=t.ui.hasScroll(c)?c.scrollHeight:o,l.parentData={element:c,left:n.left,top:n.top,width:h,height:r}))},resize:function(e){var i,s,n,o,a=t(this).data("ui-resizable"),h=a.options,r=a.containerOffset,l=a.position,u=a._aspectRatio||e.shiftKey,p={top:0,left:0},d=a.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(p=r),l.left<(a._helper?r.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-r.left:a.position.left-p.left),u&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=h.helper?r.left:0),l.top<(a._helper?r.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-r.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?r.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper,a.offset.left-p.left+a.sizeDiff.width)),s=Math.abs((a._helper?a.offset.top-p.top:a.offset.top-r.top)+a.sizeDiff.height),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o&&(i-=Math.abs(a.parentData.left)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,u&&(a.size.height=a.size.width/a.aspectRatio)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,u&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),h=a.offset(),r=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:h.left-n.left-s.left,width:r,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:h.left-n.left-s.left,width:r,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable").options,i=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?i(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],i(e.alsoResize)):t.each(e.alsoResize,function(t){i(t)})},resize:function(e,i){var s=t(this).data("ui-resizable"),n=s.options,o=s.originalSize,a=s.originalPosition,h={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0},r=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),o={},a=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var i=(n[e]||0)+(h[e]||0);i&&i>=0&&(o[e]=i||null)}),e.css(o)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?r(n.alsoResize):t.each(n.alsoResize,function(t,e){r(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,h="number"==typeof i.grid?[i.grid,i.grid]:i.grid,r=h[0]||1,l=h[1]||1,u=Math.round((s.width-n.width)/r)*r,p=Math.round((s.height-n.height)/l)*l,d=n.width+u,c=n.height+p,m=i.maxWidth&&i.maxWidth<d,f=i.maxHeight&&i.maxHeight<c,g=i.minWidth&&i.minWidth>d,b=i.minHeight&&i.minHeight>c;i.grid=h,g&&(d+=r),b&&(c+=l),m&&(d-=r),f&&(c-=l),/^(se|s|e)$/.test(a)?(e.size.width=d,e.size.height=c):/^(ne)$/.test(a)?(e.size.width=d,e.size.height=c,e.position.top=o.top-p):/^(sw)$/.test(a)?(e.size.width=d,e.size.height=c,e.position.left=o.left-u):(c-l>0?(e.size.height=c,e.position.top=o.top-p):(e.size.height=l,e.position.top=o.top+n.height-l),d-r>0?(e.size.width=d,e.position.left=o.left-u):(e.size.width=r,e.position.left=o.left+n.width-r))}})}(jQuery),function(t,e){var i,s="ui-button ui-widget ui-state-default ui-corner-all",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",o=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},a=function(e){var i=e.name,s=e.form,n=t([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?t(s).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),n};t.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,o),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,n=this.options,h="checkbox"===this.type||"radio"===this.type,r=h?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===i&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||t(this).removeClass(r)}).bind("click"+this.eventNamespace,function(t){n.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),h&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var i=e.element[0];a(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).addClass("ui-state-active"),i=this,e.document.one("mouseup",function(){i=null})}).bind("mouseup"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(n.disabled)return!1;e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),(i=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" ui-state-active "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){if(this._super(t,e),"disabled"===t)return this.element.prop("disabled",!!e),void(e&&this.buttonElement.removeClass("ui-state-focus"));this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?a(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var e=this.buttonElement.removeClass(n),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),s=this.options.icons,o=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(o?"s":s.primary?"-primary":"-secondary")),s.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):a.push("ui-button-text-only"),e.addClass(a.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),t.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);void 0!==n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&t<s.min?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());e(this._value).call(this,t)},widget:function(){return this.uiSpinner}})}(jQuery)}).call(this);

(function(){!function(e){var o,r,c=0,t={control:e('<div class="colorPicker-picker">&nbsp;</div>'),palette:e('<div id="colorPicker_palette" class="colorPicker-palette" />'),swatch:e('<div class="colorPicker-swatch">&nbsp;</div>'),hexLabel:e('<label for="colorPicker_hex">Hex</label>'),hexField:e('<input type="text" id="colorPicker_hex" />')},n="transparent",i;e.fn.colorPicker=function(o){return this.each(function(){var r=e(this),i=e.extend({},e.fn.colorPicker.defaults,o),l=e.fn.colorPicker.toHex(r.val().length>0?r.val():i.pickerDefault),a=t.control.clone(),s=t.palette.clone().attr("id","colorPicker_palette-"+c),d=t.hexLabel.clone(),f=t.hexField.clone(),h=s[0].id,F,u;if(e.each(i.colors,function(o){F=t.swatch.clone(),i.colors[o]===n?(F.addClass(n).text("X"),e.fn.colorPicker.bindPalette(f,F,n)):(F.css("background-color","#"+this),e.fn.colorPicker.bindPalette(f,F)),F.appendTo(s)}),d.attr("for","colorPicker_hex-"+c),f.attr({id:"colorPicker_hex-"+c,value:l}),f.bind("keydown",function(o){if(13===o.keyCode){var c=e.fn.colorPicker.toHex(e(this).val());e.fn.colorPicker.changeColor(c||r.val())}27===o.keyCode&&e.fn.colorPicker.hidePalette()}),f.bind("keyup",function(o){var c=e.fn.colorPicker.toHex(e(o.target).val());e.fn.colorPicker.previewColor(c||r.val())}),e('<div class="colorPicker_hexWrap" />').append(d).appendTo(s),s.find(".colorPicker_hexWrap").append(f),!1===i.showHexField&&(f.hide(),d.hide()),e("body").append(s),s.hide(),a.css("background-color",l),a.bind("click",function(){r.is(":not(:disabled)")&&e.fn.colorPicker.togglePalette(e("#"+h),e(this))}),o&&o.onColorChange?a.data("onColorChange",o.onColorChange):a.data("onColorChange",function(){}),(u=r.data("text"))&&a.html(u),r.after(a),r.bind("change",function(){r.next(".colorPicker-picker").css("background-color",e.fn.colorPicker.toHex(e(this).val()))}),r.val(l),"input"===r[0].tagName.toLowerCase())try{r.attr("type","hidden")}catch(e){r.css("visibility","hidden").css("position","absolute")}else r.hide();c++})},e.extend(!0,e.fn.colorPicker,{toHex:function(e){if(e.match(/[0-9A-F]{6}|[0-9A-F]{3}$/i))return"#"===e.charAt(0)?e:"#"+e;if(!e.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/))return!1;var o=[parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10)],r=function(e){if(e.length<2)for(var o=0,r=2-e.length;o<r;o++)e="0"+e;return e};return 3===o.length?"#"+r(o[0].toString(16))+r(o[1].toString(16))+r(o[2].toString(16)):void 0},checkMouse:function(c,t){var n=r,i=e(c.target).parents("#"+n.attr("id")).length;c.target===e(n)[0]||c.target===o[0]||i>0||e.fn.colorPicker.hidePalette()},hidePalette:function(){e(document).unbind("mousedown",e.fn.colorPicker.checkMouse),e(".colorPicker-palette").hide()},showPalette:function(r){var c=o.prev("input").val();r.css({top:o.offset().top+o.outerHeight(),left:o.offset().left}),e("#color_value").val(c),r.show(),e(document).bind("mousedown",e.fn.colorPicker.checkMouse)},togglePalette:function(c,t){t&&(o=t),(r=c).is(":visible")?e.fn.colorPicker.hidePalette():e.fn.colorPicker.showPalette(c)},changeColor:function(r){o.css("background-color",r),o.prev("input").val(r).change(),e.fn.colorPicker.hidePalette(),o.data("onColorChange").call(o,e(o).prev("input").attr("id"),r)},previewColor:function(e){o.css("background-color",e)},bindPalette:function(r,c,t){t=t||e.fn.colorPicker.toHex(c.css("background-color")),c.bind({click:function(o){i=t,e.fn.colorPicker.changeColor(t)},mouseover:function(o){i=r.val(),e(this).css("border-color","#598FEF"),r.val(t),e.fn.colorPicker.previewColor(t)},mouseout:function(c){e(this).css("border-color","#000"),r.val(o.css("background-color")),r.val(i),e.fn.colorPicker.previewColor(i)}})}}),e.fn.colorPicker.defaults={pickerDefault:"FFFFFF",colors:["000000","993300","333300","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","999999","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFFF","99CCFF","FFFFFF"],addColors:[],showHexField:!0}}(jQuery)}).call(this);

(function(){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function n(e){return u.raw?e:encodeURIComponent(e)}function o(e){return u.raw?e:decodeURIComponent(e)}function i(e){return n(u.json?JSON.stringify(e):String(e))}function t(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(c," ")),u.json?JSON.parse(e):e}catch(e){}}function r(n,o){var i=u.raw?n:t(n);return e.isFunction(o)?o(i):i}var c=/\+/g,u=e.cookie=function(t,c,f){if(void 0!==c&&!e.isFunction(c)){if("number"==typeof(f=e.extend({},u.defaults,f)).expires){var a=f.expires,d=f.expires=new Date;d.setTime(+d+864e5*a)}return document.cookie=[n(t),"=",i(c),f.expires?"; expires="+f.expires.toUTCString():"",f.path?"; path="+f.path:"",f.domain?"; domain="+f.domain:"",f.secure?"; secure":""].join("")}for(var s=t?void 0:{},p=document.cookie?document.cookie.split("; "):[],m=0,l=p.length;m<l;m++){var x=p[m].split("="),v=o(x.shift()),k=x.join("=");if(t&&t===v){s=r(k,c);break}t||void 0===(k=r(k))||(s[v]=k)}return s};u.defaults={},e.removeCookie=function(n,o){return void 0!==e.cookie(n)&&(e.cookie(n,"",e.extend({},o,{expires:-1})),!e.cookie(n))}})}).call(this);

(function(){JSParser={parseAssigns:function(r){return r.match(/[^ ]+[ ]*=[ ]*(([^"][^\n;,]+)|(".+"))/g)},findProperties:function(r,t){var e=[],n=JSParser.parseAssigns(r);if(n&&n.length>0){for(var a=0;a<n.length;a++){var s=n[a].split("=")[0].trim(),i=n[a].split("=")[1].trim();i.length>2&&('"'===i[0]||"'"===i[0])&&(i=i.substring(1,i.length-1));for(var l=0;l<t.length;l++)t[l].var_name===s&&e.push({name:s,value:i,type:t[l].type})}return e}},updateProperty:function(r,t,e,n){for(var a=r,s=JSParser.parseAssigns(r),i=0;i<s.length;i++)for(var l=s[i].split("=")[0].trim(),p=s[i].split("=")[1].trim(),f=0;f<t.length;f++)if(t[f].var_name===e&&l===e){var g="";"text"!==t[f].type&&"data_field"!==t[f].type||(g='"');var u=e+" = "+g+n+g;a=a.replace(s[i],u)}return a}}}).call(this);

(function(){Loader=function(t){this._type=t,this.reset()},Loader.prototype.isOwner=function(){var t=this.dbObject.owner||this.dbObject.ownerId;return Meteor.userId()&&Meteor.userId()===t},Loader.prototype.noOwner=function(){return!(this.dbObject.owner||this.dbObject.ownerId)},Loader.prototype.isValid=function(t){var e=this._type+"Valid";if(void 0===t)return Session.get(e);Session.set(e,t)},Loader.prototype.isReady=function(){return null!==this.isValid()},Loader.prototype.id=function(t){var e=this._type+"Id";if(void 0===t)return Session.get(e);Session.set(e,t)},Loader.prototype.stats=function(t){var e=this._type+"Stats";if(void 0===t)return Session.get(e);Session.set(e,t)},Loader.prototype.now=function(){return this.getCollection().findOne(this.dbObject._id)},Loader.prototype.reset=function(){this.dbObject={},this.isValid(null),this.id(null)},Loader.prototype.request=function(t,e){var o=!0,i=e&&e.callback?e.callback:null,n=this._type+"Request",r=this.getCollection(),s=this;e&&e.counterOn&&(o=e.counterOn),Array.isArray(t)||(t=[t]),handles[n]=Meteor.subscribe(n,t,function(){var n=r.find({_id:{$in:t}}).fetch();n.length?(e.dashboard||"document"===s._type||"dataset"===s._type||s.isValid(!0),e&&e.dashboard||s.id(n[0]._id),s.dbObject=n[0],null!==n[0].owner&&n[0].owner!==Meteor.userId()&&o&&s.increaseCounter(n[0]._id),i&&i(!1,n)):(s.isValid(!1),i&&i(!0,null))})},Loader.prototype.increaseCounter=function(t){Meteor.call(this._type+"IncreaseCounter",t)},Loader.prototype.canEdit=function(){return this.isValid()&&(this.isOwner()||this.noOwner())},Loader.prototype.getCollection=function(){return window[this._type.toUpperCase0()+"s"]},Loader.prototype.inEditMode=function(){var t=this.dbObject.owner||this.dbObject.ownerId;return this.isValid()&&(this.isOwner()||!t)&&0===window.location.pathname.indexOf("/"+this._type+"s")}}).call(this);

(function(){}).call(this);

(function(){!function(e,t,n){function r(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function o(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return b[e.which]?b[e.which]:C[e.which]?C[e.which]:String.fromCharCode(e.which).toLowerCase()}function i(e,t){return e.sort().join(",")===t.sort().join(",")}function a(e){e=e||{};var t=!1,n;for(n in L)e[n]?t=!0:L[n]=0;t||(S=!1)}function c(e,t,n,r,o,a){var c,s,u=[],f=n.type;if(!P[e])return[];for("keyup"==f&&h(e)&&(t=[e]),c=0;c<P[e].length;++c)if(s=P[e][c],(r||!s.seq||L[s.seq]==s.level)&&f==s.action&&("keypress"==f&&!n.metaKey&&!n.ctrlKey||i(t,s.modifiers))){var l=!r&&s.combo==o,p=r&&s.seq==r&&s.level==a;(l||p)&&P[e].splice(c,1),u.push(s)}return u}function s(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function u(e,t,n,r){x.stopCallback(t,t.target||t.srcElement,n,r)||!1===e(t,n)&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1,t.cancelBubble=!0)}function f(e,t,n){var r=c(e,t,n),o,i={},s=0,f=!1;for(o=0;o<r.length;++o)r[o].seq&&(s=Math.max(s,r[o].level));for(o=0;o<r.length;++o)if(r[o].seq){if(r[o].level!=s)continue;f=!0,i[r[o].seq]=1,u(r[o].callback,n,r[o].combo,r[o].seq)}else f||u(r[o].callback,n,r[o].combo);var l="keypress"==n.type&&M;n.type!=S||h(e)||l||a(i),M=f&&"keydown"==n.type}function l(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=o(e);t&&("keyup"!=e.type||A!==t?x.handleKey(t,s(e),e):A=!1)}function h(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function p(){clearTimeout(N),N=setTimeout(a,1e3)}function y(){if(!q){q={};for(var e in b)e>95&&e<112||b.hasOwnProperty(e)&&(q[b[e]]=e)}return q}function m(e,t,n){return n||(n=y()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function d(e,t,n,r){function i(t){return function(){S=t,++L[e],p()}}function c(t){u(n,t,e),"keyup"!==r&&(A=o(t)),setTimeout(a,10)}L[e]=0;for(var s=0;s<t.length;++s){var f=s+1===t.length?c:i(r||v(t[s+1]).action);g(t[s],f,r,e,s)}}function k(e){return"+"===e?["+"]:e.split("+")}function v(e,t){var n,r,o,i=[];for(n=k(e),o=0;o<n.length;++o)r=n[o],K[r]&&(r=K[r]),t&&"keypress"!=t&&E[r]&&(r=E[r],i.push("shift")),h(r)&&i.push(r);return t=m(r,i,t),{key:r,modifiers:i,action:t}}function g(e,t,n,r,o){T[e+":"+n]=t;var i=(e=e.replace(/\s+/g," ")).split(" "),a;i.length>1?d(e,i,t,n):(a=v(e,n),P[a.key]=P[a.key]||[],c(a.key,a.modifiers,{type:a.action},r,e,o),P[a.key][r?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:r,level:o,combo:e}))}function w(e,t,n){for(var r=0;r<e.length;++r)g(e[r],t,n)}for(var b={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},C={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},E={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},K={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},q,P={},T={},L={},N,A=!1,M=!1,S=!1,j=1;j<20;++j)b[111+j]="f"+j;for(j=0;j<=9;++j)b[j+96]=j;r(t,"keypress",l),r(t,"keydown",l),r(t,"keyup",l);var x={bind:function(e,t,n){return e=e instanceof Array?e:[e],w(e,t,n),this},unbind:function(e,t){return x.bind(e,function(){},t)},trigger:function(e,t){return T[e+":"+t]&&T[e+":"+t]({},e),this},reset:function(){return P={},T={},this},stopCallback:function(e,t){return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable)},handleKey:f};e.Mousetrap=x,"function"==typeof define&&define.amd&&define(x)}(window,document)}).call(this);

(function(){Mousetrap=function(n){var t={},a=n.stopCallback;return n.stopCallback=function(n,o,r,l){return!t[r]&&!t[l]&&a(n,o,r)},n.bindGlobal=function(a,o,r){if(n.bind(a,o,r),a instanceof Array)for(var l=0;l<a.length;l++)t[a[l]]=!0;else t[a]=!0},n}(Mousetrap)}).call(this);

(function(){function t(){var s=this;t.prototype.parse=function(t){var r=(t=t.trim()).split(" "),i={},e=[],n="",a="",o="",u=0,f=0;for(f=0;f<r.length;f++)-1==r[f].indexOf("(")&&(e[u++]=r[f]);var l=e.length,c=s.is_salutation(e[0]),h=s.is_suffix(e[e.length-1]),p=c?1:0,m=h?l-1:l;for(f=p;f<m-1&&(word=e[f],!s.is_compound_lastName(word)||f==p);f++)s.is_initial(word)?f==p&&s.is_initial(e[f+1])?a+=" "+word.toUpperCase():o+=" "+word.toUpperCase():a+=" "+s.fix_case(word);if(m-p>1)for(u=f;u<m;u++)n+=" "+s.fix_case(e[u]);else a=s.fix_case(e[f]);return i.salutation=0!=c?c:"",i.firstName=""!=a?a.trim():"",i.initials=""!=o?o.trim():"",i.lastName=""!=n?n.trim():"",i.suffix=0!=h?h:"",i},this.is_salutation=function(t){return"mr"==(t=t.replace(".","").toLowerCase())||"master"==t||"mister"==t?"Mr.":"mrs"==t?"Mrs.":"miss"==t||"ms"==t?"Ms.":"dr"==t?"Dr.":"rev"==t?"Rev.":"fr"==t&&"Fr."},this.is_suffix=function(t){t=t.replace(/\./g,"").toLowerCase();for(var r=["I","II","III","IV","V","Senior","Junior","Jr","Sr","PhD","APR","RPh","PE","MD","MA","DMD","CME"],i=0;i<r.length;i++)if(r[i].toLowerCase()==t)return r[i];return!1},this.is_compound_lastName=function(t){return t=t.toLowerCase(),r(["vere","von","van","de","del","della","di","da","pietro","vanden","du","st.","st","la","lo","ter"],t)},this.is_initial=function(t){return 1==(t=t.replace(".","")).length},this.is_camel_case=function(t){var r=/|[A-Z]+|s/,i=/|[a-z]+|s/;return null!=t.match(r)&&null!=t.match(i)},this.fix_case=function(t){return t=s.safe_ucfirst("-",t),t=s.safe_ucfirst(".",t)},this.safe_ucfirst=function(t,r){var e=[];parts=r.split(t);for(var n=0;n<parts.length;n++){var a=parts[n];e[n]=s.is_camel_case(a)?a:a.ucfirst.toLowerCase()}return i(e,t)}}var r=function(t,r){for(var i=0;i<this.length;i++)if(this[i]==r)return!0;return!1},i=function(t,r){for(var i="",s="",e=0;e<this.length;e++)i+=s+this[e],s=r;return i};String.prototype.trim=function(){return this.replace(/^\s+|\s+$|\,$/g,"")},String.prototype.ucfirst=function(){return this.substr(0,1).toUpperCase()+this.substr(1,this.length-1).toLowerCase()},nameParser=new t}).call(this);

(function(){saveBinFileToS3=function(i,n,e){if(i){var a=new FileReader;a.onload=function(a){Meteor.call("saveFile",this.result,n,"binary",i.type,function(i){i||void 0!==e&&e()})},a.readAsBinaryString(i)}}}).call(this);

(function(){SS_FLASH_MSG="flashMessage",SS_FLASH_MSG_TICK="flashMessageTick",SS_ACTIVE_TAB="activeTab",SS_CANVAS_POS="canvasPosition",SS_CANVAS_ON="canvasOn",SS_EDITOR_ON="editorOn",SS_EDIT_DOC_NAME="editingDocumentName",SS_EDIT_DOC_DESC="editingDocumentDescription",SS_EDIT_DOC_DATASET_NAME="editingDocumentDatasetName",SS_EDIT_PROFILE_NAME="editingProfileName",SS_EDIT_PROFILE_USERNAME="editingProfileUsername",SS_EDIT_PROFILE_EMAIL="editingProfileEmail",SS_EDIT_CREATEDBY_URL="editingCreatedbyURL",SS_EDIT_GA_CODE="editingGACode",SS_PARENT_DOC_PRIVATE="parentDocPrivate",SS_EDIT_SIG_TEXT="editSignatureText",SS_EDIT_SIG_URL="editSignatureURL",SS_DOC_SELECT="docSelect-",SS_SELECTED_DOCS="selectedDocs",SS_CONFIG_KEY_ACTIVATING="activating_key",SS_S3_BUCKET_NAME="s3_bucket_name",SS_EDIT_AWS_KEY="editingAWSKey",SS_EDIT_AWS_SECRET="editingAWSSecret",SS_EDIT_AWS_BUCKET_NAME="editingAWSBucketName",SS_EDIT_ADMIN_EMAILS="editingAdminEmails",SS_EDIT_PRODUCT_KEY="editingProductKey",SS_EDIT_MAIL_URL="editMailURL",SS_CHART_LOAD_READY="chartLoadReady",SS_EDIT_CHART_NAME="editingChartTitle",SS_EDIT_CHART_DESC="editingChartDescription",SS_CHART_OPTIONS="chartOptions",SS_CHART_TYPE="chartEditorType",SS_CHART_FORMAT_TYPE="chartFormatType",SS_EDIT_DATASET_NAME="editingDatasetName",SS_EDIT_DATASET_DESC="editingDatasetDescription",SS_DATASET_DATA="datasetData",SS_DATASET_FIELDS="datasetFields",SS_DATASET_SOURCES="datasetSources",SS_SELECTED_DATASETS="selectedDatasets",SS_DATASET_SELECT="datasetSelect-",SS_EDIT_TEAM_NAME="editingTeamName",SS_EDIT_TEAM_DESC="editingTeamDescription",SS_EDIT_DASHBOARD_NAME="editingDashboardName",SS_EDIT_DASHBOARD_DESC="editingDashboardDescription",SS_USERNAME_USERID="showingUser",SS_STRIPE_CUSTOMER="stripeCustomer",SS_PAGE_NAME="pageName",SS_LANDING_PAGE="landingPage",SS_LOGGED_IN="loggedIn",SS_EXPLORE_DOCUMENTS_READY="exploreDocumentsReady",SS_EXPLORE_CHARTS_READY="exploreChartsReady",SS_EXPLORE_DATASETS_READY="exploreDatasetsReady",SS_EXPLORE_PROFILES_READY="exploreProfilesReady",SS_EXPLORE_DASHBOARDS_READY="exploreDhasobardsReady",SS_COMPOSITE_DOCUMENTS_EDIT_PROPS_DOC="dashboardEditPropsDocId",SS_COMPOSITE_DOCUMENTS_EDIT_PROPS="dashboardEditProps",SS_COMPOSITE_DOCUMENTS_LOAD_DATA="dashboardLoadData",SS_GISTS_USER_LIST="gistsUserList",SS_ADMIN_DATA="adminData",SS_MORE_USER_INFO_OK="moreUserInfoOK",SS_UPLOADING_DOC_IMAGE="uploadingDocImage",handles={exploreDocument:null,exploreChart:null,exploreDataset:null,exploreProfiles:null,featuring:null,myDocs:null,myTeams:null,documentRequest:null,documentSearch:null,chartRequest:null,datasetRequest:null,notification:null,shared:null,starred:null,userData:null},EDITOR_PLACEHOLDER_TEXT="Enter/Paste/Import CSV/TSV/JSON data here"}).call(this);

(function(){SmartTimer=function(i){this.LENGTH=i.length||500,this.PERIOD=i.period||100,this.DEBUG=i.debug||!1,this.callback=i.callback||null,this.reset()},SmartTimer.prototype.autorun=function(){this.running?this.refresh():this.start()},SmartTimer.prototype.start=function(){var i=this;this.remaining=this.LENGTH,this.running=!0,this.expired=!1,this.DEBUG&&console.log("Start timing with ",this.LENGTH,"ms");var n=setInterval(function(){i.DEBUG&&console.log(i.remaining,"ms left"),i.remaining>=i.PERIOD?i.remaining-=i.PERIOD:(i.DEBUG&&console.log("Done! Timer expired."),i.expired=!0,i.running=!1,clearInterval(n),i.callback&&i.callback())},i.PERIOD)},SmartTimer.prototype.refresh=function(){this.remaining=this.LENGTH},SmartTimer.prototype.reset=function(){this.remaining=0,this.running=!1,this.expired=!1},SmartTimer.prototype.running=function(){return this.running&&this.time>0},SmartTimer.prototype.expired=function(){return this.expired},blockTimer=function(i,n){if("undefined"!=typeof _inBlockingPeriod&&_inBlockingPeriod)return!1;void 0!==i&&i(),_inBlockingPeriod=!0,setTimeout(function(){_inBlockingPeriod=!1},n)},onceTimer=function(i,n){"undefined"!=typeof _onceTimerId&&_onceTimerId&&clearTimeout(_onceTimerId),_onceTimerId=setTimeout(i,n)}}).call(this);

(function(){!function(n,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):n.printStackTrace=e()}(this,function(){function n(e){var t=(e=e||{guess:!0}).e||null,r=!!e.guess,o=new n.implementation,c=o.run(t);return r?o.guessAnonymousFunctions(c):c}return n.implementation=function(){},n.implementation.prototype={run:function(n,e){return n=n||this.createException(),"other"===(e=e||this.mode(n))?this.other(arguments.callee):this[e](n)},createException:function(){try{this.undef()}catch(n){return n}},mode:function(n){return n.arguments&&n.stack?"chrome":n.stack&&n.sourceURL?"safari":n.stack&&n.number?"ie":n.stack&&n.fileName?"firefox":n.message&&n["opera#sourceloc"]?n.stacktrace?n.message.indexOf("\n")>-1&&n.message.split("\n").length>n.stacktrace.split("\n").length?"opera9":"opera10a":"opera9":n.message&&n.stack&&n.stacktrace?n.stacktrace.indexOf("called from line")<0?"opera10b":"opera11":n.stack&&!n.fileName?"chrome":"other"},instrumentFunction:function(e,t,r){var o=(e=e||window)[t];e[t]=function o(){return r.call(this,n().slice(4)),e[t]._instrumented.apply(this,arguments)},e[t]._instrumented=o},deinstrumentFunction:function(n,e){n[e].constructor===Function&&n[e]._instrumented&&n[e]._instrumented.constructor===Function&&(n[e]=n[e]._instrumented)},chrome:function(n){return(n.stack+"\n").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}() ($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}() ($1)").replace(/^(.+) \((.+)\)$/gm,"$1@$2").split("\n").slice(1,-1)},safari:function(n){return n.stack.replace(/\[native code\]\n/m,"").replace(/^(?=\w+Error\:).*$\n/m,"").replace(/^@/gm,"{anonymous}()@").split("\n")},ie:function(n){return n.stack.replace(/^\s*at\s+(.*)$/gm,"$1").replace(/^Anonymous function\s+/gm,"{anonymous}() ").replace(/^(.+)\s+\((.+)\)$/gm,"$1@$2").split("\n").slice(1)},firefox:function(n){return n.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^(?:\((\S*)\))?@/gm,"{anonymous}($1)@").split("\n")},opera11:function(n){for(var e="{anonymous}",t=/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/,r=n.stacktrace.split("\n"),o=[],c=0,i=r.length;c<i;c+=2){var s=t.exec(r[c]);if(s){var a=s[4]+":"+s[1]+":"+s[2],u=s[3]||"global code";u=u.replace(/<anonymous function: (\S+)>/,"$1").replace(/<anonymous function>/,e),o.push(u+"@"+a+" -- "+r[c+1].replace(/^\s+/,""))}}return o},opera10b:function(n){for(var e=/^(.*)@(.+):(\d+)$/,t=n.stacktrace.split("\n"),r=[],o=0,c=t.length;o<c;o++){var i=e.exec(t[o]);if(i){var s=i[1]?i[1]+"()":"global code";r.push(s+"@"+i[2]+":"+i[3])}}return r},opera10a:function(n){for(var e="{anonymous}",t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=n.stacktrace.split("\n"),o=[],c=0,i=r.length;c<i;c+=2){var s=t.exec(r[c]);if(s){var a=s[3]||e;o.push(a+"()@"+s[2]+":"+s[1]+" -- "+r[c+1].replace(/^\s+/,""))}}return o},opera9:function(n){for(var e="{anonymous}",t=/Line (\d+).*script (?:in )?(\S+)/i,r=n.message.split("\n"),o=[],c=2,i=r.length;c<i;c+=2){var s=t.exec(r[c]);s&&o.push(e+"()@"+s[2]+":"+s[1]+" -- "+r[c+1].replace(/^\s+/,""))}return o},other:function(n){for(var e="{anonymous}",t=/function\s*([\w\-$]+)?\s*\(/i,r=[],o,c,i=10;n&&n.arguments&&r.length<10;)o=t.test(n.toString())?RegExp.$1||e:e,c=Array.prototype.slice.call(n.arguments||[]),r[r.length]=o+"("+this.stringifyArguments(c)+")",n=n.caller;return r},stringifyArguments:function(n){for(var e=[],t=Array.prototype.slice,r=0;r<n.length;++r){var o=n[r];void 0===o?e[r]="undefined":null===o?e[r]="null":o.constructor&&(o.constructor===Array?o.length<3?e[r]="["+this.stringifyArguments(o)+"]":e[r]="["+this.stringifyArguments(t.call(o,0,1))+"..."+this.stringifyArguments(t.call(o,-1))+"]":o.constructor===Object?e[r]="#object":o.constructor===Function?e[r]="#function":o.constructor===String?e[r]='"'+o+'"':o.constructor===Number&&(e[r]=o))}return e.join(",")},sourceCache:{},ajax:function(n){var e=this.createXMLHTTPObject();if(e)try{return e.open("GET",n,!1),e.send(null),e.responseText}catch(n){}return""},createXMLHTTPObject:function(){for(var n,e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=0;t<e.length;t++)try{return n=e[t](),this.createXMLHTTPObject=e[t],n}catch(n){}},isSameDomain:function(n){return"undefined"!=typeof location&&-1!==n.indexOf(location.hostname)},getSource:function(n){return n in this.sourceCache||(this.sourceCache[n]=this.ajax(n).split("\n")),this.sourceCache[n]},guessAnonymousFunctions:function(n){for(var e=0;e<n.length;++e){var t=/\{anonymous\}\(.*\)@(.*)/,r=/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,o=n[e],c=t.exec(o);if(c){var i=r.exec(c[1]);if(i){var s=i[1],a=i[2],u=i[3]||0;if(s&&this.isSameDomain(s)&&a){var l=this.guessAnonymousFunction(s,a,u);n[e]=o.replace("{anonymous}",l)}}}}return n},guessAnonymousFunction:function(n,e,t){var r;try{r=this.findFunctionName(this.getSource(n),e)}catch(e){r="getSource failed with url: "+n+", exception: "+e.toString()}return r},findFunctionName:function(n,e){for(var t=/function\s+([^(]*?)\s*\(([^)]*)\)/,r=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,o=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,c="",i,s=Math.min(e,20),a,u,l=0;l<s;++l)if(i=n[e-l-1],(u=i.indexOf("//"))>=0&&(i=i.substr(0,u)),i){if(c=i+c,(a=r.exec(c))&&a[1])return a[1];if((a=t.exec(c))&&a[1])return a[1];if((a=o.exec(c))&&a[1])return a[1]}return"(?)"}},n})}).call(this);

(function(){topojson=function(){function e(e,n){function t(n){var t=e.arcs[n],r=t[0],o=[0,0];return t.forEach(function(e){o[0]+=e[0],o[1]+=e[1]}),[r,o]}var r={},o={};n.forEach(function(e){var n,a,i=t(e),u=i[0],c=i[1];if(n=o[u])if(delete o[n.end],n.push(e),n.end=c,a=r[c]){delete r[a.start];var s=a===n?n:n.concat(a);r[s.start=n.start]=o[s.end=a.end]=s}else if(a=o[c]){delete r[a.start],delete o[a.end];var s=n.concat(a.map(function(e){return~e}).reverse());r[s.start=n.start]=o[s.end=a.start]=s}else r[n.start]=o[n.end]=n;else if(n=r[c])if(delete r[n.start],n.unshift(e),n.start=u,a=o[u]){delete o[a.end];var f=a===n?n:a.concat(n);r[f.start=a.start]=o[f.end=n.end]=f}else if(a=r[u]){delete r[a.start],delete o[a.end];var f=a.map(function(e){return~e}).reverse().concat(n);r[f.start=a.end]=o[f.end=n.end]=f}else r[n.start]=o[n.end]=n;else if(n=r[u])if(delete r[n.start],n.unshift(~e),n.start=c,a=o[c]){delete o[a.end];var f=a===n?n:a.concat(n);r[f.start=a.start]=o[f.end=n.end]=f}else if(a=r[c]){delete r[a.start],delete o[a.end];var f=a.map(function(e){return~e}).reverse().concat(n);r[f.start=a.end]=o[f.end=n.end]=f}else r[n.start]=o[n.end]=n;else if(n=o[c])if(delete o[n.end],n.push(~e),n.end=u,a=o[u]){delete r[a.start];var s=a===n?n:n.concat(a);r[s.start=n.start]=o[s.end=a.end]=s}else if(a=r[u]){delete r[a.start],delete o[a.end];var s=n.concat(a.map(function(e){return~e}).reverse());r[s.start=n.start]=o[s.end=a.start]=s}else r[n.start]=o[n.end]=n;else n=[e],r[n.start=u]=o[n.end=c]=n});var a=[];for(var i in o)a.push(o[i]);return a}function n(n,t,r){function a(e){0>e&&(e=~e),(l[e]||(l[e]=[])).push(f)}function i(e){e.forEach(a)}function u(e){e.forEach(i)}function c(e){"GeometryCollection"===e.type?e.geometries.forEach(c):e.type in d&&(f=e,d[e.type](e.arcs))}var s=[];if(arguments.length>1){var f,l=[],d={LineString:i,MultiLineString:u,Polygon:u,MultiPolygon:function(e){e.forEach(u)}};c(t),l.forEach(arguments.length<3?function(e,n){s.push(n)}:function(e,n){r(e[0],e[e.length-1])&&s.push(n)})}else for(var p=0,v=n.arcs.length;v>p;++p)s.push(p);return o(n,{type:"MultiLineString",arcs:e(n,s)})}function t(e,n){return"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map(function(n){return r(e,n)})}:r(e,n)}function r(e,n){var t={type:"Feature",id:n.id,properties:n.properties||{},geometry:o(e,n)};return null==n.id&&delete t.id,t}function o(e,n){function t(e,n){n.length&&n.pop();for(var t,r=f[0>e?~e:e],o=0,i=r.length;i>o;++o)n.push(t=r[o].slice()),s(t,o);0>e&&a(n,i)}function r(e){return e=e.slice(),s(e,0),e}function o(e){for(var n=[],r=0,o=e.length;o>r;++r)t(e[r],n);return n.length<2&&n.push(n[0].slice()),n}function i(e){for(var n=o(e);n.length<4;)n.push(n[0].slice());return n}function u(e){return e.map(i)}function c(e){var n=e.type;return"GeometryCollection"===n?{type:n,geometries:e.geometries.map(c)}:n in l?{type:n,coordinates:l[n](e)}:null}var s=d(e.transform),f=e.arcs,l={Point:function(e){return r(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(r)},LineString:function(e){return o(e.arcs)},MultiLineString:function(e){return e.arcs.map(o)},Polygon:function(e){return u(e.arcs)},MultiPolygon:function(e){return e.arcs.map(u)}};return c(n)}function a(e,n){for(var t,r=e.length,o=r-n;o<--r;)t=e[o],e[o++]=e[r],e[r]=t}function i(e,n){for(var t=0,r=e.length;r>t;){var o=t+r>>>1;e[o]<n?t=o+1:r=o}return t}function u(e){function n(e,n){e.forEach(function(e){0>e&&(e=~e);var t=o[e];t?t.push(n):o[e]=[n]})}function t(e,t){e.forEach(function(e){n(e,t)})}function r(e,n){"GeometryCollection"===e.type?e.geometries.forEach(function(e){r(e,n)}):e.type in u&&u[e.type](e.arcs,n)}var o={},a=e.map(function(){return[]}),u={LineString:n,MultiLineString:t,Polygon:t,MultiPolygon:function(e,n){e.forEach(function(e){t(e,n)})}};e.forEach(r);for(var c in o)for(var s=o[c],f=s.length,l=0;f>l;++l)for(var d=l+1;f>d;++d){var p,v=s[l],h=s[d];(p=a[v])[c=i(p,h)]!==h&&p.splice(c,0,h),(p=a[h])[c=i(p,v)]!==v&&p.splice(c,0,v)}return a}function c(e,n){function t(e){i.remove(e),e[1][2]=n(e),i.push(e)}var r,o=d(e.transform),a=p(e.transform),i=l(f),u=0;for(n||(n=s),e.arcs.forEach(function(e){var t=[];e.forEach(o);for(var a=1,u=e.length-1;u>a;++a)r=e.slice(a-1,a+2),r[1][2]=n(r),t.push(r),i.push(r);e[0][2]=e[u][2]=1/0;for(var a=0,u=t.length;u>a;++a)r=t[a],r.previous=t[a-1],r.next=t[a+1]});r=i.pop();){var c=r.previous,v=r.next;r[1][2]<u?r[1][2]=u:u=r[1][2],c&&(c.next=v,c[2]=r[2],t(c)),v&&(v.previous=c,v[0]=r[0],t(v))}return e.arcs.forEach(function(e){e.forEach(a)}),e}function s(e){return Math.abs((e[0][0]-e[2][0])*(e[1][1]-e[0][1])-(e[0][0]-e[1][0])*(e[2][1]-e[0][1]))}function f(e,n){return e[1][2]-n[1][2]}function l(e){function n(n){for(var t=o[n];n>0;){var r=(n+1>>1)-1,a=o[r];if(e(t,a)>=0)break;o[a.index=n]=a,o[t.index=n=r]=t}}function t(n){for(var t=o[n];;){var r=n+1<<1,a=r-1,i=n,u=o[i];if(a<o.length&&e(o[a],u)<0&&(u=o[i=a]),r<o.length&&e(o[r],u)<0&&(u=o[i=r]),i===n)break;o[u.index=n]=u,o[t.index=n=i]=t}}var r={},o=[];return r.push=function(){for(var e=0,t=arguments.length;t>e;++e){var r=arguments[e];n(r.index=o.push(r)-1)}return o.length},r.pop=function(){var e=o[0],n=o.pop();return o.length&&(o[n.index=0]=n,t(0)),e},r.remove=function(r){var a=r.index,i=o.pop();return a!==o.length&&(o[i.index=a]=i,(e(i,r)<0?n:t)(a)),a},r}function d(e){if(!e)return v;var n,t,r=e.scale[0],o=e.scale[1],a=e.translate[0],i=e.translate[1];return function(e,u){u||(n=t=0),e[0]=(n+=e[0])*r+a,e[1]=(t+=e[1])*o+i}}function p(e){if(!e)return v;var n,t,r=e.scale[0],o=e.scale[1],a=e.translate[0],i=e.translate[1];return function(e,u){u||(n=t=0);var c=0|(e[0]-a)/r,s=0|(e[1]-i)/o;e[0]=c-n,e[1]=s-t,n=c,t=s}}function v(){}return{version:"1.4.0",mesh:n,feature:t,neighbors:u,presimplify:c}}();
}).call(this);


(function(){!function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function t(n){return e.isUndefined(n)||null===n?"":n+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,s){if(!(i=n.call(null,s,t,e)))return!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,s){if(i=n.call(null,s,t,e))return!1}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function e(n){function i(){return String(n)}return t.isFunction(n)?n:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,s;return function(){var r=this,a=arguments,o,u;return o=function(){i=null,n||(s=t.apply(r,a))},u=n&&!i,clearTimeout(i),i=setTimeout(o,e),u&&(s=t.apply(r,a)),s}},throttle:function(t,e){var n,i,s,r,a,o;return a=0,o=function(){a=new Date,s=null,r=t.apply(n,i)},function(){var u=new Date,c=e-(u-a);return n=this,i=arguments,c<=0?(clearTimeout(s),s=null,a=u,r=t.apply(n,i)):s||(s=setTimeout(o,c)),r}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){var a,o;return o=e.mixin({},r,t),a={css:s(),classes:o,html:n(o),selectors:i(o)},{css:a.css,html:a.html,classes:a.classes,selectors:a.selectors,mixin:function(t){e.mixin(t,a)}}}function n(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function i(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function s(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i,s;return i="typeahead:",s={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var s;return s=t.Event(i+e),(n=n||[]).unshift(s),this.$el.trigger.apply(this.$el,n),s},before:function(t){var e,n;return e=[].slice.call(arguments,1),(n=this._trigger("before"+t,e)).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=s[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),s=function(){"use strict";function t(t,e,n,i){var s;if(!n)return this;for(e=e.split(u),n=i?o(n,i):n,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(u);e=t.shift();)delete this._callbacks[e];return this}function s(t){var e,n,i,s,a;if(!this._callbacks)return this;for(t=t.split(u),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)s=r(n.sync,this,[e].concat(i)),a=r(n.async,this,[e].concat(i)),s()&&c(a);return this}function r(t,e,n){function i(){for(var i,s=0,r=t.length;!i&&s<r;s+=1)i=!1===t[s].apply(e,n);return!i}return i}function a(){var t;return t=window.setImmediate?function t(e){setImmediate(function(){e()})}:function t(e){setTimeout(function(){e()},0)}}function o(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var u=/\s+/,c=a();return{onSync:n,onAsync:e,off:i,trigger:s}}(),r=function(t){"use strict";function n(t,n,i){for(var s=[],r,a=0,o=t.length;a<o;a++)s.push(e.escapeRegExChars(t[a]));return r=i?"\\b("+s.join("|")+")\\b":"("+s.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function s(r){function a(e){var n,i,s;return(n=u.exec(e.data))&&(s=t.createElement(r.tagName),r.className&&(s.className=r.className),(i=e.splitText(n.index)).splitText(n[0].length),s.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(s,i)),!!n}function o(t,e){for(var n,i=3,s=0;s<t.childNodes.length;s++)3===(n=t.childNodes[s]).nodeType?s+=e(n)?1:0:o(n,e)}var u;(r=e.mixin({},i,r)).node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],u=n(r.pattern,r.caseSensitive,r.wordsOnly),o(r.node,a))}}(window.document),a=function(){"use strict";function n(n,s){(n=n||{}).input||t.error("input is missing"),s.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function r(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function a(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,s,{_onBlur:function t(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function t(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function t(e){var n=o[e.which||e.keyCode];this._managePreventDefault(n,e),n&&this._shouldTrigger(n,e)&&this.trigger(n+"Keyed",e)},_onInput:function t(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function t(e,n){var i;switch(e){case"up":case"down":i=!a(n);break;default:i=!1}i&&n.preventDefault()},_shouldTrigger:function t(e,n){var i;switch(e){case"tab":i=!a(n);break;default:i=!0}return i},_checkLanguageDirection:function t(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function t(e,n){var i,s;s=!!(i=r(e,this.query))&&this.query.length!==e.length,this.query=e,n||i?!n&&s&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t=this,n,i,s,r;return n=e.bind(this._onBlur,this),i=e.bind(this._onFocus,this),s=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",n).on("focus.tt",i).on("keydown.tt",s),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(n){o[n.which||n.keyCode]||e.defer(e.bind(t._onInput,t,n))}),this},focus:function t(){this.$input.focus()},blur:function t(){this.$input.blur()},getLangDir:function t(){return this.dir},getQuery:function t(){return this.query||""},setQuery:function t(e,n){this.setInputValue(e),this._setQuery(e,n)},hasQueryChangedSinceLastFocus:function t(){return this.query!==this.queryWhenFocused},getInputValue:function t(){return this.$input.val()},setInputValue:function t(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function t(){this.setInputValue(this.query)},getHint:function t(){return this.$hint.val()},setHint:function t(e){this.$hint.val(e)},clearHint:function t(){this.setHint("")},clearHintIfInvalid:function t(){var e,n,i,s;i=(e=this.getInputValue())!==(n=this.getHint())&&0===n.indexOf(e),!(s=""!==e&&i&&!this.hasOverflow())&&this.clearHint()},hasFocus:function t(){return this.$input.is(":focus")},hasOverflow:function t(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:!document.selection||((i=document.selection.createRange()).moveStart("character",-t),t===i.text.length)},destroy:function e(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),o=function(){"use strict";function n(n,s){(n=n||{}).templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!o(n.name)&&t.error("invalid dataset name: "+n.name),s.mixin(this),this.highlight=!!n.highlight,this.name=n.name||c(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=a(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(t){function n(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:n}function a(n,i){function s(e){return t("<div>").text(i(e))}return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||s}}function o(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var u,c;return u={val:"tt-selectable-display",obj:"tt-selectable-object"},c=e.getIdGenerator(),n.extractData=function e(n){var i=t(n);return i.data(u.obj)?{val:i.data(u.val)||"",obj:i.data(u.obj)||null}:null},e.mixin(n.prototype,s,{_overwrite:function t(e,n){(n=n||[]).length?this._renderSuggestions(e,n):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",this.name,n,!1)},_append:function t(e,n){(n=n||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(e,n):n.length?this._renderSuggestions(e,n):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",this.name,n,!0)},_renderSuggestions:function t(e,n){var i;i=this._getSuggestionsFragment(e,n),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(e,n)).append(this._getFooter(e,n))},_appendSuggestions:function t(e,n){var i,s;s=(i=this._getSuggestionsFragment(e,n)).children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=s},_renderPending:function t(e){var n=this.templates.pending;this._resetLastSuggestion(),n&&this.$el.html(n({query:e,dataset:this.name}))},_renderNotFound:function t(e){var n=this.templates.notFound;this._resetLastSuggestion(),n&&this.$el.html(n({query:e,dataset:this.name}))},_empty:function t(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function n(i,s){var a=this,o;return o=document.createDocumentFragment(),e.each(s,function e(n){var s,r;r=a._injectQuery(i,n),s=t(a.templates.suggestion(r)).data(u.obj,n).data(u.val,a.displayFn(n)).addClass(a.classes.suggestion+" "+a.classes.selectable),o.appendChild(s[0])}),this.highlight&&r({className:this.classes.highlight,node:o,pattern:i}),t(o)},_getFooter:function t(e,n){return this.templates.footer?this.templates.footer({query:e,suggestions:n,dataset:this.name}):null},_getHeader:function t(e,n){return this.templates.header?this.templates.header({query:e,suggestions:n,dataset:this.name}):null},_resetLastSuggestion:function e(){this.$lastSuggestion=t()},_injectQuery:function t(n,i){return e.isObject(i)?e.mixin({_query:n},i):i},update:function e(n){function i(t){o||(o=!0,t=(t||[]).slice(0,r.limit),u=t.length,r._overwrite(n,t),u<r.limit&&r.async&&r.trigger("asyncRequested",n))}function s(e){e=e||[],!a&&u<r.limit&&(r.cancel=t.noop,u+=e.length,r._append(n,e.slice(0,r.limit-u)),r.async&&r.trigger("asyncReceived",n))}var r=this,a=!1,o=!1,u=0;this.cancel(),this.cancel=function e(){a=!0,r.cancel=t.noop,r.async&&r.trigger("asyncCanceled",n)},this.source(n,i,s),!o&&i([])},cancel:t.noop,clear:function t(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function t(){return this.$el.is(":empty")},destroy:function e(){this.$el=t("<div>")}}),n}(),u=function(){"use strict";function n(n,i){function s(e){var n=r.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(r.$node),new o(e,i)}var r=this;(n=n||{}).node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,s)}return e.mixin(n.prototype,s,{_onSelectableClick:function e(n){this.trigger("selectableClicked",t(n.currentTarget))},_onRendered:function t(e,n,i,s){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",n,i,s)},_onCleared:function t(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function t(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function t(){function n(t){return t.isEmpty()}return e.every(this.datasets,n)},_getSelectables:function t(){return this.$node.find(this.selectors.selectable)},_removeCursor:function t(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function t(e){var n,i,s,r;i=(n=e.position().top)+e.outerHeight(!0),s=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),n<0?this.$node.scrollTop(s+n):r<i&&this.$node.scrollTop(s+(i-r))},bind:function(){var t=this,n;return n=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,n),e.each(this.datasets,function(e){e.onSync("asyncRequested",t._propagate,t).onSync("asyncCanceled",t._propagate,t).onSync("asyncReceived",t._propagate,t).onSync("rendered",t._onRendered,t).onSync("cleared",t._onCleared,t)}),this},isOpen:function t(){return this.$node.hasClass(this.classes.open)},open:function t(){this.$node.addClass(this.classes.open)},close:function t(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function t(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function t(e){var n,i,s,r;return i=this.getActiveSelectable(),n=this._getSelectables(),s=i?n.index(i):-1,r=s+e,r=(r+1)%(n.length+1)-1,-1===(r=r<-1?n.length-1:r)?null:n.eq(r)},setCursor:function t(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function t(e){return e&&e.length?o.extractData(e):null},getActiveSelectable:function t(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function t(){var e=this._getSelectables().first();return e.length?e:null},update:function t(n){function i(t){t.update(n)}var s=n!==this.query;return s&&(this.query=n,e.each(this.datasets,i)),s},empty:function t(){function n(t){t.clear()}e.each(this.datasets,n),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function n(){function i(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,i)}}),n}(),c=function(){"use strict";function t(){u.apply(this,[].slice.call(arguments,0))}var n=u.prototype;return e.mixin(t.prototype,u.prototype,{open:function t(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function t(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function t(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function t(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function t(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function t(){this.$node.hide()},_show:function t(){this.$node.css("display","block")}}),t}(),h=function(){"use strict";function n(n,s){var r,a,o,u,c,h,l,d,p,f,g;(n=n||{}).input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),s.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),r=i(this,"activate","open","_onFocused"),a=i(this,"deactivate","_onBlurred"),o=i(this,"isActive","isOpen","_onEnterKeyed"),u=i(this,"isActive","isOpen","_onTabKeyed"),c=i(this,"isActive","_onEscKeyed"),h=i(this,"isActive","open","_onUpKeyed"),l=i(this,"isActive","open","_onDownKeyed"),d=i(this,"isActive","isOpen","_onLeftKeyed"),p=i(this,"isActive","isOpen","_onRightKeyed"),f=i(this,"_openIfActive","_onQueryChanged"),g=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",r,this).onSync("blurred",a,this).onSync("enterKeyed",o,this).onSync("tabKeyed",u,this).onSync("escKeyed",c,this).onSync("upKeyed",h,this).onSync("downKeyed",l,this).onSync("leftKeyed",d,this).onSync("rightKeyed",p,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}return e.mixin(n.prototype,{_hacks:function n(){var i,s;i=this.input.$input||t("<div>"),s=this.menu.$node||t("<div>"),i.on("blur.tt",function(t){var n,r,a;n=document.activeElement,r=s.is(n),a=s.has(n).length>0,e.isMsie()&&(r||a)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){i.focus()}))}),s.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function t(e,n){this.select(n)},_onDatasetCleared:function t(){this._updateHint()},_onDatasetRendered:function t(e,n,i,s){this._updateHint(),this.eventBus.trigger("render",i,s,n)},_onAsyncRequested:function t(e,n,i){this.eventBus.trigger("asyncrequest",i,n)},_onAsyncCanceled:function t(e,n,i){this.eventBus.trigger("asynccancel",i,n)},_onAsyncReceived:function t(e,n,i){this.eventBus.trigger("asyncreceive",i,n)},_onFocused:function t(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function t(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function t(e,n){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&n.preventDefault()},_onTabKeyed:function t(e,n){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&n.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&n.preventDefault()},_onEscKeyed:function t(){this.close()},_onUpKeyed:function t(){this.moveCursor(-1)},_onDownKeyed:function t(){this.moveCursor(1)},_onLeftKeyed:function t(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function t(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function t(e,n){this._minLengthMet(n)?this.menu.update(n):this.menu.empty()},_onWhitespaceChanged:function t(){this._updateHint()},_onLangDirChanged:function t(e,n){this.dir!==n&&(this.dir=n,this.menu.setLanguageDirection(n))},_openIfActive:function t(){this.isActive()&&this.open()},_minLengthMet:function t(n){return(n=e.isString(n)?n:this.input.getQuery()||"").length>=this.minLength},_updateHint:function t(){var n,i,s,r,o,u,c;n=this.menu.getTopSelectable(),i=this.menu.getSelectableData(n),s=this.input.getInputValue(),!i||e.isBlankString(s)||this.input.hasOverflow()?this.input.clearHint():(r=a.normalizeQuery(s),o=e.escapeRegExChars(r),(c=(u=new RegExp("^(?:"+o+")(.+$)","i")).exec(i.val))&&this.input.setHint(s+c[1]))},isEnabled:function t(){return this.enabled},enable:function t(){this.enabled=!0},disable:function t(){this.enabled=!1},isActive:function t(){return this.active},activate:function t(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function t(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function t(){return this.menu.isOpen()},open:function t(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function t(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function t(n){this.input.setQuery(e.toStr(n))},getVal:function t(){return this.input.getQuery()},select:function t(e){var n=this.menu.getSelectableData(e);return!(!n||this.eventBus.before("select",n.obj))&&(this.input.setQuery(n.val,!0),this.eventBus.trigger("select",n.obj),this.close(),!0)},autocomplete:function t(e){var n,i,s;return n=this.input.getQuery(),i=this.menu.getSelectableData(e),!(!(s=i&&n!==i.val)||this.eventBus.before("autocomplete",i.obj))&&(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0)},moveCursor:function t(e){var n,i,s,r,a;return n=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(e),s=this.menu.getSelectableData(i),r=s?s.obj:null,!(a=this._minLengthMet()&&this.menu.update(n))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(i),s?this.input.setInputValue(s.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function t(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function s(e,n){e.each(function(){var e=t(this),i;(i=e.data(g.typeahead))&&n(i,e)})}function r(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(l(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function o(t,e){t.data(g.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function l(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function d(t){var n,i;n=t.data(g.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(g.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}function p(n){var i,s;return i=e.isJQuery(n)||e.isElement(n),(s=i?t(n).first():[]).length?s:null}var f,g,y;f=t.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},y={initialize:function s(l,d){function f(){var n,s,f,m,v,_,b,S,w,A,C;e.each(d,function(t){t.highlight=!!l.highlight}),n=t(this),s=t(y.html.wrapper),f=p(l.hint),m=p(l.menu),v=!1!==l.hint&&!f,_=!1!==l.menu&&!m,v&&(f=r(n,y)),_&&(m=t(y.html.menu).css(y.css.menu)),f&&f.val(""),n=o(n,y),(v||_)&&(s.css(y.css.wrapper),n.css(v?y.css.input:y.css.inputWithNoHint),n.wrap(s).parent().prepend(v?f:null).append(_?m:null)),C=_?c:u,b=new i({el:n}),S=new a({hint:f,input:n},y),w=new C({node:m,datasets:d},y),A=new h({input:S,menu:w,eventBus:b,minLength:l.minLength},y),n.data(g.www,y),n.data(g.typeahead,A)}var y;return d=e.isArray(d)?d:[].slice.call(arguments,1),l=l||{},y=n(l.classNames),this.each(f)},isEnabled:function t(){var e;return s(this.first(),function(t){e=t.isEnabled()}),e},enable:function t(){return s(this,function(t){t.enable()}),this},disable:function t(){return s(this,function(t){t.disable()}),this},isActive:function t(){var e;return s(this.first(),function(t){e=t.isActive()}),e},activate:function t(){return s(this,function(t){t.activate()}),this},deactivate:function t(){return s(this,function(t){t.deactivate()}),this},isOpen:function t(){var e;return s(this.first(),function(t){e=t.isOpen()}),e},open:function t(){return s(this,function(t){t.open()}),this},close:function t(){return s(this,function(t){t.close()}),this},select:function e(n){var i=!1,r=t(n);return s(this.first(),function(t){i=t.select(r)}),i},autocomplete:function e(n){var i=!1,r=t(n);return s(this.first(),function(t){i=t.autocomplete(r)}),i},moveCursor:function t(e){var n=!1;return s(this.first(),function(t){n=t.moveCursor(e)}),n},val:function t(e){var n;return arguments.length?(s(this,function(t){t.setVal(e)}),this):(s(this.first(),function(t){n=t.getVal()}),n)},destroy:function t(){return s(this,function(t,e){d(e),t.destroy()}),this}},t.fn.typeahead=function(t){return y[t]?y[t].apply(this,[].slice.call(arguments,1)):y.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function e(){return t.fn.typeahead=f,this}}()})}).call(this);

(function(){addUserVoice=function(){UserVoice=window.UserVoice||[],function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//widget.uservoice.com/Tr97iGx5vjayvpL1etd2zg.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),UserVoice.push(["set",{accent_color:"#448dd6",trigger_color:"white",trigger_background_color:"rgba(46, 49, 51, 0.6)"}]),UserVoice.push(["identify",{}]),UserVoice.push(["addTrigger",{mode:"contact",trigger_position:"bottom-right"}]),UserVoice.push(["autoprompt",{}])}}).call(this);

(function(){formatNumber=function(t){return t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0"},okCancelEvents=function(t,n){var e=n.ok||function(){},c=n.cancel||function(){},u={};return u["keyup "+t+", keydown "+t+", focusout "+t]=function(t){if("keydown"===t.type&&27===t.which)c.call(this,t);else if("keyup"===t.type&&13===t.which||"focusout"===t.type){var n=String(t.target.value||"");e.call(this,n,t)}},u},activateInput=function(t){t.focus(),t.select()}}).call(this);

(function(){var t=Element.prototype.appendChild,e=null;vida_d3={getCallStack:function(){for(var t=arguments.callee,e=[];t=t.caller;)e.push(t.toString());return e},getParentSvg:function(t){for(;t&&"svg"!==$(t).prop("tagName");)t=t.parentNode;return t},getAbsPos:function(t){var e={x:0,y:0};e.x=$(t).offset().left,e.y=$(t).offset().top;for(var a;t&&"svg"!==$(t).prop("tagName");)t=t.parentNode;return a=t,e.x-=$(a).offset().left+parseInt($(a).css("padding-left")),e.y-=$(a).offset().top+parseInt($(a).css("padding-top")),e},detach:function(){Element.prototype.appendChild=t},attach:function(){Element.prototype.appendChild=function(){var a=t.apply(this,arguments);if("svg"===$(this).prop("tagName")||"g"===$(this).prop("tagName")){for(var n=printStackTrace(),o,r=0;r<n.length;r++)0===n[r].indexOf("drawD3Document")&&(o=n[r]);void 0!==o&&d3.select(a).on("mouseover",function(){var t=vida_d3.getAbsPos(a),n=vida_d3.getParentSvg(a),r=a.getBBox();null!==e&&e.remove();var s=o.lastIndexOf(":"),i=o.lastIndexOf(":",s-1),c=o.substring(i+1,s);e=d3.select(n).append("rect").attr("x",t.x).attr("y",t.y).attr("width",r.width).attr("height",r.height).attr("class","inspect-box").on("click",function(){function t(e){e<2&&setTimeout(function(){var a=$(".ace_selection.ace_start").attr("style");$(".ace_selection.ace_start").attr("style","background:steelblue;"+a),setTimeout(function(){$(".ace_selection.ace_start").attr("style",a),t(e+1)},300)},300)}CD.jsEditor.gotoLine(c),CD.jsEditor.selection.selectLine(c);var e=0;t(0),d3.event.stopPropagation()}),d3.event.stopPropagation()})}return a}}}}).call(this);

(function(){isNumber=function(r){return!isNaN(parseFloat(r))&&isFinite(r)},JSONToArray=function(r,e,n,a){for(var t="object"!=typeof e?JSON.parse(e):e,o="",u=[],l=[],h=0;h<n.length;h++)l.push(n[h]);u.push(l);for(var h=0;h<t.length;h++){l=[];for(var p=0;p<n.length;p++){var s=a[p];void 0===s||"Auto"===s?isNumber(t[h][n[p]])?l.push(parseFloat(t[h][n[p]])):void 0===t[h][n[p]]||"null"===t[h][n[p]].replace(" ","")?l.push(null):l.push(t[h][n[p]]):"Number"===s?l.push(parseInt(t[h][n[p]])):"Date"===s?l.push(new Date(t[h][n[p]])):l.push(t[h][n[p]])}u.push(l)}return u},JSONArrayToCSV=function(r){return r.length>0?JSONToCSV(Object.keys(r[0]),r):""},JSONToCSV=function(r,e){for(var n="object"!=typeof e?JSON.parse(e):e,a="",t=0;t<r.length;t++)""!=a&&(a+=","),a+=r[t];a+="\r\n";for(var t=0;t<n.length;t++){var o="";for(var u in n[t])(""!=o||+u>0)&&(o+=","),o+=n[t][u];a+=o,t<n.length-1&&(a+="\r\n")}return a},CSVToJSON=function(r,e){if(-1===r.indexOf(e))return null;for(var n=CSVToArray(r,e),a=[],t=0;t<n.length;t++)n[t].length>=1&&a.push(n[t]);return arrayToJSON(a)},escapeMongoChars=function(r){return-1!==r.indexOf(".")&&(r=r.replace(/\./g,"U+FF04")),-1!==r.indexOf("$")&&(r=r.replace(/\$/g,"U+FF0E")),r},unescapeMongoChars=function(r){return r=r.replace(/U\+FF04/g,"."),r=r.replace(/U\+FF0E/g,"$")},arrayToJSON=function(r){var e={};if(r.length>0){for(var n=[],a=0;a<r[0].length;a++){var t=r[0][a];n.push(t)}e.columns=n;for(var o=[],a=1;a<r.length;a++){for(var u={},l=0;l<n.length;l++)u[n[l]]=r[a][l];o.push(u)}e.data=o}return e},CSVToArray=function(r,e){e=e||",";for(var n=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),a=[[]],t=null;t=n.exec(r);){var o=t[1];if(o.length&&o!=e&&a.push([]),t[2])var u=t[2].replace(new RegExp('""',"g"),'"');else var u=t[3];a[a.length-1].push(u)}return a}}).call(this);

(function(){isEnterprise=function(){return!!(Meteor.settings&&Meteor.settings.public&&Meteor.settings.public.organization&&-1==Meteor.settings.public.organization.toLowerCase().indexOf("vida lab"))},getEnterpriseEmail=function(){return Meteor.settings&&Meteor.settings.public&&Meteor.settings.public.emailContact?Meteor.settings.public.emailContact:"contact@vida.io"},isOrganization=function(t){return!!(Meteor.settings&&Meteor.settings.public&&Meteor.settings.public.organization&&-1!=Meteor.settings.public.organization.toLowerCase().indexOf(t.toLowerCase()))},entAccountIdOk=function(t){return!!(Meteor.settings&&t.indexOf(Meteor.settings.public.domain)>-1)},entAccountPasswordOk=function(t){return!(t.length<6||t.search(/[a-z]/i)<0||t.search(/[0-9]/)<0)}}).call(this);

(function(){ENV_LOCAL="localhost",ENV_STAGING="vida.meteor.com",ENV_PRODUCTION="vida.io",API_VERSION="1.0",environment={production:function(){return-1!==Meteor.absoluteUrl().indexOf(ENV_PRODUCTION)||isEnterprise()},staging:function(){return-1!==Meteor.absoluteUrl().indexOf(ENV_STAGING)},local:function(){return-1!==Meteor.absoluteUrl().indexOf(ENV_LOCAL)}},FEATURING_DOCUMENTS=[],environment.production()?(IMAGE_SERVICE_URL="http://image.vida.io/api/",THUMBNAIL_SHOT_PATH="https://vida.io/embed/",API_URL="http://api.vida.io/"+API_VERSION+"/",FEATURING_DOCUMENTS=["qcNqZk8oRMPCdFHg9","Aea4ZgQZ88Fx6AZMu","dW8migJMe7J9FQ9Ed","SuRAGDs7J78HCvoxE","igYpGMAvdvGdE5RMB","WgBMc4zDWF7YpqXGR","ZETDBs8uePfrmQ24g","uqctrZDsecBWCWvBv","s5qo5Gwrct5HNxAD2","ZCzewTza4ZSzMWSBG","7kAhqrG4C4eDxEmvP","qyRt8bFozMqfaw6Av","ZBAdDhetmAFjGZc2H","3xHNc7JCLGRWoq9BG","yB7uTByGsAwiZQFDZ"],COMPOSITE_DOCUMENTS=["FZgyWMDbfMMD2awMf","QMaJ8dgqGpjNkopfH","9KEahcjNZNbneEzKW","YaWNh5JJ4HjpY9Toa","KCQtJvty8G5WE6DbP","XXuvPGpynMcEpb3Ze","uZiwgBrLm7uuoGmYM","jFTQWD56MMAWDiAjM","rogBjm55nmPi7rdKR","s2wuySCh94mkTSueX","WAkvEiPSourwZCfms","kpTX3wDt8E6bwCezH"]):environment.staging()?(IMAGE_SERVICE_URL="http://image.vida.io/api/",THUMBNAIL_SHOT_PATH="https://vida.meteor.com/embed/",API_URL="http://vidaapi.meteor.io/"+API_VERSION+"/",FEATURING_DOCUMENTS=["txLjBabGZydbW5D26","EzPPZrY3f6cYvXaBm","hMSJdWaWXjdyEWx6S","fHs8643eTif5XMCTt"]):environment.local()&&(IMAGE_SERVICE_URL="http://localhost:4000/api/",THUMBNAIL_SHOT_PATH="http://localhost:3000/embed/",API_URL="http://api.vida.io/"+API_VERSION+"/",FEATURING_DOCUMENTS=["QZZTrhk7SmfChczYp","dW8migJMe7J9FQ9Ed","SuRAGDs7J78HCvoxE","igYpGMAvdvGdE5RMB","WgBMc4zDWF7YpqXGR","ZETDBs8uePfrmQ24g","uqctrZDsecBWCWvBv","s5qo5Gwrct5HNxAD2","ZCzewTza4ZSzMWSBG","7kAhqrG4C4eDxEmvP","qyRt8bFozMqfaw6Av","ZBAdDhetmAFjGZc2H","z65he9oZdc6cAGeEr"],COMPOSITE_DOCUMENTS=["MaPAbiEeMqhDxY7ma","Rx8jRSRwH4izWYj2Q","TKGcKJ6q52uxMCSpe","EYEMxipKYFd7brWvL","N4kXZ8XaDw4JXTkod","Jkh4r3YAXyGmmaQZs","dEt4KWoAwaBrc7FAk","TKGcKJ6q52uxMCSpe"]),getDocumentThumbnailURL=function(t){return"https://"+getS3Bucket()+".s3.amazonaws.com/thumbnails/"+t._id},getDashboardThumbnailURL=function(t){return"https://"+getS3Bucket()+".s3.amazonaws.com/dashboard_thumbnails/"+t._id},getFileURL=function(t){return"https://"+getS3Bucket()+".s3.amazonaws.com"+t}}).call(this);

(function(){//! moment.js
//! version : 2.10.6
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Hc.apply(null,arguments)}function b(a){Hc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Ca(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Jc.length>0)for(c in Jc)d=Jc[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),Kc===!1&&(Kc=!0,a.updateOffset(this),Kc=!1)}function o(a){return a instanceof n||null!=a&&null!=a._isAMomentObject}function p(a){return 0>a?Math.ceil(a):Math.floor(a)}function q(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=p(b)),c}function r(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&q(a[d])!==q(b[d]))&&g++;return g+f}function s(){}function t(a){return a?a.toLowerCase().replace("_","-"):a}function u(a){for(var b,c,d,e,f=0;f<a.length;){for(e=t(a[f]).split("-"),b=e.length,c=t(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=v(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&r(e,c,!0)>=b-1)break;b--}f++}return null}function v(a){var b=null;if(!Lc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ic._abbr,require("./locale/"+a),w(b)}catch(c){}return Lc[a]}function w(a,b){var c;return a&&(c="undefined"==typeof b?y(a):x(a,b),c&&(Ic=c)),Ic._abbr}function x(a,b){return null!==b?(b.abbr=a,Lc[a]=Lc[a]||new s,Lc[a].set(b),w(a),Lc[a]):(delete Lc[a],null)}function y(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ic;if(!c(a)){if(b=v(a))return b;a=[a]}return u(a)}function z(a,b){var c=a.toLowerCase();Mc[c]=Mc[c+"s"]=Mc[b]=a}function A(a){return"string"==typeof a?Mc[a]||Mc[a.toLowerCase()]:void 0}function B(a){var b,c,d={};for(c in a)f(a,c)&&(b=A(c),b&&(d[b]=a[c]));return d}function C(b,c){return function(d){return null!=d?(E(this,b,d),a.updateOffset(this,c),this):D(this,b)}}function D(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function E(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function F(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=A(a),"function"==typeof this[a])return this[a](b);return this}function G(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function H(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Qc[a]=e),b&&(Qc[b[0]]=function(){return G(e.apply(this,arguments),b[1],b[2])}),c&&(Qc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function I(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function J(a){var b,c,d=a.match(Nc);for(b=0,c=d.length;c>b;b++)Qc[d[b]]?d[b]=Qc[d[b]]:d[b]=I(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function K(a,b){return a.isValid()?(b=L(b,a.localeData()),Pc[b]=Pc[b]||J(b),Pc[b](a)):a.localeData().invalidDate()}function L(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Oc.lastIndex=0;d>=0&&Oc.test(a);)a=a.replace(Oc,c),Oc.lastIndex=0,d-=1;return a}function M(a){return"function"==typeof a&&"[object Function]"===Object.prototype.toString.call(a)}function N(a,b,c){dd[a]=M(b)?b:function(a){return a&&c?c:b}}function O(a,b){return f(dd,a)?dd[a](b._strict,b._locale):new RegExp(P(a))}function P(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=q(a)}),c=0;c<a.length;c++)ed[a[c]]=d}function R(a,b){Q(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function S(a,b,c){null!=b&&f(ed,a)&&ed[a](b,c._a,c,a)}function T(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function U(a){return this._months[a.month()]}function V(a){return this._monthsShort[a.month()]}function W(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function X(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),T(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function Y(b){return null!=b?(X(this,b),a.updateOffset(this,!0),this):D(this,"Month")}function Z(){return T(this.year(),this.month())}function $(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[gd]<0||c[gd]>11?gd:c[hd]<1||c[hd]>T(c[fd],c[gd])?hd:c[id]<0||c[id]>24||24===c[id]&&(0!==c[jd]||0!==c[kd]||0!==c[ld])?id:c[jd]<0||c[jd]>59?jd:c[kd]<0||c[kd]>59?kd:c[ld]<0||c[ld]>999?ld:-1,j(a)._overflowDayOfYear&&(fd>b||b>hd)&&(b=hd),j(a).overflow=b),a}function _(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function aa(a,b){var c=!0;return g(function(){return c&&(_(a+"\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function ba(a,b){od[a]||(_(b),od[a]=!0)}function ca(a){var b,c,d=a._i,e=pd.exec(d);if(e){for(j(a).iso=!0,b=0,c=qd.length;c>b;b++)if(qd[b][1].exec(d)){a._f=qd[b][0];break}for(b=0,c=rd.length;c>b;b++)if(rd[b][1].exec(d)){a._f+=(e[6]||" ")+rd[b][0];break}d.match(ad)&&(a._f+="Z"),va(a)}else a._isValid=!1}function da(b){var c=sd.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(ca(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ea(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function fa(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ga(a){return ha(a)?366:365}function ha(a){return a%4===0&&a%100!==0||a%400===0}function ia(){return ha(this.year())}function ja(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Da(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ka(a){return ja(a,this._week.dow,this._week.doy).week}function la(){return this._week.dow}function ma(){return this._week.doy}function na(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function oa(a){var b=ja(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function pa(a,b,c,d,e){var f,g=6+e-d,h=fa(a,0,1+g),i=h.getUTCDay();return e>i&&(i+=7),c=null!=c?1*c:e,f=1+g+7*(b-1)-i+c,{year:f>0?a:a-1,dayOfYear:f>0?f:ga(a-1)+f}}function qa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function ra(a,b,c){return null!=a?a:null!=b?b:c}function sa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ta(a){var b,c,d,e,f=[];if(!a._d){for(d=sa(a),a._w&&null==a._a[hd]&&null==a._a[gd]&&ua(a),a._dayOfYear&&(e=ra(a._a[fd],d[fd]),a._dayOfYear>ga(e)&&(j(a)._overflowDayOfYear=!0),c=fa(e,0,a._dayOfYear),a._a[gd]=c.getUTCMonth(),a._a[hd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[id]&&0===a._a[jd]&&0===a._a[kd]&&0===a._a[ld]&&(a._nextDay=!0,a._a[id]=0),a._d=(a._useUTC?fa:ea).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[id]=24)}}function ua(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=ra(b.GG,a._a[fd],ja(Da(),1,4).year),d=ra(b.W,1),e=ra(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=ra(b.gg,a._a[fd],ja(Da(),f,g).year),d=ra(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=pa(c,d,e,g,f),a._a[fd]=h.year,a._dayOfYear=h.dayOfYear}function va(b){if(b._f===a.ISO_8601)return void ca(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=L(b._f,b._locale).match(Nc)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(O(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Qc[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),S(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[id]<=12&&b._a[id]>0&&(j(b).bigHour=void 0),b._a[id]=wa(b._locale,b._a[id],b._meridiem),ta(b),$(b)}function wa(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function xa(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],va(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function ya(a){if(!a._d){var b=B(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ta(a)}}function za(a){var b=new n($(Aa(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Aa(a){var b=a._i,e=a._f;return a._locale=a._locale||y(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),o(b)?new n($(b)):(c(e)?xa(a):e?va(a):d(b)?a._d=b:Ba(a),a))}function Ba(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?da(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ta(b)):"object"==typeof f?ya(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Ca(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,za(f)}function Da(a,b,c,d){return Ca(a,b,c,d,!1)}function Ea(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Da();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Fa(){var a=[].slice.call(arguments,0);return Ea("isBefore",a)}function Ga(){var a=[].slice.call(arguments,0);return Ea("isAfter",a)}function Ha(a){var b=B(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=y(),this._bubble()}function Ia(a){return a instanceof Ha}function Ja(a,b){H(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+G(~~(a/60),2)+b+G(~~a%60,2)})}function Ka(a){var b=(a||"").match(ad)||[],c=b[b.length-1]||[],d=(c+"").match(xd)||["-",0,0],e=+(60*d[1])+q(d[2]);return"+"===d[0]?e:-e}function La(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Da(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Da(b).local()}function Ma(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Na(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ka(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ma(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?bb(this,Ya(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ma(this)}function Oa(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Pa(a){return this.utcOffset(0,a)}function Qa(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ma(this),"m")),this}function Ra(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ka(this._i)),this}function Sa(a){return a=a?Da(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Ta(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ua(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var a={};if(m(a,this),a=Aa(a),a._a){var b=a._isUTC?h(a._a):Da(a._a);this._isDSTShifted=this.isValid()&&r(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Va(){return!this._isUTC}function Wa(){return this._isUTC}function Xa(){return this._isUTC&&0===this._offset}function Ya(a,b){var c,d,e,g=a,h=null;return Ia(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=yd.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:q(h[hd])*c,h:q(h[id])*c,m:q(h[jd])*c,s:q(h[kd])*c,ms:q(h[ld])*c}):(h=zd.exec(a))?(c="-"===h[1]?-1:1,g={y:Za(h[2],c),M:Za(h[3],c),d:Za(h[4],c),h:Za(h[5],c),m:Za(h[6],c),s:Za(h[7],c),w:Za(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=_a(Da(g.from),Da(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ha(g),Ia(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Za(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function $a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function _a(a,b){var c;return b=La(b,a),a.isBefore(b)?c=$a(a,b):(c=$a(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function ab(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(ba(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Ya(c,d),bb(this,e,a),this}}function bb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&E(b,"Date",D(b,"Date")+g*d),h&&X(b,D(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function cb(a,b){var c=a||Da(),d=La(c,this).startOf("day"),e=this.diff(d,"days",!0),f=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(b&&b[f]||this.localeData().calendar(f,this,Da(c)))}function db(){return new n(this)}function eb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this>+a):(c=o(a)?+a:+Da(a),c<+this.clone().startOf(b))}function fb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+a>+this):(c=o(a)?+a:+Da(a),+this.clone().endOf(b)<c)}function gb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function hb(a,b){var c;return b=A(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this===+a):(c=+Da(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function ib(a,b,c){var d,e,f=La(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=A(b),"year"===b||"month"===b||"quarter"===b?(e=jb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:p(e)}function jb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function kb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function lb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():K(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function mb(b){var c=K(this,b||a.defaultFormat);return this.localeData().postformat(c)}function nb(a,b){return this.isValid()?Ya({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.from(Da(),a)}function pb(a,b){return this.isValid()?Ya({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function qb(a){return this.to(Da(),a)}function rb(a){var b;return void 0===a?this._locale._abbr:(b=y(a),null!=b&&(this._locale=b),this)}function sb(){return this._locale}function tb(a){switch(a=A(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function ub(a){return a=A(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function vb(){return+this._d-6e4*(this._offset||0)}function wb(){return Math.floor(+this/1e3)}function xb(){return this._offset?new Date(+this):this._d}function yb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function zb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Ab(){return k(this)}function Bb(){return g({},j(this))}function Cb(){return j(this).overflow}function Db(a,b){H(0,[a,a.length],0,b)}function Eb(a,b,c){return ja(Da([a,11,31+b-c]),b,c).week}function Fb(a){var b=ja(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Gb(a){var b=ja(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Hb(){return Eb(this.year(),1,4)}function Ib(){var a=this.localeData()._week;return Eb(this.year(),a.dow,a.doy)}function Jb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Kb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Lb(a){return this._weekdays[a.day()]}function Mb(a){return this._weekdaysShort[a.day()]}function Nb(a){return this._weekdaysMin[a.day()]}function Ob(a){var b,c,d;for(this._weekdaysParse=this._weekdaysParse||[],b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Da([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b}function Pb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Kb(a,this.localeData()),this.add(a-b,"d")):b}function Qb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Rb(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Sb(a,b){H(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Tb(a,b){return b._meridiemParse}function Ub(a){return"p"===(a+"").toLowerCase().charAt(0)}function Vb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Wb(a,b){b[ld]=q(1e3*("0."+a))}function Xb(){return this._isUTC?"UTC":""}function Yb(){return this._isUTC?"Coordinated Universal Time":""}function Zb(a){return Da(1e3*a)}function $b(){return Da.apply(null,arguments).parseZone()}function _b(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function ac(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function bc(){return this._invalidDate}function cc(a){return this._ordinal.replace("%d",a)}function dc(a){return a}function ec(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function fc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function gc(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function hc(a,b,c,d){var e=y(),f=h().set(d,b);return e[c](f,a)}function ic(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return hc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=hc(a,f,c,e);return g}function jc(a,b){return ic(a,b,"months",12,"month")}function kc(a,b){return ic(a,b,"monthsShort",12,"month")}function lc(a,b){return ic(a,b,"weekdays",7,"day")}function mc(a,b){return ic(a,b,"weekdaysShort",7,"day")}function nc(a,b){return ic(a,b,"weekdaysMin",7,"day")}function oc(){var a=this._data;return this._milliseconds=Wd(this._milliseconds),this._days=Wd(this._days),this._months=Wd(this._months),a.milliseconds=Wd(a.milliseconds),a.seconds=Wd(a.seconds),a.minutes=Wd(a.minutes),a.hours=Wd(a.hours),a.months=Wd(a.months),a.years=Wd(a.years),this}function pc(a,b,c,d){var e=Ya(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function qc(a,b){return pc(this,a,b,1)}function rc(a,b){return pc(this,a,b,-1)}function sc(a){return 0>a?Math.floor(a):Math.ceil(a)}function tc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*sc(vc(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=p(f/1e3),i.seconds=a%60,b=p(a/60),i.minutes=b%60,c=p(b/60),i.hours=c%24,g+=p(c/24),e=p(uc(g)),h+=e,g-=sc(vc(e)),d=p(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function uc(a){return 4800*a/146097}function vc(a){return 146097*a/4800}function wc(a){var b,c,d=this._milliseconds;if(a=A(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+uc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(vc(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function xc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12)}function yc(a){return function(){return this.as(a)}}function zc(a){return a=A(a),this[a+"s"]()}function Ac(a){return function(){return this._data[a]}}function Bc(){return p(this.days()/7)}function Cc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Dc(a,b,c){var d=Ya(a).abs(),e=ke(d.as("s")),f=ke(d.as("m")),g=ke(d.as("h")),h=ke(d.as("d")),i=ke(d.as("M")),j=ke(d.as("y")),k=e<le.s&&["s",e]||1===f&&["m"]||f<le.m&&["mm",f]||1===g&&["h"]||g<le.h&&["hh",g]||1===h&&["d"]||h<le.d&&["dd",h]||1===i&&["M"]||i<le.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Cc.apply(null,k)}function Ec(a,b){return void 0===le[a]?!1:void 0===b?le[a]:(le[a]=b,!0)}function Fc(a){var b=this.localeData(),c=Dc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Gc(){var a,b,c,d=me(this._milliseconds)/1e3,e=me(this._days),f=me(this._months);a=p(d/60),b=p(a/60),d%=60,a%=60,c=p(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var Hc,Ic,Jc=a.momentProperties=[],Kc=!1,Lc={},Mc={},Nc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Oc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pc={},Qc={},Rc=/\d/,Sc=/\d\d/,Tc=/\d{3}/,Uc=/\d{4}/,Vc=/[+-]?\d{6}/,Wc=/\d\d?/,Xc=/\d{1,3}/,Yc=/\d{1,4}/,Zc=/[+-]?\d{1,6}/,$c=/\d+/,_c=/[+-]?\d+/,ad=/Z|[+-]\d\d:?\d\d/gi,bd=/[+-]?\d+(\.\d{1,3})?/,cd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,dd={},ed={},fd=0,gd=1,hd=2,id=3,jd=4,kd=5,ld=6;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),H("MMMM",0,0,function(a){return this.localeData().months(this,a)}),z("month","M"),N("M",Wc),N("MM",Wc,Sc),N("MMM",cd),N("MMMM",cd),Q(["M","MM"],function(a,b){b[gd]=q(a)-1}),Q(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[gd]=e:j(c).invalidMonth=a});var md="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),od={};a.suppressDeprecationWarnings=!1;var pd=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],rd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],sd=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=aa("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),z("year","y"),N("Y",_c),N("YY",Wc,Sc),N("YYYY",Yc,Uc),N("YYYYY",Zc,Vc),N("YYYYYY",Zc,Vc),Q(["YYYYY","YYYYYY"],fd),Q("YYYY",function(b,c){c[fd]=2===b.length?a.parseTwoDigitYear(b):q(b)}),Q("YY",function(b,c){c[fd]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return q(a)+(q(a)>68?1900:2e3)};var td=C("FullYear",!1);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),N("w",Wc),N("ww",Wc,Sc),N("W",Wc),N("WW",Wc,Sc),R(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=q(a)});var ud={dow:0,doy:6};H("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),N("DDD",Xc),N("DDDD",Tc),Q(["DDD","DDDD"],function(a,b,c){c._dayOfYear=q(a)}),a.ISO_8601=function(){};var vd=aa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return this>a?this:a}),wd=aa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return a>this?this:a});Ja("Z",":"),Ja("ZZ",""),N("Z",ad),N("ZZ",ad),Q(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ka(a)});var xd=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var yd=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,zd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ya.fn=Ha.prototype;var Ad=ab(1,"add"),Bd=ab(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Cd=aa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Db("gggg","weekYear"),Db("ggggg","weekYear"),Db("GGGG","isoWeekYear"),Db("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),N("G",_c),N("g",_c),N("GG",Wc,Sc),N("gg",Wc,Sc),N("GGGG",Yc,Uc),N("gggg",Yc,Uc),N("GGGGG",Zc,Vc),N("ggggg",Zc,Vc),R(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=q(a)}),R(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),H("Q",0,0,"quarter"),z("quarter","Q"),N("Q",Rc),Q("Q",function(a,b){b[gd]=3*(q(a)-1)}),H("D",["DD",2],"Do","date"),z("date","D"),N("D",Wc),N("DD",Wc,Sc),N("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),Q(["D","DD"],hd),Q("Do",function(a,b){b[hd]=q(a.match(Wc)[0],10)});var Dd=C("Date",!0);H("d",0,"do","day"),H("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),H("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),H("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),N("d",Wc),N("e",Wc),N("E",Wc),N("dd",cd),N("ddd",cd),N("dddd",cd),R(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),R(["d","e","E"],function(a,b,c,d){b[d]=q(a)});var Ed="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Gd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");H("H",["HH",2],0,"hour"),H("h",["hh",2],0,function(){return this.hours()%12||12}),Sb("a",!0),Sb("A",!1),z("hour","h"),N("a",Tb),N("A",Tb),N("H",Wc),N("h",Wc),N("HH",Wc,Sc),N("hh",Wc,Sc),Q(["H","HH"],id),Q(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),Q(["h","hh"],function(a,b,c){b[id]=q(a),j(c).bigHour=!0});var Hd=/[ap]\.?m?\.?/i,Id=C("Hours",!0);H("m",["mm",2],0,"minute"),z("minute","m"),N("m",Wc),N("mm",Wc,Sc),Q(["m","mm"],jd);var Jd=C("Minutes",!1);H("s",["ss",2],0,"second"),z("second","s"),N("s",Wc),N("ss",Wc,Sc),Q(["s","ss"],kd);var Kd=C("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),z("millisecond","ms"),N("S",Xc,Rc),N("SS",Xc,Sc),N("SSS",Xc,Tc);var Ld;for(Ld="SSSS";Ld.length<=9;Ld+="S")N(Ld,$c);for(Ld="S";Ld.length<=9;Ld+="S")Q(Ld,Wb);var Md=C("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Nd=n.prototype;Nd.add=Ad,Nd.calendar=cb,Nd.clone=db,Nd.diff=ib,Nd.endOf=ub,Nd.format=mb,Nd.from=nb,Nd.fromNow=ob,Nd.to=pb,Nd.toNow=qb,Nd.get=F,Nd.invalidAt=Cb,Nd.isAfter=eb,Nd.isBefore=fb,Nd.isBetween=gb,Nd.isSame=hb,Nd.isValid=Ab,Nd.lang=Cd,Nd.locale=rb,Nd.localeData=sb,Nd.max=wd,Nd.min=vd,Nd.parsingFlags=Bb,Nd.set=F,Nd.startOf=tb,Nd.subtract=Bd,Nd.toArray=yb,Nd.toObject=zb,Nd.toDate=xb,Nd.toISOString=lb,Nd.toJSON=lb,Nd.toString=kb,Nd.unix=wb,Nd.valueOf=vb,Nd.year=td,Nd.isLeapYear=ia,Nd.weekYear=Fb,Nd.isoWeekYear=Gb,Nd.quarter=Nd.quarters=Jb,Nd.month=Y,Nd.daysInMonth=Z,Nd.week=Nd.weeks=na,Nd.isoWeek=Nd.isoWeeks=oa,Nd.weeksInYear=Ib,Nd.isoWeeksInYear=Hb,Nd.date=Dd,Nd.day=Nd.days=Pb,Nd.weekday=Qb,Nd.isoWeekday=Rb,Nd.dayOfYear=qa,Nd.hour=Nd.hours=Id,Nd.minute=Nd.minutes=Jd,Nd.second=Nd.seconds=Kd,
Nd.millisecond=Nd.milliseconds=Md,Nd.utcOffset=Na,Nd.utc=Pa,Nd.local=Qa,Nd.parseZone=Ra,Nd.hasAlignedHourOffset=Sa,Nd.isDST=Ta,Nd.isDSTShifted=Ua,Nd.isLocal=Va,Nd.isUtcOffset=Wa,Nd.isUtc=Xa,Nd.isUTC=Xa,Nd.zoneAbbr=Xb,Nd.zoneName=Yb,Nd.dates=aa("dates accessor is deprecated. Use date instead.",Dd),Nd.months=aa("months accessor is deprecated. Use month instead",Y),Nd.years=aa("years accessor is deprecated. Use year instead",td),Nd.zone=aa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Oa);var Od=Nd,Pd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Qd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Rd="Invalid date",Sd="%d",Td=/\d{1,2}/,Ud={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Vd=s.prototype;Vd._calendar=Pd,Vd.calendar=_b,Vd._longDateFormat=Qd,Vd.longDateFormat=ac,Vd._invalidDate=Rd,Vd.invalidDate=bc,Vd._ordinal=Sd,Vd.ordinal=cc,Vd._ordinalParse=Td,Vd.preparse=dc,Vd.postformat=dc,Vd._relativeTime=Ud,Vd.relativeTime=ec,Vd.pastFuture=fc,Vd.set=gc,Vd.months=U,Vd._months=md,Vd.monthsShort=V,Vd._monthsShort=nd,Vd.monthsParse=W,Vd.week=ka,Vd._week=ud,Vd.firstDayOfYear=ma,Vd.firstDayOfWeek=la,Vd.weekdays=Lb,Vd._weekdays=Ed,Vd.weekdaysMin=Nb,Vd._weekdaysMin=Gd,Vd.weekdaysShort=Mb,Vd._weekdaysShort=Fd,Vd.weekdaysParse=Ob,Vd.isPM=Ub,Vd._meridiemParse=Hd,Vd.meridiem=Vb,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===q(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=aa("moment.lang is deprecated. Use moment.locale instead.",w),a.langData=aa("moment.langData is deprecated. Use moment.localeData instead.",y);var Wd=Math.abs,Xd=yc("ms"),Yd=yc("s"),Zd=yc("m"),$d=yc("h"),_d=yc("d"),ae=yc("w"),be=yc("M"),ce=yc("y"),de=Ac("milliseconds"),ee=Ac("seconds"),fe=Ac("minutes"),ge=Ac("hours"),he=Ac("days"),ie=Ac("months"),je=Ac("years"),ke=Math.round,le={s:45,m:45,h:22,d:26,M:11},me=Math.abs,ne=Ha.prototype;ne.abs=oc,ne.add=qc,ne.subtract=rc,ne.as=wc,ne.asMilliseconds=Xd,ne.asSeconds=Yd,ne.asMinutes=Zd,ne.asHours=$d,ne.asDays=_d,ne.asWeeks=ae,ne.asMonths=be,ne.asYears=ce,ne.valueOf=xc,ne._bubble=tc,ne.get=zc,ne.milliseconds=de,ne.seconds=ee,ne.minutes=fe,ne.hours=ge,ne.days=he,ne.weeks=Bc,ne.months=ie,ne.years=je,ne.humanize=Fc,ne.toISOString=Gc,ne.toString=Gc,ne.toJSON=Gc,ne.locale=rb,ne.localeData=sb,ne.toIsoString=aa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gc),ne.lang=Cd,H("X",0,0,"unix"),H("x",0,0,"valueOf"),N("x",_c),N("X",bd),Q("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),Q("x",function(a,b,c){c._d=new Date(q(a))}),a.version="2.10.6",b(Da),a.fn=Od,a.min=Fa,a.max=Ga,a.utc=h,a.unix=Zb,a.months=jc,a.isDate=d,a.locale=w,a.invalid=l,a.duration=Ya,a.isMoment=o,a.weekdays=lc,a.parseZone=$b,a.localeData=y,a.isDuration=Ia,a.monthsShort=kc,a.weekdaysMin=nc,a.defineLocale=x,a.weekdaysShort=mc,a.normalizeUnits=A,a.relativeTimeThreshold=Ec;var oe=a;return oe});
}).call(this);


(function(){emailRx=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,mongoIdRx=/^[0-9a-zA-Z]{17}$/,fileName=/^[0-9a-zA-Z-_ ]+$/}).call(this);

(function(){SAMPLE_DATA_SETS=[{key:"company-performance",display_name:"Company Performance (Line)",csvData:"Year,Sales,Expenses\r\n2004,1000,400\r\n2005,1170,460\r\n2006,660,1120\r\n2007,1030,540",data:'{"type":"line","privacy":"public","owner":"GnbiFeKatJXnYnuK4","data":{"columns":["Year","Sales","Expenses"],"data":[{"Year":"2004","Sales":"1000","Expenses":"400"},{"Year":"2005","Sales":"1170","Expenses":"460"},{"Year":"2006","Sales":"660","Expenses":"1120"},{"Year":"2007","Sales":"1030","Expenses":"540"}]},"options":{"title":"Line Chart","width":640,"height":320,"fields":{"x_axis":"Year","y_axis":"Sales","y_axis_2":"Expenses"},"field_types":{"x_axis":"String","y_axis":"Auto"},"titleTextStyle":{"color":"#666","fontSize":20},"vAxis":{"title":""},"legend":{"position":"right"}}}',type:"line"},{key:"company-performance",display_name:"Company Performance (Bar)",csvData:"Year,Sales,Expenses\r\n2004,1000,400\r\n2005,1170,460\r\n2006,660,1120\r\n2007,1030,540",data:'{"type":"bar","privacy":"public","data":{"columns":["Year","Sales","Expenses"],"data":[{"Year":"2004","Sales":"1000","Expenses":"400"},{"Year":"2005","Sales":"1170","Expenses":"460"},{"Year":"2006","Sales":"660","Expenses":"1120"},{"Year":"2007","Sales":"1030","Expenses":"540"}]},"options":{"title":"Bar Chart","width":640,"height":320,"fields":{"x_axis":"Year","y_axis":"Sales","y_axis_2":"Expenses"},"field_types":{"x_axis":"String"},"titleTextStyle":{"color":"#666","fontSize":20},"vAxis":{"title":""},"legend":{"position":"right"}}}',type:"bar"},{key:"company-performance",display_name:"Company Performance (Horizontal Bar)",csvData:"Year,Sales,Expenses\r\n2004,1000,400\r\n2005,1170,460\r\n2006,660,1120\r\n2007,1030,540",data:'{"type":"horizontal_bar","privacy":"public","data":{"columns":["Year","Sales","Expenses"],"data":[{"Year":"2004","Sales":"1000","Expenses":"400"},{"Year":"2005","Sales":"1170","Expenses":"460"},{"Year":"2006","Sales":"660","Expenses":"1120"},{"Year":"2007","Sales":"1030","Expenses":"540"}]},"options":{"title":"Horizontal Bar","width":640,"height":320,"fields":{"x_axis":"Year","y_axis":"Sales","y_axis_2":"Expenses"},"field_types":{},"titleTextStyle":{"color":"#666","fontSize":20},"vAxis":{"title":""},"legend":{"position":"right"}}}',type:"horizontal_bar"},{key:"company-performance",display_name:"Company Performance (Area)",csvData:"Year,Sales,Expenses\r\n2004,1000,400\r\n2005,1170,460\r\n2006,660,1120\r\n2007,1030,540",data:'{"type":"area","privacy":"public","data":{"columns":["Year","Sales","Expenses"],"data":[{"Year":"2004","Sales":"1000","Expenses":"400"},{"Year":"2005","Sales":"1170","Expenses":"460"},{"Year":"2006","Sales":"660","Expenses":"1120"},{"Year":"2007","Sales":"1030","Expenses":"540"}]},"options":{"title":"Area Chart","width":640,"height":320,"fields":{"x_axis":"Year","y_axis":"Sales","y_axis_2":"Expenses"},"field_types":{"x_axis":"String","y_axis":"Auto"},"titleTextStyle":{"color":"#666","fontSize":20},"vAxis":{"title":""},"legend":{"position":"right"}}}',type:"area"},{key:"daily-activity",display_name:"Daily Activity (Pie)",csvData:"Task,Hours per Day\r\nWork,11\r\nEat,2\r\nCommute,2\r\nWatch TV,2\r\nSleep,7",data:'{"type":"pie","privacy":"public","data":{"columns":["Task","Hours per Day"],"data":[{"Task":"Work","Hours per Day":"11"},{"Task":"Eat","Hours per Day":"2"},{"Task":"Commute","Hours per Day":"2"},{"Task":"Watch TV","Hours per Day":"2"},{"Task":"Sleep","Hours per Day":"7"}]},"options":{"title":"Pie Chart","width":640,"height":320,"fields":{"chart_category":"Task","chart_value":"Hours per Day"},"field_types":{},"titleTextStyle":{"color":"#666","fontSize":20},"legend":{"position":"right"}}}',type:"pie"},{key:"united-states-population",display_name:"United States Population by States (Geo Map)",csvData:"State,Population\r\nCalifornia,38041430\r\nTexas,26059203\r\nNew York,19570261\r\nFlorida,19317568\r\nIllinois,12875255\r\nPennsylvania,12763536\r\nOhio,11544225\r\nWashington,6897012",data:'{"type":"geo_map","privacy":"public","data":{"columns":["State","Population"],"data":[{"State":"California","Population":"38041430"},{"State":"Texas","Population":"26059203"},{"State":"New York","Population":"19570261"},{"State":"Florida","Population":"19317568"},{"State":"Illinois","Population":"12875255"},{"State":"Pennsylvania","Population":"12763536"},{"State":"Ohio","Population":"11544225"},{"State":"Washington","Population":"6897012"}]},"options":{"title":"Geo Map","width":640,"height":320,"fields":{"geo_map_location":"State","geo_map_value":"Population","geo_map_region":"United States"},"field_types":{},"titleTextStyle":{"color":"#666","fontSize":20},"region":"US","resolution":"provinces"}}',type:"geo_map"},{key:"age-weight",display_name:"Age Weight Comparison (Scatter Plot)",csvData:"Age,Weight\r\n10,50\r\n11,55\r\n12,65\r\n13,80",data:'{"type":"scatter_plot","privacy":"public","data":{"columns":["Age","Weight"],"data":[{"Age":"10","Weight":"50"},{"Age":"11","Weight":"55"},{"Age":"12","Weight":"65"},{"Age":"13","Weight":"80"}]},"options":{"title":"Scatter Plot","width":640,"height":320,"fields":{"x_axis":"Age","y_axis":"Weight"},"field_types":{},"titleTextStyle":{"color":"#666","fontSize":20},"vAxis":{"title":"Weight"},"hAxis":{"title":"Age"},"legend":{"position":"none"}}}',type:"scatter_plot"},{key:"correlation-multiple",display_name:"Correlation between life expectancy, fertility rate, population (Bubble)",csvData:"ID,LifeExpectancy,FertilityRate,Region,Population\r\nCAN,80.66,1.67,NorthAmerica,33739900\r\nDEU,79.84,1.36,Europe,81902307\r\nDNK,78.6,1.84,Europe,5523095\r\nEGY,72.73,2.78,MiddleEast,79716203\r\nGBR,80.05,2,Europe,61801570\r\nIRN,72.49,1.7,MiddleEast,73137148\r\nIRQ,68.09,4.77,MiddleEast,31090763\r\nISR,81.55,2.96,MiddleEast,7485600\r\nRUS,68.6,1.54,Europe,141850000\r\nUSA,78.09,2.05,NorthAmerica,307007000",data:'{"type":"bubble","privacy":"public","data":{"columns":["ID","LifeExpectancy","FertilityRate","Region","Population"],"data":[{"ID":"CAN","LifeExpectancy":"80.66","FertilityRate":"1.67","Region":"NorthAmerica","Population":"33739900"},{"ID":"DEU","LifeExpectancy":"79.84","FertilityRate":"1.36","Region":"Europe","Population":"81902307"},{"ID":"DNK","LifeExpectancy":"78.6","FertilityRate":"1.84","Region":"Europe","Population":"5523095"},{"ID":"EGY","LifeExpectancy":"72.73","FertilityRate":"2.78","Region":"MiddleEast","Population":"79716203"},{"ID":"GBR","LifeExpectancy":"80.05","FertilityRate":"2","Region":"Europe","Population":"61801570"},{"ID":"IRN","LifeExpectancy":"72.49","FertilityRate":"1.7","Region":"MiddleEast","Population":"73137148"},{"ID":"IRQ","LifeExpectancy":"68.09","FertilityRate":"4.77","Region":"MiddleEast","Population":"31090763"},{"ID":"ISR","LifeExpectancy":"81.55","FertilityRate":"2.96","Region":"MiddleEast","Population":"7485600"},{"ID":"RUS","LifeExpectancy":"68.6","FertilityRate":"1.54","Region":"Europe","Population":"141850000"},{"ID":"USA","LifeExpectancy":"78.09","FertilityRate":"2.05","Region":"NorthAmerica","Population":"307007000"}]},"options":{"title":"Bubble Chart","width":640,"height":320,"fields":{"id_data":"ID","x_axis":"LifeExpectancy","y_axis":"FertilityRate","bubble_data":"Region","bubble_size":"Population"},"field_types":{},"titleTextStyle":{"color":"#666","fontSize":20},"vAxis":{"title":"FertilityRate"},"hAxis":{"title":"LifeExpectancy"},"legend":{"position":"none"}}}',type:"bubble"},{key:"",display_name:"World Maket Trade Volume (TreeMap)",csvData:"Location,Parent,Markettradevolume(size),Marketincrease/decrease(color)\r\nGlobal,null,0,0\r\nAmerica,Global,0,0\r\nEurope,Global,0,0\r\nAsia,Global,0,0\r\nAustralia,Global,0,0\r\nAfrica,Global,0,0\r\nBrazil,America,11,10\r\nUSA,America,52,31\r\nMexico,America,24,12\r\nCanada,America,16,-23\r\nFrance,Europe,42,-11\r\nGermany,Europe,31,-2\r\nSweden,Europe,22,-13\r\nItaly,Europe,17,4\r\nUK,Europe,21,-5\r\nChina,Asia,36,4\r\nJapan,Asia,20,-12\r\nIndia,Asia,40,63\r\nLaos,Asia,4,34\r\nMongolia,Asia,1,-5\r\nIsrael,Asia,12,24\r\nIran,Asia,18,13\r\nPakistan,Asia,11,-52\r\nEgypt,Africa,21,0\r\nS.Africa,Africa,30,43\r\nSudan,Africa,12,2\r\nCongo,Africa,10,12\r\nZaire,Africa,8,10",data:'{"type":"tree_map","privacy":"public","data":{"columns":["Location","Parent","Markettradevolume(size)","Marketincrease/decrease(color)"],"data":[{"Location":"Global","Parent":"null","Markettradevolume(size)":"0","Marketincrease/decrease(color)":"0"},{"Location":"America","Parent":"Global","Markettradevolume(size)":"0","Marketincrease/decrease(color)":"0"},{"Location":"Europe","Parent":"Global","Markettradevolume(size)":"0","Marketincrease/decrease(color)":"0"},{"Location":"Asia","Parent":"Global","Markettradevolume(size)":"0","Marketincrease/decrease(color)":"0"},{"Location":"Australia","Parent":"Global","Markettradevolume(size)":"0","Marketincrease/decrease(color)":"0"},{"Location":"Africa","Parent":"Global","Markettradevolume(size)":"0","Marketincrease/decrease(color)":"0"},{"Location":"Brazil","Parent":"America","Markettradevolume(size)":"11","Marketincrease/decrease(color)":"10"},{"Location":"USA","Parent":"America","Markettradevolume(size)":"52","Marketincrease/decrease(color)":"31"},{"Location":"Mexico","Parent":"America","Markettradevolume(size)":"24","Marketincrease/decrease(color)":"12"},{"Location":"Canada","Parent":"America","Markettradevolume(size)":"16","Marketincrease/decrease(color)":"-23"},{"Location":"France","Parent":"Europe","Markettradevolume(size)":"42","Marketincrease/decrease(color)":"-11"},{"Location":"Germany","Parent":"Europe","Markettradevolume(size)":"31","Marketincrease/decrease(color)":"-2"},{"Location":"Sweden","Parent":"Europe","Markettradevolume(size)":"22","Marketincrease/decrease(color)":"-13"},{"Location":"Italy","Parent":"Europe","Markettradevolume(size)":"17","Marketincrease/decrease(color)":"4"},{"Location":"UK","Parent":"Europe","Markettradevolume(size)":"21","Marketincrease/decrease(color)":"-5"},{"Location":"China","Parent":"Asia","Markettradevolume(size)":"36","Marketincrease/decrease(color)":"4"},{"Location":"Japan","Parent":"Asia","Markettradevolume(size)":"20","Marketincrease/decrease(color)":"-12"},{"Location":"India","Parent":"Asia","Markettradevolume(size)":"40","Marketincrease/decrease(color)":"63"},{"Location":"Laos","Parent":"Asia","Markettradevolume(size)":"4","Marketincrease/decrease(color)":"34"},{"Location":"Mongolia","Parent":"Asia","Markettradevolume(size)":"1","Marketincrease/decrease(color)":"-5"},{"Location":"Israel","Parent":"Asia","Markettradevolume(size)":"12","Marketincrease/decrease(color)":"24"},{"Location":"Iran","Parent":"Asia","Markettradevolume(size)":"18","Marketincrease/decrease(color)":"13"},{"Location":"Pakistan","Parent":"Asia","Markettradevolume(size)":"11","Marketincrease/decrease(color)":"-52"},{"Location":"Egypt","Parent":"Africa","Markettradevolume(size)":"21","Marketincrease/decrease(color)":"0"},{"Location":"S.Africa","Parent":"Africa","Markettradevolume(size)":"30","Marketincrease/decrease(color)":"43"},{"Location":"Sudan","Parent":"Africa","Markettradevolume(size)":"12","Marketincrease/decrease(color)":"2"},{"Location":"Congo","Parent":"Africa","Markettradevolume(size)":"10","Marketincrease/decrease(color)":"12"},{"Location":"Zaire","Parent":"Africa","Markettradevolume(size)":"8","Marketincrease/decrease(color)":"10"}]},"options":{"title":"Tree Map","width":640,"height":320,"fields":{},"field_types":{},"titleTextStyle":{"color":"#666","fontSize":20},"minColor":"#f00","midColor":"#ddd","maxColor":"#0d0","headerHeight":15,"fontColor":"black","showScale":true}}',type:"tree_map"}],DEMO_DOC={dataText:"state_and_district_of_columbia,obese_adults_number,obese_adults,overweight_incl_obese_adults_number,overweight_incl_obese_adults,obese_children_and_adolescents_number,obese_children_and_adolescents,obesity_rank_number\nAlabama,30.1,30.10%,65.4,65.40%,16.7,16.70%,3\nAlaska,27.3,27.30%,64.5,64.50%,11.1,11.10%,14\nArizona,23.3,23.30%,59.5,59.50%,12.2,12.20%,40\nArkansas,28.1,28.10%,64.7,64.70%,16.4,16.40%,9\nCalifornia,23.1,23.10%,59.4,59.40%,13.2,13.20%,41\nColorado,21,21.00%,55,55.00%,9.9,9.90%,51\nConnecticut,20.8,20.80%,58.7,58.70%,12.3,12.30%,49\nDistrict of Columbia,22.1,22.10%,55,55.00%,14.8,14.80%,43\nDelaware,25.9,25.90%,63.9,63.90%,22.8,22.80%,22\nFlorida,23.3,23.30%,60.8,60.80%,14.4,14.40%,39\nGeorgia,27.5,27.50%,63.3,63.30%,16.4,16.40%,12\nHawaii,20.7,20.70%,55.3,55.30%,13.3,13.30%,50\nIdaho,24.6,24.60%,61.4,61.40%,10.1,10.10%,31\nIllinois,25.3,25.30%,61.8,61.80%,15.8,15.80%,26\nIndiana,27.5,27.50%,62.8,62.80%,15.6,15.60%,11\nIowa,26.3,26.30%,63.4,63.40%,12.5,12.50%,19\nKansas,25.8,25.80%,62.3,62.30%,14,14.00%,23\nKentucky,28.4,28.40%,66.8,66.80%,20.6,20.60%,7\nLouisiana,29.5,29.50%,64.2,64.20%,17.2,17.20%,4\nMaine,23.7,23.70%,60.8,60.80%,12.7,12.70%,34\nMaryland,25.2,25.20%,61.5,61.50%,13.3,13.30%,28\nMassachusetts,20.9,20.90%,56.8,56.80%,13.6,13.60%,48\nMichigan,27.7,27.70%,63.9,63.90%,14.5,14.50%,10\nMinnesota,24.8,24.80%,61.9,61.90%,10.1,10.10%,30\nMississippi,34.4,34.40%,67.4,67.40%,17.8,17.80%,1\nMissouri,27.4,27.40%,63.3,63.30%,15.6,15.60%,13\nMontana,21.7,21.70%,59.6,59.60%,11.1,11.10%,45\nNebraska,26.5,26.50%,63.9,63.90%,11.9,11.90%,18\nNevada,23.6,23.60%,61.8,61.80%,12.4,12.40%,36\nNew Hampshire,23.6,23.60%,60.8,60.80%,12.9,12.90%,35\nNew Jersey,22.9,22.90%,60.5,60.50%,13.7,13.70%,42\nNew Mexico,23.3,23.30%,60.3,60.30%,16.8,16.80%,38\nNew York,23.5,23.50%,60,60.00%,15.3,15.30%,37\nNorth Carolina,27.1,27.10%,63.4,63.40%,19.3,19.30%,16\nNorth Dakota,25.9,25.90%,64.5,64.50%,12.1,12.10%,21\nOhio,26.9,26.90%,63.3,63.30%,14.2,14.20%,17\nOklahoma,28.1,28.10%,64.2,64.20%,15.4,15.40%,8\nOregon,25,25.00%,60.8,60.80%,14.1,14.10%,29\nPennsylvania,25.7,25.70%,61.9,61.90%,13.3,13.30%,24\nRhode Island,21.4,21.40%,60.4,60.40%,11.9,11.90%,46\nSouth Carolina,29.2,29.20%,65.1,65.10%,18.9,18.90%,5\nSouth Dakota,26.1,26.10%,64.2,64.20%,12.1,12.10%,20\nTennessee,29,29.00%,65,65.00%,20,20.00%,6\nTexas,27.2,27.20%,64.1,64.10%,19.1,19.10%,15\nUtah,21.8,21.80%,56.4,56.40%,8.5,8.50%,44\nVermont,21.1,21.10%,56.9,56.90%,11.3,11.30%,47\nVirginia,25.2,25.20%,61.6,61.60%,13.8,13.80%,27\nWashington,24.5,24.50%,60.7,60.70%,10.8,10.80%,32\nWest Virginia,30.6,30.60%,66.8,66.80%,20.9,20.90%,2\nWisconsin,25.5,25.50%,62.4,62.40%,13.5,13.50%,25\nWyoming,24,24.00%,61.7,61.70%,8.7,8.70%,33",description:"Choropleth with bar chart combination. Data shows obesity rate of adults in the US.",html:'\x3c!-- IMPORTANT GUIDELINES\n1. div #canvas wraps this html block. \n2. div #canvas-svg is used for svg rendering. It can be placed anywhere here.\n3. Do not define an html page here, i.e. including html, head, body tags. --\x3e\n\n<div id="tooltip-container"><\\/div>\n\n<div id="canvas-svg"><\\/div>',javascript:'/*--- IMPORTANT GUIDELINES --- \n1. Use div #canvas-svg for svg rendering\n    var svg = d3.select("#canvas-svg");\n2. \'data\' variable contains JSON data from Data tab\n   \'config\' variable contains data from Properties tab\n    Do NOT overwrite these variables\n3. To define customizable properties, use capitalized variable names,\n    and define them in Properties tab ---*/\n    \nvar COLOR_FIRST = config.colorFirst, \n    COLOR_LAST = config.colorLast,\n    COLOR_COUNTS = 9,\n    SCALE = 0.7,\n    MAIN_CATEGORY = "Washington",\n    AVG_CATEGORY = "Nation Average",\n    MAP_CATEGORY = config.categoryData,\n    MAP_VALUE = config.valueData;\n\nvar width = config.width || 800,\n    height = config.height || 450,\n    colors = [],\n    rgb = null;\n\nrgb = hexToRgb(COLOR_FIRST);\n\nvar COLOR_START = new Color(rgb.r, rgb.g, rgb.b),\n    startColors = COLOR_START.getColors();\n\nrgb = hexToRgb(COLOR_LAST);\n\nvar COLOR_END = new Color(rgb.r, rgb.g, rgb.b),\n    endColors = COLOR_END.getColors();\n\nvar valueById = d3.map();\n\nfor (var i = 0; i < COLOR_COUNTS; i++) {\n  var r = Interpolate(startColors.r, endColors.r, COLOR_COUNTS, i);\n  var g = Interpolate(startColors.g, endColors.g, COLOR_COUNTS, i);\n  var b = Interpolate(startColors.b, endColors.b, COLOR_COUNTS, i);\n  colors.push(new Color(r, g, b));\n}\n\nvar quantize = d3.scale.quantize()\n                  .domain([0, 1.0])\n                  .range(d3.range(COLOR_COUNTS).map(function(i) { return i }));\n\nvar path = d3.geo.path();\n\nvar svg = d3.select("#canvas-svg").append("svg")\n            .attr("width", width)\n            .attr("height", height);\n\nd3.tsv("https://s3-us-west-2.amazonaws.com/vida-public/geo/us-state-names.tsv", function(error, names) {\n\n  name_id_map = {};\n  id_name_map = {};\n\n  for (var i = 0; i < names.length; i++) {\n    name_id_map[names[i].name] = names[i].id;\n    id_name_map[names[i].id] = names[i].name;\n  }\n\n  data.forEach(function(d) {\n    var id = name_id_map[d[MAP_CATEGORY]];\n    valueById.set(id, +d[MAP_VALUE]); \n  });\n\n  quantize.domain([d3.min(data, function(d){ return +d[MAP_VALUE] }),\n    d3.max(data, function(d){ return +d[MAP_VALUE] })]);\n\n  function makeBars() {\n    var names = [],\n        ids = [],\n        name_values = [],\n        values = [],\n        chart,\n        width = 400,\n        bar_height = 20,\n        height = (bar_height + 2 * gap) * names.length;\n  \n    var total_categories = 0, categories_count = 0;\n    Object.keys(name_id_map).forEach(function(n) {\n      if (valueById.get(+name_id_map[n])) {\n        ids.push(+name_id_map[n]);\n        values.push(valueById.get(+name_id_map[n]));\n        name_values.push({name: n, value: valueById.get(+name_id_map[n])});\n        total_categories += valueById.get(+name_id_map[n]);\n        categories_count++;\n      }\n    });\n  \n    values.push(Math.round(total_categories / categories_count));\n    name_values.push({name: AVG_CATEGORY, value: Math.round(total_categories / categories_count)});\n  \n    values = values.sort(function(a, b) {\n      return -(a - b);\n    });\n  \n    name_values = name_values.sort(function(a, b) {\n      return -(a.value - b.value);\n    });\n  \n    name_values.forEach(function(d) {\n      names.push(d.name);\n    });\n\n    var left_width = 150;\n  \n    var x = d3.scale.linear()\n       .domain([0, d3.max(values)])\n       .range([0, width]);\n  \n    var xAxis = d3.svg.axis()\n      .scale(x)\n      .orient("top");\n \n    var gap = 2;\n    // redefine y for adjusting the gap\n    var y = d3.scale.ordinal()\n      .domain(names)\n      .rangeBands([0, (bar_height + 2 * gap) * names.length]);\n\n    chart = d3.select("#canvas-svg")\n      .append(\'svg\')\n      .attr(\'class\', \'chart\')\n      .attr(\'width\', left_width + width + 100)\n      .attr(\'height\', (bar_height + gap * 2) * names.length + 30)\n      .append("g")\n      .attr("transform", "translate(10, 20)");\n\n    chart.append("g")\n      .attr("class", "x axis")\n      .attr("transform", "translate(" + left_width + ", 0)")\n      .call(xAxis)\n    .append("text")\n      .attr("transform", "rotate(90) translate(10, " + (-width - 20) + ")")\n      .attr("y", 6)\n      .attr("dy", ".71em")\n      .style("text-anchor", "right")\n      .text(MAP_VALUE);\n\n    chart.selectAll(".tick").append("line")\n      .attr("x1", 0)\n      .attr("x2", 0)\n      .attr("y1", 0)\n      .attr("y2", (bar_height + gap * 2) * names.length);\n\n    chart.selectAll("rect")\n      .data(name_values)\n      .enter().append("rect")\n      .attr("x", left_width)\n      .attr("y", function(d) { return y(d.name) + gap; })\n      .attr("name", function(d, i) {\n        return d.name;\n      })\n      .attr("width", function(d, i) {\n        return x(d.value);\n      })\n      .attr("height", bar_height)\n      .style("fill", function(d) {\n        var i = quantize(d.value);\n        var color = colors[i].getColors();\n        return "rgb(" + color.r + "," + color.g +\n            "," + color.b + ")";\n      })\n      .attr("class", function(d) {\n        if (d.name === MAIN_CATEGORY || d.name === AVG_CATEGORY) {\n          return "main-category-bar";\n        } else {\n          return "category-bar";\n        }\n      });\n\n    chart.selectAll("text.score")\n      .data(name_values)\n      .enter().append("text")\n      .attr("x", function(d) { return x(d.value) + left_width; })\n      .attr("y", function(d, i){ return y(d.name) + y.rangeBand()/2; } )\n      .attr("dx", -5)\n      .attr("dy", ".36em")\n      .attr("text-anchor", "end")\n      .attr(\'class\', \'score\')\n      .text(function(d) {\n        return d.value;\n      });\n \n    chart.selectAll("text.name")\n      .data(name_values)\n      .enter().append("text")\n      .attr("x", left_width / 2)\n      .attr("y", function(d, i){\n        return y(d.name) + y.rangeBand()/2; } )\n      .attr("dy", ".36em")\n      .attr("text-anchor", "middle")\n      .attr(\'class\', function(d) {\n        if (d.name === MAIN_CATEGORY || d.name === AVG_CATEGORY) {\n          return "main-category-text";\n        } else {\n          return "";\n        }\n      })\n      .text(function(d) {\n        return d.name;\n      });\n  }\n\n  function makeMap(us) {\n    svg.append("g")\n        .attr("class", "categories-choropleth")\n      .selectAll("path")\n        .data(topojson.feature(us, us.objects.states).features)\n      .enter().append("path")\n        .attr("transform", "scale(" + SCALE + ")")\n        .style("fill", function(d) {\n          if (valueById.get(d.id)) {\n            var i = quantize(valueById.get(d.id));\n            var color = colors[i].getColors();\n            return "rgb(" + color.r + "," + color.g +\n                "," + color.b + ")";\n          } else {\n            return "";\n          }\n        })\n        .attr("d", path)\n        .on("mousemove", function(d) {\n            var html = "";\n\n            html += "<div class=\\"tooltip_kv\\">";\n            html += "<span class=\\"tooltip_key\\">";\n            html += id_name_map[d.id];\n            html += "</span>";\n            html += "<span class=\\"tooltip_value\\">";\n            html += (valueById.get(d.id) ? valueById.get(d.id) : "");\n            html += "";\n            html += "</span>";\n            html += "</div>";\n          \n            $("#tooltip-container").html(html);\n            $(this).attr("fill-opacity", "0.8");\n            $("#tooltip-container").show();\n          \n            var coordinates = d3.mouse(this);\n          \n            var map_width = $(\'.categories-choropleth\')[0].getBoundingClientRect().width;\n          \n            if (d3.event.pageX < map_width / 2) {\n              d3.select("#tooltip-container")\n                .style("top", (d3.event.pageY + 15) + "px")\n                .style("left", (d3.event.pageX + 15) + "px");\n            } else {\n              var tooltip_width = $("#tooltip-container").width();\n              d3.select("#tooltip-container")\n                .style("top", (d3.event.pageY + 15) + "px")\n                .style("left", (d3.event.pageX - tooltip_width - 30) + "px");\n            }\n        })\n        .on("mouseout", function() {\n                $(this).attr("fill-opacity", "1.0");\n                $("#tooltip-container").hide();\n            });\n\n    svg.append("path")\n        .datum(topojson.mesh(us, us.objects.states, function(a, b) { return a !== b; }))\n        .attr("class", "categories")\n        .attr("transform", "scale(" + SCALE + ")")\n        .attr("d", path);\n  }\n\n  d3.json("https://s3-us-west-2.amazonaws.com/vida-public/geo/us.json", function(error, us) {\n    makeMap(us);\n    makeBars(data);\n  });\n\n});\n\nfunction Interpolate(start, end, steps, count) {\n  var s = start,\n      e = end,\n      final = s + (((e - s) / steps) * count);\n  return Math.floor(final);\n}\n\nfunction Color(_r, _g, _b) {\n  var r, g, b;\n  var setColors = function(_r, _g, _b) {\n    r = _r;\n    g = _g;\n    b = _b;\n  };\n\n  setColors(_r, _g, _b);\n  this.getColors = function() {\n    var colors = {\n          r: r,\n          g: g,\n          b: b\n        };\n    return colors;\n  };\n}\n\nfunction hexToRgb(hex) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null;\n}',name:"VIDA Template Demo: US Map States - Choropleth Plus Bar",privacy:"public",properties:[{label:"Category Data",name:"categoryData",type:"data_column",value:"state_and_district_of_columbia"},{label:"Value Data",name:"valueData",type:"data_column",value:"obese_adults_number"},{label:"color first",name:"colorFirst",type:"color",value:"#c3e2ff"},{label:"color last",name:"colorLast",type:"color",value:"#08306B"},{label:"width",name:"width",type:"number",value:800},{label:"height",name:"height",type:"number",value:400}],readme:"\x3c!-- Markdown Documentation !--\x3e",resources:[{name:"Topojson 1.1.0",type:"js",uri:"//cdnjs.cloudflare.com/ajax/libs/topojson/1.1.0/topojson.min.js"}],stylesheet:"/* stylesheet for your custom graph */\n\n.categories {\n  fill: none;\n  stroke: #fff;\n  stroke-linejoin: round;\n}\n\n.categories-choropleth {\n  fill: #ccc;\n}\n\n#tooltip-container {\n  position: absolute;\n  background-color: #fff;\n  color: #000;\n  padding: 10px;\n  border: 1px solid;\n  display: none;\n}\n\n#canvas svg {\n  border: 0px;\n}\n\n.tooltip_key {\n  font-weight: bold;\n}\n\n.tooltip_value {\n  margin-left: 20px;\n  float: right;\n}\n\n.x-axis {\n  fill: #000;\n}\n\n.chart {\n  background: #fff;\n  margin: 5px;\n}\n \n.chart .category-bar {\n  stroke: white;\n  fill: steelblue;\n}\n \n.chart .score {\n  fill: white;\n}\n \n.chart text.name {\n  fill: #000;\n}\n \n.chart line {\n  stroke: #c1c1c1;\n}\n \n.chart .rule {\n  fill: #000;\n}\n\n.main-category-text {\n  fill: #FF4A4A;\n}\n\n.main-category-bar {\n  stroke: #FF4A4A;\n  stroke-width: 2px;\n}",type:"custom"}}).call(this);

(function(){CONFIG_AWS_KEY="aws_key",CONFIG_AWS_SECRET="aws_secret",CONFIG_AWS_BUCKET_NAME="aws_bucket_name",CONFIG_ADMIN_EMAILS="admin_emails",CONFIG_PRODUCT_KEY="product_key",CONFIG_MAIL_URL="mail_url",DOC_PER_PAGE=20,FONT_SIZES=[12,16,20,24,28,36,48,72],HTTP_TIMEOUT=5e3,PRIVATE="private",PUBLIC="public",UNLISTED="unlisted",PRIVACY_STATES=[PRIVATE,PUBLIC,UNLISTED],ACCESS_VIEW="view",ACCESS_EDIT="edit",ACCESS_STANDALONE="standalone",ACCESS_ADMIN="admin",TEAM_ACCESSES=[ACCESS_VIEW,ACCESS_EDIT,ACCESS_STANDALONE,ACCESS_ADMIN],PLAN_FREE="free",PLAN_STANDARD="standard",PLAN_PRO="pro",PLAN_UNLIMITED="unlimited",PLANS=[PLAN_FREE,PLAN_STANDARD,PLAN_PRO,PLAN_UNLIMITED],PAID_PLANS=[PLAN_STANDARD,PLAN_PRO],DOC_ACCESS_TYPES=[ACCESS_STANDALONE,ACCESS_VIEW,ACCESS_EDIT],TEAM_ACCESS_TYPES=[ACCESS_STANDALONE,ACCESS_VIEW,ACCESS_EDIT,ACCESS_ADMIN],ACCESS_DISPLAY_TEXT={},ACCESS_DISPLAY_TEXT[ACCESS_STANDALONE]="View Standalone",ACCESS_DISPLAY_TEXT[ACCESS_VIEW]="Can View",ACCESS_DISPLAY_TEXT[ACCESS_EDIT]="Can Edit",ACCESS_DISPLAY_TEXT[ACCESS_ADMIN]="Team Admin",SUBSCRIPTION_LIMIT={free:5,standard:50,pro:500,unlimited:999},CHART_FORMAT_NUMBER="number",CHART_FORMAT_DATE="date",CHART_FORMAT_NONE="none",DOC_MODE_NORMAL="normal",DOC_MODE_TEMPLATE="template",DOC_MODE_PARTIAL="partial",reservedViews=["home","explore","documents","community","discussion","profile","users","user","documentation","docs","pricing","embed","terms","privacy","charts","pages","sheets","datasets","admin","login","signin","logout","admin","api","login","signin","logout","signout","signup","jobs","career","data","search"],GRAPH_TYPES=["custom","import_github","import_vida","import_file"],VIDA_DOCS={Chart:[{name:"Line",id:"6XLuZDyvmrQCmtHpz"},{name:"Area",id:"pSX89w9vwRmA6CEo2"},{name:"Stacked Bar",id:"a9ctSvTA6dpJM8aXy"},{name:"Multiple Bar",id:"tqtv3384YHQKNHfEj"}],Map:[{name:"US Map",id:"4yATR8Z7T99KY4dzg"},{name:"US Map Plus Bar",id:"4vZ9mRGyepoyQxFcK"},{name:"US Map Side by Side",id:"3xHNc7JCLGRWoq9BG"},{name:"US Map Counties",id:"qyRt8bFozMqfaw6Av"},{name:"India Map",id:"ALTQMueeCrypLNj34"}],Flow:[{name:"Sankey",id:"yB7uTByGsAwiZQFDZ"},{name:"Chord",id:"F7g8Lv4wkSvJZ49sf"},{name:"Tree Map",id:"4BsKkgFtMCjAtrdHB"}],Network:[{name:"Force Layout",id:"kpTX3wDt8E6bwCezH"},{name:"3D Force Layout",id:"N4jSip7n68yQ48DXp"},{name:"Relationship Graph",id:"qZ5SJdRJfj3XmSXYJ"},{name:"Grouped Relationship Graph",id:"YPrKeBgdSybuvhpDr"}],Miscellaneous:[{name:"Multiple Bar Charts",id:"ZCzewTza4ZSzMWSBG"},{name:"Bubble",id:"KKmD6ySEbP3DJGDNq"},{name:"Multiple Donut Charts",id:"8WBBwrJHAxN4PdxBh"}],Crossfilter:[{name:"Timeline Volumne",id:"FZgyWMDbfMMD2awMf"},{name:"Day Table",id:"QMaJ8dgqGpjNkopfH"},{name:"Area",id:"9KEahcjNZNbneEzKW"},{name:"Table",id:"YaWNh5JJ4HjpY9Toa"},{name:"Bubble",id:"KCQtJvty8G5WE6DbP"},{name:"Map",id:"XXuvPGpynMcEpb3Ze"},{name:"Bar",id:"uZiwgBrLm7uuoGmYM"},{name:"DataTables",id:"JxmiwnYJWiAL2KtNu"}]},CHART_TYPES=["line","bar","horizontal_bar","area","pie","bubble","geo_map","scatter_plot","tree_map"],PROP_TYPE_COLOR="color",PROP_TYPE_DATA="data_column",PROP_TYPE_NUMBER="number",PROP_TYPE_STRING="string",PROP_TYPE_BOOLEAN="boolean",PROP_TYPE_LIST="list",PROP_TYPE_TEXT="text",PROP_TYPES=[PROP_TYPE_COLOR,PROP_TYPE_DATA,PROP_TYPE_NUMBER,PROP_TYPE_STRING,PROP_TYPE_BOOLEAN,PROP_TYPE_LIST,PROP_TYPE_TEXT],DATASIZE_S0=10240,DATASIZE_S1=1048576,DATASIZE_S2=5242880,DATASIZE_S3=104857600,UPLOAD_CHUNK_SIZE=65536}).call(this);

(function(){getStartTimeDaysBefore=function(e){var t=e||0;return((new Date).getTime()-24*t*3600*1e3)/1e3},getMomentTime=function(e){var t=null;return t=e?e<9999999999?moment(new Date(1e3*e)):moment(new Date(e)):moment(new Date)}}).call(this);

(function(){SORT_BY_ALPHABET="alphabet",SORT_BY_RECENT="recent",SORT_FILTERS=[SORT_BY_ALPHABET,SORT_BY_RECENT],UC_SORT="sortFilter",UC_ATTRIBUTES=[UC_SORT],UC_ATTR_VALUES={},UC_ATTR_VALUES[UC_SORT]=[SORT_BY_ALPHABET,SORT_BY_RECENT],UC_DEFAULTS={},UC_DEFAULTS[UC_SORT]=SORT_BY_ALPHABET}).call(this);

(function(){String.prototype.toUpperCase0=function(){return this.charAt(0).toUpperCase()+this.substr(1)},String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"g"),t)},String.prototype.toTitleCase=function(){return this.replace(/_+/g," ").replace(/\w\S*/g,function(e){return e.toUpperCase0()})},isJsonStr=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},guessDelimiters=function(e,t){function n(t){function n(e){if(!e)return!0;var n=e.split(t).length;return r<0&&(r=n),r===n&&n>1}var r=-1;return e.split("\n").every(n)}return t.filter(n)},dataTextToJSON=function(e,t){var n="object"==typeof(e=e||"")?_.keys(e):null;if("string"==typeof(e=n&&1==n.length?e[n[0]]:e)||1==n.length){var r=textToJSON(e);if(r.columns){for(var o=!1,a=0;a<r.columns.length-1;a++)for(var i=a+1;i<r.columns.length;i++)if(r.columns[a]===r.columns[i]){o=!0;break}o&&message.add("Duplicate columns in data. Please consider distinct columns.",{type:"danger"})}return t?r:r.data}var c={};return _.keys(e).forEach(function(n){r=textToJSON(e[n]||""),c[n]=t?r:r.data}),c},textToJSON=function(e){var t={columns:[],data:e},n;if(!e)return t;try{e=e.replace(/^\s+|\s+$/g,"");var r=JSON.parse(e),o=null;"[object Array]"===Object.prototype.toString.call(r)&&"object"==typeof r[0]&&(o=Object.keys(r[0])),n={columns:o,data:r}}catch(t){try{var a=guessDelimiters(e,[",","\t"]);n=a.length>0?CSVToJSON(e,a[0]):CSVToJSON(e,",")}catch(e){console.log(e)}}return n||t},substringMatcher=function(e){return function t(n,r){var o,a;o=[],a=new RegExp(n,"i"),$.each(e,function(e,t){a.test(t)&&o.push({value:t})}),r(o)}},importDocFromJSON=function(e,t){var n=e;Documents.findOne(n._id)?bootbox.confirm("We found the document in your system. Would you like to update it?",function(e){if(e){var r=n._id;delete n._id,Documents.update({_id:r},{$set:n}),t(r)}else t(null)}):(n.owner=Meteor.userId(),Documents.insert({_id:n._id,name:n.name,type:n.type,privacy:n.privacy,owner:n.owner,html:n.html,stylesheet:n.stylesheet,javascript:n.javascript,dataText:n.dataText,properties:n.properties,mode:DOC_MODE_NORMAL,resources:n.resources,counter:1,created:Math.round((new Date).getTime()/1e3)}),t(n._id))},saveTextAsFile=function(e,t,n){var r=navigator.userAgent.match(/MSIE\s([\d.]+)/),o=navigator.userAgent.match(/Trident\/7.0/)&&navigator.userAgent.match(/rv:11/),a=navigator.userAgent.match(/Edge/g),i=r?r[1]:o?11:a?12:-1;if(r&&i<10)console.log("No blobs on IE ver<10");else{var c=new Blob([t],{type:"text/"+n});if(i>-1)window.navigator.msSaveBlob(c,e);else{var s=document.createElement("a");s.download=e,s.href=window.URL.createObjectURL(c),s.onclick=function(e){document.body.removeChild(e.target)},s.style.display="none",document.body.appendChild(s),s.click()}}}}).call(this);

(function(){EmailFormat=Match.Where(function(t){return emailRx.test(t)})}).call(this);

(function(){X_AXIS_TYPE="x_axis",Y_AXIS_TYPE="y_axis",Y_AXIS_2_TYPE="y_axis_2",Y_AXIS_3_TYPE="y_axis_3",Y_AXIS_4_TYPE="y_axis_4",Y_AXIS_5_TYPE="y_axis_5",GChart=function(e){switch(e){case"bar":return GChart.Bar;break;case"horizontal_bar":return GChart.HorizontalBar;break;case"pie":return GChart.Pie;break;case"geo_map":return GChart.GeoMap;break;case"area":return GChart.Area;break;case"scatter_plot":return GChart.ScatterPlot;break;case"bubble":return GChart.Bubble;break;case"tree_map":return GChart.TreeMap;break;case"line":return GChart.Line;break}},GChart.DEFAULT_OPTIONS={title:"Google Chart",width:640,height:320,fields:{},field_types:{},titleTextStyle:{color:"#666",fontSize:20},colors:["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#aaaa11","#22aa99","#994499"]},GChart.CHART_INFO={line:{title:"Line Chart",doc_url:"https://developers.google.com/chart/interactive/docs/gallery/linechart"},bar:{title:"Bar Chart",doc_url:"https://developers.google.com/chart/interactive/docs/gallery/columnchart"},horizontal_bar:{title:"Horizontal Bar",doc_url:"https://developers.google.com/chart/interactive/docs/gallery/barchart"},pie:{title:"Pie",doc_url:"https://developers.google.com/chart/interactive/docs/gallery/piechart"},geo_map:{title:"Geo Map",doc_url:"https://developers.google.com/chart/interactive/docs/gallery/geochart"},area:{title:"Area",doc_url:"https://developers.google.com/chart/interactive/docs/gallery/areachart"},scatter_plot:{title:"Scatter Plot",doc_url:"https://developers.google.com/chart/interactive/docs/gallery/scatterchart"},bubble:{title:"Bubble",doc_url:"https://developers.google.com/chart/interactive/docs/gallery/bubblechart"},tree_map:{title:"Tree Map",doc_url:"https://developers.google.com/chart/interactive/docs/gallery/treemap"}},GChart.prototype.callback={afterShow:function(e){e?$("h5.chart-error").show():($("#google-chart").width(GC.dbObject.options.width),$("#google-chart").height(GC.dbObject.options.height),$("h5.chart-error").hide())}},GChart.prototype.formatData=function(e,t,a){if(a.type!==CHART_FORMAT_NONE){var r;a.type===CHART_FORMAT_NUMBER&&(r=new google.visualization.NumberFormat(a.options)),a.type===CHART_FORMAT_DATE&&(r=new google.visualization.DateFormat(a.options)),r.format(e,t)}},GChart.prototype.getXYDataTable=function(e,t,a){var r=!0,_=[t.fields[X_AXIS_TYPE],t.fields[Y_AXIS_TYPE]],l=[t.field_types[X_AXIS_TYPE],t.field_types[Y_AXIS_TYPE]];void 0!==t.fields[Y_AXIS_2_TYPE]&&null!==t.fields[Y_AXIS_2_TYPE]&&(_.push(t.fields[Y_AXIS_2_TYPE]),r=!1),void 0!==t.fields[Y_AXIS_3_TYPE]&&null!==t.fields[Y_AXIS_3_TYPE]&&(_.push(t.fields[Y_AXIS_3_TYPE]),r=!1),void 0!==t.fields[Y_AXIS_4_TYPE]&&null!==t.fields[Y_AXIS_4_TYPE]&&(_.push(t.fields[Y_AXIS_4_TYPE]),r=!1),void 0!==t.fields[Y_AXIS_5_TYPE]&&null!==t.fields[Y_AXIS_5_TYPE]&&(_.push(t.fields[Y_AXIS_5_TYPE]),r=!1);var i=JSONToArray(e.columns,e.data,_,l),o=google.visualization.arrayToDataTable(i);return a&&a[X_AXIS_TYPE]&&this.formatData(o,0,a[X_AXIS_TYPE]),a&&a[Y_AXIS_TYPE]&&(this.formatData(o,1,a[Y_AXIS_TYPE]),void 0!==t.fields[Y_AXIS_2_TYPE]&&null!==t.fields[Y_AXIS_2_TYPE]&&this.formatData(o,2,a[Y_AXIS_TYPE]),void 0!==t.fields[Y_AXIS_3_TYPE]&&null!==t.fields[Y_AXIS_3_TYPE]&&this.formatData(o,3,a[Y_AXIS_TYPE]),void 0!==t.fields[Y_AXIS_4_TYPE]&&null!==t.fields[Y_AXIS_4_TYPE]&&this.formatData(o,4,a[Y_AXIS_TYPE]),void 0!==t.fields[Y_AXIS_5_TYPE]&&null!==t.fields[Y_AXIS_5_TYPE]&&this.formatData(o,5,a[Y_AXIS_TYPE])),o},GChart.prototype.getXYOptions=function(e){var t=!0,a={};return void 0!==e.fields[Y_AXIS_2_TYPE]&&null!==e.fields[Y_AXIS_2_TYPE]&&(t=!1),void 0!==e.fields[Y_AXIS_3_TYPE]&&null!==e.fields[Y_AXIS_3_TYPE]&&(t=!1),t?(e.vAxis&&e.vAxis.title===e.fields[Y_AXIS_TYPE]||(a=_.extend(e,{vAxis:{title:e.fields[Y_AXIS_TYPE]}})),e.hAxis&&e.hAxis.title===e.fields[X_AXIS_TYPE]||(a=_.extend(e,{hAxis:{title:e.fields[X_AXIS_TYPE]}})),a=_.extend(e,{legend:{position:"none"}})):(GC.options.vAxis&&""===e.vAxis||(a=_.extend(e,{vAxis:{title:""}})),e.legend&&e.legend.position||(a=_.extend(e,{legend:{position:"right"}}))),a}}).call(this);

(function(){GChart.Area=function(){},GChart.Area.EXTENDED_OPTIONS={title:GChart.CHART_INFO.area.title},GChart.Area.DEFAULT_OPTIONS=_.extend({},GChart.DEFAULT_OPTIONS,GChart.Area.EXTENDED_OPTIONS),GChart.Area.prototype=new GChart,GChart.Area.prototype.constructor=GChart.Area,GChart.Area.prototype.show=function(t,a){try{this.gchart=new google.visualization.AreaChart(document.getElementById("chart-svg"));var r=this.getXYDataTable(t,a,GC.dbObject.formatters);_.extend(a,this.getXYOptions(a)),this.gchart.draw(r,a),this.callback.afterShow()}catch(t){environment.local()&&console.log(t),this.callback.afterShow(t)}}}).call(this);

(function(){GChart.Bar=function(){},GChart.Bar.EXTENDED_OPTIONS={title:GChart.CHART_INFO.bar.title},GChart.Bar.DEFAULT_OPTIONS=_.extend({},GChart.DEFAULT_OPTIONS,GChart.Bar.EXTENDED_OPTIONS),GChart.Bar.prototype=new GChart,GChart.Bar.prototype.constructor=GChart.Bar,GChart.Bar.prototype.show=function(t,a){try{this.gchart=new google.visualization.ColumnChart(document.getElementById("chart-svg"));var r=this.getXYDataTable(t,a,GC.dbObject.formatters);_.extend(a,this.getXYOptions(a)),this.gchart.draw(r,a),this.callback.afterShow()}catch(t){environment.local()&&console.log(t),this.callback.afterShow(t)}}}).call(this);

(function(){BUBBLE_LABEL_TYPE="id_data",BUBBLE_TYPE="bubble_data",BUBBLE_SIZE_TYPE="bubble_size",GChart.Bubble=function(){},GChart.Bubble.EXTENDED_OPTIONS={title:GChart.CHART_INFO.bubble.title},GChart.Bubble.DEFAULT_OPTIONS=_.extend({},GChart.DEFAULT_OPTIONS,GChart.Bubble.EXTENDED_OPTIONS),GChart.Bubble.prototype=new GChart,GChart.Bubble.prototype.constructor=GChart.Bubble,GChart.Bubble.prototype.show=function(t,a){try{this.gchart=new google.visualization.BubbleChart(document.getElementById("chart-svg"));var e=JSONToArray(t.columns,t.data,[a.fields[BUBBLE_LABEL_TYPE],a.fields[X_AXIS_TYPE],a.fields[Y_AXIS_TYPE],a.fields[BUBBLE_TYPE],a.fields[BUBBLE_SIZE_TYPE]],["string",a.field_types[X_AXIS_TYPE],a.field_types[Y_AXIS_TYPE],a.field_types[BUBBLE_TYPE],a.field_types[BUBBLE_SIZE_TYPE]]),E=google.visualization.arrayToDataTable(e),B=GC.dbObject.formatters;B&&B[X_AXIS_TYPE]&&this.formatData(E,1,B[X_AXIS_TYPE]),B&&B[Y_AXIS_TYPE]&&this.formatData(E,2,B[Y_AXIS_TYPE]),B&&B[BUBBLE_SIZE_TYPE]&&this.formatData(E,4,B[BUBBLE_SIZE_TYPE]),_.extend(a,this.getXYOptions(a)),this.gchart.draw(E,a),this.callback.afterShow()}catch(t){environment.local()&&console.log(t),this.callback.afterShow(t)}}}).call(this);

(function(){GEO_MAP_LOCATION="geo_map_location",GEO_MAP_VALUE="geo_map_value",GEO_MAP_REGION="geo_map_region",GEO_MAP_REGIONS=["United States","Europe","World"],GEO_MAP_REGION_CODES={"United States":{region:"US",resolution:"provinces"},Europe:{region:"150",resolution:null},World:{region:null,resolution:null}},GChart.GeoMap=function(){},GChart.GeoMap.EXTENDED_OPTIONS={title:GChart.CHART_INFO.geo_map.title},GChart.GeoMap.DEFAULT_OPTIONS=_.extend({},GChart.DEFAULT_OPTIONS,GChart.GeoMap.EXTENDED_OPTIONS),GChart.GeoMap.DEFAULT_OPTIONS.colors=[],GChart.GeoMap.prototype=new GChart,GChart.GeoMap.prototype.constructor=GChart.GeoMap,GChart.GeoMap.prototype.show=function(t,o){try{this.gchart=new google.visualization.GeoChart(document.getElementById("chart-svg"));var a=JSONToArray(t.columns,t.data,[o.fields[GEO_MAP_LOCATION],o.fields[GEO_MAP_VALUE]],[o.field_types[GEO_MAP_LOCATION],o.field_types[GEO_MAP_VALUE]]),e=google.visualization.arrayToDataTable(a),r=GC.dbObject.formatters;r&&r[GEO_MAP_VALUE]&&this.formatData(e,1,r[GEO_MAP_VALUE]),this.gchart.draw(e,o),this.callback.afterShow()}catch(t){environment.local()&&console.log(t),this.callback.afterShow(t)}}}).call(this);

(function(){GChart.HorizontalBar=function(){},GChart.HorizontalBar.EXTENDED_OPTIONS={title:GChart.CHART_INFO.horizontal_bar.title},GChart.HorizontalBar.DEFAULT_OPTIONS=_.extend({},GChart.DEFAULT_OPTIONS,GChart.HorizontalBar.EXTENDED_OPTIONS),GChart.HorizontalBar.prototype=new GChart,GChart.HorizontalBar.prototype.constructor=GChart.HorizontalBar,GChart.HorizontalBar.prototype.show=function(t,a){try{this.gchart=new google.visualization.BarChart(document.getElementById("chart-svg"));var r=this.getXYDataTable(t,a,GC.dbObject.formatters);_.extend(a,this.getXYOptions(a)),this.gchart.draw(r,a),this.callback.afterShow()}catch(t){environment.local()&&console.log(t),this.callback.afterShow(t)}}}).call(this);

(function(){GChart.Line=function(){},GChart.Line.EXTENDED_OPTIONS={title:GChart.CHART_INFO.line.title},GChart.Line.DEFAULT_OPTIONS=_.extend({},GChart.DEFAULT_OPTIONS,GChart.Line.EXTENDED_OPTIONS),GChart.Line.prototype=new GChart,GChart.Line.prototype.constructor=GChart.Line,GChart.Line.prototype.show=function(t,e){try{this.gchart=new google.visualization.LineChart(document.getElementById("chart-svg"));var a=this.getXYDataTable(t,e,GC.dbObject.formatters);_.extend(e,this.getXYOptions(e)),this.gchart.draw(a,e),this.callback.afterShow()}catch(t){environment.local()&&console.log(t),this.callback.afterShow(t)}}}).call(this);

(function(){CHART_CATEGORY="chart_category",CHART_VALUE="chart_value",GChart.Pie=function(){},GChart.Pie.EXTENDED_OPTIONS={title:GChart.CHART_INFO.pie.title,legend:{position:"right"}},GChart.Pie.DEFAULT_OPTIONS=_.extend({},GChart.DEFAULT_OPTIONS,GChart.Pie.EXTENDED_OPTIONS),GChart.Pie.prototype=new GChart,GChart.Pie.prototype.constructor=GChart.Pie,GChart.Pie.prototype.show=function(t,a){try{this.gchart=new google.visualization.PieChart(document.getElementById("chart-svg"));var e=JSONToArray(t.columns,t.data,[a.fields[CHART_CATEGORY],a.fields[CHART_VALUE]],[a.field_types[CHART_CATEGORY],a.field_types[CHART_VALUE]]),r=google.visualization.arrayToDataTable(e),i=GC.dbObject.formatters;i&&i[CHART_CATEGORY]&&this.formatData(r,0,i[CHART_CATEGORY]),i&&i[CHART_VALUE]&&this.formatData(r,1,i[CHART_VALUE]),this.gchart.draw(r,a),this.callback.afterShow()}catch(t){environment.local()&&console.log(t),this.callback.afterShow(t)}}}).call(this);

(function(){GChart.ScatterPlot=function(){},GChart.ScatterPlot.EXTENDED_OPTIONS={title:GChart.CHART_INFO.scatter_plot.title},GChart.ScatterPlot.DEFAULT_OPTIONS=_.extend({},GChart.DEFAULT_OPTIONS,GChart.ScatterPlot.EXTENDED_OPTIONS),GChart.ScatterPlot.prototype=new GChart,GChart.ScatterPlot.prototype.constructor=GChart.ScatterPlot,GChart.ScatterPlot.prototype.show=function(t,a){try{this.gchart=new google.visualization.ScatterChart(document.getElementById("chart-svg"));var r=this.getXYDataTable(t,a,GC.dbObject.formatters);_.extend(a,this.getXYOptions(a)),this.gchart.draw(r,a),this.callback.afterShow()}catch(t){environment.local()&&console.log(t),this.callback.afterShow(t)}}}).call(this);

(function(){GChart.TreeMap=function(){},GChart.TreeMap.EXTENDED_OPTIONS={title:GChart.CHART_INFO.tree_map.title,minColor:"#f00",midColor:"#ddd",maxColor:"#0d0",headerHeight:15,fontColor:"black",showScale:!0},GChart.TreeMap.DEFAULT_OPTIONS=_.extend({},GChart.DEFAULT_OPTIONS,GChart.TreeMap.EXTENDED_OPTIONS),GChart.TreeMap.prototype=new GChart,GChart.TreeMap.prototype.constructor=GChart.TreeMap,GChart.TreeMap.prototype.show=function(a,t){try{this.gchart=new google.visualization.TreeMap(document.getElementById("chart-svg"));var e=JSONToArray(a.columns,a.data,a.columns,[]),r=google.visualization.arrayToDataTable(e);this.gchart.draw(r,t),this.callback.afterShow()}catch(a){environment.local()&&console.log(a),this.callback.afterShow(a)}}}).call(this);

(function(){function t(){for(var t=_.keys(CD.dbObject.dataText).length;CD.dbObject.dataText["data"+t];)t++;var e="data"+t;CD.dataText("",e),Documents.update(CD.dbObject._id,{$set:{dataText:CD.dbObject.dataText}}),CD.currentDataset.set(e),CD.dataEditor.setValue(""),message.add("'"+e+"' dataset was added.")}function e(t,e){delete CD.dbObject.dataText[t],delete CD.dbObject.data[t],Documents.update(CD.dbObject._id,{$set:{dataText:CD.dbObject.dataText}}),e&&a(Object.keys(CD.dbObject.dataText)[0]),message.add("'"+t+"' dataset was removed.")}function a(t){CD.currentDataset.set(t),CD.dataEditor.setValue(CD.dbObject.dataText[t]),CD.dataEditor.focus(),CD.dataEditor.gotoLine(0)}Template.data_tab.helpers({extDatasets:function(){var t=CD.now().extDatasetIds;if(t&&t.length>0)return Datasets.find({_id:{$in:t}},{sort:{name:1}})},currentDataset:function(){return CD.currentDataset.get()},datasetNames:function(){if(CD.now()&&"object"==typeof CD.now().dataText&&null!==CD.now().dataText)return _.keys(CD.now().dataText)},canRemove:function(){if(CD.now()&&"object"==typeof CD.now().dataText&&null!==CD.now().dataText)return _.keys(CD.now().dataText).length>1}}),Template.data_tab.events({"click .file-upload":function(t){var e=CD.now().extDatasetIds;if(e&&e.length>0)return message.add("Please remove the attached dataset before importing!",{type:"danger"}),t.preventDefault(),!1},"change #data-upload":function(t){_.each(t.target.files,function(t){var e=new FileReader;e.readAsText(t,"UTF-8"),e.onload=function(t){CD.dataEditor.setValue(getUploadFile(t))}})},"click #link-external":function(){CD.hasExtDatasets()?$("#datasets-modal").modal("show"):bootbox.confirm("Linking to external datasets will permanently remove all current data. <br/>Do you want to continue?",function(t){t&&$("#datasets-modal").modal("show")})},"click .new-dataset":function(){CD.hasManyDatasets()?_.keys(CD.dbObject.dataText).length<10?t():message.add("Error! Cannot add more then 10 datasets.",{type:"danger"}):bootbox.confirm("Your data format will be changed. Please use data['datasetName'] format for your data. <br/>Do you want to continue?",function(e){e&&(CD.dataText(CD.dbObject.dataText,"data0"),t())})},"click .remove-dataset":function(){var t=CD.dataText().match(/\n/g);t&&t.length>3?bootbox.confirm("Do you want to permanently remove '"+CD.currentDataset.get()+"' dataset?",function(t){t&&e(CD.currentDataset.get(),!0)}):e(CD.currentDataset.get(),!0)},"click .dataset":function(t){a($(t.currentTarget).data("dataset"))},"click #unlink-ext-dataset":function(){bootbox.confirm("This document will no longer link to external datasets. All external data will be copied over. Are you sure?",function(t){if(t){var e=CD.dbObject.extDatasetIds,a={};Datasets.find({_id:{$in:e}}).forEach(function(t){a[t.name]=t.text,CD.dbObject.data[t.name]=dataTextToJSON(t.text)}),Documents.update(CD.dbObject._id,{$set:{extDatasetIds:null,dataText:a}}),delete CD.dbObject.extDatasetIds,CD.dbObject.dataText=a,CD.currentDataset.set(Object.keys(a)[0]),setTimeout(function(){CD.initDataEditor(),CD.initGrid(),CD.show()},250)}})}}),Template.data_tab.events(okCancelEvents("#dataset-input",{ok:function(t,a){var n=CD.currentDataset.get();t&&t!=n&&fileName.test(t)?(t&&CD.dbObject.dataText[t]?(message.add("Error! Duplicate dataset name exists.",{type:"danger"}),$("#dataset-input").val(n)):(CD.dbObject.dataText[t]=CD.dbObject.dataText[n],CD.currentDataset.set(t),CD.dbObject.data[t]=dataTextToJSON(CD.dbObject.dataText[t]),e(n)),Session.set(SS_EDIT_DOC_DATASET_NAME,null)):(t?fileName.test(t)||message.add("Error! Invalid name, please use file name format",{type:"danger"}):message.add("Must not be empty",{type:"danger"}),$("#dataset-input").val(n))},cancel:function(){$("#dataset-input").val(CD.currentDataset.get()).blur(),Session.set(SS_EDIT_DOC_DATASET_NAME,null)}})),Template.data_tab.rendered=function(){$(document).on("shown.bs.tab","a[href=#data-grid]",function(t){CD.initGrid()})}}).call(this);

(function(){function e(e){var t=$(e.currentTarget),r=t.attr("data-var-name"),n=CD.getProp(r),a=n.type===PROP_TYPE_NUMBER?+t.val():t.val();if(n.value!==a){if(n.type===PROP_TYPE_NUMBER&&isNaN(a))return void message.add("Invalid number input, please use numeric values only",{type:"danger",timer:5});n.type===PROP_TYPE_NUMBER?CD.setPropValue(r,+a):n.type!==PROP_TYPE_BOOLEAN&&CD.setPropValue(r,a)}}function t(){var e=$("#label-input"),t=e.val().replace(/\s{2,}/g," "),r=$("#var-input"),o=r.val(),i=$("#default-input"),p=CD.dbObject.properties||[];if(_.find(p,function(e){return e.label==t})||_.find(p,function(e){return e.name==o})||0===t.length||0===o.length)message.add("Label and variable must be unique & not empty",{type:"danger",timer:5});else{var c=n();p.push({label:t,name:o,value:c,type:a.type.get()}),Documents.update(CD.id(),{$set:{properties:p}},function(e){e||Meteor.call("addPartialDocumentsProperty",CD.id(),o)}),CD.dbObject.properties=p,CD.config[o]=c,e.val(""),r.val(""),i.val(""),e.focus()}initProperties()}function r(e){return e.toLowerCase().replace(/\s{2,}/g," ").replace("-"," ").replace(/^[0-9 ]+/,"").replace(/ (.)/g,function(e,t){return t.toUpperCase()}).replace(/\W/g,"")}function n(){if(a.type.get()==PROP_TYPE_NUMBER)return 0;if(a.type.get()==PROP_TYPE_COLOR)return"#0f608b";if(a.type.get()!=PROP_TYPE_DATA)return"";var e=CD.getDataColumns(),t=CD.getPropColumns(),r=_.difference(e,t);return r.length>0?r[0]:e&&e.length?e[0]:void 0}var a={type:new ReactiveVar,color:new ReactiveVar,column:new ReactiveVar},o=new ReactiveVar;Template.properties_tab.helpers({newPropType:function(){return a.type.get()},propTypes:function(){return _.without(PROP_TYPES,a.type.get())},document:function(){return CD.now()},propEditing:function(){return o.get()}}),Template.properties_tab.events({"click #save-description":function(e){var t=$("#description").val();Session.set("documentDescription",t),Documents.update({_id:CD.dbObject._id},{$set:{description:t}})},"click .prop-type":function(e){a.type.set($(e.currentTarget).data("prop-type"))},"click .btn-add-prop":function(e){t()},"blur #label-input":function(e){var t=$(e.currentTarget),n=$("#var-input");t.val().length>0&&n.val(r(t.val()))},"click .prop-remove":function(e){var t=this,r=CD.getPropIndexByName(t.name),n=CD.getProp(t.name);n&&bootbox.confirm("Removing a property may break your code. Please make sure 'config."+n.name+"' is not in use. Do you want to continue?",function(e){e&&(CD.config[n.name]=null,CD.dbObject.properties.splice(r,1),Documents.update(CD.id(),{$set:{properties:CD.dbObject.properties}}),Meteor.call("removePartialDocumentsProperty",CD.id(),t.name),Deps.flush(),$(".color-picker").removeClass("initialized"),$(".color-picker").addClass("new"),$(".colorPicker-picker").remove(),initProperties())})},"click .data-column":function(e){var t=$(e.currentTarget).closest("ul").data("var-name");CD.setPropValue(t,$(e.currentTarget).data("column")+"")},"blur .text-prop":function(t){e(t)},"keypress .text-prop":function(t){13!==t.which||$(t.currentTarget).hasClass("textarea-prop")||(e(t),$(this).blur())},"change .color-picker":function(e){CD.setPropValue($(e.currentTarget).attr("data-var-name"),$(e.currentTarget).val())},"change .boolean-prop":function(e){CD.setPropValue($(e.currentTarget).attr("data-var-name"),$(e.currentTarget).prop("checked"))},"blur .list-prop":function(e){CD.setPropValue($(e.currentTarget).attr("data-var-name"),$(e.currentTarget).val())},"click .btn-edit, click .btn-done":function(e){$(".edit-toggle").toggle(),$(".btn-edit").is(":visible")?o.set(!1):(o.set(!0),$("#label-input").focus())},"click .btn-delete-all":function(e){var t=this;bootbox.confirm("Please check your document use of properties. Confirm delete all properties.",function(e){if(e){for(var t=0;t<CD.dbObject.properties.length;t++)Meteor.call("removePartialDocumentsProperty",CD.id(),CD.dbObject.properties[t].name);CD.dbObject.properties=[],Documents.update(CD.id(),{$set:{properties:CD.dbObject.properties}})}})}}),Template.properties_tab.rendered=function(){a.type.set(PROP_TYPE_NUMBER),o.set(!1),initProperties()},initProperties=function(){loopColorPicker()}}).call(this);

(function(){Template.properties_tab_entry.helpers({formatDropdownText:function(t){return""===t?"[Select Value]":t?t.toTitleCase():void 0},isProptype:function(t){return this.type==t},otherColumns:function(){var t=this.name.split(".");if(t.length>1){var e=t[0],n=DBR.dbObject.docDatasetMap[e];return Session.get(SS_DATASET_FIELDS)?(attachDataColumnChange(),Session.get(SS_DATASET_FIELDS)):null}var a=CD.getDataColumns(),r=CD.getProp(this.name);if(!CD.inEditMode())return CD.getDataColumns();if(!r||_.contains(a,r.value)||""===r.value)return _.without(CD.getDataColumns(),this.value);var o=CD.getPropColumns(),i=_.difference(a,o);return i.length>0?(CD.setPropValue(r.name,i[0]),_.without(CD.getDataColumns(),i[0])):void 0}}),Template.properties_tab_entry.rendered=function(){}}).call(this);

(function(){function e(){var e=$("#resource-input")[0],t=e.value.replace(/ /g,""),n=(t.substring(t.lastIndexOf("/")+1).match(/[^.]+(\.[^?#]+)?/)||[])[0]||"",a=(n||"").substring(n.lastIndexOf(".")+1,n.length);-1===t.indexOf("http://")&&-1===t.indexOf("https://")&&"/"!==t[0]&&(t="//"+t),-1!==t.toLowerCase().indexOf("jquery.js")||-1!==t.toLowerCase().indexOf("bootstrap.js")||-1!==t.toLowerCase().indexOf("jquery.min.js")||-1!==t.toLowerCase().indexOf("bootstrap.min.js")?bootbox.confirm("jQuery & bootstrap cannot be loaded now since our main app is using them.However  they will be loaded for embed. For jQuery, you may consider using Zepto, a lighter framework similar to jQuery. <br/>Would you like to continue adding?",function(e){e&&CD.addResource({name:n,type:a,uri:t})}):CD.addResource({name:n,type:a,uri:t}),e.value=""}Template.settings_tab.helpers({documentTeams:function(){var e=CD.now().teamIds;if(e&&e.length>0)return Teams.find({_id:{$in:e}})},documentThumbnailURL:function(){var e=CD.now();return getDocumentThumbnailURL(e)},sharedEmails:function(){var e=CD.now();return e&&e.sharedEmails&&Meteor.call("migrateDocumentsSharedEmails",CD.dbObject._id),_.pluck(getCollabs(CD.dbObject._id).fetch(),"email")},currentAccess:function(e){return getCollabAccess(CD.dbObject._id,e)},otherAccesses:function(e){return getCollabOtherAccesses(CD.dbObject._id,e)},privateClone:function(){return isPrivateClone(CD.dbObject._id)},noClone:function(){return CD.now()&&CD.now().noClone},uploadingImage:function(){return!0===Session.get(SS_UPLOADING_DOC_IMAGE)},signatureText:function(){return CD.dbObject.signatureText},signatureURL:function(){return CD.dbObject.signatureURL}}),Template.settings_tab.events({"keyup #doc-share-emails":function(e,t){13===e.keyCode&&addPrivateShare(CD.dbObject._id,$("#doc-share-emails"))},"keyup #resource-input":function(t,n){13===t.keyCode&&e()},"click .remove-email":function(e,t){var n=$(e.currentTarget).data("email");return Meteor.call("removeCollab",CD.dbObject._id,n,function(){}),e.preventDefault(),!1},"click .resend-email":function(e,t){return bootbox.confirm("You are resending an email to a user for collaboration. Are you sure?",function(t){if(t){var n=$(e.currentTarget).data("email"),a="http://"+document.location.host+"/documents/"+CD.id();Meteor.call("sendShareEmailToCollab",n,a)}}),!1},"click .change-access":function(e,t){var n=this.access,a=this.email;_.contains(DOC_ACCESS_TYPES,n)&&(n===ACCESS_STANDALONE&&hasFreePlan()?message.add("Only available with subscription plans, please <a href='/pricing'>upgrade</a>!",{type:"danger"}):Meteor.call("changeCollabAccess",CD.dbObject._id,a,n)),e.preventDefault()},"click .remove-resource":function(e){var t=this.name,n=_.filter(CD.dbObject.resources,function(e){return e.name!==t});return CD.removeResource(_.find(CD.dbObject.resources,function(e){return e.name===t})),CD.dbObject.resources=n,Documents.update(CD.dbObject._id,{$set:{resources:n}}),message.add("Resource removed, you may need to refresh",{timer:4}),e.preventDefault(),!1},"click .add-share":function(){addPrivateShare(CD.dbObject._id,$("#doc-share-emails"))},"click .add-resource":function(){e()},"click #no-clone":function(e){return $(e.currentTarget).is(":checked")?hasPaidPlan()?(Documents.update(CD.dbObject._id,{$set:{noClone:!0}}),CD.dbObject.noClone=!0):message.add("Please <a href='/pricing'>subscribe</a> to use this feature",{type:"danger"}):(Documents.update(CD.dbObject._id,{$set:{noClone:!1}}),CD.dbObject.noClone=!1),ET.Documents.noClone(),e.preventDefault(),!1},"click #upload-thumbnail":function(e){$(e.currentTarget).val("")},"change #upload-thumbnail":function(e){var t=e.target.files[0];t&&t.size<1e6?-1!==t.type.indexOf("image")?(Session.set(SS_UPLOADING_DOC_IMAGE,!0),saveBinFileToS3(t,"/thumbnails/"+CD.dbObject._id,function(){Documents.update(CD.now()._id,{$set:{thumbnail:t.name}}),Session.set(SS_UPLOADING_DOC_IMAGE,!1);var e=$(".section-thumbnail img");e.attr("src",e.attr("src")+"?t="+(new Date).getTime())})):message.add("Please upload image file for thumbnail",{type:"danger"}):message.add("Please keep your image size < 1MB",{type:"danger"})},"click .remove-thumbnail":function(e){Meteor.call("removeDocumentThumbnail",CD.dbObject._id,function(e){e||Documents.update(CD.dbObject._id,{$unset:{thumbnail:""}})})},"click .set-template":function(e){return ET.Documents.btnSetTemplate(),-1!==$(e.currentTarget).html().indexOf("ON")?bootbox.confirm("Setting template off will stop code updates to its cloned documents. Are you sure?",function(e){e&&Documents.update(CD.dbObject._id,{$set:{mode:DOC_MODE_NORMAL}})}):(isEnterprise()||hasProPlan()||hasUnlimitedPlan())&&Documents.update(CD.dbObject._id,{$set:{mode:DOC_MODE_TEMPLATE}}),e.preventDefault(),!1},"click #detach-template":function(e){return bootbox.confirm("Detaching a partial document from its template will stop future code synchronization. Are you sure?",function(e){e&&(Documents.update(CD.dbObject._id,{$set:{mode:DOC_MODE_NORMAL}}),loadAceEditors())}),e.preventDefault(),!1},"click .resource-info":function(e){return $(e.currentTarget).prev().html($(e.currentTarget).parent().attr("title")),$(e.currentTarget).hide(),e.preventDefault(),!1},"click .show-widget":function(e){var t=CD.now();return t&&!1===t.showWidget?Documents.update(CD.dbObject._id,{$set:{showWidget:!0}}):Documents.update(CD.dbObject._id,{$set:{showWidget:!1}}),!1},"click .btn-collaborators":function(e){ET.Documents.btnCollaborators()},"click .btn-teams":function(e){ET.Documents.btnTeams()},"click .btn-from-list":function(e){ET.Documents.btnFromList()},"click .btn-embed":function(e){ET.Documents.btnEmbed()}}),Template.settings_tab.events(okCancelEvents("#signature-text-input",{ok:function(e,t){e!==CD.dbObject.signatureText&&(e?Documents.update(CD.dbObject._id,{$set:{signatureText:e}}):Documents.update(CD.dbObject._id,{$unset:{signatureText:null}}),CD.dbObject.signatureText=e,Session.set(SS_EDIT_SIG_TEXT,null),message.add("Saved",{timer:1,type:"info",btnClose:!1}))},cancel:function(){$("#signature-text-input").val(CD.dbObject.signatureText).blur(),Session.set(SS_EDIT_SIG_TEXT,null)}})),Template.settings_tab.events(okCancelEvents("#signature-url-input",{ok:function(e,t){e!==CD.dbObject.signatureURL&&(e?Documents.update(CD.dbObject._id,{$set:{signatureURL:e}}):Documents.update(CD.dbObject._id,{$unset:{signatureURL:null}}),CD.dbObject.signatureURL=e,Session.set(SS_EDIT_SIG_URL,null),message.add("Saved",{timer:1,type:"info",btnClose:!1}))},cancel:function(){$("#signature-url-input").val(CD.dbObject.signatureURL).blur(),Session.set(SS_EDIT_SIG_URL,null)}})),Template.settings_tab.rendered=function(){},addPrivateShare=function(e,t,n){Meteor.call("addCollab",e,t.val(),n,function(e,n){e?message.add(e.reason,{type:"danger"}):t.val("")})},getCollabAccess=function(e,t){var n=Collabs.findOne({docId:e,email:t});if(n)return n.access.toUpperCase0()},getCollabOtherAccesses=function(e,t){var n=Collabs.findOne({docId:e,email:t});if(n)var a=_.without(DOC_ACCESS_TYPES,n.access),o=_.map(a,function(e){return{text:ACCESS_DISPLAY_TEXT[e],access:e,email:t}});return o}}).call(this);

(function(){var e=new ReactiveVar;Template.collabs_modal.helpers({collabs:function(){return e.get()},collabLabel:function(){return this.label?this.email+" ("+this.label+")":this.email;return this.label||this.email},collabId:function(){return this.id}}),Template.collabs_modal.events({"click .add-collab":function(l){var t=this;return t.email&&Meteor.call("addCollab",CD.dbObject._id,t.email,function(l,a){l&&message.add(l.reason,{type:"danger"});var n=e.get();n=_.reject(n,function(e){return e.email===t.email}),e.set(n)}),l.preventDefault,!1}}),Template.collabs_modal.rendered=function(){Meteor.call("getDocumentsCollabs",Meteor.userId(),function(l,t){if(!l){var a=[];Collabs.find({docId:CD.dbObject._id}).forEach(function(e){a.push(e.email)}),t=_.filter(t,function(e){return!_.contains(a,e.email)}),e.set(t)}})}}).call(this);

(function(){Template.teams_modal.helpers({teams:function(){var e=Members.find({userId:Meteor.userId(),access:ACCESS_ADMIN}).map(function(e){return e.teamId});return Teams.find({_id:{$in:e}})},isDocumentTeam:function(){var e=CD.now();return!!e&&(CD.now()&&e.teamIds&&e.teamIds.indexOf(this._id)>-1)},hasCollabs:function(){return getCollabs(CD.dbObject._id).count()>0},hasAnyTeam:function(){var e=CD.now();if(e&&e.teamIds&&e.teamIds.length>0)return!0}}),Template.teams_modal.events({"click .change-team":function(e){var t=getCollabs(CD.dbObject._id);return t.count()>0?bootbox.confirm("Doing this will remove current collaborators. Are you sure? ",function(e){e&&(t.forEach(function(e){Collabs.remove(e._id)}),toggleDocumentTeam(CD.dbObject._id,this._id))}):toggleDocumentTeam(CD.dbObject._id,this._id),e.preventDefault(),!1},"click .remove-team":function(){Documents.update(CD.dbObject._id,{$unset:{teamIds:null}})}})}).call(this);

(function(){function e(){var e=$("#email-input");Meteor.call("addUserGroupEmails",GP.dbObject._id,e.val(),function(t,n){t?message.add(t.reason,{type:"danger"}):n&&n.length>0?message.add("Unable to add duplicate email. Please check group: "+n.join(",")+".",{type:"danger"}):e.val("")})}SS_EDIT_GROUP_NAME="editingGroupName",SS_EDIT_GROUP_DOC_ID="editingGroupDocumentId",Session.setDefault(SS_EDIT_GROUP_NAME,!1),Session.setDefault(SS_EDIT_GROUP_DOC_ID,!1),Template.groups_edit.helpers({editingName:function(){return Session.get(SS_EDIT_GROUP_NAME)},editingDocumentId:function(){return Session.get(SS_EDIT_GROUP_DOC_ID)},currentGroup:function(){var e=Router.current().params;if(e&&e._id)return Groups.findOne(e._id)}}),Template.groups_edit.events({"click .name-text":function(e,t){return GP.isOwner()&&(Session.set(SS_EDIT_GROUP_NAME,!0),Deps.flush(),activateInput(t.find("#name-input"))),!1},"click .doc-id-text":function(e,t){return GP.isOwner()&&(Session.set(SS_EDIT_GROUP_DOC_ID,!0),Deps.flush(),activateInput(t.find("#doc-id-input"))),!1},"click .add-emails":function(){e()},"click #delete-group":function(){var e=this._id;bootbox.confirm("You are deleting this group permanently. Are you sure?",function(t){t&&(Groups.remove(e),Router.go("/admin/groups"))})},"keyup #email-input":function(t,n){13===t.keyCode&&e()},"click .remove-email":function(e){var t=GP.now().emails||[],n=$(e.currentTarget).data("email");return bootbox.confirm("Are you sure?",function(e){e&&Groups.update(GP.dbObject._id,{$set:{emails:_.without(t,n)}})}),e.preventDefault(),!1}}),Template.groups_edit.events(okCancelEvents("#name-input",{ok:function(e,t){e?(GP.dbObject.name=e,Groups.update(this._id,{$set:{name:e}}),Session.set(SS_EDIT_GROUP_NAME,!1)):message.add("Must not be empty",{type:"danger"})},cancel:function(){$("#name-input").val(GP.dbObject.name).blur(),Session.set(SS_EDIT_GROUP_NAME,!1)}})),Template.groups_edit.events(okCancelEvents("#doc-id-input",{ok:function(e,t){GP.dbObject.documentId=e,Groups.update(this._id,{$set:{documentId:e}}),Session.set(SS_EDIT_GROUP_DOC_ID,null)},cancel:function(){$("#doc-id-input").val(GP.dbObject.documentId).blur(),Session.set(SS_EDIT_GROUP_DOC_ID,null)}}))}).call(this);

(function(){Template.admin_groups.helpers({groups:function(){return Groups.find()}}),Template.admin_groups.events({"click #new-group":function(e){var r=createGroup();return Router.go("admin/groups/edit/:_id",{_id:r}),e.preventDefault(),!1}})}).call(this);

(function(){GroupLoader=function(){},GroupLoader.prototype=new Loader("group"),GroupLoader.prototype.load=function(o,e){var t=this;this.request(o,{callback:function(o,t){o||e&&e.callback&&e.callback()}})},GroupLoader.prototype.clean=function(){this.reset(),Session.set(SS_EDIT_GROUP_NAME,!1),Session.set(SS_EDIT_GROUP_DOC_ID,!1)},GP=new GroupLoader}).call(this);

(function(){Session.setDefault(SS_CHART_OPTIONS,{}),Session.setDefault(SS_EDIT_CHART_NAME,null),Session.setDefault(SS_EDIT_CHART_DESC,null),ChartLoader=function(){},ChartLoader.prototype=new Loader("chart"),ChartLoader.prototype.load=function(t,e){function s(){a.request(t,{callback:function(e){var s=Charts.findOne(t);!e&&s&&(a.init(),DS.load(s.datasetId,{onChange:function(){Session.set(SS_CHART_LOAD_READY,!0)}}))}})}var a=this;this.rendered=!1,Session.set(SS_CHART_LOAD_READY,!1),Session.set(SS_CHART_FORMAT_TYPE,CHART_FORMAT_NONE),google.load("visualization","1.0",{packages:["corechart","treemap","table"],callback:s})},ChartLoader.prototype.init=function(){this.initCookie(),this.initChart()},ChartLoader.prototype.clean=function(){this.reset(),DS.clean(),this.editor=null,this.chart=null,Session.set(SS_CHART_TYPE,null),Session.set(SS_EDIT_CHART_NAME,null),Session.set(SS_EDIT_CHART_DESC,null),Session.set(SS_CHART_OPTIONS,null)},ChartLoader.prototype.show=function(t){if(t&&t.options&&this.extendOptions(t.options),this.rendered&&this.dbObject.options&&DS.data()){$("#chart-svg").empty();for(var e=this.dbObject.options.fields,s=[],a=0;a<Object.keys(e).length;a++){var i=Object.keys(e)[a];-1===DS.data().columns.indexOf(e[i])&&s.push(i)}for(var a=0;a<s.length;a++)delete this.dbObject.options.fields[s[a]],delete this.dbObject.options.field_types[s[a]];this.updateDb({options:this.dbObject.options}),Session.set(SS_CHART_OPTIONS,this.dbObject.options),this.chart.show(DS.data(),this.dbObject.options)}},ChartLoader.prototype.getThumbnail=function(){function t(){h.removeClass("fa-spin"),l.show({options:{width:a,height:i}}),clearInterval(c)}var e=160,s=this.options(),a=s.width,i=s.height,n=a/i,o=parseInt(160*(a>=i?1:a/i)),r=parseInt(160*(a<i?1:i/a)),h=$("#btn-thumbnail-update i"),d=0,l=this;if(!h.hasClass("fa-spin")&&"tree_map"!==this.dbObject.type){h.addClass("fa-spin");var c=setInterval(function(){if(d++,l.chart.gchart&&l.chart.gchart.getImageURI)try{l.updateDb({thumbnail:l.chart.gchart.getImageURI()}),message.add("Thumbnail generated!",{timer:4}),t()}catch(t){}DS.data()?d>10&&(message.add("Network error! Please try again.",{type:"danger"}),t()):t()},100)}},GC=new ChartLoader}).call(this);

(function(){ChartLoader.prototype.initChart=function(){this.verifyDefaultDataOptions(),setPageTitle(this.dbObject.options.title),Session.set(SS_CHART_OPTIONS,this.dbObject.options),this.updateType(this.dbObject.type),!this.dbObject.thumbnail&&this.isOwner()&&this.getThumbnail()},ChartLoader.prototype.updateType=function(t){if(this.dbObject.type!==t&&_.contains(CHART_TYPES,t)){var e=_.extend({},GChart(t).DEFAULT_OPTIONS);e=_.pick(this.dbObject.options,_.keys(GChart(t).DEFAULT_OPTIONS)),e=_.extend({},GChart(t).DEFAULT_OPTIONS,e),Session.set(SS_CHART_OPTIONS,e),this.updateDb({options:e,type:t})}Session.set(SS_CHART_TYPE,t),this.chart=new(GChart(t))},ChartLoader.prototype.verifyDefaultDataOptions=function(){var t=this.dbObject,e=_.extend({},GChart(t.type).DEFAULT_OPTIONS,t.options);JSON.stringify(e)!==JSON.stringify(t.options)&&this.extendOptions(e)}}).call(this);

(function(){CHART_COOKIE="chart_config",chartCookie={sections:[1,1,1,1]},ChartLoader.prototype.initCookie=function(){var o=this;$.cookie.json=!0;var e=$.cookie(CHART_COOKIE);e?chartCookie=e:$.cookie(CHART_COOKIE,chartCookie,{expires:7})},ChartLoader.prototype.cookieClean=function(){$.removeCookie(CHART_COOKIE)}}).call(this);

(function(){ChartLoader.prototype.blurSection=function(o,e){var t=$(".sec-header:eq("+o+")"),i=t.parent().find(".sec-content");i.is(":visible")?(t.css({opacity:.7}),chartCookie.sections[o]=0):(t.css({opacity:1}),chartCookie.sections[o]=1),i.slideToggle(e?0:100),$.cookie(CHART_COOKIE,chartCookie)},ChartLoader.prototype.options=function(){return Session.get(SS_CHART_OPTIONS)},ChartLoader.prototype.saveDemoChart=function(){this.updateDb({owner:Meteor.userId()})}}).call(this);

(function(){ChartLoader.prototype.getUnescapeChart=function(t){var e=Charts.findOne(t);return e&&(e.data=this.unescapeMongoData(e.data)),e},ChartLoader.prototype.updateDb=function(t){!this.isOwner()&&this.dbObject.owner||(Charts.update(this.dbObject._id,{$set:t}),this.dbObject=this.now())},ChartLoader.prototype.updateDescription=function(t){Session.set(SS_EDIT_CHART_DESC,null),this.updateDb({description:t})},ChartLoader.prototype.extendOptions=function(t,e){Session.set(SS_CHART_OPTIONS,_.extend({},e?{}:Session.get(SS_CHART_OPTIONS),t)),this.updateDb({options:Session.get(SS_CHART_OPTIONS)})}}).call(this);

(function(){Template.add_document_modal.helpers({documents:function(){return Documents.find({owner:Meteor.userId()},{sort:{name:1}}).fetch()}}),Template.add_document_modal.events({"click .my-document":function(d){var e=DBR.dbObject.docs;e||(e=[],DBR.dbObject.docs=e),e.push(this._id),-1===DBR.loadedCount&&(DBR.loadedCount=e.length-1),Dashboards.update(DBR.id(),{$set:{docs:e}}),$("#modalAddMyDocument").modal("hide"),loopColorPicker(),d.preventDefault()},"click .document":function(d){var e=DBR.dbObject.docs;e||(e=[],DBR.dbObject.docs=e),e.push(this.id),-1===DBR.loadedCount&&(DBR.loadedCount=e.length-1),Dashboards.update(DBR.id(),{$set:{docs:e}}),$("#modalAddDocument").modal("hide"),loopColorPicker(),d.preventDefault()}})}).call(this);

(function(){Template.change_dataset_modal.helpers({datasets:function(){return Datasets.find().fetch()}}),Template.change_dataset_modal.events({"click .dataset":function(t){var a=DBR.dbObject.datasets;a||(a=[],DBR.dbObject.datasets=a),a.push(this._id),Dashboards.update(DBR.id(),{$set:{datasets:a}}),$("#modalChangeDataset").modal("hide"),t.preventDefault()}})}).call(this);

(function(){function e(e,t,a){for(var r=0;r<DBR.dbObject.properties.length;r++){var s=DBR.dbObject.properties[r],i=s.name.split(".");if(+i[0]==+t&&i[1]===e&&i[2]===a){if(s.type===PROP_TYPE_LIST)return s.value.split(/[,\n]/);var d=s.value;if(-1!==s.name.indexOf("width")&&isNaN(s.value)&&-1!==s.value.indexOf("%")){var n=+s.value.replace("%","");d=$("#canvas").width()*n/100}return d}}return null}function t(e,t){for(var a={},r=0;r<DBR.dbObject.properties.length;r++){var s=DBR.dbObject.properties[r];if(s.name.split(".")[1]===e&&+s.name.split(".")[0]==+t){var n=$.extend({},s);if(n.name=s.name.split(".")[2],s.type===PROP_TYPE_LIST)a[n.name]=n.value.split(/[,\n]/);else if("width"===n.name&&isNaN(n.value)&&-1!==n.value.indexOf("%")){var o=+n.value.replace("%","");a[n.name]=$("#canvas").width()*o/100}else a[n.name]=n.value}}if(DBR.dispatch||(DBR.dispatch=d3.dispatch("filter","datasetReady")),a.dispatch=DBR.dispatch,DBR.datasetCrossfilter){var c=DBR.datasetCrossfilter,p=DBR.dbObject.docDatasetMap[t];c[p]&&(a.ndx=c[p],a.ndxFilters=DBR.ndxFilters[p],0===Object.keys(DBR.ndxFilterData[p]).length&&DBR.getFilterData(a.ndx,a.ndxFilters,DBR.ndxFilterData[p]),a.ndxFilterData=DBR.ndxFilterData[p],a.updateFilterData=function(){DBR.getFilterData(a.ndx,a.ndxFilters,DBR.ndxFilterData[p])})}return a.addDatasetParams=i,a.removeDatasetParams=d,a}function a(e,t,a){for(var r={},s=0;s<DBR.dbObject.properties.length;s++){var i=DBR.dbObject.properties[s],d=parseInt(i.name.split(".")[0]),n=i.name.split(".")[1];propName=i.name.split(".")[2],d===parseInt(t)&&n===e&&("width"===propName?("string"==typeof i.value&&-1===i.value.indexOf("%")||"number"==typeof i.value)&&(i.value=a[propName]):void 0!==a[propName]&&(i.value=a[propName]))}Dashboards.update(DBR.id(),{$set:{properties:DBR.dbObject.properties}})}var r=function(e,t,a){return e+"."+t+"."+a};initResizable=function(e){var r=0,s=0;e.resizable({minWidth:100,minHeight:100,grid:[10,10],start:function(e,t){$("#resize-spacer").show();var a=$(this).width(),i=$(this).height();r=a,s=i},stop:function(e,i){$("#resize-spacer").hide();var d=$(this),n=d.data("id"),o=d.data("index"),c=$(this).width(),p=$(this).height(),D=t(n,o);a(n,o,{width:D.width+(c-r),height:D.height+(p-s)}),$("#document-"+n+"-"+o).empty(),loadDashboard(n,o)}})},loadDashboard=function(e,a,r){var s=new Vida.Dashboard;if(DBR.dbObject.docDatasetMap[a]){var i=DBR.datasetData,d=DBR.dbObject.docDatasetMap[a];s.load(e,"document-"+e+"-"+a,i[d],t(e,a),r)}else s.load(e,"document-"+e+"-"+a,null,t(e,a),r)},checkParams=function(e,t){for(var a=!1,r=0;r<e.length;r++)if(t[e[r].name]){a=!0;break}return a};var s=function(e){message.add("Reloading dashbard with parameters...",{type:"info"}),DBR.loadDatasets(function(){for(var t=0;t<DBR.dbObject.docs.length;t++){var a=DBR.dbObject.docs[t],r=DBR.dbObject.docDatasetMap[t],s=Datasets.findOne(r);s&&s.params&&checkParams(s.params,e)&&loadDashboard(a,t)}message.hideAll()})},i=function(e){DBR.datasetParams||(DBR.datasetParams={});for(var t in e)DBR.datasetParams[t]=e[t];s(e)},d=function(e){for(var t={},a=0;a<e.length;a++){var r=e[a];t[r]=1,DBR.datasetParams[r]&&delete DBR.datasetParams[r]}s(t)};loopColorPicker=function(){function e(){setTimeout(function(){$(".color-picker.new").colorPicker(),$(".color-picker.new").addClass("initialized"),$(".color-picker.new").removeClass("new"),t<5&&(e(),t++)},100)}var t=1;e()},Template.dashboard_edit.helpers({editingName:function(){return Session.get(SS_EDIT_DASHBOARD_NAME)},editingDescription:function(){return Session.get(SS_EDIT_DASHBOARD_DESC)},docs:function(){for(var e=DBR.dbObject.docs,t=[],a=0;a<e.length;a++)t.push({index:a,id:e[a]});return t},datasets:function(){return Dashboards.findOne(DBR.id()).datasets},datasetName:function(e){return isVidaAdmin(Meteor.userId())?(Meteor.subscribe("datasetRequest",e,function(){var t=Datasets.findOne(e).name;Session.set(SS_ADMIN_DATA+e,t)}),Session.get(SS_ADMIN_DATA+e)):Datasets.findOne(e).name},dashboardDataset:function(){var e=Dashboards.findOne(DBR.id()),t=null;for(var a in e.docDatasetMap)if(null===t)t=Datasets.findOne(e.docDatasetMap[a]);else if(t._id!==e.docDatasetMap[a]){t=null;break}return t},uploadingImage:function(){return!0===Session.get(SS_UPLOADING_DOC_IMAGE)},documentThumbnailURL:function(){return getDashboardThumbnailURL(DBR.now())},thumbnail:function(){return Dashboards.findOne(DBR.dbObject._id).thumbnail}});var n=function(e,t){for(var a,r=0;r<DBR.dbObject.properties.length;r++){var a=DBR.dbObject.properties[r];if(DBR.dbObject.properties[r].name===e)break}a.value=t,Dashboards.update(DBR.id(),{$set:{properties:DBR.dbObject.properties}}),loadDashboard(e.split(".")[1],e.split(".")[0])},o=function(e){for(var t=DBR.dbObject.docs,a=[],r=0;r<t.length;r++)a.push("");for(var r in e)a[e[r]]=t[+r];for(var r=0;r<DBR.dbObject.properties.length;r++){var s=DBR.dbObject.properties[r].name.split("."),i=e[+s[0]];DBR.dbObject.properties[r].name=i+"."+s[1]+"."+s[2]}var d={};for(var r in DBR.dbObject.docDatasetMap)d[i=e[+r]]=DBR.dbObject.docDatasetMap[r];DBR.dbObject.docDatasetMap=d,DBR.dbObject.docs=a,Dashboards.update(DBR.id(),{$set:{docs:a,properties:DBR.dbObject.properties,docDatasetMap:d}})};Template.dashboard_edit.events({"click .dashboard-name":function(e,t){return(DBR.isOwner()||DBR.noOwner())&&(Session.set(SS_EDIT_DASHBOARD_NAME,!0),Deps.flush(),activateInput(t.find("#dashboard-name-input"))),!1},"click .dashboard-description":function(e,t){return(DBR.isOwner()||DBR.noOwner())&&(Session.set(SS_EDIT_DASHBOARD_DESC,!0),Deps.flush(),activateInput(t.find("#dashboard-description-input"))),!1},"click .sec-header":function(e,t){var a=$(e.currentTarget).data("index"),r=$(".sec-header:eq("+a+")"),s=r.parent().find(".sec-content");s.is(":visible")?r.css({opacity:.7}):r.css({opacity:1}),s.slideToggle(100)},"click .remove-dashboard":function(e){Session.set(SS_COMPOSITE_DOCUMENTS_LOAD_DATA,!1);var t=DBR.dbObject.docs,a=$(e.currentTarget).parent().parent().parent().parent(),s=a.data("index"),i="#document-"+t[s]+"-"+s;t.splice(s,1);for(var d=Documents.findOne(a.attr("data-id")),n=[],o=0;o<DBR.dbObject.properties.length;o++){var c=!1;if(d.properties)for(var p=0;p<d.properties.length;p++){var D=r(s,d._id,d.properties[p].name);DBR.dbObject.properties[o].name===D&&(c=!0)}if(!1===c&&-1===DBR.dbObject.properties[o].name.indexOf(s+"."+d._id)){var b=DBR.dbObject.properties[o].name.split(".");+b[0]>s&&(b[0]=+b[0]-1,DBR.dbObject.properties[o].name=r(b[0],b[1],b[2])),n.push(DBR.dbObject.properties[o])}}delete DBR.dbObject.docDatasetMap[s];var l={};for(var u in DBR.dbObject.docDatasetMap)u<s?l[u]=DBR.dbObject.docDatasetMap[u]:u>s&&(l[u-1]=DBR.dbObject.docDatasetMap[u]);DBR.dbObject.docDatasetMap=l,DBR.dbObject.docs=t,DBR.dbObject.properties=n,Dashboards.update(DBR.id(),{$set:{docs:t,properties:n,docDatasetMap:l}}),$(i).remove(),Deps.flush(),Session.set(SS_COMPOSITE_DOCUMENTS_LOAD_DATA,!0)},"click .move-forward":function(e){var t=DBR.dbObject.docs,a=$(e.currentTarget).parent().parent().parent().parent().data("index");if(a<t.length-1){Session.set(SS_COMPOSITE_DOCUMENTS_LOAD_DATA,!1);for(var r={},s=0;s<t.length;s++)r[s]=s;r[a]=a+1,r[a+1]=a,o(r),Deps.flush(),Session.set(SS_COMPOSITE_DOCUMENTS_LOAD_DATA,!0)}},"click .move-backward":function(e){var t=DBR.dbObject.docs,a=$(e.currentTarget).parent().parent().parent().parent().data("index");if(a>0){Session.set(SS_COMPOSITE_DOCUMENTS_LOAD_DATA,!1);for(var r={},s=0;s<t.length;s++)r[s]=s;r[a]=a-1,r[a-1]=a,o(r),Deps.flush(),Session.set(SS_COMPOSITE_DOCUMENTS_LOAD_DATA,!0)}},"click .remove-dataset":function(e){DBR.dbObject.datasets.splice(DBR.dbObject.datasets.indexOf(this.toString()),1),Dashboards.update(DBR.id(),{$set:{datasets:DBR.dbObject.datasets}})},"change .color-picker":function(e){for(var t=$(e.currentTarget).attr("data-var-name"),a,r=0;r<DBR.dbObject.properties.length;r++){var a=DBR.dbObject.properties[r];if(DBR.dbObject.properties[r].name===t)break}a.value=$(e.currentTarget).val(),Dashboards.update(DBR.id(),{$set:{properties:DBR.dbObject.properties}}),loadDashboard(t.split(".")[1],t.split(".")[0])},"change .boolean-prop":function(e){for(var t=$(e.currentTarget).attr("data-var-name"),a,r=0;r<DBR.dbObject.properties.length;r++){var a=DBR.dbObject.properties[r];if(DBR.dbObject.properties[r].name===t)break}a.value=$(e.currentTarget).prop("checked"),Dashboards.update(DBR.id(),{$set:{properties:DBR.dbObject.properties}}),loadDashboard(t.split(".")[1],t.split(".")[0])},"blur .list-prop":function(e){var t=$(e.currentTarget).attr("data-var-name"),a=$(e.currentTarget).val();n(t,a)},"click .edit-comp-props":function(){Session.set(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS_DOC,this)},"click a.all-dashboard-dataset":function(e,t){if(""!==$(e.target).data("column")){for(var a=0;a<DBR.dbObject.docs.length;a++)DBR.dbObject.docDatasetMap[DBR.dbObject.docs[a]]||(DBR.dbObject.docDatasetMap[a]=this._id);for(var r in DBR.dbObject.docDatasetMap)DBR.dbObject.docDatasetMap[r]=this._id;Dashboards.update(DBR.id(),{$set:{docDatasetMap:DBR.dbObject.docDatasetMap}}),Session.set(SS_COMPOSITE_DOCUMENTS_LOAD_DATA,!1),DBR.loadDatasets()}else DBR.dbObject.docDatasetMap={},Dashboards.update(DBR.id(),{$set:{docDatasetMap:{}}})},"change #upload-thumbnail":function(e){var t=e.target.files[0];t&&t.size<1e6?-1!==t.type.indexOf("image")?(Session.set(SS_UPLOADING_DOC_IMAGE,!0),saveBinFileToS3(t,"/dashboard_thumbnails/"+DBR.dbObject._id,function(){Dashboards.update(DBR.now()._id,{$set:{thumbnail:t.name}}),Session.set(SS_UPLOADING_DOC_IMAGE,!1);var e=$(".section-thumbnail img");e.attr("src",e.attr("src")+"?t="+(new Date).getTime())})):message.add("Please upload image file for thumbnail",{type:"danger"}):message.add("Please keep your image size < 1MB",{type:"danger"})},"click .remove-thumbnail":function(e){Meteor.call("removeDashboardThumbnail",DBR.dbObject._id,function(e){e||Dashboards.update(DBR.dbObject._id,{$unset:{thumbnail:""}}),$('[data-toggle="tooltip"]').tooltip("destroy")})}}),Template.dashboard_edit.events(okCancelEvents("#dashboard-name-input",{ok:function(e,t){e?(Dashboards.update(DBR.dbObject._id,{$set:{name:e}}),DBR.dbObject.name=e,Session.set(SS_EDIT_DASHBOARD_NAME,null),setPageTitle(e)):message.add("Must not be empty",{type:"danger"})},cancel:function(){$("#dashboard-name-input").val(DBR.dbObject.name).blur(),Session.set(SS_EDIT_DASHBOARD_NAME,null)}})),Template.dashboard_edit.events(okCancelEvents("#dashboard-description-input",{ok:function(e,t){Dashboards.update(DBR.dbObject._id,{$set:{description:e}}),DBR.dbObject.description=e,Session.set(SS_EDIT_DASHBOARD_DESC,null)},cancel:function(){$("#dashboard-description-input").val(DBR.dbObject.description).blur(),Session.set(SS_EDIT_DASHBOARD_DESC,null)}})),renderDashboardCanvas=function(t,s){function i(){var e=Documents.findOne(t);DBR.dbObject.properties||(DBR.dbObject.properties=[]);var a=!1;if(e.properties)for(var i=0;i<e.properties.length;i++)for(var d=r(s,e._id,e.properties[i].name),n=0;n<DBR.dbObject.properties.length;n++)if(DBR.dbObject.properties[n].name===d){a=!0;break}if(!a){for(var o=[],i=0;i<DBR.dbObject.properties.length;i++)o.push(DBR.dbObject.properties[i]);if(e.properties)for(var i=0;i<e.properties.length;i++){var d=r(s,e._id,e.properties[i].name),c=$.extend({},e.properties[i]);c.name=d,o.push(c)}DBR.dbObject.properties=o,Dashboards.update(DBR.dbObject._id,{$set:{properties:o}})}}function d(){function e(){DBR.inEditMode()&&i(),d()}function t(){0===DBR.waitingDocs.length?($(".dashboard-loading").remove(),$(".document-canvas-inner").css("visibility","visible"),DBR.inEditMode()&&initResizable(n)):setTimeout(t,100)}if(DBR.docQueue.length>0){var a=DBR.docQueue.pop();loadDashboard(a.docId,a.index,e)}else t()}var n=$(".dashboard-canvas[data-id="+t+"][data-index="+s+"]").first(),o=t;if(!e(t,s,"width")){var c=n.width(),p=n.height();a(o,s,{width:c,height:p})}var D=$('<div class="dashboard-loading text-center" style="padding: 0px;"><i class="fa fa-spinner fa-spin"></i></div>'),b=$('<div class="document-canvas-inner"></div>');if(b.attr("id","document-"+t+"-"+s),n.first().append(b),n.append(D),b.css("visibility","hidden"),DBR.docQueue||(DBR.docQueue=[]),DBR.docQueue.push({docId:o,index:s}),DBR.docQueue.length===DBR.dbObject.docs.length||DBR.loadedCount===DBR.dbObject.docs.length-1){for(var l=[],u=0;u<DBR.docQueue.length;u++)l.push(DBR.docQueue[u].docId);(new DocumentLoader).request(l,{callback:function(e,t){d()}})}DBR.inEditMode()&&initResizable(n)}}).call(this);

(function(){function loadDatasetForPropDlg(datasetId){if(datasetId){var dataset=Datasets.findOne(datasetId);message.add("Loading dataset..."),Meteor.subscribe("datasetRequest",datasetId,function(){function setDashboardDataset(text,callback){function cbSetDashboardDataset(e,t){var a=DBR.datasetData;a[dataset._id]=e,t?Session.set(SS_DATASET_FIELDS,t):e.length>0?Session.set(SS_DATASET_FIELDS,Object.keys(e[e.length-1])):Session.set(SS_DATASET_FIELDS,null),Session.set(SS_DATASET_DATA,a),DBR.datasetCrossfilter||(DBR.datasetCrossfilter={},DBR.ndxFilters={},DBR.ndxFilterData={});var s=DBR.datasetCrossfilter;s[dataset._id]||(s[dataset._id]=crossfilter(a[dataset._id]),DBR.ndxFilters[dataset._id]={},DBR.ndxFilterData[dataset._id]=[]),message.hideAll()}var result=dataTextToJSON(text);if(dataset.script)if(dataset.resources&&dataset.resources.length>0)CurrentResource.loadResources(dataset.resources,function(){DBR.scriptCallback=function(e){cbSetDashboardDataset(e),delete DBR.scriptCallback};var scriptStr="(function(data, callback) { "+dataset.script+" })("+JSON.stringify(result)+", DBR.scriptCallback)";eval(scriptStr)});else{DBR.scriptCallback=function(e){cbSetDashboardDataset(e),delete DBR.scriptCallback};var scriptStr="(function(data, callback) { "+dataset.script+" })("+JSON.stringify(result)+", DBR.scriptCallback)";eval(scriptStr)}else if(dataset.sql){var sql=getSQLWithParams(dataset);Meteor.call("runSourceQuery",dataset.sqlSource,sql,function(e,t){cbSetDashboardDataset(t.result.rows,t.result.columns)})}else cbSetDashboardDataset(result)}var dataset=Datasets.findOne(datasetId);setDashboardDataset(dataset.text)})}}Template.edit_props_modal.helpers({dashboardProperties:function(){return Session.get(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS)},dashboardCurrentDocName:function(){return Session.get(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS)?Session.get(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS).name:""}}),Template.dashboard_edit_properties.helpers({dashboardProperties:function(){return Session.get(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS)},docDataset:function(){if(Session.get(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS)){var e=Session.get(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS).index,t=null;return DBR.dbObject.docDatasetMap?t=Dashboards.findOne(DBR.dbObject._id).docDatasetMap[e]:DBR.dbObject.docDatasetMap={},Datasets.findOne(t)}return null}});var getDocProps=function(){for(var e=Session.get(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS_DOC),t=DBR.dbObject.properties,a=null,s=0;s<t.length;s++){var r=+t[s].name.split(".")[0],i=t[s].name.split(".")[1];if(r===e.index&&i===e.id&&Documents.findOne(i)){var o=Documents.findOne(i).name;a?a.props.push(t[s]):a={id:i,name:o,index:e.index,props:[t[s]]}}}return a};attachDataColumnChange=function(){setTimeout(function(){$(".data-column").off("click"),$(".data-column").on("click",function(){for(var e=$(this).closest("ul").attr("data-var-name"),t=0;t<DBR.dbObject.properties.length;t++){var a=DBR.dbObject.properties[t];if(a.name===e){a.value=$(this).data("column");break}}Dashboards.update(DBR.id(),{$set:{properties:DBR.dbObject.properties}});var s=getDocProps();Session.set(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS,s);var r=e.split(".")[1],i=e.split(".")[0],o=e.split(".")[2];loadDashboard(r,i)}),$(".text-prop").off("blur"),$(".text-prop").on("blur",function(e){for(var t=$(e.currentTarget),a=t.attr("data-var-name"),s,r=0;r<DBR.dbObject.properties.length;r++){var s=DBR.dbObject.properties[r];if(DBR.dbObject.properties[r].name===a)break}var i=s.type===PROP_TYPE_NUMBER?parseInt(t.val()):t.val();if(-1!==a.indexOf(".width")&&-1!==t.val().indexOf("%")&&(i=t.val()),s.value!==i){if(-1===a.indexOf(".width")&&s.type===PROP_TYPE_NUMBER&&isNaN(i))return void message.add("Invalid number input, please use numeric values only",{type:"danger",timer:5});s.value=i}Dashboards.update(DBR.id(),{$set:{properties:DBR.dbObject.properties}});var o=a.split(".")[1],d=a.split(".")[0],n=a.split(".")[2];loadDashboard(o,d,function(){if("width"===n||"height"===n){var e=$(".dashboard-canvas[data-id="+o+"][data-index="+d+"]").first();"height"===n&&e.height(s.value),"width"===n&&(isNaN(s.value)&&-1!==s.value.indexOf("%")?e.width($("#canvas").width()*+s.value.replace("%","")/100):e.width(s.value)),e.resizable("destroy"),initResizable(e)}})})},1e3)},Template.edit_props_modal.rendered=function(){$("#modalEditProps").on("shown.bs.modal",function(){Session.set(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS,null);var e=getDocProps();Session.set(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS,e),$(".colorPicker-picker").remove(),$(".color-picker").removeClass("initialized"),$(".color-picker").addClass("new"),loopColorPicker(),$(document).off("focusin.modal"),loadDatasetForPropDlg(DBR.dbObject.docDatasetMap[e.index]),attachDataColumnChange()}),$("#modalEditProps").on("hidden.bs.modal",function(){$(document).on("focusin.modal"),Session.set(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS,null)})},Template.edit_props_modal.events({"click .dashboard-dataset":function(e,t){var a=Session.get(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS),s=a.index,r=this;$(e.target).data("column")?(DBR.dbObject.docDatasetMap[s]=this._id,loadDatasetForPropDlg(DBR.dbObject.docDatasetMap[s])):delete DBR.dbObject.docDatasetMap[a.index],Dashboards.update(DBR.id(),{$set:{docDatasetMap:DBR.dbObject.docDatasetMap}});for(var i=0;i<DBR.dbObject.properties.length;i++){var o=DBR.dbObject.properties[i];o.name.split(".")[1]===a.id&&+o.name.split(".")[0]==+s&&"data_column"===o.type&&(o.value=""),Dashboards.update(DBR.id(),{$set:{properties:DBR.dbObject.properties}})}var d=getDocProps();Session.set(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS,d),attachDataColumnChange()},"click .btn-sync-properties":function(e,t){bootbox.confirm("Properties sync will delete old properties. Do you want to continue?",function(e){if(e){for(var t=Session.get(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS),a=Documents.findOne(t.id),s=t.index,r=0;r<a.properties.length;r++){for(var i=!1,o=0;o<DBR.dbObject.properties.length;o++)if((c=(l=DBR.dbObject.properties[o]).name.split("."))[1]===t.id&&+c[0]==+s&&c[2]===a.properties[r].name){i=!0;break}if(!i){var d=a.properties[r];d.name=s+"."+t.id+"."+d.name,DBR.dbObject.properties.push(d)}}var n=[];a=Documents.findOne(t.id);for(var o=0;o<DBR.dbObject.properties.length;o++){for(var l=DBR.dbObject.properties[o],c=l.name.split("."),i=!1,r=0;r<a.properties.length;r++)if(c[1]===t.id&&+c[0]==+s&&c[2]===a.properties[r].name){i=!0,n.push(DBR.dbObject.properties[o]);break}i||c[1]===t.id&&+c[0]==+s||n.push(DBR.dbObject.properties[o])}DBR.dbObject.properties=n,Dashboards.update(DBR.id(),{$set:{properties:DBR.dbObject.properties}});var p=getDocProps();Session.set(SS_COMPOSITE_DOCUMENTS_EDIT_PROPS,p)}})}})}).call(this);

(function(){Template.dashboard_menu.helpers({}),Template.dashboard_menu.events({"click #btn-dashboard-delete":function(a){return bootbox.confirm("This dashboard will be removed permanently. Are you sure?",function(a){a&&removeDashboard(DBR.dbObject._id)}),a.preventDefault(),!1},"click #btn-dashboard-clone":function(a){return callCloneDashboard(DBR.id()),a.preventDefault(),!1},"click #export-dashboard":function(a){var e=Dashboards.findOne(DBR.dbObject._id);cleanObjForExport(e),e.docJson={},e.datasetJson={};for(var o=0;o<e.docs.length;o++)if(!e.docJson[e.docs[o]]){var n=Documents.findOne(e.docs[o]);cleanObjForExport(n),e.docJson[e.docs[o]]=n}for(var t in e.docDatasetMap)if(!e.datasetJson[e.docDatasetMap[t]]){var s=Datasets.findOne(e.docDatasetMap[t]);cleanObjForExport(s),e.datasetJson[e.docDatasetMap[t]]=s}saveTextAsFile(e.name+".json",JSON.stringify(e),"json")}})}).call(this);

(function(){Template.dashboard_settings_modal.helpers({sharedEmails:function(){return _.pluck(getCollabs(DBR.dbObject._id).fetch(),"email")},uploadingImage:function(){return!0===Session.get(SS_UPLOADING_DOC_IMAGE)},dashboardThumbnailURL:function(){return getDashboardThumbnailURL(DBR.now())},thumbnail:function(){return Dashboards.findOne(DBR.dbObject._id).thumbnail},currentAccess:function(e){return getCollabAccess(DBR.dbObject._id,e)},otherAccesses:function(e){return getCollabOtherAccesses(DBR.dbObject._id,e)},refreshInterval:function(){return DBR.dbObject.refreshInterval}}),Template.dashboard_settings_modal.events({"keyup #dashboard-share-emails":function(e,a){13===e.keyCode&&addPrivateShare(DBR.dbObject._id,$("#dashboard-share-emails"),"dashboard")},"click .add-share":function(){addPrivateShare(DBR.dbObject._id,$("#dashboard-share-emails"),"dashboard")},"click .change-access":function(e,a){var r=this.access,t=this.email;_.contains(DOC_ACCESS_TYPES,r)&&(r===ACCESS_STANDALONE&&hasFreePlan()?message.add("Only available with subscription plans, please <a href='/pricing'>upgrade</a>!",{type:"danger"}):Meteor.call("changeCollabAccess",DBR.dbObject._id,t,r,"dashboard")),e.preventDefault()},"click .resend-email":function(e,a){return bootbox.confirm("You are resending an email for collaboration. Are you sure?",function(a){if(a){var r=$(e.currentTarget).data("email"),t="http://"+document.location.host+"/dashboards/"+DBR.id();Meteor.call("sendShareEmailToCollab",r,t,"dashboard")}}),!1},"click .remove-email":function(e,a){var r=$(e.currentTarget).data("email");return Meteor.call("removeCollab",DBR.dbObject._id,r,function(){}),e.preventDefault(),!1},"click .privacy-state":function(e){var a=$(e.currentTarget).text().toLowerCase().replace(/ /g,"");-1!=$.inArray(a,PRIVACY_STATES)&&(Dashboards.update({_id:DBR.dbObject._id},{$set:{privacy:a}}),DBR.dbObject.privacy=a,$(".privacy-state .text").html(a.toTitleCase()+" ")),e.preventDefault()},"blur .refresh-interval":function(e){var a=null;""!==$(e.currentTarget).val()&&(a=+$(e.currentTarget).val()),DBR.dbObject.refreshInterval=a,Dashboards.update({_id:DBR.dbObject._id},{$set:{refreshInterval:a}}),refreshDashboard()}})}).call(this);

(function(){Template.embed_dashboard_all_canvases.helpers({docs:function(){for(var e=Dashboards.findOne(DBR.id()).docs,a=[],d=0;d<e.length;d++)a.push({index:d,id:e[d]});return a}}),Template.embed_dashboard_all_canvases.rendered=function(){DBR.loadDatasets()}}).call(this);

(function(){DashboardLoader=function(){},DashboardLoader.prototype=new Loader("dashboard"),DashboardLoader.prototype.load=function(a,t){var e=this;this.request(a,{callback:function(a,e){a||(setPageTitle(e[0].name),t&&t.callback&&t.callback())}})},DashboardLoader.prototype.init=function(){},DashboardLoader.prototype.clean=function(){this.reset(),Session.set(SS_EDIT_DASHBOARD_NAME,null),Session.set(SS_EDIT_DASHBOARD_DESC,null),Session.set(SS_DATASET_DATA,null),Session.set(SS_COMPOSITE_DOCUMENTS_LOAD_DATA,null),DBR.loadedCount=0,DBR.datasetCrossfilter=null,DBR.ndxFilters=null,DBR.dispatch=null,DBR.ndxFilterData=null,handles.dashboardRequest&&handles.dashboardRequest.stop(),handles.dashboards&&handles.dashboards.stop()},DashboardLoader.prototype.loadDatasets=function(loadDatasetsCallback){function requestDatasetCallback(datasetId,doneCallback){function setDashboardDataset(text,callback){function cbSetDashboardDataset(a){var t=DBR.datasetData;t[dataset._id]=a,Session.set(SS_DATASET_DATA,t),DBR.datasetCrossfilter||(DBR.datasetCrossfilter={},DBR.ndxFilters={},DBR.ndxFilterData={});var e=DBR.datasetCrossfilter;e[dataset._id]||(e[dataset._id]=crossfilter(t[dataset._id]),DBR.ndxFilters[dataset._id]={},DBR.ndxFilterData[dataset._id]=[])}var result=dataTextToJSON(text);if(dataset.script)if(dataset.resources&&dataset.resources.length>0)CurrentResource.loadResources(dataset.resources,function(){DBR.scriptCallback=function(a){cbSetDashboardDataset(a),callback(),delete DBR.scriptCallback};var scriptStr="(function(data, callback) { "+dataset.script+" })("+JSON.stringify(result)+", DBR.scriptCallback)";eval(scriptStr)});else{DBR.scriptCallback=function(a){cbSetDashboardDataset(a),callback(),delete DBR.scriptCallback};var scriptStr="(function(data, callback) { "+dataset.script+" })("+JSON.stringify(result)+", DBR.scriptCallback)";eval(scriptStr)}else if(dataset.sql){var sql=getSQLWithParams(dataset,DBR.datasetParams);dataset.params&&DBR.datasetParams&&checkParams(dataset.params,DBR.datasetParams)||!DBR.datasetParams||0===Object.keys(DBR.datasetParams).length?Meteor.call("runSourceQuery",dataset.sqlSource,sql,function(a,t){cbSetDashboardDataset(t.result.rows),callback()}):callback()}else cbSetDashboardDataset(result),callback()}var dataset=Datasets.findOne(datasetId);if(dataset.bigDataset){var procFunc=ProcessingFunctions.findOne({dataset_id:dataset._id},{sort:{created:-1,limit:1}});Meteor.call("runBigDatasetProcessing",dataset._id,procFunc.code,{},function(a,t){setDashboardDataset(JSON.stringify(t.data),doneCallback)})}else setDashboardDataset(dataset.text,doneCallback)}function requestDataset(a,t){var e=Datasets.findOne(a);if(e&&e.sql)requestDatasetCallback(a,t);else var s=Meteor.subscribe("datasetRequest",a,function(){requestDatasetCallback(a,t)})}function requestDatasetCount(a){if(a<keys.length){var t=DBR.dbObject.docDatasetMap[keys[a]];DBR.datasetData[t]?requestDatasetCount(a+1):requestDataset(t,function(){requestDatasetCount(a+1)})}else Session.set(SS_COMPOSITE_DOCUMENTS_LOAD_DATA,!0),loadDatasetsCallback&&loadDatasetsCallback()}if(DBR.dbObject.docDatasetMap){DBR.datasetData={},Session.set(SS_DATASET_DATA,DBR.datasetData);var keys=Object.keys(DBR.dbObject.docDatasetMap);requestDatasetCount(0)}else Session.set(SS_COMPOSITE_DOCUMENTS_LOAD_DATA,!0),loadDatasetsCallback&&loadDatasetsCallback()},DashboardLoader.prototype.inEditMode=function(){return this.isValid()&&0===window.location.pathname.indexOf("/dashboards")&&-1!==window.location.pathname.indexOf("/edit")},DashboardLoader.prototype.keyValStrToHashArray=function(a){for(var t=a.split(","),e={},s=0;s<t.length;s++)if(""!==t[s]&&-1!==t[s].indexOf("=")){var r=t[s].split("=");e[r[0]]||(e[r[0]]=[]),e[r[0]].push(r[1])}return e},DashboardLoader.prototype.checkItemWithFilters=function(a,t){var e=!0,s=this.keyValStrToHashArray(t);for(var r in s)if(-1===s[r].indexOf(a[r])){e=!1;break}return e},DashboardLoader.prototype.getFilterData=function(a,t,e){function s(){return a.dimension(function(e){var s="";if(a){for(var r in e)t[r]&&t[r].length>0&&(s+=","+r+"="+e[r]);return s}return""})}var r="";if(a)for(var o in t)for(var d=0;d<t[o].length;d++)r+=o+"="+t[o][d]+",";var l=s(),n=l.top(1/0);e.length=0;for(var d=0;d<n.length;d++)a&&r.length>0?this.checkItemWithFilters(n[d],r)&&e.push(n[d]):e.push(n[d]);return l.remove(),e},DBR=new DashboardLoader}).call(this);

(function(){Template.dashboard_all_canvases.helpers({docs:function(){for(var e=Dashboards.findOne(DBR.id()).docs,a=[],r=0;r<e.length;r++)a.push({index:r,id:e[r]});return a}});var e;refreshDashboard=function(){e&&clearInterval(e),DBR.dbObject.refreshInterval&&DBR.dbObject.refreshInterval>0&&(e=setInterval(function(){-1===DBR.loadedCount&&(DBR.loadedCount=0,DBR.datasetCrossfilter=null,DBR.ndxFilters=null,DBR.dispatch=null,DBR.datasetData=null,DBR.loadDatasets(function(){for(var e=0;e<DBR.dbObject.docs.length;e++)renderDashboardCanvas(DBR.dbObject.docs[e],e)}))},1e3*DBR.dbObject.refreshInterval))},Template.dashboard_all_canvases.rendered=function(){DBR.loadDatasets(),refreshDashboard()}}).call(this);

(function(){Template.dashboard_buttons.events({"click .btn-clone":function(n,t){return callCloneDashboard(DBR.id()),n.preventDefault(),!1}})}).call(this);

(function(){Template.dashboard_canvas.rendered=function(){renderDashboardCanvas(this.data.id,this.data.index)}}).call(this);

(function(){Template.dashboard_show.helpers({dashboardName:function(){return DBR.dbObject.name}}),Template.dashboard_show.events({}),Template.dashboard_show.rendered=function(){}}).call(this);

(function(){DatasetLoader=function(){},DatasetLoader.prototype=new Loader("dataset"),DatasetLoader.prototype.load=function(t,a){var e=this;this.onChange=a&&a.onChange?a.onChange:null,this.request(t,{callback:function(t,s){if(!t){var i=s[0];if(i.liveUrl)Meteor.call("importUrlDataset",i._id,i.url,function(t,s){e.dbObject.text=s,e.parseUpdateData(),e.isValid(!0),a&&a.callback&&a.callback()});else if(i.script)DS.dbObject.resources&&DS.dbObject.resources.length>0?CurrentResource.loadResources(DS.dbObject.resources,function(){runDatasetScript(DS.dbObject.text,DS.dbObject.script,function(t){e.dbObject.text=JSONArrayToCSV(t),e.parseUpdateData(),e.isValid(!0),a&&a.callback&&a.callback()})}):i.sql?runDatasetSQL(DS.dbObject,function(t){e.dbObject.text=JSONArrayToCSV(t.rows),e.parseUpdateData(),e.isValid(!0),a&&a.callback&&a.callback()}):(e.parseUpdateData(),e.isValid(!0),a&&a.callback&&a.callback());else if(i.bigDataset){var c=ProcessingFunctions.findOne({dataset_id:i._id},{sort:{created:-1,limit:1}});Meteor.call("runBigDatasetProcessing",i._id,c.code,{},function(t,s){s.error||(e.dbObject.text=JSON.stringify(s.data),e.parseUpdateData(),e.isValid(!0),a&&a.callback&&a.callback())})}else e.parseUpdateData(),e.isValid(!0),a&&a.callback&&a.callback()}}})},DatasetLoader.prototype.init=function(){DS.initGrid()},DatasetLoader.prototype.clean=function(){this.reset(),this.data(null),Session.set(SS_EDIT_DATASET_NAME,null),Session.set(SS_EDIT_DATASET_DESC,null)},DatasetLoader.prototype.clearData=function(){this.data(null),this.dbObject.text=""},DatasetLoader.prototype.parseUpdateData=function(){var t=dataTextToJSON(this.dbObject.text,!0);$.isEmptyObject(t)?this.showMessage("error"):(this.data(t),this.onChange&&this.onChange(),this.showMessage("info"))},DS=new DatasetLoader}).call(this);

(function(){DatasetLoader.prototype.updateText=function(t){Datasets.update(this.dbObject._id,{$set:{text:t}}),this.dbObject.text=t}}).call(this);

(function(){DatasetLoader.prototype.showMessage=function(e,a){var t=$("#editor-status .alert-danger"),r=$("#editor-status .alert-info");switch(e){case"error":r.hide(),t.show(0).delay(5e3);break;case"info":t.hide(),r.show(0).delay(5e3).hide(0);break;default:t.hide(),r.hide();break}}}).call(this);

(function(){DatasetLoader.prototype.initGrid=function(t){$("#editor-grid").empty();var a,i;if(t&&t.data?(a=t.data,i=t.columns):(a=this.data().data,i=this.data().columns),i){for(var e=[],r=[],t={enableCellNavigation:!0,enableColumnReorder:!1},n=0;n<i.length;n++)r.push({id:i[n],name:i[n],field:i[n]});for(var n=0;n<a.length;n++){for(var d={},l=0;l<i.length;l++)d[i[l]]=a[n][i[l]];e.push(d)}e.length&&(this.grid=new Slick.Grid("#editor-grid",e,r,t))}}}).call(this);

(function(){DatasetLoader.prototype.unescapeMongoData=function(e){for(var t=!1,o=0;o<e.columns.length;o++)t=e.columns[o]!==unescapeMongoChars(e.columns[o]),e.columns[o]=unescapeMongoChars(e.columns[o]);if(t)for(var o=0;o<e.data.length;o++)for(var a=e.data[o],n=Object.keys(a),s=0;s<n.length;s++)n[s]!==unescapeMongoChars(n[s])&&(a[unescapeMongoChars(n[s])]=a[n[s]],delete a[n[s]]);return e},DatasetLoader.prototype.data=function(e){if(void 0===e)return Session.get(SS_DATASET_DATA);Session.set(SS_DATASET_DATA,e)},DatasetLoader.prototype.saveDemoDataset=function(){Datasets.update(this.dbObject._id,{$set:{owner:Meteor.userId()}})}}).call(this);

(function(){var t=new ReactiveVar;Template.datasets_modal.helpers({datasets:function(){return Datasets.find({owner:Meteor.userId()},{sort:{name:1}})},isDocumentExtDataset:function(){var t=CD.now();if(t&&t.extDatasetIds&&-1!=t.extDatasetIds.indexOf(this._id))return!0},errorMessage:function(){return t.get()}}),Template.datasets_modal.events({"click .ext-dataset":function(e){var a=this,s;if(CD.hasExtDatasets(a._id))if(1==CD.dbObject.extDatasetIds.length)t.set("Please use <strong>Datasets > Unlink external</strong> to remove the last external dataset.");else{var d=Datasets.findOne(a._id);s=_.without(CD.dbObject.extDatasetIds,a._id),Documents.update(CD.dbObject._id,{$set:{extDatasetIds:s}}),CD.dbObject.extDatasetIds=s,delete CD.dbObject.data[d.name],CD.flattenData()}else CD.flattenData(!0),(s=CD.dbObject.extDatasetIds?CD.dbObject.extDatasetIds:[]).push(a._id),Documents.update(CD.dbObject._id,{$set:{extDatasetIds:s,dataText:""}}),CD.dbObject.extDatasetIds=s,CD.dbObject.dataText=null,DS.load(a._id,{callback:function(){var t=Datasets.findOne(a._id);if("object"!=typeof CD.dbObject.data&&(CD.dbObject.data={}),t.script)runDatasetScript(t.text,t.script,function(e){s.length<=1?CD.dbObject.data=e:CD.dbObject.data[t.name]=e,Session.set(SS_DATASET_DATA,e)});else if(t.sql)runDatasetSQL(t,function(e){s.length<=1?CD.dbObject.data=e.rows:CD.dbObject.data[t.name]=e.rows,Session.set(SS_DATASET_DATA,e.rows)});else{var e=dataTextToJSON(t.text||"");s.length<=1?CD.dbObject.data=e:CD.dbObject.data[t.name]=e,Session.set(SS_DATASET_DATA,e)}}});return e.preventDefault(),!1}})}).call(this);

(function(){Template.document_edit.rendered=function(){ws.update(),window.onbeforeunload=function(){if(CD.unsaved())return"You have unsaved changes. Please save before leaving."}}}).call(this);

(function(){Template.edit_header.helpers({editingName:function(){return Session.get(SS_EDIT_DOC_NAME)},editingDescription:function(){return Session.get(SS_EDIT_DOC_DESC)},documentDescription:function(){return CD.dbObject.description},documentName:function(){return CD.dbObject.name}}),Template.edit_header.events(okCancelEvents("#document-name-input",{ok:function(e,n){e?(setPageTitle(e),Documents.update(CD.dbObject._id,{$set:{name:e}}),CD.dbObject.name=e,Session.set(SS_EDIT_DOC_NAME,null)):message.add("Must not be empty",{type:"danger"})},cancel:function(){$("#document-name-input").val(CD.dbObject.name).blur(),Session.set(SS_EDIT_DOC_NAME,null)}})),Template.edit_header.events(okCancelEvents("#document-description-input",{ok:function(e,n){Documents.update(CD.dbObject._id,{$set:{description:e}}),CD.dbObject.description=e,Session.set(SS_EDIT_DOC_DESC,null)},cancel:function(){$("#document-description-input").val(CD.dbObject.description).blur(),Session.set(SS_EDIT_DOC_DESC,null)}})),Template.edit_header.rendered=function(){}}).call(this);

(function(){var e=!1;Session.setDefault(SS_ACTIVE_TAB,0),Template.document_editors.helpers({}),Template.document_editors.rendered=function(){editorShortcuts(),loadAceEditors(),$("#document-name").change(function(){Documents.update({_id:CD.dbObject._id},{$set:{name:$("#document-name").attr("value")}})}),$("#document-name").keyup(function(e){13===e.keyCode&&Documents.update({_id:CD.dbObject._id},{$set:{name:$("#document-name").attr("value")}})})},Template.document_editors.events({"click .privacy-state":function(e){var t=$(e.currentTarget).text().toLowerCase().replace(/ /g,"");-1!=$.inArray(t,PRIVACY_STATES)&&(Documents.update({_id:CD.dbObject._id},{$set:{privacy:t}}),CD.dbObject.privacy=t,$(".privacy-state .text").html(t.toTitleCase()+" ")),e.preventDefault()},"click .editor-tab":function(e){setEditorTab($(e.currentTarget).index())}}),loadAceEditors=function(){if(void 0===typeof ace)$.getScript("/packages/phuocd_ace/lib/ace/src/ace.js",function(){loadAceEditors()});else{var e=0;e=$("#document-editors").length?0:1e3,setTimeout(function(){if($("#document-editors").length){CD.initAllEditors();var e=$("ul.nav-tabs li a").eq(Session.get(SS_ACTIVE_TAB));0===e.length&&(Session.set(SS_ACTIVE_TAB,0),e=$("ul.nav-tabs li a").eq(0)),e.tab("show")}},e)}}}).call(this);

(function(){JS_LIBS=[{name:"Topojson 1.1.0",uri:"//cdnjs.cloudflare.com/ajax/libs/topojson/1.1.0/topojson.min.js",type:"js"},{name:"Three.js R67",uri:"//cdnjs.cloudflare.com/ajax/libs/three.js/r67/three.min.js",type:"js"},{name:"crossfilter",uri:"//cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.js",type:"js"},{name:"rickshaw",uri:"//cdnjs.cloudflare.com/ajax/libs/rickshaw/1.5.1/rickshaw.js",type:"js"},{name:"datalib",uri:"//cdnjs.cloudflare.com/ajax/libs/datalib/1.6.3/datalib.js",type:"js"},{name:"highcharts",uri:"//cdnjs.cloudflare.com/ajax/libs/highcharts/4.2.4/highcharts.js",type:"js"},{name:"charts.js",uri:"//cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.js",type:"js"}]}).call(this);

(function(){Template.libs_modal.helpers({libs:function(){return JS_LIBS}}),Template.libs_modal.events({"click .lib":function(e){CD.now()&&CD.addResource(this),DS.now()&&CurrentResource.addResource(DS,this),$("#modalLibs").modal("hide"),e.preventDefault()}})}).call(this);

(function(){Template.document_menu.helpers({}),Template.document_menu.events({"click #export-doc":function(e){var n=Documents.findOne(CD.dbObject._id);cleanObjForExport(n),saveTextAsFile(n.name+".json",JSON.stringify(n),"json")},"click #btn-document-delete":function(e){return bootbox.confirm("This document will be removed permanently. Are you sure?",function(e){e&&(CD.thumbnail?Meteor.call("removeDocumentThumbnail",CD.dbObject._id,function(e){removeDocument(CD.dbObject._id)}):removeDocument(CD.dbObject._id))}),e.preventDefault(),!1}})}).call(this);

(function(){Template.proc_funcs_modal.helpers({procFuncs:function(){return ProcessingFunctions.find({owner:Meteor.userId()})},hasProcFuncs:function(){return CD.now()&&CD.now().processingFunctions},isDocumentProcFunc:function(){return CD.now()&&CD.now().processingFunctions&&-1!==CD.now().processingFunctions.indexOf(this._id)}}),Template.proc_funcs_modal.events({"click .set-proc-func":function(n){var c=this;if(CD.dbObject.processingFunctions||(CD.dbObject.processingFunctions=[]),-1===CD.dbObject.processingFunctions.indexOf(c._id))CD.dbObject.processingFunctions.push(c._id),Documents.update(CD.dbObject._id,{$set:{processingFunctions:CD.dbObject.processingFunctions}});else{var s=CD.dbObject.processingFunctions.indexOf(c._id);CD.dbObject.processingFunctions.splice(s,1),Documents.update(CD.dbObject._id,{$set:{processingFunctions:CD.dbObject.processingFunctions}})}return n.preventDefault(),!1}})}).call(this);

(function(){var e,t;Template.document_embed.events({}),Template.document_embed.helpers({signinRequired:function(){return 1==getParameterByName("signin")&&!Meteor.user()}}),Template.document_embed.rendered=function(){e&&$("#canvas svg").css({border:"none"})},Template.embed_canvas.helpers({isReactive:function(){return t},showVidaSignature:function(){return!hasProPlan(CD.dbObject.owner)&&!e&&!t},showSignature:function(){var e=Meteor.users.findOne(CD.dbObject.owner);return CD.dbObject.signatureText||e&&e.profile&&e.profile.name&&e.createdbyURL},profileName:function(){var e=Meteor.users.findOne(CD.dbObject.owner);if(e&&e.profile&&e.profile.name)return e.profile.name},createdbyURL:function(){var e=Meteor.users.findOne(CD.dbObject.owner);return CD.dbObject.signatureURL?CD.dbObject.signatureURL:e&&e.createdbyURL?(-1===e.createdbyURL.indexOf("http")&&(e.createdbyURL="http://"+e.createdbyURL),e.createdbyURL):void 0},signatureImageUrl:function(){var e=Meteor.users.findOne(CD.dbObject.owner);if(e&&e.createdbyImage)return getFileURL(e.createdbyImage)},signatureText:function(){return CD.dbObject.signatureText}}),Template.embed_canvas.events({"click .embed-widget-toggle":function(e){if("INPUT"!==e.currentTarget.tagName){if(0===$("#embed-code").val().length){var t=$("#canvas svg");embedCode=getEmbedCode({url:"http://embed.vida.io/documents/"+CD.dbObject._id,width:t.width()||800,height:t.height()||450}),$("#embed-code").val(embedCode)}$(".embed-widget-toggle").toggle()}},"click #embed-code":function(e){$(e.currentTarget).select()}}),Template.embed_canvas.rendered=function(){$(".uv-icon").length>0&&$(".uv-icon").remove(),""===getParameterByName("ext_data")&&CD.show(!0),$("#embed-code").width(window.innerWidth/2)},Template.embed_canvas.created=function(){t&&CD.trackDocumentChanges()},embedDocumentInit=function(){var n=getParameterByName("tn"),r=getParameterByName("r");stopSubscription(),e="1"===n,t="1"===r},setEmbedPageCSS=function(){$("html, body").css({height:"auto",width:"auto","min-width":0,"min-height":0,padding:0})},resumeEmbedPageCSS=function(){$("html, body").css({height:"100%","min-width":980,"min-height":480}),$("body").css({"padding-top":52})},getEmbedCode=function(e){return'<iframe src="'+((e=e||{}).url||"")+'" width="'+(0+parseInt(e.width))+'" height="'+(25+parseInt(e.height))+'" seamless frameBorder="0" scrolling="no"></iframe>'}}).call(this);

(function(){DocumentLoader=function(){},DocumentLoader.prototype=new Loader("document"),DocumentLoader.prototype.load=function(e,t){function a(){o.request(e,{callback:function(e,t){if(!e){var a=t[0];CD.inEditMode()&&null===Meteor.userId()&&Router.go("document.show",{_id:a._id}),o.init({callback:function(){a.resources&&a.resources.length&&(CD.loadingResources=!0,o.loadResources(a.resources,function(){CD.loadingResources=!1,-1!==Router.current().originalUrl.indexOf("embed")?""===getParameterByName("ext_data")&&CD.show(!0):CD.show(!0)})),o.isValid(!0)}})}}})}var o=this;"undefined"!=typeof google?google.load("visualization","1.0",{packages:["corechart","treemap","table"],callback:a}):a()},DocumentLoader.prototype.clean=function(){this.reset(),this.jsEditor=null,this.cssEditor=null,this.dataEditor=null,this.propJSONEditor=null,this.loadingResources=!1,this.loadingExtDatasets=null,this.config={},this.currentDataset=new ReactiveVar,Session.set(SS_PARENT_DOC_PRIVATE,null),Session.set(SS_DATASET_DATA,null)},DocumentLoader.prototype.loadExtDatasets=function(e){var t=this;t.hasExtDatasets()?(t.loadingExtDatasets=!0,DS.load(t.dbObject.extDatasetIds,{callback:function(){var a=Datasets.find({_id:{$in:t.dbObject.extDatasetIds}}).fetch(),o=0;_.each(a,function(n){if(n.script)runDatasetScript(n.text,n.script,function(s){o++,t.dbObject.data[n.name]=s,o===a.length&&(t.flattenData(),t.loadingExtDatasets=!1,e())});else if(n.sql)runDatasetSQL(n,function(s){o++,t.dbObject.data[n.name]=s.rows,o===a.length&&(t.flattenData(),t.loadingExtDatasets=!1,e())});else if(n.bigDataset){var s=ProcessingFunctions.findOne({dataset_id:n._id},{sort:{created:-1,limit:1}});Meteor.call("runBigDatasetProcessing",n._id,s.code,{},function(s,i){o++,t.dbObject.data[n.name]=i.data,o===a.length&&(t.flattenData(),t.loadingExtDatasets=!1,e())})}else{o++;var i=dataTextToJSON(n.text);t.dbObject.data[n.name]=i,o===a.length&&(t.flattenData(),t.loadingExtDatasets=!1,e())}})}})):(t.dbObject.data=dataTextToJSON(t.dbObject.dataText),e())},DocumentLoader.prototype.init=function(e){function t(e,t){var a=CD.dbObject.resources;return-1!==CD.dbObject.javascript.indexOf(t+".")&&!_.find(a,function(t){return-1!==t.name.toLowerCase().indexOf(e)})}function a(e){var t=_.find(JS_LIBS,function(t){return-1!==t.name.toLowerCase().indexOf(e)});CD.addResource(t)}var o=this;if(setPageTitle(this.dbObject.name),o.dbObject.data={},o.loadExtDatasets(e.callback),this.dbObject.safeMode&&(this.isOwner()?message.add("Safe mode is on (<a href='/documentation'>Why?</a>). <br/>Click the 'Disable Safe Mode' button above to disable",{type:"danger"}):message.add("Failed to load, please contact owner.",{type:"danger"})),this.dbObject.html||(o.dbObject.html="",$.get("/d3templates/template.html",function(e){o.dbObject.html=e,o.dbObject.javascript&&(o.dbObject.javascript=o.dbObject.javascript.split('select("#canvas")').join('select("#canvas-svg")'))})),this.dbObject.readme||(o.dbObject.readme="\x3c!-- Markdown Documentation !--\x3e"),CD.isOwner()){var n=t("topojson","topojson");if(n){var s="";s+=n?(s.length>0?", ":"")+"topojson":"",bootbox.confirm("It looks like you're using: "+s+". External libraries need to be added in settings to run correctly. Would you like to add?",function(e){e&&n&&a("topojson")})}}if(this.dbObject.properties&&this.dbObject.properties.length>0){this.config={};var i=this;_.each(this.dbObject.properties,function(e){e.type===PROP_TYPE_LIST?i.config[e.name]=e.value.split(/[,\n]/):i.config[e.name]=e.value})}var d=new Vida.IReceiver({postData:function(e){e.properties?(o.config=e.properties,o.dbObject.data=dataTextToJSON(JSON.stringify(e.data))):e.data?o.dbObject.data=dataTextToJSON(JSON.stringify(e.data)):o.dbObject.data=dataTextToJSON(JSON.stringify(e))},renderData:function(){void 0===Vida.IReceiver.show&&(Vida.IReceiver.show=!0,o.dbObject.resources&&o.dbObject.resources.length?o.loadResources(o.dbObject.resources,function(){o.loadingResources=!1,o.show()}):o.show())}})},DocumentLoader.prototype.initDashboard=function(e,t,a,o){var n=this;if(this.dbObject.properties&&this.dbObject.properties.length>0){this.config={};var s=this;_.each(this.dbObject.properties,function(e){e.type===PROP_TYPE_LIST?s.config[e.name]=e.value.split(/[,\n]/):s.config[e.name]=e.value}),t&&(this.config=_.extend(this.config,t))}e?(this.dbObject.data=e,o()):(this.dbObject.data={},n.loadExtDatasets(function(){1===Object.keys(n.dbObject.data).length&&(n.dbObject.data=n.dbObject.data[Object.keys(n.dbObject.data)[0]]),o()}))},DocumentLoader.prototype.unsaved=function(e){var t=$("#btn-save-refresh");if(void 0===e)return t.hasClass("active");e?t.addClass("active"):t.removeClass("active")},DocumentLoader.prototype.createCanvasStyleDashboard=function(e){var t=this.dbObject.stylesheet;$("#canvas-style-"+e).remove();var a=$("<style>");a.attr({type:"text/css",id:"canvas-style-"+e,class:"canvas-style"}),a.html(t),$("head").append(a)},DocumentLoader.prototype.createCanvasStyle=function(){var e=this.dbObject.stylesheet;$("#canvas-style").remove();var t=$("<style>");t.attr({type:"text/css",id:"canvas-style",class:"canvas-style"}),t.html(e),$("head").append(t)},DocumentLoader.prototype.addTag=function(e){e&&Meteor.call("addDocumentTag",CD.dbObject._id,e,function(e,t){e?message.add(e.reason,{type:"danger"}):$(".tag-input").val("")})},DocumentLoader.prototype.removeTag=function(e){var t=CD.now(),a=_.without(t.tags,_.findWhere(t.tags,{name:e}));Documents.update(t._id,{$set:{tags:a}}),message.add("'"+TagName.toTitle(e)+"' tag has been removed",{timer:2})},DocumentLoader.prototype.refreshDocument=function(){blockTimer(function(){_.extend(CD.dbObject,fields),fields.dataText&&(CD.dbObject.data=dataTextToJSON(CD.dbObject.dataText)),fields.properties&&(_.each(CD.dbObject.properties,function(e){CD.config[e.name]=e.value}),CD.dbObject.data=dataTextToJSON(CD.dbObject.dataText)),Math.round((new Date).getTime()/1e3)-CD.dbObject.created>5&&CD.show()},500)},DocumentLoader.prototype.trackDocumentChanges=function(){Tracker.autorun(function(){Documents.find(CD.dbObject._id).observeChanges({changed:function(e,t){t.modified||(CD.changingFields=t),t.modified&&(!CD.changingFields||CD.changingFields.keyStorage,delete CD.changingFields)}})})},DocumentLoader.prototype.addKey=function(e,t){CD.removeKey(e);var a=CD.now();a.keyStorage||(a.keyStorage=[]);var o=a.keyStorage;o.push({key:e,value:t}),Documents.update(a._id,{$set:{keyStorage:o}}),CD.dbObject.keyStorage=o},DocumentLoader.prototype.getKeyValue=function(e){var t=CD.now();t.keyStorage||(t.keyStorage=[]);var a=_.findWhere(t.keyStorage,{key:e});return a?a.value:null},DocumentLoader.prototype.removeKey=function(e){var t=CD.now(),a=_.without(t.keyStorage,_.findWhere(t.keyStorage,{key:e}));Documents.update(t._id,{$set:{keyStorage:a}}),CD.dbObject.keyStorage=a},DocumentLoader.prototype.removeAllKeys=function(){var e=CD.now(),t=[];Documents.update(e._id,{$set:{keyStorage:[]}}),CD.dbObject.keyStorage=t},CD=new DocumentLoader}).call(this);

(function(){DocumentLoader.prototype.initHTMLEditor=function(){var t=this;0!==$("#html").length&&(this.htmlEditor=ace.edit("html"),this.htmlEditor.setTheme("ace/theme/monokai"),this.htmlEditor.getSession().setMode("ace/mode/html"),this.htmlEditor.$blockScrolling=1/0,this.htmlEditor.setValue(t.dbObject.html.replace(/<\\\//g,"</")),this.htmlEditor.gotoLine(0),this.htmlEditor.getSession().setTabSize(2),this.htmlEditor.getSession().setUndoManager(new ace.UndoManager),this.htmlEditor.getSession().on("change",function(e){var i=t.htmlEditor.getValue();t.dbObject.html=i,t.unsaved(!0)}))},DocumentLoader.prototype.initJSEditor=function(){var t=this,e=!1;0!==$("#javascript").length&&(this.jsEditor=ace.edit("javascript"),this.jsEditor.setTheme("ace/theme/monokai"),this.jsEditor.getSession().setMode("ace/mode/javascript"),this.jsEditor.$blockScrolling=1/0,this.jsEditor.setValue(t.dbObject.javascript),this.jsEditor.gotoLine(0),this.jsEditor.getSession().setTabSize(2),this.jsEditor.getSession().setUndoManager(new ace.UndoManager),this.jsEditor.getSession().on("change",function(i){var s=t.jsEditor.getValue();"insertText"===i.action&&$.each(["select('body')",'select("body")'],function(i,o){-1!==s.indexOf(o)&&(e||(e=!0,setTimeout(function(){e=!1,s=t.jsEditor.getValue(),s=s.replace(o,'select("#canvas-svg")');var i=t.jsEditor.getCursorPosition();t.jsEditor.setValue(s,1),t.jsEditor.moveCursorToPosition(i),message.add('Selection corrected: <strong>select("body")</strong> changed to <strong>select("#canvas-svg")</strong>',{type:"danger",timer:5})},500)))}),t.dbObject.javascript=s,t.unsaved(!0)}))},DocumentLoader.prototype.initCSSEditor=function(){var t=this,e=!1;0!==$("#stylesheet").length&&(this.cssEditor=ace.edit("stylesheet"),this.cssEditor.setTheme("ace/theme/monokai"),this.cssEditor.getSession().setMode("ace/mode/css"),this.cssEditor.getSession().setUseWorker(!1),this.cssEditor.$blockScrolling=1/0,this.cssEditor.setValue(t.dbObject.stylesheet),this.cssEditor.gotoLine(0),this.cssEditor.getSession().setTabSize(2),this.cssEditor.getSession().setUndoManager(new ace.UndoManager),this.cssEditor.getSession().on("change",function(e){t.dbObject.stylesheet=t.cssEditor.getValue(),t.unsaved(!0)}))},DocumentLoader.prototype.initDataEditor=function(){var t=this,e;if(0!==$("#data-editor-ace").length){if(this.dataEditor=ace.edit("data-editor-ace"),this.dataEditor.setTheme("ace/theme/monokai"),this.dataEditor.getSession().setMode("ace/mode/json"),this.dataEditor.getSession().setUseWorker(!1),this.dataEditor.getSession().setTabSize(2),this.dataEditor.getSession().setUndoManager(new ace.UndoManager),this.dataEditor.$blockScrolling=1/0,"string"==typeof this.dbObject.dataText)e=this.dbObject.dataText;else if(null!==this.dbObject.dataText){var i=Object.keys(this.dbObject.dataText)[0];e=this.dbObject.dataText[i],this.currentDataset.set(i)}e&&""!=e?this.dataEditor.setValue(e):this.dataEditor.setValue(EDITOR_PLACEHOLDER_TEXT),this.dataEditor.gotoLine(0),this.dataEditor.on("focus",function(){t.dataEditor.getSession().getValue()===EDITOR_PLACEHOLDER_TEXT&&t.dataEditor.getSession().setValue("")}),this.dataEditor.on("blur",function(){""===t.dataEditor.getSession().getValue()&&t.dataEditor.getSession().setValue(EDITOR_PLACEHOLDER_TEXT)}),this.dataEditor.getSession().on("change",function(e){if(t.dataEditor.getValue()!==EDITOR_PLACEHOLDER_TEXT){var i=t.dataEditor.getValue(),s;null!==t.dbObject.dataText&&(s="string"==typeof t.dbObject.dataText?t.dbObject.dataText:t.dbObject.dataText[t.currentDataset.get()]),isDataSizeOk(i.length)&&s!=i&&("string"==typeof t.dbObject.dataText||null===t.dbObject.dataText?t.dbObject.dataText=i:t.dbObject.dataText[t.currentDataset.get()]=i,t.unsaved(!0))}})}},DocumentLoader.prototype.initReadmeEditor=function(){var t=this,e=!1;0!==$("#readme").length&&(this.readmeEditor=ace.edit("readme"),this.readmeEditor.setTheme("ace/theme/monokai"),this.readmeEditor.getSession().setMode("ace/mode/markdown"),this.readmeEditor.getSession().setUseWorker(!1),this.readmeEditor.$blockScrolling=1/0,this.readmeEditor.setValue(t.dbObject.readme),this.readmeEditor.gotoLine(0),this.readmeEditor.getSession().setTabSize(2),this.readmeEditor.getSession().setUndoManager(new ace.UndoManager),this.readmeEditor.getSession().on("change",function(e){t.dbObject.readme=t.readmeEditor.getValue(),t.unsaved(!0)}))},DocumentLoader.prototype.initAllEditors=function(){this.initDataEditor(),hasDocumentMode(DOC_MODE_PARTIAL)||(this.initJSEditor(),this.initCSSEditor(),this.initHTMLEditor(),this.initReadmeEditor())},DocumentLoader.prototype.returnEditorFocus=function(){switch(Session.get(SS_ACTIVE_TAB)){case 0:this.dataEditor&&this.dataEditor.focus();break;case 2:this.jsEditor&&this.jsEditor.focus();break;case 3:this.cssEditor&&this.cssEditor.focus();break;case 4:this.htmlEditor&&this.htmlEditor.focus();break;case 5:this.readmeEditor&&this.readmeEditor.focus();break}}}).call(this);

(function(){DocumentLoader.prototype.initGrid=function(){for(var a=dataTextToJSON(this.dataText(),!0),e=a.data,t=a.columns,n=[],i=[],l=0;l<t.length;l++)i.push({id:t[l],name:t[l],field:t[l]});for(var l=0;l<e.length;l++){for(var o={},r=0;r<t.length;r++)o[t[r]]=e[l][t[r]];n.push(o)}var d={enableCellNavigation:!0,enableColumnReorder:!1};if(n.length)var h=new Slick.Grid("#data",n,i,d)}}).call(this);

(function(){DocumentLoader.prototype.inEditMode=function(){return this.isValid()&&0===window.location.pathname.indexOf("/documents")&&-1!==window.location.pathname.indexOf("/edit")},DocumentLoader.prototype.inViewMode=function(){return this.isValid()&&0===window.location.pathname.indexOf("/documents")&&-1===window.location.pathname.indexOf("/edit")},DocumentLoader.prototype.saveDemoDocument=function(){Documents.update(this.dbObject._id,{$set:{owner:Meteor.userId()}})},DocumentLoader.prototype.saveUpdate=function(){var t=this,e={};CD.hasExtDatasets()||(e.dataText=t.dbObject.dataText,t.dbObject.data=dataTextToJSON(t.dbObject.dataText)),CD.dbObject.mode!==DOC_MODE_PARTIAL&&_.extend(e,{html:t.dbObject.html.replace(/<\//g,"<\\/"),javascript:t.dbObject.javascript,stylesheet:t.dbObject.stylesheet,readme:t.dbObject.readme}),Object.keys(e).length>0&&(t.show(),Documents.update(t.dbObject._id,{$set:e},function(e){e?message.add("Error saving data! "+e.message,{type:"danger"}):Meteor.call("syncPartialDocuments",t.dbObject._id)}))},DocumentLoader.prototype.hasManyDatasets=function(){return this.dbObject&&"object"==typeof this.dbObject.dataText},DocumentLoader.prototype.hasExtDatasets=function(t){var e=this.dbObject.extDatasetIds&&this.dbObject.extDatasetIds.length>0;return t?e&&-1!==this.dbObject.extDatasetIds.indexOf(t):e},DocumentLoader.prototype.dataText=function(t,e){var a=this.currentDataset.get();if(void 0===t)return this.hasManyDatasets()?this.dbObject.dataText[a]:this.dbObject.dataText;this.hasManyDatasets()?this.dbObject.dataText[e||a]=t:e?(this.dbObject.dataText={},this.dbObject.dataText[e]=t,this.dbObject.data={},this.dbObject.data[e]=dataTextToJSON(t)):this.dbObject.dataText=t},DocumentLoader.prototype.flattenData=function(t){if(CD.dbObject.extDatasetIds&&1==CD.dbObject.extDatasetIds.length)if(t||Array.isArray(CD.dbObject.data)){if(t&&Array.isArray(CD.dbObject.data)){var e=CD.dbObject.data,a=CD.currentDataset.get()||Datasets.findOne(CD.dbObject.extDatasetIds[0]).name;CD.dbObject.data={},CD.dbObject.data[a]=e}}else{var e=CD.dbObject.data[Object.keys(CD.dbObject.data)[0]];CD.dbObject.data=e,CD.dbObject.dataText=JSONArrayToCSV(e),Session.set(SS_DATASET_DATA,e)}},getParameterByName=function(t,e){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e||location.search);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))}}).call(this);

(function(){}).call(this);

(function(){DocumentLoader.prototype.getDataColumns=function(){if(Session.get(SS_DATASET_DATA))return(e=Session.get(SS_DATASET_DATA)).length>0?Object.keys(e[e.length-1]):[];var t=CD.now();if(t&&t.dataText){var e;if((e="string"==typeof t.dataText?dataTextToJSON(t.dataText,!0):dataTextToJSON(t.dataText[Object.keys(t.dataText)[0]],!0))&&e.columns&&e.columns.length>0)return e.columns}},DocumentLoader.prototype.getPropColumns=function(){var t=this.dbObject.properties||[],e=_.filter(t,function(t){return t.type===PROP_TYPE_DATA});return e.length>0?_.pluck(e,"value"):null},DocumentLoader.prototype.setPropValue=function(t,e){var o=this.getPropIndexByName(t),n=this.dbObject.properties;o>-1&&(n[o].value=e,n[o].type===PROP_TYPE_LIST?this.config[n[o].name]=e.split(/[,\n]/):this.config[n[o].name]=e,Documents.update(CD.dbObject._id,{$set:{properties:n}}))},DocumentLoader.prototype.getPropIndexByName=function(t){var e=-1;return _.find(this.dbObject.properties,function(o,n){if(o.name===t)return e=n,!0}),e},DocumentLoader.prototype.getProp=function(t){var e=this.getPropIndexByName(t);return e>-1&&this.dbObject.properties&&this.dbObject.properties[e]?this.dbObject.properties[e]:null}}).call(this);

(function(){var e=[];DocumentLoader.prototype.addResource=function(e){CurrentResource.addResource(this,e)},DocumentLoader.prototype.loadResources=function(e,o){CurrentResource.loadResources(e,o)},DocumentLoader.prototype.removeResource=function(e,o){CurrentResource.removeResource(e,o)}}).call(this);

(function(){evalData={},evalConfig={},DocumentLoader.prototype.showDashboard=function(firstTime,uniqueId){var $canvas=$("#canvas"),self=this;if(!(0==$canvas.length||this.dbObject.safeMode||this.loadingResources||this.loadingExtDatasets||this.runningShow||firstTime&&""!==$.trim($($canvas).html()))){if(this.runningShow=!0,this.dbObject.stylesheet&&this.createCanvasStyleDashboard(uniqueId),this.dbObject.javascript){var $script=$("script#"+this.dbObject._id);if($script&&$script.remove(),this.dbObject.data||(this.dbObject.data=null),this.config&&(this.config.refreshDocument=function(){self.showDashboard(firstTime,uniqueId)}),-1!==this.dbObject.javascript.indexOf("drawD3Document"))try{evalData[uniqueId]=this.dbObject.data,evalConfig[uniqueId]=this.config;var javascript="(function(window, data, config) {delete drawD3Document;"+this.dbObject.javascript+'; if (typeof drawD3Document !== "undefined") { window.drawD3Document = drawD3Document; }})(window, evalData["'+uniqueId+'"],evalConfig["'+uniqueId+'"] );';eval(javascript),"undefined"!=typeof drawD3Document?drawD3Document(JSON.parse(JSON.stringify(this.dbObject.data))):($("#canvas svg")&&$("#canvas svg").remove(),$("#canvas-svg").empty(),javascript="function drawD3Document(data, config) {"+this.dbObject.javascript+"}",eval(javascript),drawD3Document(this.dbObject.data,this.config))}catch(t){console.log(t),console.log(t.stack)}else{evalData[uniqueId]=this.dbObject.data,evalConfig[uniqueId]=this.config;var javascript="(function (data, config) { \r\n\r\n"+this.dbObject.javascript+'\r\n})( evalData["'+uniqueId+'"],evalConfig["'+uniqueId+'"] );';try{eval(javascript)}catch(t){console.log(t),console.log(t.stack)}}}this.runningShow=!1}};var cloneData=function(t){if(Array.isArray(t))for(var a=[],e=0;e<t.length;e++)a.push($.extend(!0,{},t[e]));else var a=$.extend(!0,{},t);return a};DocumentLoader.prototype.show=function(firstTime){function handleResponsive(){function t(){a[0].forEach(function(t){var a=$(t.parentNode).width(),e=d3.select(t).attr("width"),i=e/d3.select(t).attr("height");e>a&&(d3.select(t).attr("width",a),d3.select(t).attr("height",a/i))})}var a=d3.selectAll("#canvas svg");a[0].length>0&&responsiveRetry<10?a.attr("viewBox")||(a[0].forEach(function(t){var a=d3.select(t).attr("width"),e=d3.select(t).attr("height");-1===a.indexOf("%")&&-1===e.indexOf("%")&&(d3.select(t).attr("viewBox","0 0 "+a+" "+e),d3.select(t).attr("preserveAspectRatio","xMidYMid"))}),$(window).on("resize",function(){t()}),t()):setTimeout(function(){responsiveRetry++,handleResponsive()},100)}var $canvas=$("#canvas");if(!(0==$canvas.length||this.dbObject.safeMode||this.loadingResources||this.loadingExtDatasets||this.runningShow||firstTime&&""!==$.trim($($canvas).html()))){this.runningShow=!0,$canvas.empty(),$canvas.append(this.dbObject.html.replace(/<\\\//g,"</")),this.dbObject.stylesheet&&this.createCanvasStyle(this.dbObject.stylesheet);var dataCopy=cloneData(this.dbObject.data);if(this.dbObject.javascript){var $script=$("script#"+CD.dbObject._id);if($script&&$script.remove(),-1!==this.dbObject.javascript.indexOf("drawD3Document"))try{var javascript="(function(window, data, config) {delete drawD3Document;"+CD.dbObject.javascript+'; if (typeof drawD3Document !== "undefined") { window.drawD3Document = drawD3Document; }})(window, CD.dbObject.data, CD.config );';eval(javascript),"undefined"!=typeof drawD3Document?drawD3Document(JSON.parse(JSON.stringify(this.dbObject.data))):($("#canvas svg")&&$("#canvas svg").remove(),$("#canvas-svg").empty(),javascript="function drawD3Document(data, config) {"+CD.dbObject.javascript+"}",eval(javascript),drawD3Document(CD.dbObject.data,CD.config))}catch(t){console.log(t),console.log(t.stack)}else{var javascript="(function (data, config) { \r\n\r\n"+CD.dbObject.javascript+"\r\n})( CD.dbObject.data, CD.config );";try{eval(javascript)}catch(t){console.log(t),console.log(t.stack)}}}CD.dbObject.data=dataCopy,this.runningShow=!1;var responsiveRetry=0;-1!==Router.current().originalUrl.indexOf("embed")&&handleResponsive()}}}).call(this);

(function(){TemplateData=function(t,a){this.type=t,this.callback=a||null,this.data={}},TemplateData.prototype.ready=function(){this.data.stylesheet&&this.data.javascript&&this.data.dataText&&this.data.properties&&this.data.html&&this.callback(this.data)},TemplateData.prototype.getCss=function(){var t=this;$.get("/d3templates/"+this.type+".css",function(a){t.data.stylesheet=a,t.ready()})},TemplateData.prototype.getJs=function(){var t=this;$.ajax({url:"/d3templates/"+this.type+".js",type:"GET",dataType:"text",success:function(a){t.data.javascript=a,t.ready()},error:function(t){console.log(t)}})},TemplateData.prototype.getData=function(){var t=this;$.get("/d3templates/"+this.type+"_data.csv",function(a){t.data.dataText=a,t.ready()})},TemplateData.prototype.getProperties=function(){var t=this;$.ajax({url:"/d3templates/"+this.type+"_properties.json",type:"GET",dataType:"text",success:function(a){t.data.properties=a,t.ready()},error:function(t){console.log(t)}})},TemplateData.prototype.getHtml=function(){var t=this;$.get("/d3templates/template.html",function(a){t.data.html=a,t.ready()})},getTemplateData=function(t,a){var e=new TemplateData(t,a);e.getCss(),e.getJs(),e.getData(),e.getProperties(),e.getHtml()}}).call(this);

(function(){SS_SEARCH_WAITING="documentSearchWaiting",Session.set(SS_SEARCH_WAITING,!1),Template.document_search.helpers({documents:function(){var e=getParameterByName("t",Router.current().url),t=e?e.split(","):null;return getSearchDocuments({tags:t})},waitingSeachSubcritpion:function(){return Session.get(SS_SEARCH_WAITING)}}),Template.document_search.rendered=function(){var e=getParameterByName("t"),t=e?e.split(","):null;getSearchDocuments({tags:t}).count()<DOC_PER_PAGE&&documentSearch(),$(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-100&&n.autorun()});var n=new SmartTimer({length:250,callback:function(){documentSearch()}})},documentSearch=function(e){if(!handles.documentSearch||handles.documentSearch.ready()){var t,n,r,a,c;if(e&&(e.tags||e.query))t=e.tags?e.tags:null,n=e.query?e.query:null,r=e.limit?e.limit:0;else{var u=getParameterByName("t");t=u?u.split(","):null,n=u.q?u.q:null}c=(a=getSearchDocuments({tags:t}))?a.count():0,Session.set(SS_SEARCH_WAITING,!0),handles.documentSearch=Meteor.subscribe("documentSearch",{tags:t,query:n,limit:r,currentCount:c},function(){Session.set(SS_SEARCH_WAITING,!1)})}}}).call(this);

(function(){function e(e){var t=$(e.currentTarget),r=t.attr("data-var-name"),n=CD.getProp(r),a=n.type===PROP_TYPE_NUMBER?+t.val():t.val();n.type===PROP_TYPE_NUMBER&&isNaN(a)?message.add("Invalid number input, please use numeric values only",{type:"danger",timer:5}):(n.type===PROP_TYPE_NUMBER?CD.config[r]=+a:n.type!==PROP_TYPE_BOOLEAN&&(CD.config[r]=a),CD.show(!1))}var t=new ReactiveVar(!0);Template.properties_show.helpers({document:function(){return CD.now()},open:function(){return t.get()}}),Template.properties_show.events({"click .data-column":function(e){var t=$(e.currentTarget).closest("ul").data("var-name"),r=$(e.currentTarget).data("column")+"";CD.config[t]=r,$(e.currentTarget).closest(".btn-group").find("a.dropdown-toggle").html(r.toTitleCase()+'<span class="caret"></span>'),CD.show(!1)},"blur .text-prop":function(t){e(t)},"keypress .text-prop":function(t){13===t.which&&(e(t),$(this).blur())},"change .color-picker":function(e){var t=$(e.currentTarget).attr("data-var-name"),r=$(e.currentTarget).val();CD.config[t]=r,CD.show(!1)},"change .boolean-prop":function(e){var t=$(e.currentTarget).attr("data-var-name"),r=$(e.currentTarget).prop("checked");CD.config[t]=r,CD.show(!1)},"blur .list-prop":function(e){var t=$(e.currentTarget).attr("data-var-name"),r=$(e.currentTarget).val();CD.config[t]=r,CD.show(!1)},"click #minimize-prop":function(){t.set(!t.get()),t.get()&&initProperties()}}),Template.properties_show.rendered=function(){initProperties()},initProperties=function(){loopColorPicker()}}).call(this);

(function(){Template.document_show.helpers({starred:function(){return!!Stars.findOne({docId:CD.dbObject._id,userId:Meteor.userId()})},relatedDocuments:function(e){return getRelatedDocuments()},moreRelatedUrl:function(){if(CD.dbObject&&CD.dbObject.tags){var e=_.pluck(CD.dbObject.tags,"name");return"/documents/search?t="+encodeURIComponent(e.join())}},hasReadme:function(){return CD.dbObject.readme&&"\x3c!-- Markdown Documentation !--\x3e"!=CD.dbObject.readme}}),Template.document_show.events({"click .btn-clone":function(e,t){return cloneDocument(CD.dbObject._id,!0),e.preventDefault(),!1},"click .btn-star":function(e,t){return Meteor.userId()?Meteor.call("starDocument",$(e.currentTarget).data("docid")):message.add("Please sign in first."),e.preventDefault(),!1},"click .btn-social":function(e){window.open($(e.currentTarget).data("url"),"facebook_share","height=320, width=640, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, directories=no, status=no")}}),Template.disqus.rendered=function(){var e=document.createElement("script");e.src="/disqus.js",e.type="text/javascript",$("#my-disqus").prepend(e)}}).call(this);

(function(){SS_DOCUMENT_STATS_READY="documentStatsReady",Session.setDefault(SS_DOCUMENT_STATS_READY,null),handles.documentStats=null,Template.document_stats.helpers({viewCounter:function(){return CD.dbObject.counter},cloneCounter:function(){if(CD.stats())return CD.stats().cloneCounter},starCounter:function(){if(CD.stats())return CD.stats().starCounter},documentStatsReady:function(){return Session.get(SS_DOCUMENT_STATS_READY)}}),Template.document_stats.rendered=function(){Session.set(SS_DOCUMENT_STATS_READY,!1),Meteor.call("getDocumentStats",CD.dbObject._id,function(t,e){t||CD.stats(e),Session.set(SS_DOCUMENT_STATS_READY,!0)})}}).call(this);

(function(){ws={},WORKSPACE_COOKIE="workspace_config",workspaceCookie={canvasOnLeft:!0,canvas:!0,editor:!0,preCanvas:!0,preEditor:!0},ws.update=function(){if(ws.on()){var o=$("#document-canvas"),e=$("#document-editors");o.removeClass("col-md-6 col-md-12 span-offset").hide(),e.removeClass("col-md-6 col-md-12 span-offset").hide(),workspaceCookie.canvas&&workspaceCookie.editor?(o.addClass("col-md-6").show(),e.addClass("col-md-6").show()):workspaceCookie.canvas?o.addClass("col-md-12 span-offset").show():e.addClass("col-md-12 span-offset").show()}},ws.show=function(o){if(_.contains(["canvas","editor","both"],o)){switch(workspaceCookie.preCanvas=workspaceCookie.canvas,workspaceCookie.preEditor=workspaceCookie.editor,o){case"canvas":ET.Documents.btnShowCanvas(),workspaceCookie.canvas=!0,workspaceCookie.editor=!1;break;case"editor":ET.Documents.btnShowEditor(),workspaceCookie.canvas=!1,workspaceCookie.editor=!0;break;case"both":ET.Documents.btnShowBoth(),workspaceCookie.canvas=!0,workspaceCookie.editor=!0;break}$.cookie(WORKSPACE_COOKIE,workspaceCookie),ws.config.reload(),ws.update()}},ws.toggle=function(){workspaceCookie.canvas&&!workspaceCookie.editor?ws.show("editor"):!workspaceCookie.canvas&&workspaceCookie.editor?ws.show("canvas"):ws.show("editor")},ws.canvasOnly=function(){workspaceCookie.canvas&&!workspaceCookie.editor?workspaceCookie.preEditor&&workspaceCookie.preCanvas?ws.show("both"):workspaceCookie.preEditor&&ws.show("editor"):ws.show("canvas")},ws.on=function(){var o=window.location.pathname;return o&&-1!==o.indexOf("/documents")&&CD.isReady()&&canEditDocument(CD.dbObject._id,Meteor.userId())},setEditorTab=function(o){workspaceCookie.tab=o,Session.set(SS_ACTIVE_TAB,o),$.cookie("workspace_config",workspaceCookie),CD.returnEditorFocus()}}).call(this);

(function(){ws.canvas={}}).call(this);

(function(){ws.config={},ws.config.init=function(){$.cookie.json=!0;var o=$.cookie(WORKSPACE_COOKIE);o&&(o.canvas||o.editor||o.tab)?workspaceCookie=o:$.cookie(WORKSPACE_COOKIE,workspaceCookie,{expires:7}),ws.config.reload()},ws.config.reload=function(){Session.set(SS_CANVAS_POS,workspaceCookie.canvasOnLeft),Session.set(SS_CANVAS_ON,workspaceCookie.canvas),Session.set(SS_EDITOR_ON,workspaceCookie.editor)},ws.config.init()}).call(this);

(function(){ws.doc={},ws.doc.saveDemo=function(){Meteor.user()?(Documents.update(CD.dbObject._id,{$set:{owner:Meteor.userId()}},function(){message.add("Document saved!",{type:"info",timer:1}),CD.dbObject.owner=Meteor.userId()}),loadAceEditors()):message.add("Please sign in to keep.",{timer:3,type:"info"})}}).call(this);

(function(){ws.editor={},ws.editor.swap=function(){workspaceCookie.canvasOnLeft=!workspaceCookie.canvasOnLeft,$.cookie(WORKSPACE_COOKIE,workspaceCookie),ws.config.reload()}}).call(this);

(function(){GistLoader=function(){},GistLoader.prototype=new Loader("gist"),GistLoader.prototype.load=function(t){var o=this;this.request(t,{callback:function(t,o){}})},GistLoader.prototype.clean=function(){this.reset()},GistLoader.prototype.show=function(t){var o=this;Meteor.call("getGist",t,function(t,i){t?o.isValid(!1):o.isValid(!0)})},GIST=new GistLoader}).call(this);

(function(){attachGistIFrame=function(){var e=$('<iframe src="'+window.location.href+'/index.html" seamless frameBorder="0"></iframe>');$("#iframe-viewer").html(e),$("#iframe-viewer iframe").load(function(){$("#iframe-viewer iframe").attr("width",$("#iframe-viewer iframe").contents().width()),$("#iframe-viewer iframe").attr("height",$("#iframe-viewer iframe").contents().height()),GIST.inEditMode()&&$("#iframe-viewer").addClass("gist-edit-iframe")})}}).call(this);

(function(){Template.my_gcharts.helpers({charts:function(){var t=ucSortByAlphabet()?{"options.title":1}:{opened:-1};return Charts.find({owner:Meteor.userId()},{sort:t})}})}).call(this);

(function(){Session.setDefault(SS_SELECTED_DATASETS,[]),Template.my_dataset_entry.helpers({chartThumbnail:function(){var e=Charts.findOne({datasetId:this._id});if(e&&e.thumbnail)return e.thumbnail},isSafeModeOn:function(){return Datasets.findOne(this._id).safeMode},isChecked:function(){return!!Session.get(SS_DATASET_SELECT+this._id)&&"checked"}}),Template.my_dataset_entry.events({"click .fa.fa-bug":function(e){var t=Datasets.findOne(this._id);return t.safeMode?t.safeMode=!1:t.safeMode=!0,Datasets.update(this._id,{$set:{safeMode:t.safeMode}}),$("div.tooltip").remove(),e.preventDefault(),!1},"click .dataset-select":function(e){var t=Session.get(SS_DATASET_SELECT+this._id),s=Session.get(SS_SELECTED_DATASETS);return t?(Session.set(SS_DATASET_SELECT+this._id,!1),Session.set(SS_SELECTED_DATASETS,_.without(s,this._id))):(Session.set(SS_DATASET_SELECT+this._id,!0),s.push(this._id),Session.set(SS_SELECTED_DATASETS,s)),!1}})}).call(this);

(function(){Template.my_datasets.helpers({datasets:function(){var e=ucSortByAlphabet()?{name:1}:{opened:-1};return Datasets.find({owner:Meteor.userId()},{sort:e})},selectedDatasetCount:function(){return Session.get(SS_SELECTED_DATASETS).length}}),Template.my_datasets.events({"click .new-dataset":function(e){if(withinSubscriptionLimit(getUserDatasets(Meteor.userId()).count())){var t=createDataset();return Router.go("datasets",{_id:t}),e.preventDefault(),!1}},"click .btn-trash":function(e){return bootbox.confirm("You cannot undo this. Are you sure?",function(e){if(e){var t=Session.get(SS_SELECTED_DATASETS);_.each(t,function(e){Session.set(SS_DATASET_SELECT+e,!1),Datasets.remove(e)}),Session.set(SS_SELECTED_DATASETS,[])}}),!1},"click .btn-deselect":function(e){var t=Session.get(SS_SELECTED_DATASETS);return _.each(t,function(e){Session.set(SS_DATASET_SELECT+e,!1)}),Session.set(SS_SELECTED_DATASETS,[]),!1}})}).call(this);

(function(){Template.gcharts_new.events({"click .new-chart":function(t){if(withinSubscriptionLimit(getUserCharts(Meteor.userId()).count()))return Meteor.call("createNewChart",$("a",t.currentTarget).data("type"),function(t,e){Router.go("charts",{_id:e})}),t.preventDefault(),!1}})}).call(this);

(function(){}).call(this);

(function(){Template.my_dashboards.helpers({dashboards:function(){var e=ucSortByAlphabet()?{"options.title":1}:{opened:-1};return Dashboards.find({owner:Meteor.userId()},{sort:e})},has_paid_plan:function(){return hasPaidPlan()}}),Template.my_dashboards.events({"click .new-dashboard":function(e){if(withinSubscriptionLimit(getUserDashboards(Meteor.userId()).count(),1)){var a=createDashboard();return Router.go("dashboard.edit",{_id:a}),e.preventDefault(),!1}},"click .import-dashboard":function(e){return $("#modalVidaDashboardFile").modal("show"),e.preventDefault(),!1},"change #import-dashboard-file-upload":function(e){_.each(e.target.files,function(e){var a=new FileReader;a.readAsText(e,"UTF-8"),a.onload=function(e){var a=getUploadFile(e),d=JSON.parse(a);bootbox.confirm("Import dashboard will also update related document and dataset. Do you want to proceed?",function(e){if(e){for(var a in d.docJson){var t=d.docJson[a]._id;Documents.findOne({_id:t})?(delete d.docJson[a]._id,Documents.update({_id:t},{$set:d.docJson[a]})):(d.docJson[a].owner=Meteor.userId(),Documents.insert(d.docJson[a]))}for(var o in d.datasetJson){var s=d.datasetJson[o]._id;Datasets.findOne({_id:s})?(delete d.datasetJson[o]._id,Datasets.update({_id:s},{$set:d.datasetJson[o]})):(d.datasetJson[o].owner=Meteor.userId(),Datasets.insert(d.datasetJson[o]))}delete d.docJson,delete d.datasetJson;var r=d._id;Dashboards.findOne(d._id)?(delete d._id,Dashboards.update({_id:d._id},{$set:d})):(d.created=Math.round((new Date).getTime()/1e3),d.owner=Meteor.userId(),Dashboards.insert(d)),$("#modalVidaDashboardFile").modal("hide"),Router.go("dashboard.edit",{_id:r})}})}}),$("#import-dashboard-file-upload").val("")}}),Template.my_shared_dashboards.helpers({sharedDashboards:function(){return getSharedDashboards(Meteor.userId())}})}).call(this);

(function(){Session.setDefault(SS_SELECTED_DOCS,[]),Template.privacy_icons.helpers({hasCollab:function(){return Collabs.find({docId:this._id}).count()>0}}),Template.my_document_entry.helpers({isSafeModeOn:function(){return Documents.findOne(this._id).safeMode},isChecked:function(){return!!Session.get(SS_DOC_SELECT+this._id)&&"checked"},selectedClass:function(){return Session.get(SS_DOC_SELECT+this._id)?"selected":""}}),Template.my_document_entry.events({"click .fa.fa-bug":function(e){var s=Documents.findOne(this._id);return s.safeMode?s.safeMode=!1:s.safeMode=!0,Documents.update(this._id,{$set:{safeMode:s.safeMode}}),$("div.tooltip").remove(),e.preventDefault(),!1},"click .doc-select":function(e){var s=Session.get(SS_DOC_SELECT+this._id),t=Session.get(SS_SELECTED_DOCS);return s?(Session.set(SS_DOC_SELECT+this._id,!1),Session.set(SS_SELECTED_DOCS,_.without(t,this._id))):(Session.set(SS_DOC_SELECT+this._id,!0),t.push(this._id),Session.set(SS_SELECTED_DOCS,t)),!1}})}).call(this);

(function(){Template.my_documents.helpers({documents:function(){var e=ucSortByAlphabet()?{name:1}:{opened:-1};return Documents.find({owner:Meteor.userId()},{sort:e})},selectedDocCount:function(){return Session.get(SS_SELECTED_DOCS).length}}),importFileToDoc=function(e){_.each(e.target.files,function(e){var t=new FileReader;t.readAsText(e,"UTF-8"),t.onload=function(e){var t=getUploadFile(e),o=JSON.parse(t);if(o.name&&o.javascript&&o.html&&o.stylesheet)var n=importDocFromJSON(o,function(e){e&&($("#modalVidaDocFile").modal("hide"),Router.go("document.edit",{_id:e}))});else message.add("File format is not valid. Please select a document exported from Vida.",{type:"danger"})}}),$("#import-file-upload").val("")},Template.my_documents.events({"click .btn-trash":function(e){return bootbox.confirm("You cannot undo this. Are you sure?",function(e){if(e){var t=Session.get(SS_SELECTED_DOCS);_.each(t,function(e){Session.set(SS_DOC_SELECT+e,!1),Documents.remove(e)}),Session.set(SS_SELECTED_DOCS,[])}}),!1},"click .btn-deselect":function(e){var t=Session.get(SS_SELECTED_DOCS);return _.each(t,function(e){Session.set(SS_DOC_SELECT+e,!1)}),Session.set(SS_SELECTED_DOCS,[]),!1},"click .import-doc":function(e){return $("#modalVidaDocFile").modal("show"),!1},"change #import-file-upload":function(e){importFileToDoc(e)}}),Template.my_shared_documents.helpers({sharedDocuments:function(){return getSharedDocuments(Meteor.userId())}}),Template.my_starred_documents.helpers({starredDocuments:function(){return getStarredDocuments(Meteor.userId())}})}).call(this);

(function(){var t=new ReactiveVar,e=new ReactiveVar,a=new ReactiveVar(!1);Template.documents_new.helpers({myTemplates:function(){return Documents.find({owner:Meteor.userId(),mode:"template",noClone:{$ne:!0}})}}),Template.github_url_import_modal.helpers({gitImportErrorMessage:function(){return t.get()},isImporting:function(){return a.get()}}),Template.vida_import_modal.helpers({vidaImportErrorMessage:function(){return e.get()},isImporting:function(){return a.get()}}),Template.documents_new.events({"click .new-vida-document":function(t,o){var n=$("a",t.currentTarget).data("doc-id");a.set(!0),Meteor.call("importVidaDocument",n,function(t,o){t?e.set(t.message):Router.go("document.edit",{_id:o}),a.set(!1)})},"click .btn-git-import":function(e,o){var n=$("#url-data-input").val();if(""===n)t.set("Please enter a GitHub URL");else{a.set(!0);var i="client_id=2f1cced97feae9643725&client_secret=07cc7d041cb88b76f88c6b535c34cb117dd7d9f6",r=n.substring("https://github.com/".length),c="https://api.github.com/repos/"+r+"/contents?"+i;$.get(c,function(e){for(var o,c,s,d,u=0;u<e.length;u++)switch(e[u].name){case"manifest.json":o=e[u].url+"&"+i;break}var l="";o||(l="Missing manifest.json in repository"),l&&(t.set(l),a.set(!1)),$.ajax({async:!1,url:o,dataType:"jsonp",success:function(t){var e=t.data.content,o=JSON.parse(atob(e)),u=o.properties;javascriptFile=o.javascript[0],c="https://api.github.com/repos/"+r+"/contents/"+javascriptFile+"?"+i,cssFile=o.stylesheet[0],s="https://api.github.com/repos/"+r+"/contents/"+cssFile+"?"+i,htmlFile=o.html[0],d="https://api.github.com/repos/"+r+"/contents/"+htmlFile+"?"+i,dataFile=o.data[0],dataUrl="https://api.github.com/repos/"+r+"/contents/"+dataFile+"?"+i,$.ajax({url:c,dataType:"jsonp",success:function(t){var e=t.data.content,o=atob(e);$.ajax({url:s,dataType:"jsonp",success:function(t){var e=t.data.content,i=atob(e);$.ajax({url:d,dataType:"jsonp",success:function(t){var e=t.data.content,r=atob(e);$.ajax({url:dataUrl,dataType:"jsonp",success:function(t){var e=t.data.content,c=atob(e),s=createDocument({type:"import_github",html:r,stylesheet:i,javascript:o,dataText:c,properties:u,github_url:n});a.set(!1),$("#modalGitHubUrlImport").modal("hide"),Router.go("document.edit",{_id:s})}})}})}})}})}})})}return!1},"click .btn-vida-import":function(t,o){var n=$("#doc-id-input").val();if(-1!==n.indexOf("/documents")){var i=n.indexOf("/documents")+11;docId=n.substring(i,i+17)}else docId=n;return mongoIdRx.test(docId)?(a.set(!0),Meteor.call("importVidaDocument",docId,function(t,o){t?e.set(t.message):(Router.go("document.edit",{_id:o}),message.add("Import completed!"),$("#modalVidaImport").modal("hide")),a.set(!1)})):e.set("Invalid document id, please try again."),!1},"change #import-file-upload":function(t){importFileToDoc(t)},"click .new-document":function(t){if(withinSubscriptionLimit(getUserDocuments(Meteor.userId()).count())){var e=$("a",t.currentTarget).data("type");return"import_github"===e?$("#modalGitHubUrlImport").modal("show"):"import_vida"===e?$("#modalVidaImport").modal("show"):"import_file"===e?$("#modalVidaDocFile").modal("show"):getTemplateData(e,function(t){Meteor.call("createNewDocument",e,t.html,t.stylesheet,t.javascript,t.dataText,JSON.parse(t.properties),function(t,e){Router.go("document.edit",{_id:e})})}),!1}},"click .btn-clone":function(t,e){return cloneDocument(this._id,!0),t.preventDefault(),!1}})}).call(this);

(function(){Template.sort_filters.helpers({sortType:function(t){return"alphabet"===t?ucSortByAlphabet():"recent"===t?ucSortByRecent():void 0}}),Template.sort_filters.events({"click .btn-sort":function(t){var e=$(t.currentTarget).data("sort");"alphabet"===e?ucSetSortByAlphabet():"recent"===e&&ucSetSortByRecent()}})}).call(this);

(function(){Template.gists.helpers({gists:function(){var t=ucSortByAlphabet()?{"options.title":1}:{opened:-1};return Gists.find({owner:Meteor.userId()},{sort:t})}}),Template.gists.events({"click .new-gist":function(t){withinSubscriptionLimit(getUserGists(Meteor.userId()).count())&&($("#gist-import-error").hide(),$("#modalGistUrlImport").modal("show"))},"click .btn-gist-import":function(t){ET.Gists.btnGistImport();var r=$("#url-data-input").val().split("/"),i=r[r.length-1];return i&&""!==i?($("#gist-import-error").hide(),$(".btn-close,.btn-gist-import,.btn-import-loading").toggle(),Meteor.call("createGist",i,function(t,r){t?($(".btn-close,.btn-gist-import,.btn-import-loading").toggle(),404===t.error?($("#gist-import-error").html("Not Found. Please enter valid Gist URL"),$("#gist-import-error").show()):($("#gist-import-error").html("Server error. Please check your Gist URL again."),$("#gist-import-error").show())):(Router.go("/gists/"+r),$(".btn-close,.btn-gist-import,.btn-import-loading").toggle(),$("#modalGistUrlImport").modal("hide"))})):($("#gist-import-error").html("Please enter valid Gist URL"),$("#gist-import-error").show()),t.preventDefault(),!1}})}).call(this);

(function(){Template.landing_page_enterprise.helpers({organization:function(){if(Meteor.settings&&Meteor.settings.public.organization)return Meteor.settings.public.organization}})}).call(this);

(function(){function t(t){e.set(t),setTimeout(function(){e.set(null)},5e3)}function n(t){i.set(t),setTimeout(function(){i.set(null)},5e3)}var e=new ReactiveVar,i=new ReactiveVar;Template.login_form_enterprise.helpers({errorMessage:function(){return e.get()},okMessage:function(){return i.get()},loginWithEmail:function(){return!(!Meteor.settings||!Meteor.settings.public.loginWithEmail)},loginWithOAuth:function(){return!(!Meteor.settings||!Meteor.settings.public.loginWithOAuth)},configured:function(){return Accounts.loginServiceConfiguration.findOne({service:"smartsheet"})}}),Template.login_form_enterprise.events({"click .lw-options a":function(t){return $(".lw-options a").show(),$(".lw-actions button").hide(),$(t.currentTarget).hasClass("forgot")?$("#account-pw").hide():$("#account-pw").show(),$(t.currentTarget).hide(),$(".lw-actions ."+$(t.currentTarget).data("btn")).show(),t.preventDefault(),!1},"blur #account-id":function(t){},"click .btn-login":function(){var n=$("#account-id").val(),e=$("#account-pw").val();isOrganization("KPMG UK")?Meteor.loginWithLdap(n,e,function(n){n&&t(n.message)}):Meteor.loginWithPassword(n,e,function(n){n&&t(n.message)})},"click .btn-create":function(){var n=$("#account-id").val(),e=$("#account-pw").val(),i=Meteor.settings.public.domain||null;entAccountPasswordOk(e)?Accounts.createUser({email:n,password:e},function(n){n&&t(n.message)}):t("Invalid password! <br>Must have at least 6 chars, 1 letter, 1 number")},"click .btn-forgot":function(){var e=$("#account-id").val();Accounts.forgotPassword({email:e},function(e){e?t(e.message):(n("A reset password email was sent."),$(".lw-options a")[0].click())})},"click #login-smartsheet":function(t){return Meteor.loginWithSmartsheet(),t.preventDefault(),!1},"click #btn-configure":function(){Accounts._loginButtonsSession.configureService("smartsheet")},"keydown input":function(t){13===t.which&&("none"!==$(".btn-create").css("display")&&$(".btn-create").click(),"none"!==$(".btn-login").css("display")&&$(".btn-login").click())}}),Template.login_form_enterprise.rendered=function(){$("#account-id").focus(),isOrganization("KPMG UK")&&$(".lw-options").hide(),Meteor.settings&&Meteor.settings.public.local&&($("#account-id").val("local@vida.io"),$("#account-pw").val("localv1da"),$(".btn-login").click())}}).call(this);

(function(){function t(t){n.set(t),setTimeout(function(){n.set(null)},5e3)}function e(t){i.set(t),setTimeout(function(){i.set(null)},5e3)}var n=new ReactiveVar,i=new ReactiveVar;Template.landing_page_smartsheet.helpers({organization:function(){if(Meteor.settings&&Meteor.settings.public.organization)return Meteor.settings.public.organization},errorMessage:function(){return n.get()},okMessage:function(){return i.get()},loginWithEmail:function(){return!1},loginWithOAuth:function(){return!1},smartsheetConfigured:function(){return Accounts.loginServiceConfiguration.findOne({service:"smartsheet"})}}),Template.landing_page_smartsheet.events({"click .lw-options a":function(t){return $(".lw-options a").show(),$(".lw-actions button").hide(),$(t.currentTarget).hasClass("forgot")?$("#account-pw").hide():$("#account-pw").show(),$(t.currentTarget).hide(),$(".lw-actions ."+$(t.currentTarget).data("btn")).show(),t.preventDefault(),!1},"blur #account-id":function(t){var e=$(t.currentTarget).val(),n="@"+Meteor.settings.public.domain;e.length>0&&-1===e.indexOf("@")&&$(t.currentTarget).val(e+n)},"click .btn-login":function(){var e=$("#account-id").val(),n=$("#account-pw").val();Meteor.loginWithPassword(e,n,function(e){e&&t(e.message)})},"click .btn-create":function(){var e=$("#account-id").val(),n=$("#account-pw").val(),i=Meteor.settings.public.domain||null;entAccountPasswordOk(n)?Accounts.createUser({email:e,password:n},function(e){e&&t(e.message)}):t("Invalid password! <br>Must have at least 6 chars, 1 letter, 1 number")},"click .btn-forgot":function(){var n=$("#account-id").val();Accounts.forgotPassword({email:n},function(n){n?t(n.message):(e("A reset password email was sent."),$(".lw-options a")[0].click())})},"click #login-smartsheet":function(t){return Meteor.loginWithSmartsheet(),t.preventDefault(),!1},"click #btn-configure":function(){Accounts._loginButtonsSession.configureService("smartsheet")}}),Template.landing_page_smartsheet.rendered=function(){$("#account-id").focus()}}).call(this);

(function(){Template.landing_page.helpers({documents:function(){return Documents.find({_id:{$in:FEATURING_DOCUMENTS}})}}),Template.landing_page.events({"click .home-demo":function(e){var t=createDocument({type:DEMO_DOC.type,name:DEMO_DOC.name,description:DEMO_DOC.description,html:DEMO_DOC.html,stylesheet:DEMO_DOC.stylesheet,javascript:DEMO_DOC.javascript,dataText:DEMO_DOC.dataText,resources:DEMO_DOC.resources,properties:DEMO_DOC.properties});return Router.go("document.edit",{_id:t}),Meteor.userId()||message.add("Please sign in to save this document",{type:"danger",timer:5}),e.preventDefault(),!1},"click .btn-google-signin":function(e){return Meteor.loginWithGoogle(),e.preventDefault(),!1},"click .btn-facebook-signin":function(e){return Meteor.loginWithFacebook(),e.preventDefault(),!1},"click .new-chart":function(e){var t=createChart($("a",e.currentTarget).data("type"));return Router.go("charts",{_id:t}),Meteor.userId()||message.add("Please sign in to save this document",{type:"danger",timer:5}),e.preventDefault(),!1}}),Template.landing_page.rendered=function(){resetHome()}}).call(this);

(function(){Template.landing_page_header.rendered=function(){}}).call(this);

(function(){Session.set(SS_MORE_USER_INFO_OK,!1),Template.profile_more_info.helpers({continueOk:function(){return Session.get(SS_MORE_USER_INFO_OK)}}),Template.profile_more_info.events({"change #user-occupation, change #found-source":function(e){$("#user-occupation").val()&&$("#found-source").val()?Session.set(SS_MORE_USER_INFO_OK,!0):Session.set(SS_MORE_USER_INFO_OK,!1)},"click .btn-save":function(e){Meteor.users.update(Meteor.userId(),{$set:{more:{occupation:$("#user-occupation").val(),foundSource:$("#found-source").val(),phone:$("#phone-number").val(),contactRequest:$("#contact-request").prop("checked")}}}),$("#modalMoreInfo").modal("hide")}})}).call(this);

(function(){var e="uploadingProfileImage",t="uploadingCreatedbyImage";Template.profile.helpers({name:function(){return getUserFullName(Meteor.user())},username:function(){var e=Meteor.user();return e.username?e.username:""},email:function(){return getUserEmail(Meteor.user())},emailAccount:function(){var e=Meteor.user();return e&&e.emails&&e.emails[0].address},pictureURL:function(){return getUserPictureURL()},publicURL:function(){var e=Meteor.user();if(e.username)return'public profile at <strong><a href="/'+e.username+'">vida.io/'+e.username+"</strong></a>"},gaCode:function(){var e=Meteor.user();if(e.gaCode)return e.gaCode},signatureImageUrl:function(){var e=Meteor.user();if(e.createdbyImage)return getFileURL(e.createdbyImage)},plan:function(){return Meteor.user().plan?Meteor.user().plan.toUpperCase():PLAN_FREE.toUpperCase()},planLabel:function(){var e=null;return e="label-"+Meteor.user().plan},editingName:function(){return Session.get(SS_EDIT_PROFILE_NAME)},editingUsername:function(){return Session.get(SS_EDIT_PROFILE_USERNAME)},editingEmail:function(){return Session.get(SS_EDIT_PROFILE_EMAIL)},editingCreatedbyURL:function(){return Session.get(SS_EDIT_CREATEDBY_URL)},subscribed:function(){return!!_.contains(PAID_PLANS,Meteor.user().plan)&&(Meteor.call("getSubscription",function(e,t){Session.set(SS_STRIPE_CUSTOMER,t)}),!0)},proPlan:function(){return Meteor.user().plan==PLAN_PRO},subscriptionStart:function(){var e=Session.get(SS_STRIPE_CUSTOMER);return e&&e.subscription&&e.subscription.start?moment(new Date(1e3*e.subscription.start)).format("LLLL").toString():environment.local()?moment((new Date).getTime()).format("LLLL").toString():""},accountNeedsVerification:function(){var e=Meteor.user(),t=e.services||null;return e&&e.emails&&!e.emails[0].verified},uploadingProfileImage:function(){return!0===Session.get("uploadingProfileImage")},uploadingCreatedbyImage:function(){return!0===Session.get("uploadingCreatedbyImage")},editingGACode:function(){return Session.get(SS_EDIT_GA_CODE)}}),Template.profile.events({"click .ga-code":function(e,t){return Session.set(SS_EDIT_GA_CODE,!0),Deps.flush(),activateInput(t.find("#ga-code-input")),!1},"click .profile-name":function(e,t){return Session.set(SS_EDIT_PROFILE_NAME,!0),Deps.flush(),activateInput(t.find("#profile-name-input")),!1},"click .profile-username":function(e,t){return Session.set(SS_EDIT_PROFILE_USERNAME,!0),Deps.flush(),activateInput(t.find("#profile-username-input")),!1},"click .profile-email":function(e,t){return Session.set(SS_EDIT_PROFILE_EMAIL,!0),Deps.flush(),activateInput(t.find("#profile-email-input")),!1},"click .createdby-url":function(e,t){return Session.set(SS_EDIT_CREATEDBY_URL,!0),Deps.flush(),activateInput(t.find("#createdby-url-input")),!1},"click #cancel-subscription":function(e,t){bootbox.confirm("You are cancelling your subscription. Are you sure?",function(e){e&&Meteor.call("removeSubscription",function(e,t){t&&(Session.set(SS_STRIPE_CUSTOMER,null),message.add('Subscription removed, <i class="fa fa-frown-o"/>! <br/>Please let us know how we can improve.'))})})},"click .send-verification":function(e){return Meteor.call("sendVerificationEmail"),message.add("A verification email was sent to '"+getUserEmail(Meteor.user())+"'"),e.preventDefault(),!1},"click #profile-img-upload":function(e){$(e.currentTarget).val("")},"change #profile-img-upload":function(e){var t=e.target.files[0];if(t&&t.size<1e6){var n="/images/user-"+Meteor.userId()+"-"+t.name;Session.set("uploadingProfileImage",!0),saveBinFileToS3(t,n,function(){Meteor.users.update(Meteor.userId(),{$set:{picture:n}}),Session.set("uploadingProfileImage",!1);var e=$(".profile-picture img");e.attr("src",e.attr("src")+"?t="+(new Date).getTime())})}else message.add("Please keep your image size < 1MB",{type:"danger"})},"click #remove-profile-img":function(e){var t=Meteor.user();return t&&t.picture&&Meteor.call("removeAWSFile",t.picture,function(e){e||Meteor.users.update(t._id,{$unset:{picture:null}})}),e.preventDefault,!1},"click #createdby-img-upload":function(e){$(e.currentTarget).val("")},"change #createdby-img-upload":function(e){var t=e.target.files[0];if(t&&t.size<262144){var n="/images/user-"+Meteor.userId()+"-createdby-"+t.name;Session.set("uploadingCreatedbyImage",!0),saveBinFileToS3(t,n,function(){Meteor.users.update(Meteor.userId(),{$set:{createdbyImage:n}}),Session.set("uploadingCreatedbyImage",!1);var e=$("img.createdby");e.attr("src",e.attr("src")+"?t="+(new Date).getTime())})}else message.add("Please keep your image size < 256KB",{type:"danger"})},"click #remove-createdby-img":function(e){var t=Meteor.user();return t&&t.createdbyImage&&Meteor.call("removeAWSFile",t.createdbyImage,function(e){e||Meteor.users.update(t._id,{$unset:{createdbyImage:null}})}),e.preventDefault,!1}}),Template.profile.rendered=function(){$(".editable").on("hover",function(){$(this).append('<i class="fa fa-edit pull-right" style="padding: 10px; font-size: 12px;"></i>')}),$(".editable").on("mouseout",function(){$("i",this).remove()})},Template.profile.events(okCancelEvents("#profile-name-input",{ok:function(e,t){var n=Meteor.user();(n.profile&&n.profile.name!==e||void 0===n.profile)&&Meteor.call("updateProfileName",e,function(e,t){e?message.add(e.reason,{type:"danger"}):message.add("Name updated")}),Session.set(SS_EDIT_PROFILE_NAME,null)},cancel:function(){var e=Meteor.user(),t=e.profile&&e.profile.name?e.profile.name:"";$("#profile-name-input").val(t).blur(),Session.set(SS_EDIT_PROFILE_NAME,null)}})),Template.profile.events(okCancelEvents("#profile-username-input",{ok:function(e,t){var n=Meteor.user();n.username===e&&void 0!==n.username||Meteor.call("updateProfileUsername",e,function(e){e?500==e.error?message.add("Username taken, please try again!",{type:"danger"}):message.add(e.reason,{type:"danger"}):message.add("Username updated")}),Session.set(SS_EDIT_PROFILE_USERNAME,null)},cancel:function(){var e=Meteor.user(),t=e.username?e.username:"";$("#profile-username-input").val(t).blur(),Session.set(SS_EDIT_PROFILE_USERNAME,null)}})),Template.profile.events(okCancelEvents("#profile-email-input",{ok:function(e,t){var n=Meteor.user();n.emails&&n.emails.length>0&&n.emails[0].address&&n.emails[0].address!==e&&Meteor.call("updateProfileEmail",e,function(e,t){e?message.add(e.reason,{type:"danger"}):message.add("Email updated")}),Session.set(SS_EDIT_PROFILE_EMAIL,null)},cancel:function(){var e=Meteor.user(),t=getUserEmail(Meteor.user());$("#profile-email-input").val(t).blur(),Session.set(SS_EDIT_PROFILE_EMAIL,null)}})),Template.profile.events(okCancelEvents("#createdby-url-input",{ok:function(e,t){Meteor.user().createdbyURL!==e&&Meteor.call("updateCreatedbyURL",e,function(e){e?message.add("Invalid URL entered",{type:"danger"}):message.add("Created-by URL updated")}),Session.set(SS_EDIT_CREATEDBY_URL,null)},cancel:function(){var e=Meteor.user(),t=e.createdbyURL?e.createdbyURL:"";$("#pcreatedby-url-input").val(t).blur(),Session.set(SS_EDIT_CREATEDBY_URL,null)}})),Template.profile.events(okCancelEvents("#ga-code-input",{ok:function(e,t){Meteor.user().gaCode!==e&&Meteor.call("updateGACode",e,function(e){e?message.add("Invalid Google Analytics code entered",{type:"danger"}):message.add("Google Analytics code updated")}),Session.set(SS_EDIT_GA_CODE,null)},cancel:function(){var e=Meteor.user(),t=e.gaCode?e.gaCode:"";$("#ga-code-input").val(t).blur(),Session.set(SS_EDIT_GA_CODE,null)}}))}).call(this);

(function(){Template.sources.helpers({sources:function(){var e=ucSortByAlphabet()?{"options.title":1}:{opened:-1};return Sources.find({owner:Meteor.userId()},{sort:e})},has_paid_plan:function(){return hasPaidPlan()}}),Template.sources.events({"click .new-source":function(e){var r=createSource();return Router.go("/sources/"+r),e.preventDefault(),!1}})}).call(this);

(function(){Template.teams.helpers({teams:function(){return getUserTeams(Meteor.userId())},myTeamsReady:function(){return handles.myTeams&&handles.myTeams.ready()}}),Template.teams.events({"click .new-team":function(e){if(withinSubscriptionLimit(getUserTeams(Meteor.userId()).count(),1)){var t=createTeam(),a=createMember({userId:Meteor.userId(),teamId:t,access:ACCESS_ADMIN,accepted:!0});return Router.go("teams/:_id/edit",{_id:t}),e.preventDefault(),!1}}})}).call(this);

(function(){SourceLoader=function(){},SourceLoader.prototype=new Loader("source"),SourceLoader.prototype.load=function(o,e){var r=this;this.request(o,{callback:function(o,e){}})},SourceLoader.prototype.init=function(){},SourceLoader.prototype.clean=function(){this.reset()},SourceLoader.prototype.clearData=function(){},SRC=new SourceLoader}).call(this);

(function(){TeamLoader=function(){},TeamLoader.prototype=new Loader("team"),TeamLoader.prototype.load=function(e,n){var o=this;this.onChange=n&&n.onChange?n.onChange:null,this.request(e,{callback:function(e,n){}})},TeamLoader.prototype.init=function(){},TeamLoader.prototype.clean=function(){this.reset()},TeamLoader.inEditMode=function(){return 0===location.pathname.indexOf("/teams/edit")},TM=new TeamLoader}).call(this);

(function(){}).call(this);

(function(){Template.team_document_entry.helpers({removingDocs:function(){return Session.get(SS_REMOVING_TEAM_DOC)}}),Template.team_document_entry.events({"click .remove-doc":function(e){return toggleDocumentTeam(this._id,TM.dbObject._id),Meteor.call("createTeamNotification",{type:NTF.TEAM.NAME,teamId:TM.dbObject._id,event:NTF.TEAM.TYPES.REMOVE_DOC,docId:this._id}),e.preventDefault,!1}})}).call(this);

(function(){SS_REMOVING_TEAM_DOC="removingTeamDocs",Session.setDefault(SS_REMOVING_TEAM_DOC,!1),Template.team_edit_documents.helpers({documents:function(){return getTeamDocuments(TM.dbObject._id)},removingDocs:function(){return Session.get(SS_REMOVING_TEAM_DOC)}}),Template.team_edit_documents.events({"click .toggle-remove-doc":function(){$(".toggle-remove-doc:visible").html().indexOf("Remove")>-1?($(".remove-doc").show(),Session.set(SS_REMOVING_TEAM_DOC,!0)):($(".remove-doc").hide(),Session.set(SS_REMOVING_TEAM_DOC,!1))}})}).call(this);

(function(){Template.team_edit.helpers({needToAccept:function(){var e=Members.findOne({teamId:TM.dbObject._id,userId:Meteor.userId()});return!(!e||void 0!==e.accepted&&null!==e.accepted)}}),Template.team_edit.events({"click .btn-accept":function(e){var t=$(e.currentTarget).html().indexOf("Yes")>-1;Meteor.call("memberAcceptStatus",TM.dbObject._id,t)}})}).call(this);

(function(){Template.team_edit_header.helpers({editingName:function(){return Session.get(SS_EDIT_TEAM_NAME)},editingDescription:function(){return Session.get(SS_EDIT_TEAM_DESC)}}),Template.team_edit_header.events({"click .team-name":function(e,t){return isTeamAdmin()&&(Session.set(SS_EDIT_TEAM_NAME,!0),Deps.flush(),activateInput(t.find("#team-name-input"))),!1},"click .team-description":function(e,t){return isTeamAdmin()&&(Session.set(SS_EDIT_TEAM_DESC,!0),Deps.flush(),activateInput(t.find("#team-description-input"))),!1}}),Template.team_edit_header.rendered=function(){},Template.team_edit_header.events(okCancelEvents("#team-name-input",{ok:function(e,t){e?(Teams.update(TM.dbObject._id,{$set:{name:e}}),TM.dbObject.name=e,Session.set(SS_EDIT_TEAM_NAME,null)):message.add("Must not be empty",{type:"danger"})},cancel:function(){$("#team-name-input").val(TM.dbObject.name).blur(),Session.set(SS_EDIT_TEAM_NAME,null)}})),Template.team_edit_header.events(okCancelEvents("#team-description-input",{ok:function(e,t){Teams.update(TM.dbObject._id,{$set:{description:e}}),TM.dbObject.description=e,Session.set(SS_EDIT_TEAM_DESC,null)},cancel:function(){$("#team-description-input").val(TM.dbObject.description).blur(),Session.set(SS_EDIT_TEAM_DESC,null)}}))}).call(this);

(function(){Template.team_edit_info.helpers({teamPrivacy:function(){var e=TM.now();if(e)return e.privacy||PUBLIC},teamOwner:function(){var e=Meteor.users.findOne(TM.dbObject.ownerId);return getNameEmail(e)}}),Template.team_edit_info.events({"click .privacy-state":function(e){var t=$(e.currentTarget).text().toLowerCase().replace(/ /g,"");-1!=$.inArray(t,PRIVACY_STATES)&&(Teams.update(TM.dbObject._id,{$set:{privacy:t}}),$(".privacy-state .text").html(t.toTitleCase()+" ")),e.preventDefault()}})}).call(this);

(function(){Template.team_member_entry.helpers({itsYou:function(){return this._id===Meteor.userId()},memberName:function(){var e=Meteor.users.findOne(this._id),t=getUserFullName(e),r=this.email||getUserEmail(e);return t&&r?t+" ("+r+")":t||(r||"Unknown")},memberCreatedAt:function(){var e=this.teamId?this:Members.findOne({teamId:TM.dbObject._id,userId:this._id});if(e)return e.createdAt},currentAccess:function(){var e=this.teamId?this:Members.findOne({teamId:TM.dbObject._id,userId:this._id});if(e)return e.access.toUpperCase0()},otherAccesses:function(){var e=this.teamId?this:Members.findOne({teamId:TM.dbObject._id,userId:this._id});if(e){var t=_.without(TEAM_ACCESS_TYPES,e.access);return _.map(t,function(t){return{text:ACCESS_DISPLAY_TEXT[t],access:t,userId:e.userId}})}},acceptStatus:function(){var e=this.teamId?this:Members.findOne({teamId:TM.dbObject._id,userId:this._id});if(e){if(void 0===e.accepted||null===e.accepted)return"Waiting";if(!1===e.accepted)return"Rejected"}},waitingStatus:function(){var e=this.teamId?this:Members.findOne({teamId:TM.dbObject._id,userId:this._id});return e&&(void 0===e.accepted||null===e.accepted)}}),Template.team_member_entry.events({"click .change-access":function(e,t){var r=Members.findOne({teamId:TM.dbObject._id,userId:this.userId}),i=this.access||PUBLIC;this.userId===Meteor.userId()?message.add("Sorry, you can't change your access",{type:"danger"}):_.contains(TEAM_ACCESS_TYPES,i)&&(i===ACCESS_STANDALONE&&hasFreePlan()?message.add("Only available with subscription plans, please <a href='/pricing'>upgrade</a>!",{type:"danger"}):(Members.update(r._id,{$set:{access:i}}),Meteor.call("createTeamNotification",{type:NTF.TEAM.NAME,teamId:TM.dbObject._id,event:NTF.TEAM.TYPES.ACCESS_CHANGE,receiverId:r.userId,memberId:r.userId}))),e.preventDefault()},"click .resend-email":function(e){var t=Members.findOne({teamId:TM.dbObject._id,userId:this._id}),r=Meteor.users.findOne(this._id);return t&&r&&bootbox.confirm("You are resending an invitation email. Are you sure?",function(i){if(i){var n=$(e.currentTarget).data("email"),d="http://"+document.location.host+"/teams/"+t.teamId+"/edit";Meteor.call("sendNewMemberEmail",getUserEmail(r),d)}}),e.preventDefault(),!1},"click .remove-member":function(e){this.teamId?checkRemoveMember(TM.dbObject._id,{memberId:this._id}):checkRemoveMember(TM.dbObject._id,{userId:this._id}),e.preventDefault()}}),checkRemoveMember=function(e,t){var r,i;if(t&&t.memberId)return r=Members.findOne({_id:t.memberId}),void bootbox.confirm("Are you sure?",function(e){e&&removeMember(r._id)});if(t&&t.userId&&(i=t.userId,r=Members.findOne({teamId:TM.dbObject._id,userId:i})),isMemberRemoveOk(e,i)){var n=Documents.find({teamIds:e,owner:i});n.count()>0?bootbox.confirm("Removing a member or leaving will remove his documents from the team.<br/>Are you sure?",function(t){t&&(n.forEach(function(t){toggleDocumentTeam(t._id,e)}),removeMember(r._id))}):bootbox.confirm("Are you sure?",function(e){e&&removeMember(r._id)})}else message.add("Cannot remove the last member/admin. <br/>Please remove this team instead.",{type:"danger"})}}).call(this);

(function(){function e(){var e=$("#doc-share-emails");Meteor.call("addTeamMembers",TM.dbObject._id,e.val(),function(t,d){t?message.add(t.reason,{type:"danger"}):(d&&d.message&&message.add(d.message),e.val(""),TM.load(TM.id()))})}Template.team_edit_members.helpers({members:function(){var e=getTeamMemberIds(TM.dbObject._id);return Meteor.users.find({_id:{$in:e}})},nonexistingMembers:function(){return Members.find({userId:{$exists:!1}})},acceptedMemberCount:function(){return Members.find({teamId:TM.dbObject._id,accepted:!0}).count()}}),Template.team_edit_members.events({"keyup #doc-share-emails":function(t){13===t.keyCode&&e()},"click .add-members":function(){e()}})}).call(this);

(function(){Template.my_docs_modal.helpers({documents:function(){var e=Documents.find({$or:[{owner:Meteor.userId(),teamIds:{$exists:!1}},{owner:Meteor.userId(),teamIds:{$ne:TM.dbObject._id}}]}).map(function(e){return e._id});return _.each(e,function(t){Collabs.find({docId:t}).count()>0&&(e=_.without(e,t))}),Documents.find({_id:{$in:e}},{sort:{name:1}})}}),Template.my_docs_modal.events({"click .add-document":function(){toggleDocumentTeam(this._id,TM.dbObject._id),Meteor.call("createTeamNotification",{type:NTF.TEAM.NAME,teamId:TM.dbObject._id,event:NTF.TEAM.TYPES.NEW_DOC,docId:this._id})}})}).call(this);

(function(){Template.team_edit_notifications.helpers({}),Template.team_edit_notifications.events({})}).call(this);

(function(){Template.team_show.helpers({documents:function(){return Documents.find({teamIds:TM.id(),privacy:{$nin:[PRIVATE,UNLISTED]}},{sort:{name:1}})},members:function(){var e=Members.find({teamId:TM.dbObject._id,accepted:!0}).map(function(e){return e.userId});return Meteor.users.find({_id:{$in:e}})}}),Template.team_show.events({})}).call(this);

(function(){AdminController=RouteController.extend({layoutTemplate:"admin",onBeforeAction:function(){if(setPageTitle(this.route.name.toUpperCase0()),Vida.appInfo().isAdmin){var e=this.url.replace("/admin/","");adminTab.set(getHomeTabText(e));var t=$('.snav li a:contains("'+adminTab.get()+'")').parent();$(".snav li.active").removeClass("active"),t.length&&!t.hasClass("active")&&t.addClass("active");var r=getCollectionName(),n=null;if(r){var o=searchInputs[r].get();o?($("#search-input").val(o),n=o):($("#search-input").val(""),n=getDefaultQueries(r)),adminDataSubHandle=Meteor.subscribe("adminDataSub",r.toUpperCase0(),n)}this.next()}else this.redirect("home")}}),Router.route("admin",{controller:"AdminController",template:"record_table"}),Router.route("admin/configurations",{controller:"AdminController",template:"admin_configurations",waitOn:function(){return Meteor.subscribe("adminConfigSub")}}),Router.route("admin/permissions",{controller:"AdminController",template:"admin_permissions",waitOn:function(){return Meteor.subscribe("adminPermissionSub")}}),Router.route("admin/groups",{controller:"AdminController",template:"admin_groups",waitOn:function(){return Meteor.subscribe("adminDataSub","Groups","{},{}")}}),Router.route("admin/groups/edit/:_id",{controller:"AdminController",template:"groups_edit",onBeforeAction:function(){GP.clean(),GP.load(this.params._id),this.next()}}),Router.route("admin/:collection/:id",{controller:"AdminController",template:"admin_record"}),Router.route("admin/:collection",{controller:"AdminController",template:"record_table"})}).call(this);

(function(){DashboardController=RouteController.extend({layoutTemplate:"defaultLayout",onBeforeAction:function(){handles.dashboards=Meteor.subscribe("vidaDashboardFeed"),DBR.clean(),DBR.load(this.params._id),this.next()},onStop:function(){DBR.clean()}}),Router.route("/dashboards/search",{template:"dashboard_search",name:"dashboard.search"}),Router.route("dashboards/:_id/edit",{controller:"DashboardController",template:"dashboard_edit",name:"dashboard.edit"}),Router.route("dashboards/:_id",{controller:"DashboardController",template:"dashboard_show",name:"dashboard.show"})}).call(this);

(function(){DocumentController=RouteController.extend({layoutTemplate:"defaultLayout",onBeforeAction:function(){CD.clean(),CD.load(this.params._id),this.next()},onStop:function(){CD.clean()}}),Router.route("/documents/search",{template:"document_search",name:"document.search"}),Router.route("documents/:_id/edit",{controller:"DocumentController",template:"document_edit",name:"document.edit"}),Router.route("documents/:_id",{controller:"DocumentController",template:"document_show",name:"document.show"})}).call(this);

(function(){SS_CURRENT_HOME_PATH="currentHomePath",Session.setDefault(SS_CURRENT_HOME_PATH,"/"),HomeController=RouteController.extend({layoutTemplate:"home",onBeforeAction:function(){setPageTitle(""),$(".canvas-style").remove(),$(".document-script").remove(),Meteor.user()||Router.go("/");var e;e=(e="/"==this.url?"documents":this.url.replace("/home/","")).split("/")[0],homeTab.set(e),$(".snav li.active").removeClass("active"),$(".snav li[data-tab="+e+"]").addClass("active"),this.next()}}),Router.route("home",{path:"/",onBeforeAction:function(){isPermissionView()&&Router.go("/home/dashboard-shared"),setPageTitle(""),$(".canvas-style").remove(),$(".document-script").remove(),Meteor.user()?isEnterprise()&&Vida.appInfo().homeDocumentId?(this.layout("blankLayout"),this.template="document_embed",setEmbedPageCSS(),embedDocumentInit(),CD.load(Vida.appInfo().homeDocumentId)):(this.layout("home"),this.template="my_documents"):isEnterprise()?(this.layout("blankLayout"),Meteor.settings&&Meteor.settings.public.landingPageTemplate?this.template=Meteor.settings.public.landingPageTemplate:this.template="landing_page_enterprise"):(Session.get(SS_LANDING_PAGE)||Session.set(SS_LANDING_PAGE,!0),handles.featuring&&handles.featuring.ready()||(handles.featuring=Meteor.subscribe("featuringDocumentFeed")),this.layout("defaultLayout"),this.template="landing_page"),this.next()},onStop:function(){Session.get(SS_LANDING_PAGE)&&Session.set(SS_LANDING_PAGE,!1)}}),Router.route("home/documents/new",{controller:"HomeController",template:"documents_new"}),Router.route("home/gcharts",{controller:"HomeController",template:"my_gcharts"}),Router.route("home/gcharts/new",{controller:"HomeController",template:"gcharts_new"}),Router.route("home/documents",{controller:"HomeController",template:"my_documents"}),Router.route("home/datasets",{controller:"HomeController",template:"my_datasets"}),Router.route("home/shared",{controller:"HomeController",template:"my_shared_documents"}),Router.route("home/starred",{controller:"HomeController",template:"my_starred_documents"}),Router.route("home/teams",{controller:"HomeController",template:"teams"}),Router.route("home/dashboards",{controller:"HomeController",template:"my_dashboards"}),Router.route("home/dashboard-shared",{controller:"HomeController",template:"my_shared_dashboards"}),Router.route("home/gists",{controller:"HomeController",template:"gists"}),Router.route("home/profile",{controller:"HomeController",template:"profile"}),Router.route("home/sources",{controller:"HomeController",template:"sources"})}).call(this);

(function(){TeamController=RouteController.extend({layoutTemplate:"defaultLayout",onBeforeAction:function(){TM.load(this.params._id),this.next()},onStop:function(){TM.clean()}}),Router.route("teams/:_id/edit",{controller:"TeamController",template:"team_edit"}),Router.route("teams/:_id",{controller:"TeamController",template:"team_show"})}).call(this);

(function(){Router.configure({layoutTemplate:"defaultLayout",onBeforeAction:function(){$(".tooltip").tooltip("hide");var t=this.url.split("/");isPermissionView()?Session.set(SS_CURRENT_HOME_PATH,"/home/dashboard-shared"):t.length>=3&&"home"!==t[1]&&Session.set(SS_CURRENT_HOME_PATH,"/home/"+t[1]),this.next()}}),Router.map(function(){this.route("explore",{path:"/explore",onBeforeAction:function(){setPageTitle("Explore"),this.next()}}),this.route("jobs",{path:"/jobs",onBeforeAction:function(){setPageTitle("Jobs"),$("html, body").animate({scrollTop:0},"slow"),this.next()}}),this.route("pricing",{path:"/pricing",onBeforeAction:function(){setPageTitle("Pricing"),$("html, body").animate({scrollTop:0},"slow"),this.next()}}),this.route("terms",{path:"/terms",onBeforeAction:function(){setPageTitle("Terms"),$("html, body").animate({scrollTop:0},"slow"),this.next()}}),this.route("privacy",{path:"/privacy",onBeforeAction:function(){setPageTitle("Privacy"),$("html, body").animate({scrollTop:0},"slow"),this.next()}}),this.route("profile",{path:"/profile",onBeforeAction:function(){setPageTitle("Profile"),this.next()}}),this.route("gistEditor",{path:"/gists/:_id",template:"gist_editor",onBeforeAction:function(){GIST.clean(),GIST.load(this.params._id),this.next()},onStop:function(){GIST.clean()}}),this.route("gistViewer",{path:"/gistsView/:_id",template:"gist_show",onBeforeAction:function(){GIST.show(this.params._id),this.next()}}),this.route("discussion",{path:"/discussion/:_id",action:function(){this.redirect(Router.path("documents",{_id:this.params._id}))}}),this.route("charts",{path:"/charts/:_id",template:"chart_show",onBeforeAction:function(){GC.clean(),GC.load(this.params._id),this.next()},onStop:function(){GC.clean()}}),this.route("datasets",{path:"/datasets/:_id",template:"dataset_show",onBeforeAction:function(){DS.clean(),DS.load(this.params._id),this.next()},onStop:function(){DS.clean()}}),this.route("sources",{path:"/sources/:_id",template:"source_show",onBeforeAction:function(){SRC.clean(),SRC.load(this.params._id),this.next()},onStop:function(){SRC.clean()}}),this.route("users",{path:"/users/:_id",template:"user",onBeforeAction:function(){var t=this;Session.set(SS_USERNAME_USERID,null),handles.userData=Meteor.subscribe("userData",{_id:t.params._id},function(){var e=Meteor.users.findOne({_id:t.params._id});e&&(Session.set(SS_USERNAME_USERID,e._id),ET.Misc.profile(t.params._id))}),this.next()}}),this.route("embed",{path:"/embed/:_id",onBeforeAction:function(){setEmbedPageCSS(),this.layout("blankLayout"),0===this.url.indexOf("/embed")&&("1"===getParameterByName("chart",this.originalUrl)?(this.template="chart_embed",GC.load(this.params._id,{params:this.params})):"1"===getParameterByName("dashboard",this.originalUrl)?(this.template="dashboard_embed",handles.dashboards=Meteor.subscribe("vidaDashboardFeed"),DBR.clean(),DBR.load(this.params._id)):(this.template="document_embed",embedDocumentInit(),CD.load(this.params._id,{params:this.params}))),this.next()},onStop:function(){"1"===!getParameterByName("dashboard",this.originalUrl)&&history.back(),resumeEmbedPageCSS()}}),this.route("pages",{path:"/pages/:_id",onBeforeAction:function(){Session.set(SS_PAGE_NAME,this.params._id),this.next()}}),this.route("user",{path:":user",onBeforeAction:function(){var t=this.params.user;if(_.contains(reservedViews,t))return Router.go("home"),void this.next();Session.set(SS_USERNAME_USERID,null),handles.userData=Meteor.subscribe("userData",{username:t},function(){var e=Meteor.users.findOne({username:t});e&&(Session.set(SS_USERNAME_USERID,e._id),ET.Misc.profile(t))}),this.next()}})})}).call(this);

(function(){UI.registerHelper("validChart",function(){return!0===GC.isValid()}),UI.registerHelper("isChartOwner",function(){return GC.isOwner()}),UI.registerHelper("chartEmbedPage",function(){return isChartEmbedUrl()}),UI.registerHelper("chartShowReady",function(){return GC.isReady()&&Session.get(SS_CHART_LOAD_READY)}),UI.registerHelper("canEditChart",function(){return GC.canEdit()}),UI.registerHelper("chartTypes",function(){return CHART_TYPES}),UI.registerHelper("chartEditMode",function(){return GC.inEditMode()})}).call(this);

(function(){function e(e,r){return e.owner||e.ownerId||(r&&r.owner?r.owner:null)||(r&&r.ownerId?r.ownerId:null)||e._id}UI.registerHelper("landingPage",function(){return Session.get(SS_LANDING_PAGE)}),UI.registerHelper("isEq",function(e,r){return e===r}),UI.registerHelper("thumbnailUrl",function(e){return getDocumentThumbnailURL(e)}),UI.registerHelper("dashboardThumbnailUrl",function(e){return getDashboardThumbnailURL(e)}),UI.registerHelper("formatTime",function(e,r){var t=void 0===r.length?"LT L":r;return getMomentTime(e).format(t).toString()}),UI.registerHelper("formatEntryTime",function(e){var r=getMomentTime(e);return r.year()===getMomentTime().year()?r.format("MMM DD").toString():r.format("MM/DD/YY").toString()}),UI.registerHelper("formatNumber",function(e){return formatNumber(e)}),UI.registerHelper("nameUsernameEmail",function(r){var t=e(this,r||null),n=Meteor.users.findOne(t);if(t&&n){var i=getNameUsername(n),o=getUserEmail(n);return i||o||null}}),UI.registerHelper("nameUsername",function(r){var t=e(this,r||null);if(user=Meteor.users.findOne(t),t&&user)return getNameUsername(user)||null}),UI.registerHelper("username",function(r){var t=e(this,r||null);if(t)return getUsername(Meteor.users.findOne(t))}),UI.registerHelper("userEmail",function(r){var t=e(this,r||null);if(t)return getUserEmail(Meteor.users.findOne(t))}),UI.registerHelper("isYours",function(e){return(this.owner||this.ownerId||(e&&e.owner?e.owner:null)||(e&&e.ownerId?e.ownerId:null)||this._id)===Meteor.userId()}),UI.registerHelper("activeIfDefined",function(e){return void 0!==e&&null!==e?"active":""}),UI.registerHelper("activeIfUndefined",function(e){return void 0===e||null===e?"active":""}),UI.registerHelper("fixedBody",function(e){return!0}),UI.registerHelper("inEditView",function(){return CD.inEditMode()||GC.inEditMode()||DS.inEditMode()||TM.inEditMode()||GIST.inEditMode()||DBR.inEditMode()||SRC.inEditMode()}),UI.registerHelper("isPermissionView",function(){return isPermissionView()}),UI.registerHelper("otherPrivacyStates",function(e){return _.without(PRIVACY_STATES,e)}),UI.registerHelper("appInfo",function(){return Vida.appInfo()}),UI.registerHelper("getTagTitleName",function(e){return TagName.toTitle(e)}),UI.registerHelper("canEditTag",function(e){return canEditTag()}),UI.registerHelper("textToHTML",function(e){return Autolinker.link(e||"")}),UI.registerHelper("isEnterprise",function(){return isEnterprise()}),UI.registerHelper("getEnterpriseEmail",function(){return getEnterpriseEmail()}),UI.registerHelper("isOrganization",function(e){return isOrganization("smartsheet")}),UI.registerHelper("enableSmartsheet",function(){return isOrganization("smartsheet")||isOrganization("vida")||!isEnterprise()}),UI.registerHelper("isProUnlimitedEnterpriseUser",function(){return!!(isEnterprise()||hasProPlan()||hasUnlimitedPlan()||Vida.appInfo().isAdmin)}),UI.registerHelper("enterpriseLogoURL",function(){return Meteor.settings.public.logoURL}),UI.registerHelper("isPrivacyState",function(e){return this.privacy===e}),UI.registerHelper("currentHomePath",function(e){return Session.get(SS_CURRENT_HOME_PATH)||"/"}),UI.registerHelper("vidaDocumentType",function(){var e=Router.current().url;if(-1!=e.indexOf(document.location.host)&&(e=e.split(document.location.host)[1]),(e=e.split("/"))&&e[1]&&VIDA_DOCUMENT_TYPES[e[1]])return VIDA_DOCUMENT_TYPES[e[1]]})}).call(this);

(function(){UI.registerHelper("validDashboard",function(){return!0===DBR.isValid()}),UI.registerHelper("isDashboardOwner",function(){return DBR.isOwner()}),UI.registerHelper("dashboardShowReady",function(){return DBR.isReady()}),UI.registerHelper("dashboardDatasetReady",function(){return Session.get(SS_COMPOSITE_DOCUMENTS_LOAD_DATA)}),UI.registerHelper("canEditDashboard",function(){return canEditDashboard(DBR.id(),Meteor.userId())}),UI.registerHelper("canEditDashboardR",function(){return DBR.isValid()&&canEditDashboard(DBR.dbObject._id,Meteor.userId())}),UI.registerHelper("dashboardEditMode",function(){return DBR.inEditMode()}),UI.registerHelper("currentDashboard",function(){var e=DBR.id()||this.dashboardId||this._id;return Dashboards.findOne(e)}),UI.registerHelper("dashboardDatasets",function(){return Datasets.find({},{sort:{name:1}}).fetch()})}).call(this);

(function(){UI.registerHelper("validDataset",function(){return!0===DS.isValid()}),UI.registerHelper("isDatasetOwner",function(){return DS.isOwner()}),UI.registerHelper("datasetShowReady",function(){return DS.isReady()}),UI.registerHelper("canEditDataset",function(){return canEditDataset(DS.id(),Meteor.userId())}),UI.registerHelper("canAccessDataset",function(){return canAccessDataset(DS.id(),Meteor.userId())}),UI.registerHelper("datasetEditMode",function(){return DS.inEditMode()}),UI.registerHelper("currentDataset",function(){var e=DS.id()||this.datasetId||this._id;return Datasets.findOne(e)})}).call(this);

(function(){UI.registerHelper("toTitleCase",function(e){return(e||"").toTitleCase()}),UI.registerHelper("isPropColor",function(e){return"color"===e.type}),UI.registerHelper("isPropText",function(e){return"text"===e.type}),UI.registerHelper("isPropFloat",function(e){return"int"===e.type||"float"===e.type}),UI.registerHelper("isPropDataField",function(e){return"data_field"===e.type}),UI.registerHelper("isLocalEnterprise",function(){return environment.local()||isEnterprise()}),UI.registerHelper("documentTypes",function(){return isEnterprise()||environment.local()?GRAPH_TYPES:_.without(GRAPH_TYPES,"import_vida")}),UI.registerHelper("vidaDocTypes",function(){return Object.keys(VIDA_DOCS)}),UI.registerHelper("getVidaDocs",function(e){return VIDA_DOCS[e]}),UI.registerHelper("documentValid",function(){return!0===CD.isValid()}),UI.registerHelper("loadAndCheckValidDocument",function(){return CD.load(Router.current().params._id,{params:Router.current().params}),!0===CD.isValid()}),UI.registerHelper("currentDocument",function(){return CD.now()}),UI.registerHelper("noOwner",function(){return CD.noOwner()}),UI.registerHelper("documentEmbedPage",function(){return isDocumentEmbedUrl()}),UI.registerHelper("documentEditMode",function(){return CD.inEditMode()}),UI.registerHelper("canvasOnLeft",function(){return Session.get(SS_CANVAS_POS)}),UI.registerHelper("showCanvas",function(){return Session.get(SS_CANVAS_ON)&&!Session.get(SS_EDITOR_ON)}),UI.registerHelper("showEditor",function(){return!Session.get(SS_CANVAS_ON)&&Session.get(SS_EDITOR_ON)}),UI.registerHelper("showBoth",function(){return Session.get(SS_CANVAS_ON)&&Session.get(SS_EDITOR_ON)}),UI.registerHelper("showWidget",function(e){return CD.now()&&!1!==CD.now().showWidget}),UI.registerHelper("documentShowReady",function(){return CD.isReady()}),UI.registerHelper("myDocumentsReady",function(){return handles.myDocs&&handles.myDocs.ready()}),UI.registerHelper("canEditDocument",function(){return canEditDocument(CD.dbObject._id,Meteor.userId())}),UI.registerHelper("canEditDocumentR",function(){return CD.isValid()&&canEditDocument(CD.dbObject._id,Meteor.userId())}),UI.registerHelper("isDocumentOwner",function(){var e=this._id||CD.dbObject._id;return isDocumentOwner(e,Meteor.userId())}),UI.registerHelper("isTemplateDocument",function(e){return hasDocumentMode(DOC_MODE_TEMPLATE,e||null)}),UI.registerHelper("isNormalDocument",function(e){return hasDocumentMode(DOC_MODE_NORMAL,e||null)}),UI.registerHelper("isPartialDocument",function(e){return hasDocumentMode(DOC_MODE_PARTIAL,e||null)})}).call(this);

(function(){UI.registerHelper("currentGist",function(){return GIST.now()}),UI.registerHelper("isGistOwner",function(){return GIST.isOwner()}),UI.registerHelper("gistEditMode",function(){return GIST.inEditMode()}),UI.registerHelper("gistShowReady",function(){return GIST.isReady()})}).call(this);

(function(){UI.registerHelper("currentGroup",function(){var r=GP.id()||this.groupId||this._id;return Groups.findOne(r)})}).call(this);

(function(){UI.registerHelper("validSource",function(){return!0===SRC.isValid()}),UI.registerHelper("isSourceOwner",function(){return SRC.isOwner()}),UI.registerHelper("sourceShowReady",function(){return SRC.isReady()}),UI.registerHelper("canEditSource",function(){return canEditSource(SRC.id(),Meteor.userId())}),UI.registerHelper("canAccessSource",function(){return canAccessSource(SRC.id(),Meteor.userId())}),UI.registerHelper("sourceEditMode",function(){return SRC.inEditMode()}),UI.registerHelper("currentSource",function(){var e=SRC.id()||this.sourceId||this._id;return Sources.findOne(e)})}).call(this);

(function(){UI.registerHelper("canAccessTeam",function(){return canAccessTeam(TM.id(),Meteor.userId())}),UI.registerHelper("isTeamAdmin",function(){return isTeamAdmin()}),UI.registerHelper("isTeamMember",function(){return isTeamMember(TM.id(),Meteor.userId())||isVidaAdmin()}),UI.registerHelper("teamReady",function(){return TM.isReady()}),UI.registerHelper("teamEditMode",function(){return TM.inEditMode()}),UI.registerHelper("currentTeam",function(){var e=TM.id()||this.teamId||this._id;return Teams.findOne(e)})}).call(this);

(function(){UI.registerHelper("userImageUrl",function(e){var e=e||this;return getUserPictureURL(e)})}).call(this);

(function(){Session.setDefault(SS_CONFIG_KEY_ACTIVATING,!1),Template.admin_configurations.helpers({awsKey:function(){return getConfiguration(CONFIG_AWS_KEY)},awsSecret:function(){return getConfiguration(CONFIG_AWS_SECRET)},awsBucketName:function(){return getConfiguration(CONFIG_AWS_BUCKET_NAME)},adminEmails:function(){return getConfiguration(CONFIG_ADMIN_EMAILS)},mailUrl:function(){return getConfiguration(CONFIG_MAIL_URL)},productKey:function(){return getConfiguration(CONFIG_PRODUCT_KEY)},license:function(){var n=Configurations.findOne({name:CONFIG_PRODUCT_KEY});if(n&&n.data)return n.data},editingAWSKey:function(){return Session.get(SS_EDIT_AWS_KEY)},editingAWSSecret:function(){return Session.get(SS_EDIT_AWS_SECRET)},editingAWSBucketName:function(){return Session.get(SS_EDIT_AWS_BUCKET_NAME)},editingAdminEmails:function(){return Session.get(SS_EDIT_ADMIN_EMAILS)},editingProductKey:function(){return Session.get(SS_EDIT_PRODUCT_KEY)},activatingKey:function(){return Session.get(SS_CONFIG_KEY_ACTIVATING)},smartsheetConfigured:function(){return Accounts.loginServiceConfiguration.findOne({service:"smartsheet"})},githubConfigured:function(){return Accounts.loginServiceConfiguration.findOne({service:"github"})}}),Template.admin_configurations.events({"click .aws-key":function(n,e){return Session.set(SS_EDIT_AWS_KEY,!0),Deps.flush(),activateInput(e.find("#aws-key-input")),!1},"click .aws-secret":function(n,e){return Session.set(SS_EDIT_AWS_SECRET,!0),Deps.flush(),activateInput(e.find("#aws-secret-input")),!1},"click .aws-bucket-name":function(n,e){return Session.set(SS_EDIT_AWS_BUCKET_NAME,!0),Deps.flush(),activateInput(e.find("#aws-bucket-name-input")),!1},"click .admin-emails":function(n,e){return Session.set(SS_EDIT_ADMIN_EMAILS,!0),Deps.flush(),activateInput(e.find("#email-input")),!1},"click .product-key":function(n,e){return Session.set(SS_EDIT_PRODUCT_KEY,!0),Deps.flush(),activateInput(e.find("#product-key-input")),!1},"click #btn-smartsheet-configure":function(n,e){Accounts._loginButtonsSession.configureService("smartsheet")},"click #btn-github-configure":function(n,e){Accounts._loginButtonsSession.configureService("github")}}),Template.admin_configurations.events(okCancelEvents("#aws-key-input",{ok:function(n,e){n!==getConfiguration(CONFIG_AWS_KEY)&&(upsertConfig(CONFIG_AWS_KEY,{value:n}),message.add("AWS key updated")),Session.set(SS_EDIT_AWS_KEY,null)},cancel:function(){$("#aws-key-input").val(getConfiguration(CONFIG_AWS_KEY)).blur(),Session.set(SS_EDIT_AWS_KEY,null)}})),Template.admin_configurations.events(okCancelEvents("#aws-secret-input",{ok:function(n,e){n!==getConfiguration(CONFIG_AWS_SECRET)&&(upsertConfig(CONFIG_AWS_SECRET,{value:n}),message.add("AWS secret updated")),Session.set(SS_EDIT_AWS_SECRET,null)},cancel:function(){$("#aws-secret-input").val(getConfiguration(CONFIG_AWS_SECRET)).blur(),Session.set(SS_EDIT_AWS_SECRET,null)}})),Template.admin_configurations.events(okCancelEvents("#aws-bucket-name-input",{ok:function(n,e){n!==getConfiguration(CONFIG_AWS_BUCKET_NAME)&&(upsertConfig(CONFIG_AWS_BUCKET_NAME,{value:n}),message.add("AWS bucket name updated")),Session.set(SS_EDIT_AWS_BUCKET_NAME,null)},cancel:function(){$("#aws-bucket-name-input").val(getConfiguration(CONFIG_AWS_BUCKET_NAME)).blur(),Session.set(SS_EDIT_AWS_BUCKET_NAME,null)}})),Template.admin_configurations.events(okCancelEvents("#email-input",{ok:function(n,e){n!==getConfiguration(CONFIG_ADMIN_EMAILS)&&(upsertConfig(CONFIG_ADMIN_EMAILS,{value:n}),Meteor.call("updateAdminEmails"),message.add("Admin emails updated")),Session.set(SS_EDIT_ADMIN_EMAILS,null)},cancel:function(){$("#email-input").val(getConfiguration(CONFIG_ADMIN_EMAILS)).blur(),Session.set(SS_EDIT_ADMIN_EMAILS,null)}})),Template.admin_configurations.events(okCancelEvents("#mail-url-input",{ok:function(n,e){n!==getConfiguration(CONFIG_MAIL_URL)&&(upsertConfig(CONFIG_MAIL_URL,{value:n}),Meteor.call("updateMailUrl"),message.add("Mail URL updated")),Session.set(SS_EDIT_MAIL_URL,null)},cancel:function(){$("#mail-url-input").val(getConfiguration(CONFIG_MAIL_URL)).blur(),Session.set(SS_EDIT_MAIL_URL,null)}})),Template.admin_configurations.events(okCancelEvents("#product-key-input",{ok:function(n,e){Session.set(SS_EDIT_PRODUCT_KEY,null),"keyup"===e.type&&13===e.which||n!==getConfiguration(CONFIG_PRODUCT_KEY)&&(0==n.length?bootbox.confirm("You cannot undo this or reactivate the key. Are you sure?",function(n){n?(upsertConfig(CONFIG_PRODUCT_KEY,{value:"",data:"",modifiedBy:Meteor.userId()}),message.add("Product key is removed")):$("#product-key-input").val(getConfiguration(CONFIG_PRODUCT_KEY))}):(Session.set(SS_CONFIG_KEY_ACTIVATING,!0),Meteor.call("activateKey",n,function(n,e){n?message.add(n.message,{type:"danger"}):bootbox.alert("Thank you! Your license has been activated successfully.<br/>This app needs to be refreshed to function corretly.",function(){location.reload()}),Session.set(SS_CONFIG_KEY_ACTIVATING,!1)})))},cancel:function(){$("#product-key-input").val(getConfiguration(CONFIG_PRODUCT_KEY)).blur(),Session.set(SS_EDIT_PRODUCT_KEY,null)}}))}).call(this);

(function(){Session.setDefault(SS_CONFIG_KEY_ACTIVATING,!1),Template.admin_permissions.helpers({permissions:function(){return Permissions.find().fetch()}}),Template.admin_permissions.rendered=function(){},Template.admin_permissions.events({"click .add-emails":function(e){$ip=$("#emails-input"),Meteor.call("addUserPermission",$ip.val(),function(e,i){e?message.add(e.reason,{type:"danger"}):$ip.val("")})},"click .remove-permission":function(e){Permissions.remove({_id:this._id})}})}).call(this);

(function(){var e=null,t=new ReactiveVar,i=null;Template.admin_record.helpers({collectionName:function(e){var t=Router.current().params;if(t.collection)return t.collection},id:function(e){var t=Router.current().params;if(t.id)return t.id},backURL:function(){if(e&&t.get())return"users"===e._name?"/admin":"/admin/"+e._name},userCollection:function(){return"users"===getCollectionName()},userURL:function(){var e=t.get();if(e){if(e.username)return"https://vida.io/"+e.username;if(e._id)return"https://vida.io/users/"+e._id}}}),Template.admin_record.events({"click .btn-update":function(n){var r=i.getValue(),o=e.findOne(t.get()._id),a=_.omit(JSON.parse(r),"_id","created","createdAt");e.update(o._id,{$set:a},function(e){e?message.add("Error! "+e,{type:"danger"}):message.add("Updated!",{timer:1})})},"click .btn-remove":function(i){bootbox.confirm("This action is not reversible. Are you sure?",function(i){i&&(e.remove(t.get()._id),Router.go("/admin/"+e._name),message.add('Record "'+t.get()._id+'" was removed'))})}}),Template.admin_record.rendered=function(){var i=Router.current().params;if(collection=i.collection||null,id=i.id||null,collection&&id&&(e="users"===collection?Meteor.users:window[collection.toUpperCase0()])){var n=e.findOne(id);n?(t.set(n),initRecordEditor()):Meteor.subscribe("adminDataSub",e._name.toUpperCase0(),'{_id: "'+id+'"}',function(){var i=e.findOne(id);t.set(i),initRecordEditor()})}},initRecordEditor=function(){(i=ace.edit("record-editor")).setTheme("ace/theme/monokai"),i.getSession().setMode("ace/mode/json"),i.getSession().setUseWorker(!1),i.getSession().setTabSize(2),t.get()?i.setValue(JSON.stringify(t.get(),null,2)):i.setValue(""),i.gotoLine(0)}}).call(this);

(function(){function e(){var e=$("#search-input").val();query=parseQueryStr(e);try{getCollectionFromPath().find(query.selector,query.options),query&&(adminDataSubHandle=Meteor.subscribe("adminDataSub",getCollectionName().toUpperCase0(),e,function(){searchInputs[getCollectionName()].set(e)}))}catch(e){message.add("Error! "+e.message,{type:"danger"})}}searchInputs={users:new ReactiveVar(null),documents:new ReactiveVar(null),dashboards:new ReactiveVar(null),datasets:new ReactiveVar(null),teams:new ReactiveVar(null),members:new ReactiveVar(null),groups:new ReactiveVar("{}")},Template.record_table.helpers({records:function(){var e=getCollectionFromPath(),t=getCollectionName(),n="users"===t?{sort:{createdAt:-1}}:{sort:{created:-1}},r=parseQueryStr(searchInputs[t].get());return setTimeout(function(){var e=1;$("ul.adm-records .idx").each(function(){$(this).html(e++)})},500),_.isEmpty(r.selector)&&_.isEmpty(r.options)?e.find({},n):e.find(r.selector,r.options)},collectionName:function(){return getCollectionName()},owner:function(){var e="users"===getCollectionName()?this._id:this.owner||this.ownerId,t=Meteor.users.findOne(e),n=getUserFullName(t),r=getUserEmail(t);return n&&r?n+" ("+r+")":r||(n||"Unavailable")},ownerId:function(){return"users"===getCollectionName()?this._id:this.owner},title:function(){if("users"===getCollectionName()){var e="";return this.username&&(e+="username: "+this.username),this.plan&&(e+=" | plan: "+this.plan),this&&this.emails&&this.emails[0].verified&&(e+=" | verified: x"),e}return this.name},created:function(){return"users"===getCollectionName()?this.createdAt:this.created},dataReady:function(){return adminDataSubHandle&&adminDataSubHandle.ready()}}),Template.record_table.events({"click #btn-search":function(t){e()},"click #btn-reset":function(e){$("#search-input").val(""),getCollectionName()&&searchInputs[getCollectionName()].set(null)},"keyup #search-input":function(t){13===t.keyCode&&e()}}),Template.record_table.rendered=function(){}}).call(this);

(function(){groupSubHandle=null,getCollectionFromPath=function(){var e=getCollectionName();return"users"===e?Meteor.users:e?window[e.toUpperCase0()]:null},getCollectionName=function(){var e=Router.current(),n=e.params;return"/admin"===e.originalUrl?"users":n.collection?n.collection:null},getDefaultQueries=function(e){var n=!_.isEmpty(Vida.appInfo())&&Vida.appInfo().defaultQueries?Vida.appInfo().defaultQueries:null;if(n){var t=_.find(n,function(n){return _.contains(n.collections,e)});if(t)return t.queryStr}}}).call(this);

(function(){Template.chart_embed.helpers({startRendering:function(){GC.initChart(),GC.show()}}),Template.chart_embed.rendered=function(){GC.rendered=!0,GC.show()}}).call(this);

(function(){Template.chart_edit.helpers({chart:function(){return GC.now()},chartTypes:function(){return CHART_TYPES},chartData:function(){return!!DS.data()&&DS.data()},chartDataLength:function(){return DS.data().data.length},editingTitle:function(){return Session.get(SS_EDIT_CHART_NAME)},editingDescription:function(){return Session.get(SS_EDIT_CHART_DESC)},cssTypeActive:function(){return this.toString()===Session.get(SS_CHART_TYPE)?"active":""},currentType:function(t){return t?Session.get(SS_CHART_TYPE)===t:Session.get(SS_CHART_TYPE)},hasChange:function(){return GC.options()},propertiesOk:function(){return 1},titleFontSize:function(){var t=GC.options();if(t&&t.titleTextStyle&&t.titleTextStyle.fontSize)return t.titleTextStyle.fontSize},titleColor:function(){var t=GC.options();if(t&&t.titleTextStyle&&t.titleTextStyle.color)return t.titleTextStyle.color},fontSizes:function(){return FONT_SIZES},chartColors:function(){return GC.dbObject.options.colors?GC.dbObject.options.colors:GChart.DEFAULT_OPTIONS.colors}}),Template.chart_edit.events({"click .chart-type":function(t){var e=$(t.currentTarget).data("type");return e!==Session.get(SS_CHART_TYPE)&&bootbox.confirm("Some current properties may be removed. Are you sure?",function(t){t&&($("#chart-svg").html(""),GC.updateType(e),GC.show())}),$(".chart-type-edit").toggle(),t.preventDefault(),!1},"click .chart-title":function(t,e){return(GC.isOwner()||GC.noOwner())&&(Session.set(SS_EDIT_CHART_NAME,!0),Deps.flush(),activateInput(e.find("#chart-title-input"))),!1},"click .chart-description":function(t,e){return(GC.isOwner()||GC.noOwner())&&(Session.set(SS_EDIT_CHART_DESC,!0),Deps.flush(),activateInput(e.find("#chart-description-input"))),!1},"change #chart-data-import":function(t){_.each(t.target.files,function(t){var e=new FileReader;e.readAsText(t,"UTF-8"),e.onload=function(t){GC.editor.getSession().setValue(getUploadFile(t))}})},"click .sample-data":function(t){var e=_.find(SAMPLE_DATA_SETS,function(e){return e.key===$(t.currentTarget).data("name")});e.data&&(GC.editor.getSession().setValue(e.data),message.add("Properties (section #2) may require corrections",{timer:5}))},"click .region-data-field":function(t){var e=GC.options(),n={};"--"===$(t.target).html()?n[GEO_MAP_REGION]="other":n[GEO_MAP_REGION]=$(t.target).html(),e.fields=e.fields?_.extend(e.fields,n):n,_.extend(e,GEO_MAP_REGION_CODES[n[GEO_MAP_REGION]]),GC.show({options:e})},"click .font-size":function(t,e){var n=parseInt($("a",t.currentTarget).html()),o=GC.options(),r=_.extend(o.titleTextStyle,{fontSize:n});n>=FONT_SIZES[0]&&GC.show({options:{titleTextStyle:r}})},"click .btn-edit-chart-type":function(t,e){return $(".chart-type-edit").toggle(),t.preventDefault(),!1},"click #btn-thumbnail-update":function(t){GC.getThumbnail(),t.preventDefault()},"click #download-png":function(t){return"tree_map"===GC.dbObject.type?(message.add("Sorry, PNG is not available for this type.",{type:"danger"}),!1):downloadAttrSupported?void $(t.currentTarget).attr("href",GC.chart.gchart.getImageURI()).attr("download",GC.dbObject.options.title||"chart.png"):($("#chart-image").attr("src",GC.chart.gchart.getImageURI()),$("#download-modal").modal("show"),t.preventDefault(),!1)},"click #download-svg":function(t){var e=$("#chart-svg svg").attr({version:"1.1",xmlns:"http://www.w3.org/2000/svg"}).parent().html(),n=$(t.currentTarget);if(!downloadAttrSupported)return $("#chart-image").attr("src","data:image/svg+xml,"+encodeURIComponent(e)),$("#download-modal").modal("show"),t.preventDefault(),!1;n.attr("href","data:image/svg+xml,"+encodeURIComponent(e)).attr("download",GC.dbObject.options.title||"chart.svg")}}),Template.chart_edit.rendered=function(){$("#btn-thumbnail-update i").hasClass("fa-spin")||($("#google-chart").width(GC.dbObject.options.width),$("#google-chart").height(GC.dbObject.options.height)),$("#google-chart").resizable({maxWidth:1140,minWidth:240,maxHeight:640,minHeight:320,grid:[10,10],stop:function(t,e){var n=$("#google-chart").width(),o=$("#google-chart").height();GC.show({options:{width:n,height:o}})},resize:function(t,e){var n=$("#google-chart").width(),o=$("#google-chart").height()}}),_.each(chartCookie.sections,function(t,e,n){}),$("#titleColor").val(GC.options().titleTextStyle.color).colorPicker().on("change",function(){var t=$("#titleColor").val(),e=GC.options(),n=_.extend(e.titleTextStyle,{color:t});GC.show({options:{titleTextStyle:n}})}),GC.rendered=!0,GC.show()},Template.chart_edit.events(okCancelEvents("#chart-title-input",{ok:function(t,e){t?(setPageTitle(t),Session.set(SS_EDIT_CHART_NAME,null),GC.dbObject.title=t,GC.show({options:{title:t}})):message.add("Must not be empty",{type:"danger"})},cancel:function(){var t=GC.dbObject.options.title||"";$("#chart-title-input").val(t).blur(),Session.set(SS_EDIT_CHART_NAME,null)}})),Template.chart_edit.events(okCancelEvents("#chart-description-input",{ok:function(t,e){GC.dbObject.description=t,GC.updateDescription(t)},cancel:function(){var t=GC.dbObject.description||"";$("#chart-description-input").val(GC.dbObject.description).blur(),Session.set(SS_EDIT_CHART_DESC,null)}})),Template.chart_edit_colors.rendered=function(){$(".chart-color").val(function(){return $(this).val()}).colorPicker().on("change",function(t){var e=GC.options().colors,n=[];_.each($(".chart-color"),function(t){n.push($(t).val())}),GC.show({options:{colors:n}})})},Template.chart_edit_colors.helpers({chartColors:function(){return GC.dbObject.options.colors?GC.dbObject.options.colors:GChart.DEFAULT_OPTIONS.colors}})}).call(this);

(function(){Template.gchart_menu.helpers({}),Template.gchart_menu.events({"click #btn-chart-delete":function(e){return bootbox.confirm("This chart will be removed permanently. Are you sure?",function(e){e&&(GC.dbObject.thumbnail?Meteor.call("chartRemoveThumb",GC.dbObject._id,function(e){removeChart(GC.dbObject._id)}):removeChart(GC.dbObject._id))}),e.preventDefault(),!1}})}).call(this);

(function(){Template.open_dataset_modal.helpers({datasets:function(){return Datasets.find({owner:Meteor.userId(),smartsheetDataset:{$exists:!1}},{sort:{name:1}})},isGChartDataset:function(){var t=GC.now();return t&&t.datasetId===this._id}}),Template.open_dataset_modal.events({"click .apply-dataset":function(t,e){return Charts.update(GC.dbObject._id,{$set:{datasetId:this._id}}),DS.load(this._id,{onChange:function(){GC.show()}}),onceTimer(DS.init,500),$("#modalOpenDataset").modal("hide"),t.preventDefault(),!1}})}).call(this);

(function(){var e=function(e){if($("#output-format-field").html($(e.target).data("prop")),GC.dbObject.formatters){var t=GC.dbObject.formatters,i=$(e.target).data("prop");if(t[i]){var n=t[i];Session.set(SS_CHART_FORMAT_TYPE,n.type)}else Session.set(SS_CHART_FORMAT_TYPE,CHART_FORMAT_NONE)}};Template.pie_properties.events({"click .output-format":function(t){e(t)}}),Template.xy_properties.events({"click .output-format":function(t){e(t)}}),Template.geo_map_properties.events({"click .output-format":function(t){e(t)}}),Template.bubble_properties.events({"click .output-format":function(t){e(t)}}),Template.data_field_select.helpers({fields:function(){return DS.data()?DS.data().columns:null}}),Template.data_type_field_select.helpers({data_types:function(){return["Auto","Number","String","Date"]}}),Template.data_field_select.events({"click .data-field":function(e){var t=GC.options(),i={};"--"===$(e.target).html()?i[$(e.currentTarget).parent().data("field-type")]=null:i[$(e.currentTarget).parent().data("field-type")]=this.toString(),t.fields=t.fields?_.extend(t.fields,i):i,GC.show({options:t})}}),Template.data_type_field_select.events({"click .data-type-field":function(e){var t=GC.options(),i={};i[$(e.currentTarget).parent().data("field-type")]=this.toString(),t.field_types=t.field_types?_.extend(t.field_types,i):i,GC.show({options:t})}}),Template.xy_properties.helpers({xAxisData:function(){return{type:X_AXIS_TYPE,field:GC.options().fields[X_AXIS_TYPE]}},xAxisDataType:function(){return{type:X_AXIS_TYPE,field_type:GC.options().field_types[X_AXIS_TYPE]}},yAxisData:function(){return{type:Y_AXIS_TYPE,field:GC.options().fields[Y_AXIS_TYPE]}},yAxis2Data:function(){return{type:Y_AXIS_2_TYPE,field:GC.options().fields[Y_AXIS_2_TYPE]}},yAxis3Data:function(){return{type:Y_AXIS_3_TYPE,field:GC.options().fields[Y_AXIS_3_TYPE]}},yAxis4Data:function(){return{type:Y_AXIS_4_TYPE,field:GC.options().fields[Y_AXIS_4_TYPE]}},yAxis5Data:function(){return{type:Y_AXIS_5_TYPE,field:GC.options().fields[Y_AXIS_5_TYPE]}},yAxisDataType:function(){return{type:Y_AXIS_TYPE,field_type:GC.options().field_types[Y_AXIS_TYPE]}}}),Template.pie_properties.helpers({chartCategory:function(){return{type:CHART_CATEGORY,field:GC.options().fields[CHART_CATEGORY]}},chartCategoryType:function(){return{type:CHART_CATEGORY,field_type:GC.options().field_types[CHART_CATEGORY]}},chartValue:function(){return{type:CHART_VALUE,field:GC.options().fields[CHART_VALUE]}},chartValueType:function(){return{type:CHART_VALUE,field_type:GC.options().field_types[CHART_VALUE]}}}),Template.bubble_properties.helpers({idData:function(){return{type:BUBBLE_LABEL_TYPE,field:GC.options().fields[BUBBLE_LABEL_TYPE]}},xAxisData:function(){return{type:X_AXIS_TYPE,field:GC.options().fields[X_AXIS_TYPE]}},xAxisDataType:function(){return{type:X_AXIS_TYPE,field_type:GC.options().field_types[X_AXIS_TYPE]}},yAxisData:function(){return{type:Y_AXIS_TYPE,field:GC.options().fields[Y_AXIS_TYPE]}},yAxisDataType:function(){return{type:Y_AXIS_TYPE,field_type:GC.options().field_types[Y_AXIS_TYPE]}},bubbleData:function(){return{type:BUBBLE_TYPE,field:GC.options().fields[BUBBLE_TYPE]}},bubbleDataType:function(){return{type:BUBBLE_TYPE,field_type:GC.options().field_types[BUBBLE_TYPE]}},bubbleSize:function(){return{type:BUBBLE_SIZE_TYPE,field:GC.options().fields[BUBBLE_SIZE_TYPE]}},bubbleSizeType:function(){return{type:BUBBLE_SIZE_TYPE,field_type:GC.options().field_types[BUBBLE_SIZE_TYPE]}}}),Template.geo_map_properties.helpers({geoMapLocation:function(){return{type:GEO_MAP_LOCATION,field:GC.options().fields[GEO_MAP_LOCATION]}},geoMapValue:function(){return{type:GEO_MAP_VALUE,field:GC.options().fields[GEO_MAP_VALUE]}},geoMapRegion:function(){return{type:GEO_MAP_REGION,field:GC.options().fields[GEO_MAP_REGION]}},geoMapRegions:function(){return GEO_MAP_REGIONS}})}).call(this);

(function(){var e,t;Template.properties_edit_modal.rendered=function(){(e=ace.edit("chart_properties_editor")).setTheme("ace/theme/github"),e.getSession().setMode("ace/mode/json"),e.setShowPrintMargin(!1),e.gotoLine(0),e.getSession().setTabSize(2),e.getSession().setUseWorker(!1),(t=ace.edit("chart_format_editor")).setTheme("ace/theme/github"),t.getSession().setMode("ace/mode/json"),t.setShowPrintMargin(!1),t.gotoLine(0),t.getSession().setTabSize(2),t.getSession().setUseWorker(!1)},Template.properties_edit_modal.events({"click .save-properties":function(t){try{var o=e.getSession().getValue();GC.extendOptions(JSON.parse(o),!0),GC.show(),$("#modalPropertiesEdit").modal("hide"),$(".json-prop-alert").hide()}catch(e){$(".json-prop-alert").show()}},"shown #modalPropertiesEdit":function(t){e.getSession().setValue(JSON.stringify(GC.options(),void 0,2))},"click .save-formatter":function(e){try{var o=t.getSession().getValue(),s=$("#output-format-field").html();if(GC.dbObject.formatters)var r=GC.dbObject.formatters;else var r={};r[s]={type:Session.get(SS_CHART_FORMAT_TYPE),options:JSON.parse(o)},GC.updateDb({formatters:r}),GC.show(),$("#modalOutputFormatEdit").modal("hide"),$(".json-formatter-alert").hide()}catch(e){$(".json-formatter-alert").show()}},"show #modalOutputFormatEdit":function(e){if(GC.dbObject.formatters){var o=GC.dbObject.formatters,s=$("#output-format-field").html(),r=o[s]?o[s]:{options:{}};t.getSession().setValue(JSON.stringify(r.options,void 0,2))}else{var i={};t.getSession().setValue(JSON.stringify(i,void 0,2))}},"click .format-type-item":function(e){Session.set(SS_CHART_FORMAT_TYPE,$(e.target).data("format-type"))}}),Template.properties_edit_modal.helpers({doc_url:function(){var e=GC.now();return e?GChart.CHART_INFO[e.type].doc_url:""},chartFormatType:function(){return Session.get(SS_CHART_FORMAT_TYPE).toUpperCase0()}})}).call(this);

(function(){Template.chart_show.helpers({}),Template.chart_show.events({"click .sec-header":function(e,t){GC.blurSection($(e.currentTarget).data("index"))}}),Template.chart_show.rendered=function(){GC.rendered=!0,GC.show()}}).call(this);

(function(){Template.chart_view.helpers({chart:function(){return GC.dbObject}}),Template.chart_view.events({"click .btn-star":function(e){return e.preventDefault(),!1},"click .btn-clone":function(e){return cloneChart(GC.dbObject._id),e.preventDefault(),!1}}),Template.chart_view.rendered=function(){GC.initChart(),GC.show()}}).call(this);

(function(){Template.dataset_entry.helpers({likes:function(){return DatasetLikes.find({datasetId:this._id}).count()},liked:function(){return!!DatasetLikes.findOne({datasetId:this._id,userId:Meteor.userId()})}}),Template.dataset_entry.events({"click .btn-like":function(e,t){return Meteor.userId()?Meteor.call("likeDataset",this._id):message.add("Please sign in first"),e.preventDefault(),!1}})}).call(this);

(function(){function e(){var e=$("#ds-filter-input").val();try{e&&($("#processing-output-text").html(""),message.add("Loading data..."),filterBigDatasetHandle=Meteor.call("filterBigDataset",e,DS.dbObject._id,function(e,t){message.hideAll();var n=JSON.stringify(t);n.length<1e3?$("#processing-output-text").html(n):$("#processing-output-text").html(n.substring(0,1e3)+"...")}))}catch(e){message.add("Error! "+e.message,{type:"danger"})}}Template.dataset_edit.helpers({isLiveUrl:function(){return Datasets.findOne(DS.dbObject._id).liveUrl},liveUrl:function(){return Datasets.findOne(DS.dbObject._id).url},editingName:function(){return Session.get(SS_EDIT_DATASET_NAME)},editingDescription:function(){return Session.get(SS_EDIT_DATASET_DESC)},privateClone:function(){return isDatasetPrivateClone(DS.dbObject._id)},bigDatasetSizeMB:function(){return(Datasets.findOne({_id:DS.dbObject._id}).bigDatasetSize/1048576).toFixed(2)},bigDatasetSizeCommas:function(){function e(e){for(;/(\d+)(\d{3})/.test(e.toString());)e=e.toString().replace(/(\d+)(\d{3})/,"$1,$2");return e}return e(Datasets.findOne({_id:DS.dbObject._id}).bigDatasetSize)}}),Template.dataset_edit.events({"click #btn-add-script":function(e,t){Datasets.update({_id:DS.dbObject._id},{$set:{script:""}})},"click #btn-remove-script":function(e,t){Datasets.update({_id:DS.dbObject._id},{$unset:{script:null}})},"click .dataset-name":function(e,t){return(DS.isOwner()||DS.noOwner())&&(Session.set(SS_EDIT_DATASET_NAME,!0),Deps.flush(),activateInput(t.find("#dataset-name-input"))),!1},"click .dataset-description":function(e,t){return(DS.isOwner()||DS.noOwner())&&(Session.set(SS_EDIT_DATASET_DESC,!0),Deps.flush(),activateInput(t.find("#dataset-description-input"))),!1},"click .privacy-state":function(e){var t=$(e.currentTarget).text().toLowerCase().replace(/ /g,"");-1!=$.inArray(t,PRIVACY_STATES)&&(Datasets.update({_id:DS.dbObject._id},{$set:{privacy:t}}),$(".privacy-state .text").html(t.toTitleCase()+" ")),e.preventDefault()},"click button.close":function(){$("#editor-status .alert").hide()},"change #dataset-import":function(e){_.each(e.target.files,function(e){var t=new FileReader;t.readAsText(e,"UTF-8");var n=e.name,i=e.type;t.onload=function(e){function t(){DS.dbObject.bigDataset&&Datasets.update(DS.dbObject._id,{$unset:{bigDataset:null,bigDatasetSize:null}}),DS.dbObject.text=getUploadFile(e),DS.updateText(DS.dbObject.text),DS.parseUpdateData(),DS.initGrid()}isDataSizeOk(e.total)&&(e.total>DATASIZE_S1?bootbox.confirm("You're uploading a big dataset. <br/>Do you want to use as regular dataset?",function(n){n?t():(message.add("Uploading. Please wait.",{type:"info"}),setTimeout(function(){var t=getUploadFile(e);Meteor.call("initChunkSaveBigDataset",DS.dbObject._id,t.length,function(){function e(i){Meteor.call("chunkSaveBigDataset",t.slice(n,n+i),DS.dbObject._id,n,function(){n===t.length?(message.add("Upload done.",{type:"info",timer:5}),Datasets.update(DS.dbObject._id,{$set:{bigDataset:!0,bigDatasetSize:t.length}})):(message.add("Progress "+Math.round(n/t.length*100)+"%"),n+UPLOAD_CHUNK_SIZE<t.length?(n+=UPLOAD_CHUNK_SIZE,e(UPLOAD_CHUNK_SIZE)):(n=t.length,e(t.length-n)))})}var n=0;e(UPLOAD_CHUNK_SIZE)})},0))}):t())}})},"click #btn-ds-filter":function(t){e()},"keyup #ds-filter-input":function(t){13===t.keyCode&&e()},"click #btn-run-processing":function(e){var t={};""!==$("#processing-function-params").val()&&JSON.parse($("#processing-function-params").val());var n=DS.processing_editor.getValue();$("#processing-output-text").html(""),message.add("Loading data...",{type:"info"}),Meteor.call("runBigDatasetProcessing",DS.dbObject._id,n,t,function(e,t){if(message.hideAll(),t.error)$("#processing-output-text").html(t.error);else{var n=JSON.stringify(t.data);n.length<1e3?$("#processing-output-text").html(n):$("#processing-output-text").html(n.substring(0,1e4)+"...")}})},"click #btn-detach-live-url":function(e){Datasets.update(DS.dbObject._id,{$unset:{liveUrl:null,url:null,text:null}})},"click #download-dataset":function(e){function t(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}t("dataset.csv",JSONArrayToCSV(DS.data().data))}}),Template.dataset_edit.events(okCancelEvents("#dataset-name-input",{ok:function(e,t){e?(Datasets.update(DS.dbObject._id,{$set:{name:e}}),DS.dbObject.name=e,Session.set(SS_EDIT_DATASET_NAME,null)):message.add("Must not be empty",{type:"danger"})},cancel:function(){$("#dataset-name-input").val(DS.dbObject.name).blur(),Session.set(SS_EDIT_DATASET_NAME,null)}})),Template.dataset_edit.events(okCancelEvents("#dataset-description-input",{ok:function(e,t){Datasets.update(DS.dbObject._id,{$set:{description:e}}),DS.dbObject.description=e,Session.set(SS_EDIT_DATASET_DESC,null)},cancel:function(){$("#dataset-description-input").val(DS.dbObject.description).blur(),Session.set(SS_EDIT_DATASET_DESC,null)}})),Template.dataset_edit.rendered=function(){},Template.processing_editor.rendered=function(){DS.processing_editor=ace.edit("processing-editor-text"),DS.processing_editor.setTheme("ace/theme/monokai"),DS.processing_editor.getSession().setMode("ace/mode/javascript"),DS.processing_editor.setShowPrintMargin(!1),DS.processing_editor.gotoLine(0),DS.processing_editor.getSession().setTabSize(2),DS.processing_editor.renderer.setShowGutter(!1),DS.processing_editor.getSession().setUseWorker(!1)},Template.processing_editor.helpers({processingFunctions:function(){return ProcessingFunctions.find({dataset_id:DS.dbObject._id})}}),Template.processing_editor.events({"click #btn-save-processing-function":function(e){var t=ProcessingFunctions.findOne({name:$("#processing-function-name").val()});t?(ProcessingFunctions.update(t._id,{$set:{code:DS.processing_editor.getValue()}}),message.add("Processing function saved.",{type:"info",timer:5})):createProcessingFunction({name:$("#processing-function-name").val(),dataset_id:DS.dbObject._id,code:DS.processing_editor.getValue()})?message.add("Processing function saved.",{type:"info",timer:5}):message.add("Unable to save function. Name and code cannot be empty.",{type:"danger"})},"click .edit-processing-function":function(){var e=ProcessingFunctions.findOne({_id:this._id});DS.processing_editor.setValue(e.code),$("#processing-function-name").val(e.name)},"click .delete-processing-function":function(){ProcessingFunctions.remove({_id:this._id})}}),Template.dataset_editor.rendered=function(){DS.init()}}).call(this);

(function(){Template.dataset_menu.helpers({}),Template.dataset_menu.events({"click #btn-dataset-delete":function(e){return bootbox.confirm("This dataset will be removed permanently. Are you sure?",function(e){e&&removeDataset(DS.dbObject._id)}),e.preventDefault(),!1}})}).call(this);

(function(){function addNewResourceToDataset(){var e=$("#resource-input")[0],t=e.value.replace(/ /g,""),r=(t.substring(t.lastIndexOf("/")+1).match(/[^.]+(\.[^?#]+)?/)||[])[0],i=r.substring(r.lastIndexOf(".")+1,r.length);-1===t.indexOf("http://")&&-1===t.indexOf("https://")&&"/"!==t[0]&&(t="//"+t),-1!==t.toLowerCase().indexOf("jquery.js")||-1!==t.toLowerCase().indexOf("bootstrap.js")||-1!==t.toLowerCase().indexOf("jquery.min.js")||-1!==t.toLowerCase().indexOf("bootstrap.min.js")?bootbox.confirm("jQuery & bootstrap cannot be loaded now since our main app is using them.However  they will be loaded for embed. For jQuery, you may consider using Zepto, a lighter framework similar to jQuery. <br/>Would you like to continue adding?",function(e){e&&CurrentResource.addResource(DS,{name:r,type:i,uri:t})}):CurrentResource.addResource(DS,{name:r,type:i,uri:t}),e.value=""}Template.dataset_script.helpers({hasScript:function(){return void 0!==Datasets.findOne(DS.dbObject._id).script&&null!==Datasets.findOne(DS.dbObject._id).script}}),runDatasetScript=function(dataText,script,callback){DS.scriptData=dataTextToJSON(dataText,!0),DS.scriptCallback=callback;var scriptStr="(function(data, callback) { "+script+" })(DS.scriptData.data, DS.scriptCallback)";eval(scriptStr)},runDatasetScriptGrid=function(){runDatasetScript(DS.dbObject.text,DS.script_editor.getValue(),function(e){e.length>0&&(DS.data({columns:Object.keys(e[0]),data:e}),DS.initGrid({columns:Object.keys(e[0]),data:e}))})},Template.dataset_script.events({"click #btn-add-script":function(e,t){Datasets.update({_id:DS.dbObject._id},{$set:{script:""}})},"click #btn-remove-script":function(e,t){Datasets.update({_id:DS.dbObject._id},{$unset:{script:null}})},"click #btn-reset-data":function(e,t){DS.dbObject.text=JSONArrayToCSV(DS.data().data),DS.parseUpdateData(),DS.initGrid()},"click #btn-run-script":function(e,t){Datasets.update({_id:DS.dbObject._id},{$set:{script:DS.script_editor.getValue()}}),runDatasetScriptGrid()},"click #btn-save-script":function(e,t){Datasets.update({_id:DS.dbObject._id},{$set:{script:DS.script_editor.getValue()}}),message.add("Script is saved.",{type:"info",timer:5})},"keyup #resource-input":function(e,t){13===e.keyCode&&addNewResourceToDataset()},"click .add-resource":function(){addNewResourceToDataset()},"click .resource-info":function(e){return $(e.currentTarget).prev().html($(e.currentTarget).parent().attr("title")),$(e.currentTarget).hide(),e.preventDefault(),!1},"click .remove-resource":function(e){var t=this.name,r=_.filter(DS.dbObject.resources,function(e){return e.name!==t});return CurrentResource.removeResource(_.find(DS.dbObject.resources,function(e){return e.name===t})),DS.dbObject.resources=r,Datasets.update(DS.dbObject._id,{$set:{resources:r}}),message.add("Resource removed, you may need to refresh",{timer:4}),e.preventDefault(),!1}}),Template.dataset_script_editor.rendered=function(){DS.script_editor=ace.edit("script-editor"),DS.script_editor.setTheme("ace/theme/monokai"),DS.script_editor.getSession().setMode("ace/mode/javascript"),DS.script_editor.setShowPrintMargin(!1),DS.script_editor.getSession().setTabSize(2),DS.script_editor.renderer.setShowGutter(!1),DS.script_editor.getSession().setUseWorker(!1),DS.script_editor.setValue(Datasets.findOne(DS.dbObject._id).script),DS.script_editor.gotoLine(0),DS.script_editor.getSession().setUndoManager(new ace.UndoManager),DS.script_editor.getSession().on("change",function(e){}),DS.script_editor.getSession().on("focus",function(e){DS.script_editor.gotoLine(0)}),DS.dbObject.safeMode||runDatasetScriptGrid()}}).call(this);

(function(){Template.dataset_show.events({"click .btn-clone":function(t,e){cloneDataset(DS.dbObject._id)}})}).call(this);

(function(){Template.dataset_sql.helpers({hasSQL:function(){return void 0!==Datasets.findOne(DS.dbObject._id).sql&&null!==Datasets.findOne(DS.dbObject._id).sql},sources:function(){return Sources.find({owner:Meteor.userId()})},currentSource:function(){return Sources.findOne(Datasets.findOne(DS.dbObject._id).sqlSource)},sqlParams:function(){return Datasets.findOne(DS.dbObject._id).params}}),getSQLWithParams=function(e,a){var t=e.sql;if(e.params)for(var r=0;r<e.params.length;r++)if(-1!==t.indexOf("@"+e.params[r].name)){var s=e.params[r].defaultValue;a&&a[e.params[r].name]&&(s=a[e.params[r].name]),"string"===e.params[r].type&&(s="'"+s+"'"),t=t.replaceAll("@"+e.params[r].name,s)}return t},runDatasetSQL=function(e,a){if(message.hideAll(),Datasets.findOne(e._id).sqlSource&&""!==Datasets.findOne(e._id).sql){message.add("Running query...",{type:"info",timer:!1});var t=getSQLWithParams(e);Meteor.call("runSourceQuery",Datasets.findOne(e._id).sqlSource,e.sql,function(e,t){t.error?message.add(t.error,{type:"danger"}):(message.add("Query succeeded. Number of rows: "+t.result.rows.length+". Time: "+t.time+" seconds.",{type:"info",timer:5}),a(t.result))})}},runDatasetSQLGrid=function(){DS.dbObject.sql=DS.sql_editor.getValue(),runDatasetSQL(DS.dbObject,function(e){e.rows.length>0&&(DS.dbObject.text=JSONArrayToCSV(e.rows),DS.parseUpdateData(),DS.initGrid({columns:e.columns,data:e.rows}))})};var e=function(e,a){if($(e).hasClass("sql-param-type")){var t="String";"String"===a&&(t="Number"),$(e).parent().parent().find(".text").html(a),$(e).find("a").html(t)}};Template.dataset_sql.events({"click #btn-add-sql":function(e,a){Datasets.update({_id:DS.dbObject._id},{$set:{sql:""}})},"click #btn-remove-sql":function(e,a){bootbox.confirm("Remove SQL for this dataset?",function(e){e&&Datasets.update({_id:DS.dbObject._id},{$unset:{sql:null}})})},"click #btn-reset-data":function(e,a){DS.dbObject.text=JSONArrayToCSV(DS.data().data),DS.parseUpdateData(),DS.initGrid()},"click #btn-run-sql":function(e,a){Datasets.update({_id:DS.dbObject._id},{$set:{sql:DS.sql_editor.getValue()}}),DS.dbObject.sql=DS.sql_editor.getValue(),runDatasetSQLGrid()},"click #btn-save-sql":function(e,a){Datasets.update({_id:DS.dbObject._id},{$set:{sql:DS.sql_editor.getValue()}}),DS.dbObject.sql=DS.sql_editor.getValue(),message.add("SQL query is saved.",{type:"info",timer:5})},"click .select-source-db":function(e,a){Datasets.update({_id:DS.dbObject._id},{$set:{sqlSource:this._id}})},"click .btn-edit-parameter":function(a,t){$("#sqlParameterModal").find(".btn-save").html("Update"),$("#sqlParameterModal .sql-param-name").attr("original-name",this.name),$("#sqlParameterModal .sql-param-name").val(this.name),$("#sqlParameterModal .sql-param-default-value").val(this.defaultValue),e($("#sqlParameterModal .sql-param-type"),this.type.toUpperCase0()),$("#sqlParameterModal").modal("show")},"click .btn-delete-parameter":function(e,a){var t=this.name;bootbox.confirm("Remove SQL parameter?",function(e){if(e){for(var a=!1,r=0;r<DS.dbObject.params.length;r++)DS.dbObject.params[r].name===t&&(a=!0);a&&DS.dbObject.params.splice(r-1,1),Datasets.update({_id:DS.dbObject._id},{$set:{params:DS.dbObject.params}})}})},"click #btn-add-parameter":function(a,t){$("#sqlParameterModal").find(".btn-save").html("Add"),$("#sqlParameterModal .sql-param-name").val(""),$("#sqlParameterModal .sql-param-default-value").val(""),e($("#sqlParameterModal .sql-param-type"),"String"),$("#sqlParameterModal").modal("show")}}),Template.dataset_sql_editor.rendered=function(){DS.sql_editor=ace.edit("sql-editor"),DS.sql_editor.setTheme("ace/theme/monokai"),DS.sql_editor.getSession().setMode("ace/mode/sql"),DS.sql_editor.setShowPrintMargin(!1),DS.sql_editor.getSession().setTabSize(2),DS.sql_editor.renderer.setShowGutter(!1),DS.sql_editor.getSession().setUseWorker(!1),DS.sql_editor.setValue(Datasets.findOne(DS.dbObject._id).sql),DS.sql_editor.gotoLine(0),runDatasetSQLGrid()},Template.sql_parameter_modal.events({"click .sql-param-type":function(a,t){e(a.currentTarget,$(a.currentTarget).find("a").html())},"click .btn-save":function(e,a){var t=$(".sql-param-name").val(),r=$(".sql-param-default-value").val();if(paramType=$(".sql-param-type .text").html().toLowerCase(),""===t||""===r)message.add("Please enter name and/or default value.",{type:"danger",timer:5});else{DS.dbObject.params||(DS.dbObject.params=[]);for(var s=!1,d=0;d<DS.dbObject.params.length;d++){if("Add"===$(e.currentTarget).html())var l=t;else var l=$(".sql-param-name").attr("original-name");if(DS.dbObject.params[d].name===l){DS.dbObject.params[d].name=t,DS.dbObject.params[d].defaultValue=r,DS.dbObject.params[d].type=paramType,s=!0;break}}"Add"===$(e.currentTarget).html()&&s?message.add("Parameter name already exists.",{type:"danger",timer:5}):("Add"!==$(e.currentTarget).html()||s||DS.dbObject.params.push({name:t,defaultValue:r,type:paramType}),Datasets.update({_id:DS.dbObject._id},{$set:{params:DS.dbObject.params}}),$(".sql-param-name").val(""),$(".sql-param-default-value").val(""),$("#sqlParameterModal").modal("hide"))}}})}).call(this);

(function(){Template.url_import_modal.events({"click .btn-import":function(t,e){var l=$("#url-data-input");return $(".btn-close,.btn-import,.btn-import-loading").toggle(),Meteor.call("importUrlDataset",DS.dbObject._id,l.val(),function(t,e){!0===$("#live-url").is(":checked")&&Datasets.update(DS.dbObject._id,{$set:{liveUrl:!0,url:l.val()}}),$(".btn-close,.btn-import,.btn-import-loading").toggle(),l.val(""),$("#live-url").attr("checked",!1),DS.dbObject.text=e,DS.parseUpdateData(),DS.initGrid(),$("#modalUrlImport").modal("hide")}),!1}})}).call(this);

(function(){Template.dataset_used_in.helpers({charts:function(){return getChartsRelatedToDataset(DS.dbObject._id)},documents:function(){return getDocumentsRelatedToDataset(DS.dbObject._id)}})}).call(this);

(function(){Template.dataset_view.rendered=function(){DS.init(),DS.initGrid()}}).call(this);

(function(){function t(){var t="VIDA Open Source Data Visualization",e=CD.dbObject.name?CD.dbObject.name:t,a=CD.dbObject.description?CD.dbObject.description:t;$("meta.social-tag").remove(),$("head").append("   <meta class='social-tag' name='twitter:title' content='"+e+"'>   <meta class='social-tag' name='twitter:description' content='"+a+"'>   <meta class='social-tag' name='twitter:card' content='summary'>   <meta class='social-tag' name='twitter:site' content='@vidatalk'>   <meta class='social-tag' name='twitter:creator' content='@vidatalk'>   <meta class='social-tag' name='twitter:image' content='"+getDocumentThumbnailURL(CD.dbObject)+"'>   <meta class='social-tag' property='og:title' content='"+e+"' />   <meta class='social-tag' property='og:description' content='"+a+"' />   <meta class='social-tag' property='og:type' content='article' />   <meta class='social-tag' property='og:url' content='https://vida.io/documents/"+CD.dbObject._id+"' />   <meta class='social-tag' property='og:site_name' content='VIDA Open Source Data Visualization' />   <meta class='social-tag' property='fb:admins' content='Facebook numeric ID' />   <meta class='social-tag' property='og:image' content='"+getDocumentThumbnailURL(CD.dbObject)+"' />   ")}Template.document_canvas.rendered=function(){CD.show(!0),CD.trackDocumentChanges(),CD.inViewMode()&&(t(),Meteor.user()&&getRelatedDocuments().count()<5&&documentSearch({tags:_.pluck(CD.dbObject.tags,"name"),limit:5}))}}).call(this);

(function(){Template.explore_charts.helpers({trendingCharts:function(){return getTrendingCharts()},recentCharts:function(){var t=getTrendingCharts().map(function(t){return t._id});return getRecentCharts(t)},trendingChartsReady:function(){return Session.get(SS_EXPLORE_CHARTS_READY)}})}).call(this);

(function(){Template.explore_dashboards.helpers({trendingDashboards:function(){return getTrendingDashboards()},recentDashboards:function(){return getRecentDashboards()},trendingDashboardsReady:function(){return Session.get(SS_EXPLORE_DASHBOARDS_READY)}})}).call(this);

(function(){Template.explore_datasets.helpers({trendingDatasets:function(){return getTrendingDatasets()},recentDatasets:function(){var e=getTrendingDatasets().map(function(e){return e._id});return getRecentDatasets(e)},exploreDatasetReady:function(){return Session.get(SS_EXPLORE_DATASETS_READY)}})}).call(this);

(function(){Template.explore_documents.helpers({trendingDocs:function(){return getTrendingDocs(getCategoryBaseDocs())},recentDocs:function(){var e=getCategoryBaseDocs(),n=getTrendingDocs(e).map(function(e){return e._id}),t=_.union(e,n);return getRecentDocs(t)},exploreDocumentReady:function(){return Session.get(SS_EXPLORE_DOCUMENTS_READY)},categories:function(){return eCategories},categoryDocs:function(){if(handles.exploreDocument&&handles.exploreDocument.ready())return getCategoryBaseDocs(this)},documentSearchUrl:function(){return"/documents/search?t="+encodeURIComponent(this.tags.join())}}),Template.explore_documents.rendered=function(){Session.set(SS_EXPLORE_DOCUMENTS_READY,!1),Session.set(SS_EXPLORE_CHARTS_READY,!1),Session.set(SS_EXPLORE_DATASETS_READY,!1),Session.set(SS_EXPLORE_PROFILES_READY,!1),Tracker.autorun(function(){handles.exploreDocument=Meteor.subscribe("exploreFeed","document",function(){Session.set(SS_EXPLORE_DOCUMENTS_READY,!0)})})}}).call(this);

(function(){Session.setDefault("exploreTab",0),Template.explore.helpers({}),Template.explore.events({"click .explore-tabs a":function(e){Session.set("exploreTab",$(e.currentTarget).data("index"))},"click #back-to-top":function(e){$("html, body").animate({scrollTop:0},"slow")},"click .btn-tab":function(e){"#tab-d3"===$(e.target).attr("href")&&setPageTitle("Explore D3.js"),"#tab-gchart"===$(e.target).attr("href")&&(setPageTitle("Explore Google Visualization"),Tracker.autorun(function(){handles.exploreDocument=Meteor.subscribe("exploreFeed","chart",function(){Session.set(SS_EXPLORE_CHARTS_READY,!0)})})),"#tab-dataset"===$(e.target).attr("href")&&(setPageTitle("Explore Dataset"),Tracker.autorun(function(){handles.exploreDocument=Meteor.subscribe("exploreFeed","dataset",function(){Session.set(SS_EXPLORE_DATASETS_READY,!0)})})),"#tab-profile"===$(e.target).attr("href")&&(setPageTitle("Explore Profile"),Tracker.autorun(function(){handles.exploreDocument=Meteor.subscribe("exploreProfiles",function(){Session.set(SS_EXPLORE_PROFILES_READY,!0)})})),"#tab-dashboard"===$(e.target).attr("href")&&(setPageTitle("Explore Dashboards"),Tracker.autorun(function(){handles.exploreDocument=Meteor.subscribe("exploreFeed","dashboard",function(){Session.set(SS_EXPLORE_DASHBOARDS_READY,!0)})}))}}),Template.explore.rendered=function(){var e=$("#back-to-top");$(".explore-tabs a").eq(Session.get("exploreTab")).click(),$(window).scroll(function(){$(".explore-tabs").is(":in-viewport")?e.fadeOut(500):e.fadeIn(500)})}}).call(this);

(function(){Template.explore_profiles.helpers({trendingUsers:function(){return getTrendingUsers()},recentUsers:function(){var e=getTrendingUsers().map(function(e){return e._id});return getRecentUsers(e)},usersReady:function(){return Session.get(SS_EXPLORE_PROFILES_READY)}})}).call(this);

(function(){function e(){for(var e=Gists.findOne(GIST.dbObject._id),t=e&&e.files?Object.keys(e.files):[],i=[],s=0;s<t.length;s++)t[s]=t[s].replace(/\//g,"."),-1===t[s].indexOf("thumbnail")&&i.push(t[s]);return i}function t(e){return e}Template.gist_editor.helpers({currentGist:function(){return Gists.findOne(GIST.dbObject._id)}}),Template.gist_editor_settings.helpers({convertDotToDash:function(e){return e.replace(/\./g,"-")},gistFiles:function(){return e()},gistFileIndex:function(t){return e().indexOf(t)+1},gistFileDisplayName:function(e){return t(e)},gistId:function(){return Gists.findOne(GIST.dbObject._id).gistId},githubConnect:function(){return Meteor.user().services&&Meteor.user().services.github&&Meteor.user().services.github.accessToken},publishGistId:function(){return Gists.findOne(GIST.dbObject._id).publishGistId},userGists:function(){return Meteor.call("listGists",function(e,t){if(!e){for(var i=Gists.findOne(GIST.dbObject._id),s=JSON.parse(t),n=[],o=0;o<s.length;o++)n.push(s[o].id),i.publishGistId||i.gistId!==s[o].id||(i.publishGistId=s[o].id,Gists.update(GIST.dbObject._id,{$set:{publishGistId:i.publishGistId}}));Session.set(SS_GISTS_USER_LIST,n)}}),Session.get(SS_GISTS_USER_LIST)}});var i=function(e,t,i){var s=ace.edit(e);return s.setTheme("ace/theme/monokai"),-1!==t.indexOf("/html")?s.getSession().setMode("ace/mode/html"):-1!==t.indexOf("/js")?s.getSession().setMode("ace/mode/javascript"):-1!==t.indexOf("/css")?s.getSession().setMode("ace/mode/css"):-1!==t.indexOf("/json")?s.getSession().setMode("ace/mode/json"):-1!==t.indexOf("/csv")?s.getSession().setMode("ace/mode/text"):-1!==t.indexOf("/md")?s.getSession().setMode("ace/mode/markdown"):s.getSession().setMode("ace/mode/text"),s.setValue(i),s.gotoLine(0),s.getSession().setTabSize(2),s.getSession().on("change",function(e){var i=s.getValue();GIST.dbObject.files[t].content=i}),s};Template.gist_editor_settings.rendered=function(){for(var s=e(),n=0;n<s.length;n++){var o=t(s[n]),c=s[n].replace(/\./g,"/"),d="editor-"+s[n],r=Gists.findOne(GIST.dbObject._id);i(d,c,r.files[c].content)}setPageTitle(GIST.dbObject.name),Mousetrap.bindGlobal("ctrl+return",function(e){return document.getElementById("btn-gist-save-refresh")&&document.getElementById("btn-gist-save-refresh").click(),!1})},Template.gist_editor_menu.events({"click #btn-gist-save-refresh":function(e){ET.Gists.btnSave(),Meteor.call("updateGistFiles",GIST.dbObject._id,GIST.dbObject.files,function(e,t){e?console.log(e):attachGistIFrame()})},"click #btn-gist-clone":function(e){if(ET.Gists.btnClone(),withinSubscriptionLimit(getUserGists(Meteor.userId()).count()))return Meteor.call("cloneGist",GIST.dbObject._id,function(e,t){e?message.add(e.message,{type:"danger"}):(message.add("Done! You can edit now."),Router.go("gistEditor",{_id:t}))}),e.preventDefault(),!1}}),Template.gist_editor_settings.events({"click a.gist-file":function(e){var t="#tab-nav-"+this.toString().replace(/\./g,"-")+" a";$("span.gist-file-name").html(this.toString()),$(t).click()},"click .btn-connect-github":function(e){Meteor.linkWithGithub({requestPermissions:["gist","repo","user:email"]},function(e){})},"click #btn-gist-push":function(e){Meteor.call("pushGist",GIST.dbObject._id,function(e,t){e?message.add("Unable to push code to GitHub gist. Please connect to GitHub again.",{type:"danger"}):message.add("Code is pushed to GitHub gist.")})},"click .user-gist-id":function(e){var t=this.toString();Gists.update(GIST.dbObject._id,{$set:{publishGistId:t}})}}),Template.gist_editor.events({"click .btn-clone":function(e){return ET.Gists.btnClone(),Meteor.call("cloneGist",GIST.dbObject._id,function(e,t){e?message.add(e.message,{type:"danger"}):(message.add("Done! You can edit now."),Router.go("gistEditor",{_id:t}))}),e.preventDefault(),!1}}),Template.gist_editor.events(okCancelEvents("#gist-name-input",{ok:function(e,t){e?(setPageTitle(e),Gists.update(GIST.dbObject._id,{$set:{name:e}}),GIST.dbObject.name=e,Session.set(SS_EDIT_DOC_NAME,null)):message.add("Must not be empty",{type:"danger"})},cancel:function(){$("#gist-name-input").val(GIST.dbObject.name).blur(),Session.set(SS_EDIT_DOC_NAME,null)}})),Template.gist_editor.events(okCancelEvents("#gist-description-input",{ok:function(e,t){Gists.update(GIST.dbObject._id,{$set:{description:e}}),GIST.dbObject.description=e,Session.set(SS_EDIT_DOC_DESC,null)},cancel:function(){$("#gist-description-input").val(GIST.dbObject.description).blur(),Session.set(SS_EDIT_DOC_DESC,null)}}))}).call(this);

(function(){Template.gist_editor_menu.helpers({}),Template.gist_editor_menu.events({"click #btn-gist-delete":function(e){return bootbox.confirm("This gist will be removed permanently. Are you sure?",function(e){e&&removeGist(GIST.dbObject._id)}),e.preventDefault(),!1}})}).call(this);

(function(){Template.gist_view.rendered=function(){attachGistIFrame()}}).call(this);

(function(){Template.header.helpers({organization:function(){if(Meteor.settings&&Meteor.settings.public.organization)return Meteor.settings.public.organization.split(" ")[0].toLowerCase()}}),Template.header.events({"click #login-buttons-logout":function(e){Meteor.logout(function(e){afterLogout()})},"click #btn-save-refresh":function(e){ET.Documents.btnSave();var t=$(document.activeElement);return t.hasClass("prop-input")&&t.blur(),CD.noOwner()&&ws.doc.saveDemo(),CD.createCanvasStyle(),CD.saveUpdate(),message.add("Saving document ...",{timer:1,type:"info",btnClose:!1}),CD.unsaved(!1),CD.returnEditorFocus(),CD.dbObject.teamIds?_.each(CD.dbObject.teamIds,function(e){Meteor.call("createTeamNotification",{type:NTF.TEAM.NAME,teamId:e,event:NTF.TEAM.TYPES.DOC_CHANGE,docId:CD.dbObject._id})}):Meteor.call("documentUpdateNotification",{type:NTF.DOC.NAME,targetId:CD.dbObject._id,event:NTF.DOC.TYPES.DOC_CHANGE}),t.hasClass("prop-input")&&t.focus(),!1},"click .btn-document-clone":function(e,t){return ET.Documents.btnClone(),CD.dbObject.noClone?message.add("You need to allow cloning first in Settings",{type:"danger"}):CD.dbObject.mode===DOC_MODE_PARTIAL?message.add("Cannot clone from a partial document!<br/>Please use the template document",{type:"danger"}):cloneDocument(CD.dbObject._id,!0),e.preventDefault(),!1},"click .btn-help":function(e,t){ET.Documents.btnHelp()},"click .btn-swap":function(e){ET.Documents.btnSwap(),ws.editor.swap(),e.preventDefault()},"click .switch-on":function(e){ws.show($(e.currentTarget).data("target")),e.preventDefault()},"click #btn-source-clone":function(e){cloneSource(SRC.dbObject._id),e.preventDefault()},"click #btn-dataset-clone":function(e){ET.Datasets.btnClone(),cloneDataset(DS.dbObject._id),e.preventDefault()},"click #btn-chart-clone":function(e){ET.Charts.btnClone(),cloneChart(GC.dbObject._id),e.preventDefault()},"click #toggle-public-view":function(e){-1!=window.location.pathname.indexOf("/dashboards")?Router.go("dashboard.show",{_id:DBR.dbObject._id}):Router.go("document.show",{_id:CD.dbObject._id}),e.preventDefault()},"click #open-canvas-window":function(e){var t="/embed/"+CD.dbObject._id.toString()+"?r=1";window.open(t,CD.dbObject.name,"directories=0,titlebar=0,toolbar=0,location=0,status=0,menubar=0,height=640,width=980"),ws.show("editor"),e.preventDefault()},"click #disable-safemode":function(e){return bootbox.confirm("If you have any bug, please fix before disabling. Are you sure?",function(e){e&&(Documents.update(CD.dbObject._id,{$set:{safeMode:!1}}),CD.dbObject.safeMode=!1)}),e.preventDefault(),!1}}),Template.home_menu.events({"click #btn-toggle-edit":function(e){-1!=window.location.pathname.indexOf("/dashboards")?Router.go("dashboard.edit",{_id:DBR.dbObject._id}):Router.go("document.edit",{_id:CD.dbObject._id}),e.preventDefault()}})}).call(this);

(function(){Template.enterpriseLoginButtons.helpers({nameEmail:function(){return getNameEmail(Meteor.user())}}),Template.enterpriseLoginButtons.events({"click .btn-login":function(e){return Meteor.user()?($(".loading-backdrop").show(),Meteor.logout(function(e){afterLogout(),$(".loading-backdrop").hide()})):Meteor.loginWithSmartsheet&&($(".loading-backdrop").show(),Meteor.loginWithSmartsheet(function(e){$(".loading-backdrop").hide()})),e.preventDefault(),!1},"click .dropdown-menu":function(e){return e.preventDefault(),!1}})}).call(this);

(function(){adminDataSubHandle=null,adminTab=new ReactiveVar("Users"),Template.admin.rendered=function(){$('.snav li a:contains("'+adminTab.get()+'")').parent().addClass("active")},Template.admin.events({"click .btn-toggle":function(n){return btnToggle(n.currentTarget),!1}})}).call(this);

(function(){Template.defaultLayout.events({"click .btn-toggle":function(e){return btnToggle(e.currentTarget),!1},"click .btn-require-login":function(e){if(!Meteor.userId())return message.add("Please sign in first",{type:"danger",timer:5}),e.preventDefault,!1}}),btnToggle=function(e){var n=$(e).closest(".toggle-input"),t=n.find("input");hiddenEl=n.find(".toggle.hidden"),showEl=n.find(".toggle").not(".hidden"),showEl.addClass("hidden"),hiddenEl.removeClass("hidden"),t.is(":visible")&&t.focus()}}).call(this);

(function(){homeTab=new ReactiveVar("D3"),Template.home.rendered=function(){resetHome(),$(".snav li[data-tab="+homeTab.get()+"]").addClass("active"),Meteor.subscribe("userData",[],function(){Meteor.user()&&void 0===Meteor.user().more&&!isEnterprise()&&$("#modalMoreInfo").modal("show")})},resetHome=function(){message&&message.current&&!message.current.dismiss&&message.callback.done()},getHomeTabText=function(e){var a="";switch(e){case"/":case"d3":a="D3 Documents";break;case"gcharts":a="Google Charts";break;case"/admin":a="Users";break;case"dashboards":a="Dashboards";break;default:a=e.toUpperCase0();break}return a}}).call(this);

(function(){Template.notification_entry.helpers({valid_notification:function(){return this.type===NTF.DOC.NAME||this.type===NTF.DBR.NAME||this.type===NTF.USER.NAME||this.type===NTF.TEAM.NAME},ntfTeam:function(){return this.type===NTF.TEAM.NAME},ntfUser:function(){return this.type===NTF.USER.NAME},typeClass:function(){return this.type===NTF.DOC.NAME||this.type===NTF.DBR.NAME||this.type===NTF.TEAM.NAME?"ntf-doc":this.type===NTF.USER.NAME?"ntf-profile":void 0},body:function(){return this.body?this.body:getNotificationBody(this)},time:function(){return moment(1e3*this.createdAt).fromNow()}}),Template.notification_entry.events({"click .ntf-doc":function(t){Meteor.call("markRead",this._id)},"click .ntf-profile":function(t){Meteor.call("markRead",this._id)},"click .ntf-remove":function(){return Notifications.remove(this._id),!1}})}).call(this);

(function(){Template.notifications.helpers({notifications:function(){return Notifications.find({receiverId:Meteor.userId()},{sort:{createdAt:-1},limit:20})},count:function(){var t=getMyNotifications(Meteor.userId()).count(),n=t.toString()+" ";return n+=t>1?"notifications":"notification",t>20&&(n+=" (20 shown)"),n},unreadCount:function(){var t=getUnreadNotifications(Meteor.userId()).count();return t>9?"9+":t}}),Template.notifications.events({"click .mark-all-read":function(){Meteor.call("markAllRead",function(t,n){t&&console.log(t)})},"click .clear-notifications":function(){Meteor.call("clearNotifications",function(t,n){t&&console.log(t)})}})}).call(this);

(function(){Template.google_charts.helpers({chartTypes:function(){return CHART_TYPES}}),Template.google_charts.events({})}).call(this);

(function(){GOOGLE_CHARTS="google-charts",Template.pages.helpers({googleCharts:function(){return Session.get(SS_PAGE_NAME)===GOOGLE_CHARTS}})}).call(this);

(function(){function n(n,a){}var a=null;Template.pricing.helpers({hasStandardPlan:function(){return Meteor.user()&&hasStandardPlan()},hasProPlan:function(){return Meteor.user()&&hasProPlan()},hasUnlimitedPlan:function(){return Meteor.user()&&hasUnlimitedPlan()}}),Template.pricing.events({"click .btn-plan":function(n,e){return Meteor.user()?($("#modalPayment").modal("toggle"),a=$(n.target).data("plan")):(message.add("Please sign in before subscribing to a plan."),$("#login-form").click()),n.preventDefault(),!1},"click .btn-change-plan":function(n,e){return Meteor.user()?(a=$(n.target).data("plan"),bootbox.confirm("We will change your plan to: "+a.toUpperCase0()+". Are you sure?",function(n){n&&Meteor.call("getSubscription",function(n,e){Meteor.call("updateSubscription",a,e.subscriptions.data[0].id,function(n,a){n?message.add("Unable to update your plan. Please contact us.",{type:"danger"}):message.add("Your plan has been updated.")})})})):message.add("Please sign in before subscribing to a plan."),n.preventDefault(),!1}}),Template.pricing.rendered=function(){for(var n=$(".card-expiry-month"),e=(new Date).getMonth()+1,t=1;t<=12;t++)n.append($("<option value='"+t+"' "+(e===t?"selected":"")+">"+t+"</option>"));n=$(".card-expiry-year");for(var i=(new Date).getFullYear(),t=0;t<12;t++)n.append($("<option value='"+(t+i)+"' "+(0===t?"selected":"")+">"+(t+i)+"</option>"));$("#modalPayment").on("shown.bs.modal",function(){$(".btn-plan-submit").on("click",function(n){function e(n){$("#payment-notification").html('<i class="fa fa-spinner fa-spin"/> Creating new subscription'),Meteor.call("createSubscription",n,a,$("#input_coupon").val(),function(n,a){""!==a?($("#payment-notification").html("Successfully created new subscription"),$("#modalPayment").modal("hide"),Router.go("home/profile"),message.add("Thank you! Your subscription is now active.")):($("#payment-notification").html("Unable to process your credit card. Please send us an email to contact@vida.io."),$("#payment-notification").removeClass(),$("#payment-notification").addClass("alert-danger"),$("#modalPayment .btn").removeClass("disabled"),t.disabled=!1)})}var t=n.currentTarget;t.disabled=!0,$("#modalPayment .btn").addClass("disabled"),""!==$("#input_card_number").val()?($("#payment-notification").removeClass(),$("#payment-notification").addClass("alert-info"),$("#payment-notification").html('<i class="fa fa-spinner fa-spin"/> Processing card information'),$("#payment-notification").show(),Stripe.card.createToken({number:$("#input_card_number").val(),cvc:$("#input_cvc").val(),exp_month:$("#card_expiry_month").val(),exp_year:$("#card_expiry_year").val()},function(n,a){$("#modalPayment .btn").removeClass("disabled"),n>300?(t.disabled=!1,$("#payment-notification").html(a.error.message),$("#payment-notification").removeClass(),$("#payment-notification").addClass("alert-danger")):e(a.id)})):($("#payment-notification").removeClass(),$("#payment-notification").addClass("alert-info"),$("#payment-notification").html('<i class="fa fa-spinner fa-spin"/> Processing information'),$("#payment-notification").show(),e())})}),$("#modalPayment").on("hide",function(){$("#payment-notification").removeClass(),$("#payment-notification").hide()}),ET.Misc.pricing(Meteor.userId())}}).call(this);

(function(){Template.embed_modal.events({"click .select-text":function(e){$(e.currentTarget).select()}}),Template.embed_modal.rendered=function(){$("#modalShare").on("shown.bs.modal",function(){var e=window.location.pathname,t,d,o,i,a;if(e&&-1!==e.indexOf("/charts"))GC.dbObject&&(t="https://"+document.location.host+"/charts/"+GC.dbObject._id,d="http://embed."+document.location.host+"/charts/"+GC.dbObject._id,o="https://"+document.location.host+"/embed/"+GC.dbObject._id+"?chart=1",i=GC.dbObject.options.width+0,a=GC.dbObject.options.height+25),$("#embed-code").val(getEmbedCode({url:d,width:i,height:a})),$("#secure-embed-code").val(getEmbedCode({url:o,width:i,height:a})),$("#test-embed-link").attr("href",o);else if(e&&-1!==e.indexOf("/dashboards"))DBR.dbObject&&(t="https://"+document.location.host+"/dashboards/"+DBR.dbObject._id,d="https://"+document.location.host+"/embed/"+DBR.dbObject._id+"?dashboard=1",o="https://"+document.location.host+"/embed/"+DBR.dbObject._id+"?dashboard=1",i=800,a=800),$("#embed-code").val(getEmbedCode({url:d,width:i,height:a})),$("#secure-embed-code").val(getEmbedCode({url:o,width:i,height:a})),$("#test-embed-link").attr("href",o);else if(e&&-1!==e.indexOf("/gists")){t="https://"+document.location.host+"/gists/"+GIST.dbObject._id;var c='<iframe src="'+$("#iframe-viewer iframe").attr("src")+'" seamless frameborder="0" width="'+$("#iframe-viewer iframe").attr("width")+'" height="'+$("#iframe-viewer iframe").attr("height")+'"></iframe>';$("#embed-code").val(c),$("#secure-embed-code").val(c),$("#test-embed-link").attr("href",$("#iframe-viewer iframe").attr("src"))}else CD.dbObject&&(t="https://"+document.location.host+"/documents/"+CD.dbObject._id,d="http://embed."+document.location.host+"/documents/"+CD.dbObject._id,o="https://"+document.location.host+"/embed/"+CD.dbObject._id,$svg=$("#canvas svg"),i=$svg.width()||800,a=$svg.height()||450),$("#embed-code").val(getEmbedCode({url:d,width:i,height:a})),$("#secure-embed-code").val(getEmbedCode({url:o,width:i,height:a})),$("#test-embed-link").attr("href",o);$("#share-url").val(t)})}}).call(this);

(function(){function t(t,e,o,n){"undefined"!=typeof ga&&ga(vidaTrackerName+".send",{hitType:"event",eventCategory:t,eventAction:e,eventLabel:o,eventValue:void 0!==n?n:0,nonInteraction:1})}ET={},ET.Categories={DE:"Document Editor",CE:"Chart Editor",DSE:"Dataset Editor",USER:"Users",PRICING:"Pricing",PROFILE:"Profile",GIST:"Gist Editor"},ET.Documents={btnSetTemplate:function(){t(ET.Categories.DE,"click","set template")},btnCollaborators:function(){t(ET.Categories.DE,"click","share collaborators")},btnTeams:function(){t(ET.Categories.DE,"click","share team")},btnFromList:function(){t(ET.Categories.DE,"click","share from list")},btnEmbed:function(){t(ET.Categories.DE,"click","embed code")},btnSave:function(){t(ET.Categories.DE,"click","save")},btnClone:function(){t(ET.Categories.DE,"click","clone")},btnHelp:function(){t(ET.Categories.DE,"click","help")},btnShowCanvas:function(){t(ET.Categories.DE,"click","show canvas")},btnShowEditor:function(){t(ET.Categories.DE,"click","show editor")},btnShowBoth:function(){t(ET.Categories.DE,"click","show both canvas & editor")},btnSwap:function(){t(ET.Categories.DE,"click","swap canvas & editor")},noClone:function(){t(ET.Categories.DE,"click","no clone")},shortcutSave:function(){t(ET.Categories.DE,"keyup","save (ctrl + return) shortcut")},shortcutTab:function(e){t(ET.Categories.DE,"keyup","tab shortcuts (ctrl + 1/2/3/4/5/6)",e)}},ET.Charts={btnClone:function(){t(ET.Categories.CE,"click","clone")}},ET.Datasets={btnClone:function(){t(ET.Categories.DSE,"click","clone")}},ET.Users={new:function(e){t(ET.Categories.USER,"new",e)},login:function(e){t(ET.Categories.USER,"login",e)},logout:function(e){t(ET.Categories.USER,"logout",e)}},ET.Misc={pricing:function(e){t(ET.Categories.PRICING,"click",e)},profile:function(e){t(ET.Categories.PROFILE,"click",e)}},ET.Gists={btnSave:function(){t(ET.Categories.GIST,"click","save")},btnGistImport:function(){t(ET.Categories.GIST,"click","import")},btnClone:function(){t(ET.Categories.GIST,"click","clone")}}}).call(this);

(function(){var e=!1;Template.footer.rendered=function(){$(".carousel").carousel(),$("#modalTutorialVideo").on("hidden",function(){$(this).find("iframe")[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})},Template.footer.events({"click .btn-chevron":function(o){e=!e,$("footer .footer-toggle").slideToggle(100),o.preventDefault()}}),Template.footer.helpers({show_footer:function(){return e}})}).call(this);

(function(){Template.invalid_document.helpers({signinRequired:function(){return 1==getParameterByName("signin")}})}).call(this);

(function(){var e=[];ResourceLoader=function(){},ResourceLoader.prototype.addResource=function(e,s){var o=e.dbObject.resources||[],r=_.map(o,function(e){return e.name});if(-1===_.indexOf(r,s.name))if("js"==s.type||"css"==s.type||"jsapi"==s.type){if(o.push(s),this.loadResources(s,function(){message.add("Resource loaded",{timer:4})}),e.dbObject.resources=o,e instanceof DocumentLoader)var a=Documents;else if(e instanceof DatasetLoader)var a=Datasets;a.update(e.dbObject._id,{$set:{resources:o}})}else message.add("Invalid type, please use JS or CSS only",{type:"danger"});else message.add(s.name+" has been included",{type:"danger"})},ResourceLoader.prototype.loadResources=function(s,o){function r(){if(i.length>0){var s=i.pop();if(-1===_.indexOf(e,s.name)){if("css"===s.type){var o=s.name;-1===s.uri.toLowerCase().indexOf("flatly")?a(o,s.uri,function(){r()}):(t(),u||r())}else if("js"===s.type||"jsapi"===s.type){var o=s.name;-1===s.uri.toLowerCase().indexOf("jquery.js")||-1!==s.uri.toLowerCase().indexOf("jquery-ui.js")||-1===s.uri.toLowerCase().indexOf("jquery.min.js")||-1!==s.uri.toLowerCase().indexOf("jquery-ui.min.js")?n(o,s.uri,function(){r()}):(t(),u||r())}}else t(),u||r()}else t()}function a(s,o,r){$('<link data-resource="'+s+'" rel="stylesheet" class="doc-stylesheet" type="text/css" href="'+o+'">').appendTo("head"),e.push(s),r()}function n(s,o,r){$.getScript(o).done(function(o,a,n){e.push(s),r()}).fail(function(){message.add("Failed to load resouce: "+s,{type:"danger"})})}function t(){0===_.difference(loadingResources,_.intersection(e,loadingResources)).length&&!u&&o&&(u=!0,o())}var i=(_.isArray(s)?s:[s]).slice(0),u=!1;loadingResources=[];for(var c=0;c<i.length;c++){var d=i[c];if(-1===_.indexOf(e,d.name))if("css"===d.type){var f=d.name;-1===d.uri.toLowerCase().indexOf("flatly")&&loadingResources.push(f)}else if("js"===d.type||"jsapi"===d.type){var f=d.name;loadingResources.push(f)}}r()},ResourceLoader.prototype.removeResource=function(s,o){"css"===s.type&&$('link[data-resource="'+s.name+'"]').remove(),e=_.without(e,s.name)},CurrentResource=new ResourceLoader}).call(this);

(function(){VIDA_DOCUMENT_TYPES={documents:"D3",datasets:"Dataset",charts:"Chart",teams:"Team",dashboards:"Dashboard",gists:"Gist",sources:"Source"}}).call(this);

(function(){editorShortcuts=function(){Mousetrap.bindGlobal("ctrl+1",function(t){return ET.Documents.shortcutTab(0),setEditorTab(0),$("#settings-tab").click(),!1}),Mousetrap.bindGlobal("ctrl+2",function(t){return ET.Documents.shortcutTab(1),setEditorTab(1),$("#data-tab").click(),!1}),Mousetrap.bindGlobal("ctrl+3",function(t){return ET.Documents.shortcutTab(2),setEditorTab(2),$("#properties-tab").click(),!1}),Mousetrap.bindGlobal("ctrl+4",function(t){return ET.Documents.shortcutTab(3),setEditorTab(3),$("#javascript-tab").click(),!1}),Mousetrap.bindGlobal("ctrl+5",function(t){return ET.Documents.shortcutTab(4),setEditorTab(4),$("#css-tab").click(),!1}),Mousetrap.bindGlobal("ctrl+6",function(t){return ET.Documents.shortcutTab(5),setEditorTab(5),$("#html-tab").click(),!1}),Mousetrap.bindGlobal("ctrl+7",function(t){return ET.Documents.shortcutTab(6),setEditorTab(6),$("#readme-tab").click(),!1}),Mousetrap.bindGlobal("ctrl+/",function(t){return ws.canvasOnly(),!1}),Mousetrap.bindGlobal("ctrl+return",function(t){return ET.Documents.shortcutSave(),document.getElementById("btn-save-refresh")&&document.getElementById("btn-save-refresh").click(),!1}),Mousetrap.bindGlobal("esc",function(t){return!1})}}).call(this);

(function(){function e(e,t){""===t?message.add(e.toUpperCase0()+" is empty"):(SRC.dbObject.fields||(SRC.dbObject.fields={}),SRC.dbObject.fields[e]=t,Sources.update(SRC.dbObject._id,{$set:{fields:SRC.dbObject.fields}}),message.add(e.toUpperCase0()+" updated"))}Template.source_edit.helpers({currentSourceSQL:function(){return"postgres"===Sources.findOne(SRC.dbObject._id).fields.db_type||"mysql"===Sources.findOne(SRC.dbObject._id).fields.db_type||"sqlserver"===Sources.findOne(SRC.dbObject._id).fields.db_type||"teradata"===Sources.findOne(SRC.dbObject._id).fields.db_type},currentSourceBigQuery:function(){return"bigquery"===Sources.findOne(SRC.dbObject._id).fields.db_type},getCurrentDbDisplay:function(){return"postgres"===SRC.dbObject.fields.db_type?"Postgres":"mysql"===SRC.dbObject.fields.db_type?"MySQL":"sqlserver"===SRC.dbObject.fields.db_type?"MS SQL Server":"bigquery"===SRC.dbObject.fields.db_type?"BigQuery":"teradata"===SRC.dbObject.fields.db_type?"Teradata":void 0},getBigQueryKeyfileName:function(){return SRC.dbObject.fields.name}}),Template.source_edit.events({"blur .source-field":function(t){e($(t.currentTarget).attr("source-field"),$(t.currentTarget).val())},"keypress .source-field":function(t){13===t.which&&(e($(t.currentTarget).attr("source-field"),$(t.currentTarget).val()),$(this).blur())},"click a.db-source":function(e){SRC.dbObject.fields.db_type=$(e.currentTarget).attr("source-type"),Sources.update(SRC.dbObject._id,{$set:{fields:SRC.dbObject.fields}})},"change #upload-bigquery-key":function(e){message.hideAll();var t=e.target.files[0];if(-1!==t.type.indexOf("json")){var d=new FileReader;d.onload=function(e){SRC.dbObject.fields.name=t.name,SRC.dbObject.fields.key_file=this.result,Sources.update(SRC.dbObject._id,{$set:{fields:SRC.dbObject.fields}}),message.add("Your credentials file was updated.",{type:"info",timer:10})},d.readAsText(t)}else message.add("Please upload JSON format",{type:"danger"})}}),Template.source_edit.events(okCancelEvents("#source-name-input",{ok:function(e,t){e?(Sources.update(SRC.dbObject._id,{$set:{name:e}}),SRC.dbObject.name=e):message.add("Must not be empty",{type:"danger"})},cancel:function(){$("#source-name-input").val(SRC.dbObject.name).blur()}})),Template.source_edit.events(okCancelEvents("#source-description-input",{ok:function(e,t){Sources.update(SRC.dbObject._id,{$set:{description:e}}),SRC.dbObject.description=e},cancel:function(){$("#source-description-input").val(SRC.dbObject.description).blur()}})),Template.source_edit.rendered=function(){for(var e in SRC.dbObject.fields)$("#"+e+"-input").val(SRC.dbObject.fields[e])}}).call(this);

(function(){Template.source_menu.helpers({}),Template.source_menu.events({"click #btn-source-delete":function(e){return bootbox.confirm("This source will be removed permanently. Are you sure?",function(e){e&&removeSource(SRC.dbObject._id)}),e.preventDefault(),!1}})}).call(this);

(function(){}).call(this);

(function(){Template.source_entry.helpers({}),Template.source_entry.events({})}).call(this);

(function(){Template.tag_w0.helpers({tags:function(){var t=CD.now();if(t&&t.tags&&t.tags.length>0)return _.pluck(t.tags,"name")}}),Template.tag_w0.events({"click .remove-tag":function(t){return CD.removeTag($(t.currentTarget).data("tag-name").toString()),t.preventDefault(),!1},"click .btn-add-tag":function(t){CD.addTag($(".tag-input.tt-input").val())},"keyup .tag-input":function(t){13===t.keyCode&&CD.addTag($(".tag-input").val())}}),Template.tag_w0.rendered=function(){initTagInput()}}).call(this);

(function(){Template.tag_w1.helpers({tags:function(){var t=CD.now();if(t&&t.tags&&t.tags.length>0)return _.pluck(t.tags,"name")}}),Template.tag_w1.events({"click .remove-tag":function(t){return CD.removeTag($(t.currentTarget).data("tag-name").toString()),t.preventDefault(),!1},"click .btn-add-tag":function(t){CD.addTag($(".tag-input").val())},"keyup .tag-input":function(t){13===t.keyCode&&CD.addTag($(".tag-input").val())}}),Template.tag_w1.rendered=function(){initTagInput()}}).call(this);

(function(){initTagInput=function(){var t=$(".tag-input");t.typeahead({minLength:1,highlight:!0,hint:!0},{limit:10,source:function(n,a,e){Meteor.call("getMatchedTags",t.val(),function(t,n){if(!t&&n){for(i=0;i<n.length;i++)n[i]=TagName.toTitle(n[i]);return e(n)}})},updater:function(t){}}),t.bind("typeahead:select",function(t,i){CD.addTag(i)})}}).call(this);

(function(){Template.team_menu.helpers({}),Template.team_menu.events({"click #btn-team-delete":function(){isTeamAdmin()&&bootbox.confirm("This action will remove all members, documents and related information to the team. <br/>Are you sure?",function(e){e&&(removeTeam(TM.dbObject._id),Router.go(Session.get(SS_CURRENT_HOME_PATH)))})},"click #btn-team-leave":function(){checkRemoveMember(TM.id(),{userId:Meteor.userId()})}})}).call(this);

(function(){tour={id:"hello-hopscotch",steps:[{title:"My Header",content:"This is the header of my page.",target:"document-settings",placement:"top"},{title:"My content",content:"Here is where I put my content.",target:"document-settings",placement:"left"}]}}).call(this);

(function(){ucSortByAlphabet=function(){var e=Meteor.user();return e&&e.config&&e.config[UC_SORT]===SORT_BY_ALPHABET},ucSortByRecent=function(){var e=Meteor.user();return e&&e.config&&e.config[UC_SORT]===SORT_BY_RECENT},ucSetSortByAlphabet=function(){Meteor.call("userConfig",UC_SORT,SORT_BY_ALPHABET)},ucSetSortByRecent=function(){Meteor.call("userConfig",UC_SORT,SORT_BY_RECENT)}}).call(this);

(function(){Template.user_stat.helpers({counter:function(){return Meteor.user().profileViewCount||0},counter7:function(){return Meteor.user().profileViewCount7||0},counter30:function(){return Meteor.user().profileViewCount30||0}})}).call(this);

(function(){Template.user.helpers({user:function(){var e=Session.get(SS_USERNAME_USERID);if(e)return Meteor.users.findOne(e)},picture:function(){return getUserPictureURL(Meteor.users.findOne(Session.get(SS_USERNAME_USERID)))},name:function(){return getUserFullName(Meteor.users.findOne(Session.get(SS_USERNAME_USERID)))},documents:function(){var e=Meteor.users.findOne(Session.get(SS_USERNAME_USERID)),n=Documents.find({privacy:PUBLIC,owner:e._id});if(e&&0!==n.count())return n},charts:function(){var e=Meteor.users.findOne(Session.get(SS_USERNAME_USERID)),n=Charts.find({privacy:PUBLIC,owner:e._id});if(e&&n.count())return n},userFound:function(){return handles.userData&&handles.userData.ready()&&null!==Session.get(SS_USERNAME_USERID)},loadingUser:function(){return handles.userData&&!handles.userData.ready()},selfProfile:function(){return Session.get(SS_USERNAME_USERID)===Meteor.userId()},docTotal:function(){return Documents.find({owner:Session.get(SS_USERNAME_USERID)}).count()},viewTotal:function(){var e=0;return Documents.find({owner:Session.get(SS_USERNAME_USERID)}).forEach(function(n){e+=n.counter}),e}}),Template.user.rendered=function(){}}).call(this);

!function(e,a,i,t,n,r,s){e.GoogleAnalyticsObject=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},e[n].l=1*new Date,r=a.createElement(i),s=a.getElementsByTagName(i)[0],r.async=1,r.src=t,s.parentNode.insertBefore(r,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),initializeGA=function(e,a){ga("create",e,"auto",{name:a}),ga(a+".require","linkid","linkid.js"),ga(a+".require","displayfeatures"),ga(a+".send","pageview")};var vidaTrackerName="vida";-1!==Meteor.absoluteUrl().indexOf("https://"+ENV_PRODUCTION)?initializeGA("UA-43778465-1",vidaTrackerName):Meteor.settings&&Meteor.settings.public.organization&&initializeGA("UA-43778465-9",vidaTrackerName);

(function(){setPageTitle=function(e){var t="Open Source Data Visualization";Meteor.settings&&Meteor.settings.public.pageTitle&&(t=Meteor.settings.public.pageTitle),document.title=e?e+" - "+t:t},isDataSizeOk=function(e){return e>DATASIZE_S0&&hasFreePlan()||e>DATASIZE_S1&&hasStandardPlan()?(message.add('Your data size limit is reached. <br/>Please <a href="/pricing">upgrade</a> your plan.',{type:"danger"}),!1):!(e>DATASIZE_S3&&hasProPlan()||e>DATASIZE_S3&&isEnterprise())||(message.add("Dataset limit is reached, please contact for support.",{type:"danger"}),!1)},startSubscription=function(){handles.notification=Meteor.subscribe("notificationFeed"),handles.myDocs=Meteor.subscribe("myDocumentFeed"),handles.shared=Meteor.subscribe("sharedDocumentFeed"),handles.sharedDashboards=Meteor.subscribe("sharedDashboardFeed"),handles.starred=Meteor.subscribe("starredDocumentFeed"),handles.myTeams=Meteor.subscribe("myOtherTeamFeed")},stopSubscription=function(){handles.documentRequest&&handles.documentRequest.stop()},isEmbedUrl=function(){var e=Router.current()?Router.current().url:"";return 0===window.location.pathname.indexOf("/embed")||0===e.indexOf("/embed")},isChartEmbedUrl=function(){return isEmbedUrl()&&1==getParameterByName("chart")},isDocumentEmbedUrl=function(){return isEmbedUrl()&&1!=getParameterByName("chart")},isHomeVisitor=function(){return"/"==window.location.pathname&&!Meteor.user()},isVidaAdmin=function(){return Vida.appInfo().isAdmin},getS3Bucket=function(){return Session.get(SS_S3_BUCKET_NAME)?Session.get(SS_S3_BUCKET_NAME):environment.local()?"vida-dev":environment.staging()?"vida-staging":environment.production()?"vida-production":void 0},cleanObjForExport=function(e){delete e.owner,delete e.counter,delete e.counter7,delete e.created,delete e.modified,delete e.opened}}).call(this);

(function(){CollectionQuery=function(t){this._selector={privacy:PUBLIC,owner:{$ne:null},parentId:{$ne:!0},flagged:{$exists:!1}},this._options={sort:{counter7:-1,counter30:-1,counter:-1},limit:DOC_PER_PAGE,skip:0},t&&t.selector&&(this._selector=_.extend(this._selector,t.selector)),t&&t.options&&(this._options=_.extend(this._options,t.options))},CollectionQuery.prototype.selector=function(t){var e=_.extend({},this._selector);return t&&_.extend(e,t),e},CollectionQuery.prototype.options=function(t){var e=_.extend({},this._options);return t&&_.extend(e,t),e}}).call(this);

(function(){eCategories=[{name:"Networks",tags:["force layout","network"],limit:5,ids:[]},{name:"Charts",tags:["chart","line chart","bar chart","area chart","pie chart","bubble chart","bullet chart","donut chart","line","bar","area","pie","bubble","bullet","donut"],limit:5,ids:[]},{name:"Tree, Chord, and Sankey",tags:["tree","treemap","sankey","chord","chord layout","chord diagram"],limit:5,ids:[]},{name:"Maps",tags:["map","geo map","us map","choropleth"],limit:5,ids:[]}],getCategoryBaseDocs=function(e){if(e){0===e.ids.length&&getCategoryBaseDocs();var t=Documents.find({_id:{$in:e.ids}});return e.ids=t.map(function(e){return e._id}),t}var n=[];return eCategories.forEach(function(e){var t=Documents.find({_id:{$nin:n},privacy:PUBLIC,thumbnail:{$ne:null},tags:{$elemMatch:{name:{$in:e.tags}}}},{sort:{counter30:-1},limit:e.limit});e.ids=t.map(function(e){return e._id}),n=_.union(n,e.ids)}),n},getTrendingDocs=function(e){var e=e||[];return Documents.find(docQuery.selector({_id:{$nin:e}}),docQuery.options())},getRecentDocs=function(e){var e=e||[];return Documents.find(docQuery.selector({_id:{$nin:e}}),docQuery.options({sort:{created:-1}}))}}).call(this);

(function(){parseQueryStr=function(query){var q=null;try{return eval("q = ["+query+"]"),{selector:q[0]||{},options:q[1]||{}}}catch(e){message.add("Error! "+e.message,{type:"danger"})}}}).call(this);

(function(){Meteor.startup(function(){var e=document.location.host;Accounts.ui.config({requestPermissions:{github:["user:email"]}}),Meteor.settings&&Meteor.settings.public.local&&$("body").append("<style>.login-window { display:none; } div.header ul.hnav.pull-right li { display:none; }</style>"),Meteor.subscribe("userData",[],function(){Meteor.user()&&Meteor.user().gaCode&&initializeGA(Meteor.user().gaCode,"user")}),isEmbedUrl()||(startSubscription(),isEnterprise()||(addUserVoice(),"undefined"!=typeof Stripe&&("vida.io"===e?Stripe.setPublishableKey("pk_live_A6LCD5mNwJNICFpAdefpnKha"):Stripe.setPublishableKey("pk_test_sJZQeakQRhkpy0CBuU0RnIP4"))),$(document).tooltip({selector:"[data-toggle=tooltip],[rel=tooltip]",container:"body"}).on("click",".open-dialog",function(e){return $($(this).data("target")).modal("show"),e.preventDefault(),!1}).on("keyup",".editable",function(e){13==e.which&&$(this).blur()}),Meteor.call("getS3Bucket",function(e,t){Session.set(SS_S3_BUCKET_NAME,t)})),isEnterprise()&&isOrganization("KPMG UK")&&(LDAP.data=function(){return{tenant_id:"kpmg-uk"}})})}).call(this);

(function(){Charts=new Meteor.Collection("charts"),FILTERED_TITLES=["Line","Line Chart","Bar","Bar Chart","Horizontal","Horizontal Bar","Area","Area Chart","Pie","Pie Chart","Bubble","Bubble Chart","Geo Map","Scatter Plot","Tree Map"],chartQuery=new CollectionQuery({selector:{thumbnail:{$ne:null},"options.title":{$nin:FILTERED_TITLES}}}),Charts.allow({insert:function(t){return!t||withinSubscriptionLimit(getUserCharts(t).count())},update:function(t,e,r){return null===e.owner||e.owner===t||isVidaAdmin(t)},remove:function(t,e){return null===e.owner||e.owner===t||isVidaAdmin(t)}}),Charts.deny({}),demoChart=function(t){return!t.owner},chartOwner=function(t,e){var r=Charts.findOne(t);return r&&r.owner===e},privateChart=function(t){var e=Charts.findOne(t);return e&&e.privacy===PRIVATE},getTrendingCharts=function(){return Charts.find(chartQuery.selector(),chartQuery.options())},getRecentCharts=function(t){var t=t||[];return Charts.find(chartQuery.selector({_id:{$nin:t}}),chartQuery.options({sort:{created:-1}}))},getUserCharts=function(t){return Charts.find({owner:t},chartQuery.options({limit:0,sort:{}}))},cloneChart=function(t){withinSubscriptionLimit(getUserCharts(Meteor.userId()).count())&&(Meteor.call("cloneChart",t,function(t,e){t?message.add(t.message,{type:"danger"}):(message.add("Done! You can edit now."),Router.go("charts",{_id:e}))}),Meteor.userId()||message.add("Please sign in to save this chart"))},createChart=function(t){var e=t||CHART_TYPES[0],r=_.find(SAMPLE_DATA_SETS,function(t){return t.type===e}),n=JSON.parse(r.data),a=createDataset({name:n.options.title+" dataset",text:r.csvData});return Charts.insert({type:e,privacy:PUBLIC,owner:Meteor.userId()?Meteor.userId():null,datasetId:a,options:n.options,counter:1,created:Math.round((new Date).getTime()/1e3)})},removeChart=function(t){Charts.remove({_id:t}),GC.clean(),Router.go(Session.get(SS_CURRENT_HOME_PATH))}}).call(this);

(function(){Collabs=new Meteor.Collection("collabs"),Collabs.allow({insert:function(n,e){return null===e.owner||e.owner===n},update:function(n,e){return null===e.owner||e.owner===n},remove:function(n,e){return null===e.owner||e.owner===n}}),hasCollabAccess=function(n,e,l){var o=Meteor.users.findOne(e);if(o){var r=getUserEmail(o),t=Collabs.findOne({docId:n,email:r});return void 0===l?!!t:void 0!==t&&t.access===l}},canCollabEdit=function(n,e){return hasCollabAccess(n,e,ACCESS_EDIT)},viewCollabStandalone=function(n,e){return hasCollabAccess(n,e,ACCESS_STANDALONE)},isCollab=function(n,e){return!!Meteor.users.findOne(e)&&hasCollabAccess(n,e)},getCollabs=function(n){return Collabs.find({docId:n})},getCollabIds=function(n){var e=Meteor.users.findOne(n),l=getUserEmail(e);return Collabs.find({email:l}).map(function(n){return n.docId})}}).call(this);

(function(){Configurations=new Meteor.Collection("configurations"),Configurations.allow({insert:function(n,e){return!!isVidaAdmin(n)},update:function(n,e,i){return!!isVidaAdmin(n)},remove:function(n,e){return!!isVidaAdmin(n)}}),upsertConfig=function(n,e){var i=Configurations.findOne({name:n});i?Configurations.update(i._id,{$set:e}):(e.name=n,Configurations.insert(e))},getConfiguration=function(n){var e=Configurations.findOne({name:n});return e?e.value:null},verifyKey=function(){if(isEnterprise(),0){var n=Vida.appInfo();n&&n.productKey?HTTP.get(API_URL+"licenses/"+n.productKey,{timeout:HTTP_TIMEOUT},function(n,e){e&&e.data&&e.data.success&&e.data.license?Meteor.call("verifyKey",e.data.license,function(n,e){n&&message.add("Invalid product key, please contact admins",{type:"danger",btnClose:!1})}):message.add("Failed to retrieve product information, <br/>please contact admins",{type:"danger"})}):message.add("No valid license found, please contact VIDA support.",{type:"danger",btnClose:!1})}}}).call(this);

(function(){Dashboards=new Meteor.Collection("composite_documents"),dashboardQuery=new CollectionQuery({selector:{thumbnail:{$ne:null}}}),Dashboards.allow({insert:function(e){return withinSubscriptionLimit(getUserDashboards(e).count(),1)},update:function(e,a,r){return canEditDashboard(a._id,e)&&Dashboards.update(a._id,{$set:{modified:Math.round((new Date).getTime()/1e3)}}),canEditDashboard(a._id,e)||isVidaAdmin(e)},remove:function(e,a){return null===a.owner||a.owner===e||isVidaAdmin(e)}}),Dashboards.deny({update:function(e,a,r){return!1}}),createDashboard=function(){return Dashboards.insert({name:"Untitled dashboard",privacy:PUBLIC,owner:Meteor.userId()?Meteor.userId():null,counter:1,created:Math.round((new Date).getTime()/1e3),properties:[],docs:[],docDatasetMap:{}})},serverCloneDashboard=function(e){e.name=e.name+" clone";var a={},r={};if(e.owner===Meteor.userId())a=e.docDatasetMap;else{for(var n in e.docDatasetMap)r[e.docDatasetMap[n]]||(r[e.docDatasetMap[n]]=serverCloneDataset(Datasets.findOne(e.docDatasetMap[n])));for(var n in e.docDatasetMap)a[n]=r[e.docDatasetMap[n]]}return Dashboards.insert({name:e.name,privacy:e.privacy,owner:Meteor.userId(),counter:1,created:Math.round((new Date).getTime()/1e3),properties:e.properties,docs:e.docs,docDatasetMap:a})},callCloneDashboard=function(e){withinSubscriptionLimit(getUserDashboards(Meteor.userId()).count())&&(Meteor.call("cloneDashboard",e,function(e,a){e?message.add(e.message,{type:"danger"}):(message.add("Done! You can edit now."),Router.go("dashboard.edit",{_id:a}))}),Meteor.userId()||message.add("Please sign in to save this chart"))},removeDashboard=function(e){Dashboards.remove({_id:e}),Router.go(Session.get(SS_CURRENT_HOME_PATH))},isDashboardOwner=function(e,a){var r=Dashboards.findOne(e);return r&&r.owner===a},canEditDashboard=function(e,a){return isTempDashboard(e)||isDashboardOwner(e,a)||isVidaAdmin(a)||canCollabEdit(e,a)},canAccessDashboard=function(e,a){return isPrivateDashboard(e)?isCollab(e,a)||isDashboardTeamMember(e,a)||isVidaAdmin(a):isValidDashboard(e)},removeDashboard=function(e){Dashboards.remove({_id:e}),DBR.clean(),Router.go(Session.get(SS_CURRENT_HOME_PATH))},getUserDashboards=function(e){return Dashboards.find({owner:e},dashboardQuery.options({limit:0,sort:{}}))},getTrendingDashboards=function(){return Dashboards.find(dashboardQuery.selector(),dashboardQuery.options())},getRecentDashboards=function(e){var e=e||[];return Dashboards.find(dashboardQuery.selector({_id:{$nin:e}}),dashboardQuery.options({sort:{created:-1}}))},getSharedDashboards=function(e){var a=_.union(getCollabIds(e),getTeamDocumentIds(e));return Dashboards.find({_id:{$in:a},owner:{$ne:e}},docQuery.options({limit:0,sort:{}}))},getTeamDashboarIds=function(e){var a=Members.find({userId:e}).map(function(e){return e.teamId}),r=[];return _.each(a,function(e){var a=Dashboards.find({teamIds:e}).map(function(e){return e._id});r=_.union(r,a)}),r},isTempDashboard=function(e){var a=Dashboards.findOne(e);return a&&!a.owner},isValidDashboard=function(e){return void 0!==Dashboards.findOne(e)},isPrivateDashboard=function(e){var a=Dashboards.findOne(e);return a&&a.privacy===PRIVATE},isDashboardTeamMember=function(e,a){var r=Dashboards.findOne(e);return!!(r&&r.teamIds&&r.teamIds.length>0)&&Members.find({teamId:{$in:r.teamIds},userId:a}).count()>0}}).call(this);

(function(){DatasetLikes=new Meteor.Collection("dataset_likes"),DatasetLikes.allow({insert:function(e,t){return!0},update:function(e,t){return!0},remove:function(e,t){return t.userId===e}})}).call(this);

(function(){Datasets=new Meteor.Collection("datasets"),datasetQuery=new CollectionQuery({selector:{name:{$not:/Untitled/},description:{$ne:null}},options:{fields:{text:0}}}),Datasets.allow({insert:function(e,t){return!e||withinSubscriptionLimit(getUserDatasets(e).count())},update:function(e,t,a){var n=Meteor.users.findOne(e),s=getUserEmail(n);return(isTempDataset(t._id)||isDatasetOwner(t._id,n._id)||isTempDataset(t._id))&&Datasets.update(t._id,{$set:{modified:Math.round((new Date).getTime()/1e3)}}),null===t.owner||t.owner===e||isVidaAdmin(e)},remove:function(e,t){return null===t.owner||t.owner===e||isVidaAdmin(e)}}),Datasets.deny({update:function(e,t,a){return isDatasetPrivateClone(t)&&_.contains(a,"privacy")}}),isTempDataset=function(e){return!Datasets.findOne(e).owner},isValidDataset=function(e){return!!Datasets.findOne(e)},isDatasetOwner=function(e,t){var a=Datasets.findOne(e);return a&&a.owner===t},isDatasetPrivateClone=function(e){var t=Datasets.findOne(e);return t&&t.privacy===PRIVATE&&void 0!==t.parent},isPrivateDataset=function(e){var t=Datasets.findOne(e);return t&&t.privacy===PRIVATE},getTrendingDatasets=function(){return Datasets.find(datasetQuery.selector(),datasetQuery.options())},getRecentDatasets=function(e){var e=e||[];return Datasets.find(datasetQuery.selector({_id:{$nin:e}}),datasetQuery.options({sort:{created:-1}}))},getUserDatasets=function(e){return Datasets.find({owner:e},datasetQuery.options({limit:0,sort:{}}))},getChartsRelatedToDataset=function(e){var t=Datasets.find({parentId:e}).fetch(),a=_.pluck(t,"_id");return Charts.find({datasetId:{$in:_.union(e,a)}})},getDocumentsRelatedToDataset=function(e){var t=Datasets.find({parentId:e}).fetch(),a=_.pluck(t,"_id");return Documents.find({datasetId:{$in:_.union(e,a)}})},removeDataset=function(e){Datasets.findOne({_id:e}).bigDataset&&Meteor.call("removeBigDataset",e),Datasets.remove({_id:e}),DS.clean(),Router.go(Session.get(SS_CURRENT_HOME_PATH))},cloneDataset=function(e){withinSubscriptionLimit(getUserDatasets(Meteor.userId()).count())&&(Meteor.call("cloneDataset",e,function(e,t){e?message.add(e.message,{type:"danger"}):(message.add("Done! You can edit now."),Router.go("datasets",{_id:t}))}),Meteor.userId()||message.add("Please sign in to save this dataset"))},serverCloneDataset=function(e){return Datasets.insert({name:e.name+" clone",description:e.description,owner:Meteor.userId(),parentId:e._id,privacy:e.privacy,text:e.text,counter:1,resources:e.resources,script:e.script,sql:e.sql,sqlSource:e.sqlSource,created:Math.round((new Date).getTime()/1e3)})},canAccessDataset=function(e,t){var a=!1;return getDocumentsRelatedToDataset(e).fetch().forEach(function(e){a=a||canAccessDocument(e._id,t)}),isValidDataset(e)&&(isDatasetOwner(e,t||null)||!isPrivateDataset(e)||isVidaAdmin(t)||a)},canEditDataset=function(e,t){return isDatasetOwner(e,t||null)||isTempDataset(e,t||null)||isVidaAdmin(t)},createDataset=function(e){var t=e&&e.name?e.name:"Untitled dataset",a=e&&e.text?e.text:null;return Datasets.insert({name:t,description:null,owner:Meteor.userId()?Meteor.userId():null,parentId:null,privacy:PUBLIC,text:a,counter:1,created:Math.round((new Date).getTime()/1e3)})}}).call(this);

(function(){Documents=new Meteor.Collection("documents"),docQuery=new CollectionQuery({selector:{thumbnail:{$ne:null}},options:{fields:{html:0,data:0,dataText:0,javascript:0,stylesheet:0,property_definitions:0,properties:0,readme:0}}}),Documents.allow({insert:function(e,n){return!e||withinSubscriptionLimit(getUserDocuments(e).count())},update:function(e,n,t){var i=Meteor.users.findOne(e);return canEditDocument(n._id,e)&&Documents.update(n._id,{$set:{modified:Math.round((new Date).getTime()/1e3)}}),"tags"===t[0]&&canEditTag()||canEditDocument(n._id,e)||isVidaAdmin(e)},remove:function(e,n){return isTempDocument(n._id)||isDocumentOwner(n._id,e)||isVidaAdmin(e)}}),Documents.deny({update:function(e,n,t){return isPrivateClone(n._id)}}),isTempDocument=function(e){var n=Documents.findOne(e);return n&&!n.owner},isDocumentOwner=function(e,n){var t=Documents.findOne(e);return t&&t.owner===n},isValidDocument=function(e){return void 0!==Documents.findOne(e)},isPrivateClone=function(e){var n=Documents.findOne(e);if(Meteor.isClient)return null===Session.get(SS_PARENT_DOC_PRIVATE)&&(Session.set(SS_PARENT_DOC_PRIVATE,!0),void 0!==n.parentId&&Meteor.call("isDocPrivate",n.parentId,function(e,n){!1===n&&Session.set(SS_PARENT_DOC_PRIVATE,!1)})),n&&n.privacy===PRIVATE&&void 0!==n.parentId&&!0===Session.get(SS_PARENT_DOC_PRIVATE);var t;return void 0!==n.parentId&&(t=Documents.findOne(n.parentId)),n&&n.privacy===PRIVATE&&void 0!==n.parentId&&t&&t.privacy===PRIVATE},isPrivateDocument=function(e){var n=Documents.findOne(e);return n&&n.privacy===PRIVATE},isGroupMember=function(e,n){var t=Meteor.users.findOne(n),i=getUserEmail(t),o=Groups.findOne({documentId:e});return!(!o||-1===o.emails.indexOf(i))},isGoodDocument=function(e){return void 0!==e&&void 0!==e.javascript&&void 0!==e.html&&void 0!==e.stylesheet&&void 0!==e.dataText},canEditDocument=function(e,n){return isTempDocument(e)||isDocumentOwner(e,n)||isVidaAdmin(n)||canCollabEdit(e,n)||canTeamEdit(e,n)||haveEditPermission(n)},canAccessDocument=function(e,n){return isPrivateDocument(e)?isCollab(e,n)||isDocumentTeamMember(e,n)||isGroupMember(e,n):isValidDocument(e)},viewDocumentStandalone=function(e,n){return viewCollabStandalone(CD.dbObject._id,Meteor.userId())||viewTeamStandalone(CD.dbObject._id,Meteor.userId())},getDashboards=function(){return Documents.find({_id:{$in:COMPOSITE_DOCUMENTS},privacy:{$ne:PRIVATE}},docQuery.options())},getFeaturingDocuments=function(){return Documents.find({_id:{$in:FEATURING_DOCUMENTS},privacy:{$ne:PRIVATE}},docQuery.options())},getUserDocuments=function(e){return Documents.find({owner:e},docQuery.options({limit:0,sort:{}}))},getSharedDocuments=function(e){var n=_.union(getCollabIds(e),getTeamDocumentIds(e));return Documents.find({_id:{$in:n},owner:{$ne:e}},docQuery.options({limit:0,sort:{}}))},getTeamDocumentIds=function(e){var n=Members.find({userId:e}).map(function(e){return e.teamId}),t=[];return _.each(n,function(e){var n=Documents.find({teamIds:e}).map(function(e){return e._id});t=_.union(t,n)}),t},getStarredDocuments=function(e){var n=_.pluck(Stars.find({userId:e}).fetch(),"docId");return Documents.find({_id:{$in:n}},{limit:0,sort:{name:1}})},getSearchDocuments=function(e){var n=e.tags?e.tags:null,t=void 0!==e.skip?e.skip:0,i=void 0!==e.limit?e.limit:0,o=void 0!==e.id?e.id:null,r={privacy:PUBLIC,thumbnail:{$ne:null}};if(n&&(r.tags={$elemMatch:{name:{$in:n}}}),o&&(r._id=o),n||o)return Documents.find(r,{sort:{counter30:-1},skip:t,limit:i})},getRelatedDocuments=function(){return getSearchDocuments({id:{$ne:CD.dbObject._id},tags:_.pluck(CD.dbObject.tags,"name"),limit:5})},toggleDocumentTeam=function(e,n){var t=Documents.findOne(e).teamIds||[];t.indexOf(n)>-1?t.splice(t.indexOf(n),1):t.push(n),Documents.update(e,{$set:{teamIds:t}})},removeDocument=function(e){Documents.remove({_id:e}),CD.clean(),Router.go(Session.get(SS_CURRENT_HOME_PATH))},isDocumentTeamMember=function(e,n){var t=Documents.findOne(e);return!!(t&&t.teamIds&&t.teamIds.length>0)&&Members.find({teamId:{$in:t.teamIds},userId:n}).count()>0},cloneDocument=function(e,n){if(withinSubscriptionLimit(getUserDocuments(Meteor.userId()).count())){var t=void 0!==n&&n;Meteor.call("cloneDocument",e,t,function(e,n){e?message.add(e.message,{type:"danger"}):(message.add("Done! You can edit now."),Router.go("document.edit",{_id:n}))})}},createDocument=function(e){var n=e&&e.type?e.type:"custom";return Documents.insert({name:e&&e.name?e.name:n.toTitleCase(),description:e&&e.description?e.description:null,type:n,privacy:PUBLIC,owner:Meteor.userId(),html:e&&e.html?e.html:null,stylesheet:e&&e.stylesheet?e.stylesheet:null,javascript:e&&e.javascript?e.javascript:null,readme:e&&e.readme?e.readme:"\x3c!-- Markdown Documentation !--\x3e",dataText:e&&e.dataText?e.dataText:null,properties:e&&e.properties?e.properties:null,mode:DOC_MODE_NORMAL,resources:e&&e.resources?e.resources:null,counter:1,created:Math.round((new Date).getTime()/1e3)})},hasDocumentMode=function(e,n){var n=n||this._id||CD.id()||null,t=Documents.findOne(n);if(n&&t)return void 0===t.mode&&e===DOC_MODE_NORMAL||e===t.mode}}).call(this);

(function(){Gists=new Meteor.Collection("gists"),gistQuery=new CollectionQuery({selector:{},options:{}}),Gists.allow({insert:function(e){return withinSubscriptionLimit(getUserGists(e).count())},update:function(e,i,t){return null===i.owner||i.owner===e||isVidaAdmin(e)},remove:function(e,i){return null===i.owner||i.owner===e||isVidaAdmin(e)}}),Gists.deny({update:function(e,i,t){return!isVidaAdmin(e)&&_.contains(t,"privacy")}}),createGist=function(e,i){var t="Gist "+e,n="",s={};i.description&&""!==i.description&&(t=i.description,n=i.description);for(var r in i.files){var o=r.replace(/\./g,"/");i.files[r].content=i.files[r].content.replace(/http:\/\//g,"https://"),s[o]=i.files[r]}return Gists.insert({name:t,description:n,privacy:PUBLIC,owner:Meteor.userId()?Meteor.userId():null,counter:1,created:Math.round((new Date).getTime()/1e3),gistId:e,files:s})},removeGist=function(e){Gists.remove({_id:e}),Router.go(Session.get(SS_CURRENT_HOME_PATH))},isGistOwner=function(e,i){var t=Gists.findOne(e);return t&&t.owner===i},canEditGist=function(e,i){return isGistOwner(e,i)||isVidaAdmin(i)},canAccessGist=function(e,i){return!0},removeGist=function(e){GIST.clean(),Gists.remove({_id:e}),Router.go(Session.get(SS_CURRENT_HOME_PATH))},getUserGists=function(e){return Gists.find({owner:e},gistQuery.options({limit:0,sort:{}}))}}).call(this);

(function(){Groups=new Meteor.Collection("groups"),Groups.allow({insert:function(e,n){return isVidaAdmin(e)},update:function(e,n){return isVidaAdmin(e)},remove:function(e,n){return isVidaAdmin(e)}}),createGroup=function(e){return Groups.insert({ownerId:Meteor.userId(),name:e&&e.name?e.name:"Unnamed Group",emails:[],documentId:null,counter:1,createdAt:new Date})},removeGroup=function(e){Groups.remove({_id:e})},isGroupNameOk=function(){}}).call(this);

(function(){Members=new Meteor.Collection("members"),Members.allow({insert:function(e,r){return isTeamFirstMember(r.teamId)||isTeamAdmin(r.teamId)||isVidaAdmin(e)},update:function(e,r){return isTeamAdmin(r.teamId)||isVidaAdmin(e)},remove:function(e,r){return isTeamAdmin(r.teamId)&&isMemberRemoveOk(r.teamId,r.userId)||r.userId===e||isVidaAdmin(e)}}),Members.deny({}),createMember=function(e){if(e&&e.teamId&&e.access)return _.extend(e,{ownerId:Meteor.userId(),access:e.access,accepted:e.accepted||null}),Members.insert(e);console.log("Error! Missing params when creating a member")},removeMember=function(e){var r=Members.findOne(e);if(r){var n={type:NTF.TEAM.NAME,teamId:TM.dbObject._id,memberId:r.userId};r.userId===Meteor.userId()?n.event=NTF.TEAM.TYPES.MEMBER_LEFT:n.event=NTF.TEAM.TYPES.REMOVE_MEMBER,Meteor.call("createTeamNotification",n),Members.remove(e)}},isTeamFirstMember=function(e){return 0===Members.find({teamId:e}).count()},getTeamMembers=function(e,r,n){var t={};return e&&(t.teamId=e),r&&(t.userId=r),n&&(t.accepted={$ne:!1}),Members.find(t)},getTeamMemberIds=function(e,r,n){return _.uniq(getTeamMembers(e,r||null,n||null).map(function(e){return e.userId}))},getTeamDocuments=function(e){return Documents.find({teamIds:e},{sort:{name:1}})},isMemberRemoveOk=function(e,r){var n=Members.find({teamId:e}),t=Members.find({teamId:e,access:ACCESS_ADMIN});return 1!==n.count()&&(1!==t.count()||t.fetch()[0].userId!==r)}}).call(this);

(function(){Notifications=new Meteor.Collection("notifications"),NTF={DOC:{NAME:"document",TYPES:{NEW_COLLAB:"newCollab",REMOVE_COLLAB:"removeCollab",DOC_CHANGE:"updateCode",ACCESS_CHANGE:"accessChange",TEMPLATE_CHANGE:"templateChange"}},USER:{NAME:"user",TYPES:{NEW_USER:"newUser"}},TEAM:{NAME:"team",TYPES:{WELCOME:"welcomeMember",NEW_MEMBER:"newMember",REMOVE_MEMBER:"removeMember",NEW_DOC:"newDoc",REMOVE_DOC:"removeDoc",ACCESS_CHANGE:"accessChange",DOC_CHANGE:"docChange",MEMBER_LEFT:"memberLeft"}},DBR:{NAME:"dashboard",TYPES:{NEW_COLLAB:"newCollab",REMOVE_COLLAB:"removeCollab",DOC_CHANGE:"updateCode",ACCESS_CHANGE:"accessChange"}}},Notifications.allow({insert:function(e,t){return!0},update:function(e,t){return!0},remove:function(e,t){return!0}}),getDocumentNotificationBody=function(e){var t={};t.url="/documents/"+e.targetId;var a=Documents.findOne(e.targetId);a&&a.name.length>40?docName=a.name.substring(0,40)+"...":a&&a.name?docName=a.name:docName="Unkonwn",docName+=" document",a&&a.thumbnail?t.thumbnail="https://"+getS3Bucket()+".s3.amazonaws.com/thumbnails/"+a._id:a&&a.type?t.thumbnail="/images/charts/"+a.type+".png":t.thumbnail="/images/charts/custom.png";var n=getNameEmail(Meteor.users.findOne(e.senderId));switch(e.event){case NTF.DOC.TYPES.NEW_COLLAB:t.title=n+" shared "+docName+" with you";break;case NTF.DOC.TYPES.REMOVE_COLLAB:t.title=docName+" is no longer shared";break;case NTF.DOC.TYPES.DOC_CHANGE:t.title=n+" updated "+docName;break;case NTF.DOC.TYPES.ACCESS_CHANGE:t.title="Your document access changed @"+docName;break;default:t.title="Error! Please report this";break}return t},getDashboardNotificationBody=function(e){var t={};t.url="/dashboards/"+e.targetId;var a=Dashboards.findOne(e.targetId);a&&a.name.length>40?docName=a.name.substring(0,40)+"...":a&&a.name?docName=a.name:docName="Unkonwn",docName+=" dashboard",a&&a.thumbnail?t.thumbnail="https://"+getS3Bucket()+".s3.amazonaws.com/dashboard_thumbnails/"+a._id:t.thumbnail="/images/charts/custom.png";var n=getNameEmail(Meteor.users.findOne(e.senderId));switch(e.event){case NTF.DBR.TYPES.NEW_COLLAB:t.title=n+" shared "+docName+" with you";break;case NTF.DBR.TYPES.REMOVE_COLLAB:t.title=docName+" is no longer shared";break;case NTF.DBR.TYPES.DOC_CHANGE:t.title=n+" updated "+docName;break;case NTF.DBR.TYPES.ACCESS_CHANGE:t.title="Your dashboard access changed @"+docName;break;default:t.title="Error! Please report this";break}return t},getTeamNotificationBody=function(e){var t={};t.url="/teams/"+e.teamId+"/edit";var a,n,i,o,r,m,s;switch(a=Teams.findOne(e.teamId),n=Meteor.users.findOne(e.memberId),s=getNameEmail(Meteor.users.findOne(e.senderId)),o=a&&a.name.length>40?a.name.substring(0,40)+"...":a&&a.name?a.name:"Unknown",o+=" team",e.memberId&&(r=getNameEmail(n)),e.docId&&(i=Documents.findOne(e.docId)),m=i&&i.name.length>40?i.name.substring(0,40)+"...":i&&i.name?i.name:"Unkonwn",m+=" document",i&&i.thumbnail?docThumbnail="<img src='https://"+getS3Bucket()+".s3.amazonaws.com/thumbnails/"+i._id+"'/>":i&&i.type?docThumbnail="<img src='/images/charts/"+i.type+".png'/>":docThumbnail="<img src='/images/charts/custom.png'/>",a&&a.thumbnail?teamThumbnail="<img src='https://"+getS3Bucket()+".s3.amazonaws.com/thumbnails/"+a._id+"'/>":teamThumbnail="<i class='fa fa-group'></i>",e.event){case NTF.TEAM.TYPES.WELCOME:t.thumbnail=teamThumbnail,t.title="You were invited to join "+o;break;case NTF.TEAM.TYPES.NEW_MEMBER:t.thumbnail=teamThumbnail,t.title=r+" was added to "+o;break;case NTF.TEAM.TYPES.REMOVE_MEMBER:t.thumbnail=teamThumbnail,t.title=r+" was removed from "+o;break;case NTF.TEAM.TYPES.MEMBER_LEFT:t.thumbnail=teamThumbnail,t.title=r+" is no longer with "+o;break;case NTF.TEAM.TYPES.NEW_DOC:t.thumbnail=docThumbnail,t.title=m+" was added to "+o;break;case NTF.TEAM.TYPES.REMOVE_DOC:t.thumbnail=docThumbnail,t.title=m+" was removed from "+o;break;case NTF.TEAM.TYPES.ACCESS_CHANGE:t.thumbnail=teamThumbnail,t.title="Your team access changed @"+o;break;case NTF.TEAM.TYPES.DOC_CHANGE:t.thumbnail=docThumbnail,t.title=s+" updated "+m+" @"+o;break;default:t.title="Error! Please report this",t.thumbnail=null;break}return t},getUserNotificationBody=function(e){var t={};switch(t.url="/home/profile",e.event){case NTF.USER.TYPES.NEW_USER:t.title="Welcome! Edit your profile and username here";break;default:t.title="Error! Please report this";break}return t},getNotificationBody=function(e){return e.type===NTF.DOC.NAME?getDocumentNotificationBody(e):e.type===NTF.DBR.NAME?getDashboardNotificationBody(e):e.type===NTF.TEAM.NAME?getTeamNotificationBody(e):e.type===NTF.USER.NAME?getUserNotificationBody(e):void 0},getMyNotifications=function(e){return Notifications.find({receiverId:e},{sort:{createdAt:-1}})},getUnreadNotifications=function(e){return Notifications.find({receiverId:e,read:!1},{sort:{createdAt:-1}})},setWelcomeNotification=function(){Meteor.call("createUserNotification",{type:NTF.USER.NAME,event:NTF.USER.TYPES.NEW_USER},function(e,t){e&&console.log(e)})}}).call(this);

(function(){Permissions=new Meteor.Collection("permissions"),Permissions.allow({update:function(i,e,s){return!!isVidaAdmin(i)},remove:function(i){return!!isVidaAdmin(i)}}),Permissions.deny({}),haveEditPermission=function(i){var e=getUserPermission(i).fetch();return!(!e||!e[0]||"view"==e[0].access)},isPermissionView=function(){var i=Vida.appInfo();return!(!i||!i.permissionView)},isPermissionViewR=function(){var i=getUserEmail(Meteor.user()),e=Permissions.findOne({email:i});return!(!e||"view"!=e.access)},getUserPermission=function(i){var e=Meteor.users.findOne(i),s=getUserEmail(e);return Permissions.find({email:s})}}).call(this);

(function(){ProcessingFunctions=new Meteor.Collection("processing_functions"),ProcessingFunctions.allow({insert:function(n,e){return!0},update:function(n,e){return e.owner===n},remove:function(n,e){return e.owner===n}}),getMyProcFuncFeed=function(n){return ProcessingFunctions.find({owner:n})},createProcessingFunction=function(n){var e=n&&n.name,t=n&&n.code,o=n&&n.dataset_id;return e&&t&&""!==e&&""!==t?ProcessingFunctions.insert({name:e,owner:Meteor.userId(),dataset_id:o,code:t,created:Math.round((new Date).getTime()/1e3)}):null}}).call(this);

(function(){withinSubscriptionLimit=function(e,i){var r;return r=1===i?SUBSCRIPTION_LIMIT[getUserPlan(Meteor.user())]/5:SUBSCRIPTION_LIMIT[getUserPlan(Meteor.user())],!(!isEnterprise()&&e>=r)||(Meteor.isClient&&message.add("You've reached subscription limit ("+r+"), please <a href='/pricing'>upgrade</a>!",{type:"danger"}),!1)}}).call(this);

(function(){Sources=new Meteor.Collection("sources"),sourceQuery=new CollectionQuery({selector:{thumbnail:{$ne:null}},options:{fields:{fields:0}}}),Sources.allow({insert:function(e){return!0},update:function(e,n,r){return null===n.owner||n.owner===e||isVidaAdmin(e)},remove:function(e,n){return null===n.owner||n.owner===e||isVidaAdmin(e)}}),Sources.deny({update:function(e,n,r){return!isVidaAdmin(e)&&_.contains(r,"privacy")}}),createSource=function(){return Sources.insert({name:"Untitled source",description:"",fields:{db_type:"postgres"},owner:Meteor.userId()?Meteor.userId():null,created:Math.round((new Date).getTime()/1e3)})},isSourceOwner=function(e,n){var r=Sources.findOne(e);return r&&r.owner===n},canEditSource=function(e,n){return isSourceOwner(e,n)||isVidaAdmin(n)},canAccessSource=function(e,n){return!0},removeSource=function(e){Sources.remove({_id:e}),Router.go(Session.get(SS_CURRENT_HOME_PATH))},getUserSources=function(e){return Sources.find({owner:e},sourceQuery.options({limit:0,sort:{}}))},cloneSource=function(e){Meteor.call("cloneSource",e,function(e,n){e?message.add(e.message,{type:"danger"}):(message.add("Done!."),Router.go("sources",{_id:n}))})}}).call(this);

(function(){Stars=new Meteor.Collection("stars"),Stars.allow({insert:function(t,n){return!0},update:function(t,n){return!0},remove:function(t,n){return n.userId===t}}),Stars.deny({})}).call(this);

(function(){TagName=function(a){a=a.replace(/\s{2,}/g," "),RegExp("^[a-zA-Z0-9]*[a-zA-Z#. ]+[a-zA-Z0-9]*$").test(a)&&a.length>1?(this._name=a,this.isValid=!0):this.isValid=!1},TagName.prototype.toLowerCase=function(){return this.isValid?TagName.toLowerCase(this._name):null},TagName.prototype.toTitle=function(){return this.isValid?TagName.toTitle(this._name):null},TagName.toTitle=function(a){return _.contains(TagName.EXCEPTIONS,a)?a:(a||"").toTitleCase()},TagName.toLowerCase=function(a){return _.contains(TagName.EXCEPTIONS,a)?a:a.toLowerCase()},TagName.EXCEPTIONS=["iOS"]}).call(this);

(function(){Tags=new Meteor.Collection("tags"),Tags.allow({insert:function(e,n){return!0},update:function(e,n){return!0},remove:function(e,n){return n.userId===e}}),Tags.deny({}),canCreateTag=function(){var e=Meteor.user();return!!e&&(Documents.find({owner:e._id}).count()>20&&void 0!==e.username)},canEditTag=function(){return canCreateTag()||CD.dbObject.owner===Meteor.userId()}}).call(this);

(function(){Teams=new Meteor.Collection("teams"),Teams.allow({insert:function(e,n){return withinSubscriptionLimit(getUserTeams(e).count(),1)},update:function(e,n){return isTeamAdmin(n._id,e)||isVidaAdmin(e)},remove:function(e,n){return isTeamAdmin(n._id,e)||isVidaAdmin(e)}}),Teams.deny({}),createTeam=function(e){return Teams.insert({ownerId:Meteor.userId(),name:e&&e.name?e.name:"Unnamed Team",description:e&&e.description?e.description:null,counter:1,privacy:isEnterprise()?PRIVATE:PUBLIC,createdAt:new Date})},removeTeam=function(e){Meteor.call("detachTeamDocs",e),Teams.remove({_id:e}),Meteor.call("removeTeamMembers",e),Router.go(Session.get(SS_CURRENT_HOME_PATH))},isTeamAdmin=function(e,n){var e=e||TM.dbObject._id,n=n||Meteor.userId();return hasTeamAccess(e,n,ACCESS_ADMIN)},canAccessTeam=function(e,n){return isValidTeam(e)&&(isTeamMember(e,n||null)||!isPrivateTeam(e)||isVidaAdmin(n))},canTeamEdit=function(e,n){var a=Documents.findOne(e);return!!(a&&a.teamIds&&a.teamIds.length>0)&&(hasTeamAccess(a.teamIds,n,ACCESS_EDIT)||hasTeamAccess(a.teamIds,n,ACCESS_ADMIN)||isVidaAdmin(n))},viewTeamStandalone=function(e,n){var a=Documents.findOne(e);return!!(a&&a.teamIds&&a.teamIds.length>0)&&hasTeamAccess(a.teamIds,n,ACCESS_STANDALONE)},hasTeamAccess=function(e,n,a){if(!(e&&n&&a))return!1;for(var r=e instanceof Array?e:[e],i=0;i<r.length;i++){var t=r[i];if(member=getTeamMembers(t,n).fetch()[0],member&&member.access===a&&member.accepted)return!0}},isTeamMember=function(e,n){if(e&&n){var a={teamId:e,userId:n,accepted:{$ne:!1}};if(Members.findOne(a))return!0}return!1},isTeamOwner=function(e,n){var a=Teams.findOne(e),n=n||Meteor.userId();return a&&a.ownerId===n},isPrivateTeam=function(e){if(_.isObject(e))var n=e;else var n=Teams.findOne(e);return!(!n||n.privacy!==PRIVATE)},isValidTeam=function(e){return!!Teams.findOne(e)},getUserTeams=function(e){var n=Members.find({userId:e,accepted:{$ne:!1}}).map(function(e){return e.teamId});return n.length>0?Teams.find({_id:{$in:n}}):Teams.find("---")}}).call(this);

(function(){userDataQueryOptions={fields:{username:1,profile:1,plan:1,picture:1,createdbyURL:1,createdbyImage:1,gaCode:1,profileViewCount:1,profileViewCount7:1,profileViewCount30:1,"services.google.picture":1,"services.google.email":1,"services.smartsheet.email":1,"services.github.email":1,"services.github.accessToken":1,createdAt:1,"config.sortFilter":1,more:1},sort:{profileViewCount7:-1},limit:20},Meteor.users.allow({update:function(e,r,s){return!!isVidaAdmin(e)||e===r._id},remove:function(e){return!!isVidaAdmin(e)}}),Meteor.users.deny({update:function(e,r,s){return!isVidaAdmin(e)&&_.intersection(s,["emails","plan"]).length>0}}),getUserFullName=function(e){if(e&&e.profile&&e.profile.name)return e.profile.name},getUsername=function(e){if(e&&e.username)return e.username},getNameUsername=function(e){var r=getUserFullName(e),s=getUsername(e);return r||s},getUserEmail=function(e){return e&&e.services&&e.services.google&&e.services.google.email?e.services.google.email:e&&e.services&&e.services.facebook&&e.services.facebook.email?e.services.facebook.email:e&&e.services&&e.services.smartsheet&&e.services.smartsheet.email?e.services.smartsheet.email:e&&e.services&&e.services.github&&e.services.github.email?e.services.github.email:e&&e.emails&&e.emails[0].address?e.emails[0].address:void 0},getNameEmail=function(e){var r=getUserFullName(e),s=getUserEmail(e);return r||s||"Unknown"},getUserPictureURL=function(e){return(e=e||Meteor.user()).picture?getFileURL(e.picture):e&&e.services&&e.services.google&&e.services.google.picture?e.services.google.picture:e&&e.services&&e.services.facebook&&e.services.facebook.picture?e.services.facebook.picture:void 0},getUserPlan=function(e){return isVidaAdmin()?PLAN_UNLIMITED:e&&e.plan?e.plan:PLAN_FREE},hasStandardPlan=function(e){var r=e||Meteor.userId()||null;return r&&hasPlan(r,PLAN_STANDARD)},hasProPlan=function(e){var r=e||Meteor.userId()||null;return r&&hasPlan(r,PLAN_PRO)},hasFreePlan=function(e){var r=e||Meteor.userId()||null;return r&&hasPlan(r,PLAN_FREE)},hasUnlimitedPlan=function(e){var r=e||Meteor.userId()||null;return r&&hasPlan(r,PLAN_UNLIMITED)},hasPaidPlan=function(e){var r=e||Meteor.userId()||null;return r&&(hasPlan(r,PLAN_PRO)||hasPlan(r,PLAN_STANDARD)||hasPlan(r,PLAN_UNLIMITED)||isEnterprise())},hasPlan=function(e,r){var s=Meteor.users.findOne(e);return e&&s&&s.plan&&s.plan===r},getUserByEmail=function(e){return isOrganization("smartsheet")?Meteor.users.findOne({"services.smartsheet.email":e}):Meteor.users.findOne({"services.google.email":e})||Meteor.users.findOne({"services.github.email":e})||Meteor.users.findOne({"emails.address":e})},getTrendingUsers=function(){return Meteor.users.find({username:{$exists:!0}},userDataQueryOptions)},getRecentUsers=function(e){var r=_.extend({},userDataQueryOptions,{sort:{createdAt:-1}});return Meteor.users.find({_id:{$nin:e},username:{$exists:!0}},r)}}).call(this);

(function(){function e(){if(!Session.get(SS_LOGGED_IN)){"undefined"!=typeof ga&&ga("set","&uid",Meteor.userId()),Meteor.call("getAppInfo",function(e,t){Vida.appInfo(t),verifyKey()});var e=window.location.pathname;if(!1===CD.isValid()&&-1!==e.indexOf("/documents")){var n=e.substring(e.lastIndexOf("/")+1,e.length),s=Router.current().params._id,o=Documents.findOne(s);o&&(CD.isValid(!0),CD.id(o._id),CD.dbObject=o,CD.init(),CD.show(!0),CD.trackDocumentChanges())}if(!1===TM.isValid()&&0===e.indexOf("/teams")){var a=Teams.findOne(Router.current().params._id);a&&(TM.isValid(!0),TM.id(a._id),TM.dbObject=a)}(e=window.location.pathname)&&-1!==e.indexOf("/charts")&&GC.now()&&GC.isReady()&&GC.noOwner()?(GC.saveDemoChart(),message.add("This chart has been saved to your account")):e&&-1!==e.indexOf("/datasets")&&DS.now()&&DS.isReady()&&DS.noOwner()?(DS.saveDemoDataset(),message.add("This dataset has been saved to your account")):e&&-1!==e.indexOf("/documents")&&CD.now()&&CD.isReady()&&CD.noOwner()&&(CD.saveDemoDocument(),message.add("This document has been saved to your account")),Math.round((new Date).getTime()-Meteor.user().createdAt)/1e3<3&&(message.add("Welcome! Enjoy creating awesome visualizations.",{type:"info",timer:10}),setWelcomeNotification(),ET.Users.new(Meteor.userId())),t(),ET.Users.login(Meteor.userId()),Session.set(SS_LOGGED_IN,!0)}}function t(){var e=Meteor.user(),t=e.services||null;!isEnterprise()&&e&&e.emails&&!e.emails[0].verified&&setTimeout(function(){message.add('Please check your email and verify this account using the url provided. Go to <a href="/home/profile" >Profile</a> to resend verification.',{type:"danger"})},1e3)}Session.setDefault(SS_EDIT_DOC_NAME,null),Session.setDefault(SS_EDIT_DOC_DESC,null),Session.setDefault(SS_USERNAME_USERID,null),Session.setDefault(SS_LOGGED_IN,!1),vida_plain=function(e){return e},Deps.autorun(function(){Meteor.user()&&e()}),afterLogout=function(){Session.get(SS_LOGGED_IN)&&(CD.dbObject.privacy!==PRIVATE&&void 0!==CD.now()||Router.go("home"),Meteor.call("getAppInfo",function(e,t){Vida.appInfo(t)}),ET.Users.logout(Meteor.default_connection._lastSessionId),Session.set(SS_LOGGED_IN,!1))}}).call(this);

